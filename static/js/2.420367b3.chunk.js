(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(t,e,n){"use strict";n.r(e),n.d(e,"getParent",function(){return u}),n.d(e,"closest",function(){return c}),n.d(e,"closestDown",function(){return h}),n.d(e,"isChildOf",function(){return f}),n.d(e,"isChildOfWebComponentTable",function(){return d}),n.d(e,"polymerWrap",function(){return p}),n.d(e,"polymerUnwrap",function(){return g}),n.d(e,"index",function(){return m}),n.d(e,"overlayContainsElement",function(){return v}),n.d(e,"hasClass",function(){return C}),n.d(e,"addClass",function(){return O}),n.d(e,"removeClass",function(){return S}),n.d(e,"removeTextNodes",function(){return E}),n.d(e,"empty",function(){return k}),n.d(e,"HTML_CHARACTERS",function(){return R}),n.d(e,"fastInnerHTML",function(){return x}),n.d(e,"fastInnerText",function(){return M}),n.d(e,"isVisible",function(){return A}),n.d(e,"offset",function(){return N}),n.d(e,"getWindowScrollTop",function(){return _}),n.d(e,"getWindowScrollLeft",function(){return P}),n.d(e,"getScrollTop",function(){return I}),n.d(e,"getScrollLeft",function(){return D}),n.d(e,"getScrollableElement",function(){return L}),n.d(e,"getTrimmingContainer",function(){return j}),n.d(e,"getStyle",function(){return H}),n.d(e,"getComputedStyle",function(){return B}),n.d(e,"outerWidth",function(){return F}),n.d(e,"outerHeight",function(){return W}),n.d(e,"innerHeight",function(){return V}),n.d(e,"innerWidth",function(){return U}),n.d(e,"addEvent",function(){return z}),n.d(e,"removeEvent",function(){return Y}),n.d(e,"getCaretPosition",function(){return G}),n.d(e,"getSelectionEndPosition",function(){return X}),n.d(e,"getSelectionText",function(){return K}),n.d(e,"clearTextSelection",function(){return q}),n.d(e,"setCaretPosition",function(){return $}),n.d(e,"getScrollbarWidth",function(){return Q}),n.d(e,"hasVerticalScrollbar",function(){return Z}),n.d(e,"hasHorizontalScrollbar",function(){return J}),n.d(e,"setOverlayPosition",function(){return tt}),n.d(e,"getCssTransform",function(){return et}),n.d(e,"resetCssTransform",function(){return nt}),n.d(e,"isInput",function(){return rt}),n.d(e,"isOutsideInput",function(){return ot}),n.d(e,"selectElementIfAllowed",function(){return it});n(10),n(11),n(12),n(25),n(30),n(41),n(22),n(7),n(61),n(36),n(6),n(125),n(26),n(47),n(8),n(51),n(60),n(124),n(9);var r,o,i,a=n(42),s=n(35);function l(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,r=null,o=t;null!==o;){if(n===e){r=o;break}o.host&&o.nodeType===Node.DOCUMENT_FRAGMENT_NODE?o=o.host:(n+=1,o=o.parentNode)}return r}function c(t,e,n){for(var r=t;null!==r&&r!==n;){if(r.nodeType===Node.ELEMENT_NODE&&(e.indexOf(r.nodeName)>-1||e.indexOf(r)>-1))return r;r=r.host&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?r.host:r.parentNode}return null}function h(t,e,n){for(var r=[],o=t;o&&(o=c(o,e,n))&&(!n||n.contains(o));)r.push(o),o=o.host&&o.nodeType===Node.DOCUMENT_FRAGMENT_NODE?o.host:o.parentNode;var i=r.length;return i?r[i-1]:null}function f(t,e){var n=t.parentNode,r=[];for("string"===typeof e?r=Array.prototype.slice.call(t.ownerDocument.querySelectorAll(e),0):r.push(e);null!==n;){if(r.indexOf(n)>-1)return!0;n=n.parentNode}return!1}function d(t){var e="hot-table",n=!1,r=p(t);function o(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName===e.toUpperCase()}for(;null!==r;){if(o(r)){n=!0;break}if(r.host&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(n=o(r.host))break;r=r.host}r=r.parentNode}return n}function p(t){return"undefined"!==typeof Polymer&&"function"===typeof wrap?wrap(t):t}function g(t){return"undefined"!==typeof Polymer&&"function"===typeof unwrap?unwrap(t):t}function m(t){var e=0,n=t;if(n.previousSibling)for(;n=n.previousSibling;)e+=1;return e}function v(t,e,n){var r=n.parentElement.querySelector(".ht_clone_".concat(t));return r?r.contains(e):null}function y(t){var e=[];if(!t||!t.length)return e;for(var n=0;t[n];)e.push(t[n]),n+=1;return e}if(Object(s.isClassListSupported)()){var b=function(t){var e=t.createElement("div");return e.classList.add("test","test2"),e.classList.contains("test2")};r=function(t,e){return void 0!==t.classList&&"string"===typeof e&&""!==e&&t.classList.contains(e)},o=function(t,e){var n,r=t.ownerDocument,o=e;if("string"===typeof o&&(o=o.split(" ")),(o=y(o)).length>0)if(b(r))(n=t.classList).add.apply(n,l(o));else for(var i=0;o&&o[i];)t.classList.add(o[i]),i+=1},i=function(t,e){var n,r=e;if("string"===typeof r&&(r=r.split(" ")),(r=y(r)).length>0)if(b)(n=t.classList).remove.apply(n,l(r));else for(var o=0;r&&r[o];)t.classList.remove(r[o]),o+=1}}else{var w=function(t){return new RegExp("(\\s|^)".concat(t,"(\\s|$)"))};r=function(t,e){return void 0!==t.className&&w(e).test(t.className)},o=function(t,e){var n=0,r=t.className,o=e;if("string"===typeof o&&(o=o.split(" ")),""===r)r=o.join(" ");else for(;o&&o[n];)w(o[n]).test(r)||(r+=" ".concat(o[n])),n+=1;t.className=r},i=function(t,e){var n=0,r=t.className,o=e;for("string"===typeof o&&(o=o.split(" "));o&&o[n];)r=r.replace(w(o[n])," ").trim(),n+=1;t.className!==r&&(t.className=r)}}function C(t,e){return r(t,e)}function O(t,e){return o(t,e)}function S(t,e){return i(t,e)}function E(t,e){if(3===t.nodeType)e.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1)for(var n=t.childNodes,r=n.length-1;r>=0;r--)E(n[r],t)}function k(t){for(var e;e=t.lastChild;)t.removeChild(e)}var T,R=/(<(.*)>|&(.*);)/;function x(t,e){R.test(e)?t.innerHTML=e:M(t,e)}function M(t,e){var n=t.firstChild;n&&3===n.nodeType&&null===n.nextSibling?s.isTextContentSupported?n.textContent=e:n.data=e:(k(t),t.appendChild(t.ownerDocument.createTextNode(e)))}function A(t){for(var e=t.ownerDocument.documentElement,n=t;g(n)!==e;){if(null===n)return!1;if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(n.host){if(n.host.impl)return A(n.host.impl);if(n.host)return A(n.host);throw new Error("Lost in Web Components world")}return!1}if(n.style&&"none"===n.style.display)return!1;n=n.parentNode}return!0}function N(t){var e,n,r,o,i=t.ownerDocument,a=i.defaultView,l=i.documentElement,u=t;if(Object(s.hasCaptionProblem)()&&u.firstChild&&"CAPTION"===u.firstChild.nodeName)return{top:(o=u.getBoundingClientRect()).top+(a.pageYOffset||l.scrollTop)-(l.clientTop||0),left:o.left+(a.pageXOffset||l.scrollLeft)-(l.clientLeft||0)};for(e=u.offsetLeft,n=u.offsetTop,r=u;(u=u.offsetParent)&&u!==i.body;)e+=u.offsetLeft,n+=u.offsetTop,r=u;return r&&"fixed"===r.style.position&&(e+=a.pageXOffset||l.scrollLeft,n+=a.pageYOffset||l.scrollTop),{left:e,top:n}}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=t.scrollY;return void 0===e&&(e=t.document.documentElement.scrollTop),e}function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=t.scrollX;return void 0===e&&(e=t.document.documentElement.scrollLeft),e}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return t===e?_(e):t.scrollTop}function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return t===e?P(e):t.scrollLeft}function L(t){var e=t.ownerDocument,n=e?e.defaultView:void 0;e||(n=(e=t.document?t.document:t).defaultView);for(var r=["auto","scroll"],o=Object(s.isGetComputedStyleSupported)(),i=t.parentNode;i&&i.style&&e.body!==i;){var a=i.style,l=a.overflow,u=a.overflowX,c=a.overflowY;if([l,u,c].includes("scroll"))return i;if(o){var h=n.getComputedStyle(i);if(l=h.overflow,u=h.overflowX,c=h.overflowY,r.includes(l)||r.includes(u)||r.includes(c))return i}if(i.clientHeight<=i.scrollHeight+1&&(r.includes(c)||r.includes(l)))return i;if(i.clientWidth<=i.scrollWidth+1&&(r.includes(u)||r.includes(l)))return i;i=i.parentNode}return n}function j(t){for(var e=t.ownerDocument,n=e.defaultView,r=t.parentNode;r&&r.style&&e.body!==r;){if("visible"!==r.style.overflow&&""!==r.style.overflow)return r;var o=B(r,n),i=["scroll","hidden","auto"],a=o.getPropertyValue("overflow"),s=o.getPropertyValue("overflow-y"),l=o.getPropertyValue("overflow-x");if(i.includes(a)||i.includes(s)||i.includes(l))return r;r=r.parentNode}return n}function H(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;if(t){if(t===n)return"width"===e?"".concat(n.innerWidth,"px"):"height"===e?"".concat(n.innerHeight,"px"):void 0;var r=t.style[e];if(""!==r&&void 0!==r)return r;var o=B(t,n);return""!==o[e]&&void 0!==o[e]?o[e]:void 0}}function B(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return t.currentStyle||e.getComputedStyle(t)}function F(t){return t.offsetWidth}function W(t){return Object(s.hasCaptionProblem)()&&t.firstChild&&"CAPTION"===t.firstChild.nodeName?t.offsetHeight+t.firstChild.offsetHeight:t.offsetHeight}function V(t){return t.clientHeight||t.innerHeight}function U(t){return t.clientWidth||t.innerWidth}function z(t,e,n){var r=t.defaultView;r||(r=t.document?t:t.ownerDocument.defaultView),r.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on".concat(e),n)}function Y(t,e,n){var r=t.defaultView;r||(r=t.document?t:t.ownerDocument.defaultView),r.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on".concat(e),n)}function G(t){var e=t.ownerDocument;if(t.selectionStart)return t.selectionStart;if(e.selection){t.focus();var n=e.selection.createRange();if(null===n)return 0;var r=t.createTextRange(),o=r.duplicate();return r.moveToBookmark(n.getBookmark()),o.setEndPoint("EndToStart",r),o.text.length}return 0}function X(t){var e=t.ownerDocument;if(t.selectionEnd)return t.selectionEnd;if(e.selection){var n=e.selection.createRange();return null===n?0:t.createTextRange().text.indexOf(n.text)+n.text.length}return 0}function K(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=t.document,n="";return t.getSelection?n=t.getSelection().toString():e.selection&&"Control"!==e.selection.type&&(n=e.selection.createRange().text),n}function q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=t.document;t.getSelection?t.getSelection().empty?t.getSelection().empty():t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges():e.selection&&e.selection.empty()}function $(t,e,n){if(void 0===n&&(n=e),t.setSelectionRange){t.focus();try{t.setSelectionRange(e,n)}catch(a){var r=t.parentNode,o=r.style.display;r.style.display="block",t.setSelectionRange(e,n),r.style.display=o}}else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i.select()}}function Q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return void 0===T&&(T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.createElement("div");e.style.height="200px",e.style.width="100%";var n=t.createElement("div");n.style.boxSizing="content-box",n.style.height="150px",n.style.left="0px",n.style.overflow="hidden",n.style.position="absolute",n.style.top="0px",n.style.width="200px",n.style.visibility="hidden",n.appendChild(e),(t.body||t.documentElement).appendChild(n);var r=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;return r===o&&(o=n.clientWidth),(t.body||t.documentElement).removeChild(n),r-o}(t)),T}function Z(t){return t.offsetWidth!==t.clientWidth}function J(t){return t.offsetHeight!==t.clientHeight}function tt(t,e,n){Object(a.isIE8)()||Object(a.isIE9)()?(t.style.top=n,t.style.left=e):Object(a.isSafari)()?(t.style["-webkit-transform"]="translate3d(".concat(e,",").concat(n,",0)"),t.style["-webkit-transform"]="translate3d(".concat(e,",").concat(n,",0)")):t.style.transform="translate3d(".concat(e,",").concat(n,",0)")}function et(t){var e;return t.style.transform&&""!==(e=t.style.transform)?["transform",e]:t.style["-webkit-transform"]&&""!==(e=t.style["-webkit-transform"])?["-webkit-transform",e]:-1}function nt(t){t.style.transform&&""!==t.style.transform?t.style.transform="":t.style["-webkit-transform"]&&""!==t.style["-webkit-transform"]&&(t.style["-webkit-transform"]="")}function rt(t){return t&&(["INPUT","SELECT","TEXTAREA"].indexOf(t.nodeName)>-1||"true"===t.contentEditable)}function ot(t){return rt(t)&&-1===t.className.indexOf("handsontableInput")&&-1===t.className.indexOf("copyPaste")}function it(t){ot(t.ownerDocument.activeElement)||t.select()}},function(t,e,n){"use strict";n.r(e),n.d(e,"to2dArray",function(){return r}),n.d(e,"extendArray",function(){return o}),n.d(e,"pivot",function(){return i}),n.d(e,"arrayReduce",function(){return a}),n.d(e,"arrayFilter",function(){return s}),n.d(e,"arrayMap",function(){return l}),n.d(e,"arrayEach",function(){return u}),n.d(e,"arraySum",function(){return c}),n.d(e,"arrayMax",function(){return h}),n.d(e,"arrayMin",function(){return f}),n.d(e,"arrayAvg",function(){return d}),n.d(e,"arrayFlatten",function(){return p}),n.d(e,"arrayUnique",function(){return g});n(25),n(30),n(22),n(8);function r(t){for(var e=t.length,n=0;n<e;)t[n]=[t[n]],n+=1}function o(t,e){for(var n=e.length,r=0;r<n;)t.push(e[r]),r+=1}function i(t){var e=[];if(!t||0===t.length||!t[0]||0===t[0].length)return e;for(var n=t.length,r=t[0].length,o=0;o<n;o++)for(var i=0;i<r;i++)e[i]||(e[i]=[]),e[i][o]=t[o][i];return e}function a(t,e,n,r){var o=-1,i=t,a=n;Array.isArray(t)||(i=Array.from(t));var s=i.length;for(r&&s&&(a=i[o+=1]),o+=1;o<s;)a=e(a,i[o],o,i),o+=1;return a}function s(t,e){var n=0,r=t;Array.isArray(t)||(r=Array.from(t));for(var o=r.length,i=[],a=-1;n<o;){var s=r[n];e(s,n,r)&&(i[a+=1]=s),n+=1}return i}function l(t,e){var n=0,r=t;Array.isArray(t)||(r=Array.from(t));for(var o=r.length,i=[],a=-1;n<o;){var s=r[n];i[a+=1]=e(s,n,r),n+=1}return i}function u(t,e){var n=0,r=t;Array.isArray(t)||(r=Array.from(t));for(var o=r.length;n<o&&!1!==e(r[n],n,r);)n+=1;return t}function c(t){return a(t,function(t,e){return t+e},0)}function h(t){return a(t,function(t,e){return t>e?t:e},Array.isArray(t)?t[0]:void 0)}function f(t){return a(t,function(t,e){return t<e?t:e},Array.isArray(t)?t[0]:void 0)}function d(t){return t.length?c(t)/t.length:0}function p(t){return a(t,function(t,e){return t.concat(Array.isArray(e)?p(e):e)},[])}function g(t){var e=[];return u(t,function(t){-1===e.indexOf(t)&&e.push(t)}),e}},function(t,e,n){"use strict";n.r(e),n.d(e,"duckSchema",function(){return a}),n.d(e,"inherit",function(){return s}),n.d(e,"extend",function(){return l}),n.d(e,"deepExtend",function(){return u}),n.d(e,"deepClone",function(){return c}),n.d(e,"clone",function(){return h}),n.d(e,"mixin",function(){return f}),n.d(e,"isObjectEqual",function(){return d}),n.d(e,"isObject",function(){return p}),n.d(e,"defineGetter",function(){return g}),n.d(e,"objectEach",function(){return m}),n.d(e,"getProperty",function(){return v}),n.d(e,"deepObjectSize",function(){return y}),n.d(e,"createObjectPropListener",function(){return b}),n.d(e,"hasOwnProperty",function(){return w});n(10),n(11),n(12),n(7),n(6),n(26),n(8),n(60),n(9);var r=n(1);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){var e;return Array.isArray(t)?e=[]:(e={},m(t,function(t,n){"__children"!==n&&(t&&"object"===i(t)&&!Array.isArray(t)?e[n]=a(t):Array.isArray(t)?t.length&&"object"===i(t[0])&&!Array.isArray(t[0])?e[n]=[a(t[0])]:e[n]=[]:e[n]=null)})),e}function s(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t}function l(t,e){return m(e,function(e,n){t[n]=e}),t}function u(t,e){m(e,function(n,r){e[r]&&"object"===i(e[r])?(t[r]||(Array.isArray(e[r])?t[r]=[]:"[object Date]"===Object.prototype.toString.call(e[r])?t[r]=e[r]:t[r]={}),u(t[r],e[r])):t[r]=e[r]})}function c(t){return"object"===i(t)?JSON.parse(JSON.stringify(t)):t}function h(t){var e={};return m(t,function(t,n){e[n]=t}),e}function f(t){t.MIXINS||(t.MIXINS=[]);for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return Object(r.arrayEach)(n,function(e){t.MIXINS.push(e.MIXIN_NAME),m(e,function(e,n){if(void 0!==t.prototype[n])throw new Error("Mixin conflict. Property '".concat(n,"' already exist and cannot be overwritten."));if("function"===typeof e)t.prototype[n]=e;else{Object.defineProperty(t.prototype,n,{get:function(t,e){var n="_".concat(t);return function(){return void 0===this[n]&&(this[n]=function(t){var e=t;return(Array.isArray(e)||p(e))&&(e=c(e)),e}(e)),this[n]}}(n,e),set:function(t){var e="_".concat(t);return function(t){this[e]=t}}(n),configurable:!0})}})}),t}function d(t,e){return JSON.stringify(t)===JSON.stringify(e)}function p(t){return"[object Object]"===Object.prototype.toString.call(t)}function g(t,e,n,r){r.value=n,r.writable=!1!==r.writable,r.enumerable=!1!==r.enumerable,r.configurable=!1!==r.configurable,Object.defineProperty(t,e,r)}function m(t,e){for(var n in t)if((!t.hasOwnProperty||t.hasOwnProperty&&Object.prototype.hasOwnProperty.call(t,n))&&!1===e(t[n],n,t))break;return t}function v(t,e){var n=e.split("."),r=t;return m(n,function(t){if(void 0===(r=r[t]))return r=void 0,!1}),r}function y(t){if(!p(t))return 0;return function t(e){var n=0;return p(e)?m(e,function(e){n+=t(e)}):n+=1,n}(t)}function b(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",r="_".concat(n),i=(o(e={_touched:!1},r,t),o(e,"isTouched",function(){return this._touched}),e);return Object.defineProperty(i,n,{get:function(){return this[r]},set:function(t){this._touched=!0,this[r]=t},enumerable:!0,configurable:!0}),i}function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},function(t,e,n){"use strict";n.r(e),n.d(e,"CONTEXT_MENU_ITEMS_NAMESPACE",function(){return r}),n.d(e,"CONTEXTMENU_ITEMS_NO_ITEMS",function(){return o}),n.d(e,"CONTEXTMENU_ITEMS_ROW_ABOVE",function(){return i}),n.d(e,"CONTEXTMENU_ITEMS_ROW_BELOW",function(){return a}),n.d(e,"CONTEXTMENU_ITEMS_INSERT_LEFT",function(){return s}),n.d(e,"CONTEXTMENU_ITEMS_INSERT_RIGHT",function(){return l}),n.d(e,"CONTEXTMENU_ITEMS_REMOVE_ROW",function(){return u}),n.d(e,"CONTEXTMENU_ITEMS_REMOVE_COLUMN",function(){return c}),n.d(e,"CONTEXTMENU_ITEMS_UNDO",function(){return h}),n.d(e,"CONTEXTMENU_ITEMS_REDO",function(){return f}),n.d(e,"CONTEXTMENU_ITEMS_READ_ONLY",function(){return d}),n.d(e,"CONTEXTMENU_ITEMS_CLEAR_COLUMN",function(){return p}),n.d(e,"CONTEXTMENU_ITEMS_COPY",function(){return g}),n.d(e,"CONTEXTMENU_ITEMS_CUT",function(){return m}),n.d(e,"CONTEXTMENU_ITEMS_FREEZE_COLUMN",function(){return v}),n.d(e,"CONTEXTMENU_ITEMS_UNFREEZE_COLUMN",function(){return y}),n.d(e,"CONTEXTMENU_ITEMS_MERGE_CELLS",function(){return b}),n.d(e,"CONTEXTMENU_ITEMS_UNMERGE_CELLS",function(){return w}),n.d(e,"CONTEXTMENU_ITEMS_ADD_COMMENT",function(){return C}),n.d(e,"CONTEXTMENU_ITEMS_EDIT_COMMENT",function(){return O}),n.d(e,"CONTEXTMENU_ITEMS_REMOVE_COMMENT",function(){return S}),n.d(e,"CONTEXTMENU_ITEMS_READ_ONLY_COMMENT",function(){return E}),n.d(e,"CONTEXTMENU_ITEMS_ALIGNMENT",function(){return k}),n.d(e,"CONTEXTMENU_ITEMS_ALIGNMENT_LEFT",function(){return T}),n.d(e,"CONTEXTMENU_ITEMS_ALIGNMENT_CENTER",function(){return R}),n.d(e,"CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT",function(){return x}),n.d(e,"CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY",function(){return M}),n.d(e,"CONTEXTMENU_ITEMS_ALIGNMENT_TOP",function(){return A}),n.d(e,"CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE",function(){return N}),n.d(e,"CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM",function(){return _}),n.d(e,"CONTEXTMENU_ITEMS_BORDERS",function(){return P}),n.d(e,"CONTEXTMENU_ITEMS_BORDERS_TOP",function(){return I}),n.d(e,"CONTEXTMENU_ITEMS_BORDERS_RIGHT",function(){return D}),n.d(e,"CONTEXTMENU_ITEMS_BORDERS_BOTTOM",function(){return L}),n.d(e,"CONTEXTMENU_ITEMS_BORDERS_LEFT",function(){return j}),n.d(e,"CONTEXTMENU_ITEMS_REMOVE_BORDERS",function(){return H}),n.d(e,"CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD",function(){return B}),n.d(e,"CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD",function(){return F}),n.d(e,"CONTEXTMENU_ITEMS_HIDE_COLUMN",function(){return W}),n.d(e,"CONTEXTMENU_ITEMS_SHOW_COLUMN",function(){return V}),n.d(e,"CONTEXTMENU_ITEMS_HIDE_ROW",function(){return U}),n.d(e,"CONTEXTMENU_ITEMS_SHOW_ROW",function(){return z}),n.d(e,"FILTERS_NAMESPACE",function(){return Y}),n.d(e,"FILTERS_CONDITIONS_NAMESPACE",function(){return G}),n.d(e,"FILTERS_CONDITIONS_NONE",function(){return X}),n.d(e,"FILTERS_CONDITIONS_EMPTY",function(){return K}),n.d(e,"FILTERS_CONDITIONS_NOT_EMPTY",function(){return q}),n.d(e,"FILTERS_CONDITIONS_EQUAL",function(){return $}),n.d(e,"FILTERS_CONDITIONS_NOT_EQUAL",function(){return Q}),n.d(e,"FILTERS_CONDITIONS_BEGINS_WITH",function(){return Z}),n.d(e,"FILTERS_CONDITIONS_ENDS_WITH",function(){return J}),n.d(e,"FILTERS_CONDITIONS_CONTAINS",function(){return tt}),n.d(e,"FILTERS_CONDITIONS_NOT_CONTAIN",function(){return et}),n.d(e,"FILTERS_CONDITIONS_BY_VALUE",function(){return nt}),n.d(e,"FILTERS_CONDITIONS_GREATER_THAN",function(){return rt}),n.d(e,"FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL",function(){return ot}),n.d(e,"FILTERS_CONDITIONS_LESS_THAN",function(){return it}),n.d(e,"FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL",function(){return at}),n.d(e,"FILTERS_CONDITIONS_BETWEEN",function(){return st}),n.d(e,"FILTERS_CONDITIONS_NOT_BETWEEN",function(){return lt}),n.d(e,"FILTERS_CONDITIONS_AFTER",function(){return ut}),n.d(e,"FILTERS_CONDITIONS_BEFORE",function(){return ct}),n.d(e,"FILTERS_CONDITIONS_TODAY",function(){return ht}),n.d(e,"FILTERS_CONDITIONS_TOMORROW",function(){return ft}),n.d(e,"FILTERS_CONDITIONS_YESTERDAY",function(){return dt}),n.d(e,"FILTERS_DIVS_FILTER_BY_CONDITION",function(){return pt}),n.d(e,"FILTERS_DIVS_FILTER_BY_VALUE",function(){return gt}),n.d(e,"FILTERS_LABELS_CONJUNCTION",function(){return mt}),n.d(e,"FILTERS_LABELS_DISJUNCTION",function(){return vt}),n.d(e,"FILTERS_VALUES_BLANK_CELLS",function(){return yt}),n.d(e,"FILTERS_BUTTONS_SELECT_ALL",function(){return bt}),n.d(e,"FILTERS_BUTTONS_CLEAR",function(){return wt}),n.d(e,"FILTERS_BUTTONS_OK",function(){return Ct}),n.d(e,"FILTERS_BUTTONS_CANCEL",function(){return Ot}),n.d(e,"FILTERS_BUTTONS_PLACEHOLDER_SEARCH",function(){return St}),n.d(e,"FILTERS_BUTTONS_PLACEHOLDER_VALUE",function(){return Et}),n.d(e,"FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE",function(){return kt});var r="ContextMenu:items",o="".concat(r,".noItems"),i="".concat(r,".insertRowAbove"),a="".concat(r,".insertRowBelow"),s="".concat(r,".insertColumnOnTheLeft"),l="".concat(r,".insertColumnOnTheRight"),u="".concat(r,".removeRow"),c="".concat(r,".removeColumn"),h="".concat(r,".undo"),f="".concat(r,".redo"),d="".concat(r,".readOnly"),p="".concat(r,".clearColumn"),g="".concat(r,".copy"),m="".concat(r,".cut"),v="".concat(r,".freezeColumn"),y="".concat(r,".unfreezeColumn"),b="".concat(r,".mergeCells"),w="".concat(r,".unmergeCells"),C="".concat(r,".addComment"),O="".concat(r,".editComment"),S="".concat(r,".removeComment"),E="".concat(r,".readOnlyComment"),k="".concat(r,".align"),T="".concat(r,".align.left"),R="".concat(r,".align.center"),x="".concat(r,".align.right"),M="".concat(r,".align.justify"),A="".concat(r,".align.top"),N="".concat(r,".align.middle"),_="".concat(r,".align.bottom"),P="".concat(r,".borders"),I="".concat(r,".borders.top"),D="".concat(r,".borders.right"),L="".concat(r,".borders.bottom"),j="".concat(r,".borders.left"),H="".concat(r,".borders.remove"),B="".concat(r,".nestedHeaders.insertChildRow"),F="".concat(r,".nestedHeaders.detachFromParent"),W="".concat(r,".hideColumn"),V="".concat(r,".showColumn"),U="".concat(r,".hideRow"),z="".concat(r,".showRow"),Y="Filters:",G="".concat(Y,"conditions"),X="".concat(G,".none"),K="".concat(G,".isEmpty"),q="".concat(G,".isNotEmpty"),$="".concat(G,".isEqualTo"),Q="".concat(G,".isNotEqualTo"),Z="".concat(G,".beginsWith"),J="".concat(G,".endsWith"),tt="".concat(G,".contains"),et="".concat(G,".doesNotContain"),nt="".concat(G,".byValue"),rt="".concat(G,".greaterThan"),ot="".concat(G,".greaterThanOrEqualTo"),it="".concat(G,".lessThan"),at="".concat(G,".lessThanOrEqualTo"),st="".concat(G,".isBetween"),lt="".concat(G,".isNotBetween"),ut="".concat(G,".after"),ct="".concat(G,".before"),ht="".concat(G,".today"),ft="".concat(G,".tomorrow"),dt="".concat(G,".yesterday"),pt="".concat(Y,"labels.filterByCondition"),gt="".concat(Y,"labels.filterByValue"),mt="".concat(Y,"labels.conjunction"),vt="".concat(Y,"labels.disjunction"),yt="".concat(Y,"values.blankCells"),bt="".concat(Y,"buttons.selectAll"),wt="".concat(Y,"buttons.clear"),Ct="".concat(Y,"buttons.ok"),Ot="".concat(Y,"buttons.cancel"),St="".concat(Y,"buttons.placeholder.search"),Et="".concat(Y,"buttons.placeholder.value"),kt="".concat(Y,"buttons.placeholder.secondValue")},function(t,e,n){"use strict";n.r(e),n.d(e,"isNumeric",function(){return o}),n.d(e,"rangeEach",function(){return i}),n.d(e,"rangeEachReverse",function(){return a}),n.d(e,"valueAccordingPercent",function(){return s});n(10),n(11),n(12),n(7),n(6),n(26),n(8),n(51),n(9);function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){var e=r(t);return"number"==e?!isNaN(t)&&isFinite(t):"string"==e?!!t.length&&(1==t.length?/\d/.test(t):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(t)):"object"==e&&(!!t&&"number"==typeof t.valueOf()&&!(t instanceof Date))}function i(t,e,n){var r=-1;for("function"===typeof e?(n=e,e=t):r=t-1;++r<=e&&!1!==n(r););}function a(t,e,n){var r=t+1;for("function"===typeof e&&(n=e,e=0);--r>=e&&!1!==n(r););}function s(t,e){return e=parseInt(e.toString().replace("%",""),10),e=parseInt(t*e/100,10)}},function(t,e,n){"use strict";n(7),n(6),n(8),n(32),n(9);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var i=new WeakMap,a=function(){function t(e,n,r,o,a,s,l){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(t){return t};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.set(this,{viewportWidth:e,scrollOffset:n,totalColumns:r,columnWidthFn:o,overrideFn:a,onlyFullyVisible:s,stretchingColumnWidthFn:u}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=l,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()}return o(t,null,[{key:"DEFAULT_WIDTH",get:function(){return 50}}]),o(t,[{key:"calculate",value:function(){for(var t,e=0,n=!0,r=[],o=i.get(this),a=o.onlyFullyVisible,s=o.overrideFn,l=o.scrollOffset,u=o.totalColumns,c=o.viewportWidth,h=0;h<u;h++){if(t=this._getColumnWidth(h),e<=l&&!a&&(this.startColumn=h),e>=l&&e+t<=l+(l>0?c+1:c)&&(null!==this.startColumn&&void 0!==this.startColumn||(this.startColumn=h),this.endColumn=h),r.push(e),e+=t,a||(this.endColumn=h),e>=l+c){n=!1;break}}if(this.endColumn===u-1&&n)for(this.startColumn=this.endColumn;this.startColumn>0;){var f=r[this.endColumn]+t-r[this.startColumn-1];if((f<=c||!a)&&(this.startColumn-=1),f>c)break}null!==this.startColumn&&s&&s(this),this.startPosition=r[this.startColumn],void 0===this.startPosition&&(this.startPosition=null),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}},{key:"refreshStretching",value:function(t){if("none"!==this.stretch){var e=t;this.totalTargetWidth=e;for(var n=i.get(this),r=n.totalColumns,o=0,a=0;a<r;a++){var s=this._getColumnWidth(a),l=n.stretchingColumnWidthFn(void 0,a);"number"===typeof l?e-=l:o+=s}var u=e-o;if("all"===this.stretch&&u>0)this.stretchAllRatio=e/o,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if("last"===this.stretch&&e!==1/0){var c=this._getColumnWidth(r-1),h=u+c;this.stretchLastWidth=h>=0?h:c}}}},{key:"getStretchedColumnWidth",value:function(t,e){var n=null;return"all"===this.stretch&&0!==this.stretchAllRatio?n=this._getStretchedAllColumnWidth(t,e):"last"===this.stretch&&0!==this.stretchLastWidth&&(n=this._getStretchedLastColumnWidth(t)),n}},{key:"_getStretchedAllColumnWidth",value:function(t,e){var n=0,r=i.get(this),o=r.totalColumns;if(!this.stretchAllColumnsWidth[t]){var a=Math.round(e*this.stretchAllRatio),s=r.stretchingColumnWidthFn(a,t);this.stretchAllColumnsWidth[t]=void 0===s?a:isNaN(s)?this._getColumnWidth(t):s}if(this.stretchAllColumnsWidth.length===o&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var l=0;l<this.stretchAllColumnsWidth.length;l++)n+=this.stretchAllColumnsWidth[l];n!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-n)}return this.stretchAllColumnsWidth[t]}},{key:"_getStretchedLastColumnWidth",value:function(t){return t===i.get(this).totalColumns-1?this.stretchLastWidth:null}},{key:"_getColumnWidth",value:function(e){var n=i.get(this).columnWidthFn(e);return isNaN(n)&&(n=t.DEFAULT_WIDTH),n}}]),t}();function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}var u=new WeakMap,c=function(){function t(e,n,r,o,i,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u.set(this,{viewportHeight:e,scrollOffset:n,totalRows:r,rowHeightFn:o,overrideFn:i,onlyFullyVisible:a,horizontalScrollbarHeight:s}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()}return l(t,null,[{key:"DEFAULT_HEIGHT",get:function(){return 23}}]),l(t,[{key:"calculate",value:function(){for(var e,n=0,r=!0,o=[],i=u.get(this),a=i.onlyFullyVisible,s=i.overrideFn,l=i.rowHeightFn,c=i.scrollOffset,h=i.totalRows,f=i.viewportHeight,d=i.horizontalScrollbarHeight||0,p=0;p<h;p++)if(e=l(p),isNaN(e)&&(e=t.DEFAULT_HEIGHT),n<=c&&!a&&(this.startRow=p),n>=c&&n+e<=c+f-d&&(null===this.startRow&&(this.startRow=p),this.endRow=p),o.push(n),n+=e,a||(this.endRow=p),n>=c+f-d){r=!1;break}if(this.endRow===h-1&&r)for(this.startRow=this.endRow;this.startRow>0;){var g=o[this.endRow]+e-o[this.startRow-1];if((g<=f-d||!a)&&(this.startRow-=1),g>=f-d)break}null!==this.startRow&&s&&s(this),this.startPosition=o[this.startRow],void 0===this.startPosition&&(this.startPosition=null),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}}]),t}();function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.row=null,this.col=null,"undefined"!==typeof e&&"undefined"!==typeof n&&(this.row=e,this.col=n)}var e,n,r;return e=t,(n=[{key:"isValid",value:function(t){return!(this.row<0||this.col<0)&&!(this.row>=t.getSetting("totalRows")||this.col>=t.getSetting("totalColumns"))}},{key:"isEqual",value:function(t){return t===this||this.row===t.row&&this.col===t.col}},{key:"isSouthEastOf",value:function(t){return this.row>=t.row&&this.col>=t.col}},{key:"isNorthWestOf",value:function(t){return this.row<=t.row&&this.col<=t.col}},{key:"isSouthWestOf",value:function(t){return this.row>=t.row&&this.col<=t.col}},{key:"isNorthEastOf",value:function(t){return this.row<=t.row&&this.col>=t.col}},{key:"toObject",value:function(){return{row:this.row,col:this.col}}}])&&h(e.prototype,n),r&&h(e,r),t}();n(41),n(22),n(47);function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.highlight=e,this.from=n,this.to=r}var e,n,r;return e=t,(n=[{key:"setHighlight",value:function(t){return this.highlight=t,this}},{key:"setFrom",value:function(t){return this.from=t,this}},{key:"setTo",value:function(t){return this.to=t,this}},{key:"isValid",value:function(t){return this.from.isValid(t)&&this.to.isValid(t)}},{key:"isSingle",value:function(){return this.from.row===this.to.row&&this.from.col===this.to.col}},{key:"getHeight",value:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}},{key:"getWidth",value:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}},{key:"includes",value:function(t){var e=t.row,n=t.col,r=this.getTopLeftCorner(),o=this.getBottomRightCorner();return r.row<=e&&o.row>=e&&r.col<=n&&o.col>=n}},{key:"includesRange",value:function(t){return this.includes(t.getTopLeftCorner())&&this.includes(t.getBottomRightCorner())}},{key:"isEqual",value:function(t){return Math.min(this.from.row,this.to.row)===Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(t.from.col,t.to.col)}},{key:"overlaps",value:function(t){return t.isSouthEastOf(this.getTopLeftCorner())&&t.isNorthWestOf(this.getBottomRightCorner())}},{key:"isSouthEastOf",value:function(t){return this.getTopLeftCorner().isSouthEastOf(t)||this.getBottomRightCorner().isSouthEastOf(t)}},{key:"isNorthWestOf",value:function(t){return this.getTopLeftCorner().isNorthWestOf(t)||this.getBottomRightCorner().isNorthWestOf(t)}},{key:"isOverlappingHorizontally",value:function(t){return this.getTopRightCorner().col>=t.getTopLeftCorner().col&&this.getTopRightCorner().col<=t.getTopRightCorner().col||this.getTopLeftCorner().col<=t.getTopRightCorner().col&&this.getTopLeftCorner().col>=t.getTopLeftCorner().col}},{key:"isOverlappingVertically",value:function(t){return this.getBottomRightCorner().row>=t.getTopRightCorner().row&&this.getBottomRightCorner().row<=t.getBottomRightCorner().row||this.getTopRightCorner().row<=t.getBottomRightCorner().row&&this.getTopRightCorner().row>=t.getTopRightCorner().row}},{key:"expand",value:function(t){var e=this.getTopLeftCorner(),n=this.getBottomRightCorner();return(t.row<e.row||t.col<e.col||t.row>n.row||t.col>n.col)&&(this.from=new f(Math.min(e.row,t.row),Math.min(e.col,t.col)),this.to=new f(Math.max(n.row,t.row),Math.max(n.col,t.col)),!0)}},{key:"expandByRange",value:function(t){if(this.includesRange(t)||!this.overlaps(t))return!1;var e=this.getTopLeftCorner(),n=this.getBottomRightCorner(),r=this.getDirection(),o=t.getTopLeftCorner(),i=t.getBottomRightCorner(),a=Math.min(e.row,o.row),s=Math.min(e.col,o.col),l=Math.max(n.row,i.row),u=Math.max(n.col,i.col),c=new f(a,s),h=new f(l,u);return this.from=c,this.to=h,this.setDirection(r),this.highlight.row===this.getBottomRightCorner().row&&"N-S"===this.getVerticalDirection()&&this.flipDirectionVertically(),this.highlight.col===this.getTopRightCorner().col&&"W-E"===this.getHorizontalDirection()&&this.flipDirectionHorizontally(),!0}},{key:"getDirection",value:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0}},{key:"setDirection",value:function(t){switch(t){case"NW-SE":var e=[this.getTopLeftCorner(),this.getBottomRightCorner()];this.from=e[0],this.to=e[1];break;case"NE-SW":var n=[this.getTopRightCorner(),this.getBottomLeftCorner()];this.from=n[0],this.to=n[1];break;case"SE-NW":var r=[this.getBottomRightCorner(),this.getTopLeftCorner()];this.from=r[0],this.to=r[1];break;case"SW-NE":var o=[this.getBottomLeftCorner(),this.getTopRightCorner()];this.from=o[0],this.to=o[1]}}},{key:"getVerticalDirection",value:function(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}},{key:"getHorizontalDirection",value:function(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}},{key:"flipDirectionVertically",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE")}}},{key:"flipDirectionHorizontally",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW")}}},{key:"getTopLeftCorner",value:function(){return new f(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getBottomRightCorner",value:function(){return new f(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getTopRightCorner",value:function(){return new f(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getBottomLeftCorner",value:function(){return new f(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"isCorner",value:function(t,e){return!!(e&&e.includes(t)&&(this.getTopLeftCorner().isEqual(new f(e.from.row,e.from.col))||this.getTopRightCorner().isEqual(new f(e.from.row,e.to.col))||this.getBottomLeftCorner().isEqual(new f(e.to.row,e.from.col))||this.getBottomRightCorner().isEqual(new f(e.to.row,e.to.col))))||(t.isEqual(this.getTopLeftCorner())||t.isEqual(this.getTopRightCorner())||t.isEqual(this.getBottomLeftCorner())||t.isEqual(this.getBottomRightCorner()))}},{key:"getOppositeCorner",value:function(t,e){if(!(t instanceof f))return!1;if(e&&e.includes(t)){if(this.getTopLeftCorner().isEqual(new f(e.from.row,e.from.col)))return this.getBottomRightCorner();if(this.getTopRightCorner().isEqual(new f(e.from.row,e.to.col)))return this.getBottomLeftCorner();if(this.getBottomLeftCorner().isEqual(new f(e.to.row,e.from.col)))return this.getTopRightCorner();if(this.getBottomRightCorner().isEqual(new f(e.to.row,e.to.col)))return this.getTopLeftCorner()}return t.isEqual(this.getBottomRightCorner())?this.getTopLeftCorner():t.isEqual(this.getTopLeftCorner())?this.getBottomRightCorner():t.isEqual(this.getTopRightCorner())?this.getBottomLeftCorner():t.isEqual(this.getBottomLeftCorner())?this.getTopRightCorner():void 0}},{key:"getBordersSharedWith",value:function(t){if(!this.includesRange(t))return[];var e=Math.min(this.from.row,this.to.row),n=Math.max(this.from.row,this.to.row),r=Math.min(this.from.col,this.to.col),o=Math.max(this.from.col,this.to.col),i=Math.min(t.from.row,t.to.row),a=Math.max(t.from.row,t.to.row),s=Math.min(t.from.col,t.to.col),l=Math.max(t.from.col,t.to.col),u=[];return e===i&&u.push("top"),o===l&&u.push("right"),n===a&&u.push("bottom"),r===s&&u.push("left"),u}},{key:"getInner",value:function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),n=[],r=t.row;r<=e.row;r++)for(var o=t.col;o<=e.col;o++)this.from.row===r&&this.from.col===o||this.to.row===r&&this.to.col===o||n.push(new f(r,o));return n}},{key:"getAll",value:function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),n=[],r=t.row;r<=e.row;r++)for(var o=t.col;o<=e.col;o++)t.row===r&&t.col===o?n.push(t):e.row===r&&e.col===o?n.push(e):n.push(new f(r,o));return n}},{key:"forAll",value:function(t){for(var e=this.getTopLeftCorner(),n=this.getBottomRightCorner(),r=e.row;r<=n.row;r++)for(var o=e.col;o<=n.col;o++){if(!1===t(r,o))return}}},{key:"toObject",value:function(){return{from:this.from.toObject(),to:this.to.toObject()}}}])&&d(e.prototype,n),r&&d(e,r),t}();function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var m=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.offset=e,this.total=n,this.countTH=r}var e,n,r;return e=t,(n=[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleRowHeadedColumnToSourceColumn",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceColumnToVisibleRowHeadedColumn",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}])&&g(e.prototype,n),r&&g(e,r),t}();function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var y=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.offset=e,this.total=n,this.countTH=r}var e,n,r;return e=t,(n=[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleColHeadedRowToSourceRow",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceRowToVisibleColHeadedRow",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}])&&v(e.prototype,n),r&&v(e,r),t}(),b=(n(10),n(11),n(12),n(18),n(19),n(0)),w=n(2),C=n(1),O=n(31),S=n(20),E=n(37),k=n(29),T=n(35),R=n(42);function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var M=new WeakMap,A=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instance=e,this.eventManager=new S.a(e),M.set(this,{selectedCellBeforeTouchEnd:void 0,dblClickTimeout:[null,null],dblClickOrigin:[null,null]}),this.registerEvents()}var e,n,r;return e=t,(n=[{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(this.instance.wtTable.holder,"contextmenu",function(e){return t.onContextMenu(e)}),this.eventManager.addEventListener(this.instance.wtTable.TABLE,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(this.instance.wtTable.TABLE,"mouseout",function(e){return t.onMouseOut(e)});var e=function(){t.eventManager.addEventListener(t.instance.wtTable.holder,"touchstart",function(e){return t.onTouchStart(e)}),t.eventManager.addEventListener(t.instance.wtTable.holder,"touchend",function(e){return t.onTouchEnd(e)}),t.instance.momentumScrolling||(t.instance.momentumScrolling={}),t.eventManager.addEventListener(t.instance.wtTable.holder,"scroll",function(){clearTimeout(t.instance.momentumScrolling._timeout),t.instance.momentumScrolling.ongoing||t.instance.getSetting("onBeforeTouchScroll"),t.instance.momentumScrolling.ongoing=!0,t.instance.momentumScrolling._timeout=setTimeout(function(){t.instance.touchApplied||(t.instance.momentumScrolling.ongoing=!1,t.instance.getSetting("onAfterMomentumScroll"))},200)})};Object(R.isMobileBrowser)()?e():(Object(T.isTouchSupported)()&&e(),t.eventManager.addEventListener(t.instance.wtTable.holder,"mouseup",function(e){return t.onMouseUp(e)}),t.eventManager.addEventListener(t.instance.wtTable.holder,"mousedown",function(e){return t.onMouseDown(e)}))}},{key:"selectedCellWasTouched",value:function(t){var e=M.get(this),n=this.parentCell(t).coords;if(e.selectedCellBeforeTouchEnd&&n){var r=[n.row,e.selectedCellBeforeTouchEnd.from.row],o=r[0],i=r[1],a=[n.col,e.selectedCellBeforeTouchEnd.from.col];return o===i&&a[0]===a[1]}return!1}},{key:"parentCell",value:function(t){var e={},n=this.instance.wtTable.TABLE,r=Object(b.closestDown)(t,["TD","TH"],n);return r?(e.coords=this.instance.wtTable.getCoords(r),e.TD=r):Object(b.hasClass)(t,"wtBorder")&&Object(b.hasClass)(t,"current")?(e.coords=this.instance.selections.getCell().cellRange.highlight,e.TD=this.instance.wtTable.getCell(e.coords)):Object(b.hasClass)(t,"wtBorder")&&Object(b.hasClass)(t,"area")&&this.instance.selections.createOrGetArea().cellRange&&(e.coords=this.instance.selections.createOrGetArea().cellRange.to,e.TD=this.instance.wtTable.getCell(e.coords)),e}},{key:"onMouseDown",value:function(t){var e=M.get(this),n=this.instance.rootDocument.activeElement,r=Object(k.partial)(b.getParent,t.realTarget),o=t.realTarget;if(o!==n&&r(0)!==n&&r(1)!==n){var i=this.parentCell(o);Object(b.hasClass)(o,"corner")?this.instance.getSetting("onCellCornerMouseDown",t,o):i.TD&&this.instance.hasSetting("onCellMouseDown")&&this.instance.getSetting("onCellMouseDown",t,i.coords,i.TD,this.instance),2!==t.button&&i.TD&&(e.dblClickOrigin[0]=i.TD,clearTimeout(e.dblClickTimeout[0]),e.dblClickTimeout[0]=setTimeout(function(){e.dblClickOrigin[0]=null},1e3))}}},{key:"onContextMenu",value:function(t){if(this.instance.hasSetting("onCellContextMenu")){var e=this.parentCell(t.realTarget);e.TD&&this.instance.getSetting("onCellContextMenu",t,e.coords,e.TD,this.instance)}}},{key:"onMouseOver",value:function(t){if(this.instance.hasSetting("onCellMouseOver")){var e=this.instance.wtTable.TABLE,n=Object(b.closestDown)(t.realTarget,["TD","TH"],e),r=this.instance.cloneSource||this.instance;n&&n!==r.lastMouseOver&&Object(b.isChildOf)(n,e)&&(r.lastMouseOver=n,this.instance.getSetting("onCellMouseOver",t,this.instance.wtTable.getCoords(n),n,this.instance))}}},{key:"onMouseOut",value:function(t){if(this.instance.hasSetting("onCellMouseOut")){var e=this.instance.wtTable.TABLE,n=Object(b.closestDown)(t.realTarget,["TD","TH"],e),r=Object(b.closestDown)(t.relatedTarget,["TD","TH"],e);n&&n!==r&&Object(b.isChildOf)(n,e)&&this.instance.getSetting("onCellMouseOut",t,this.instance.wtTable.getCoords(n),n,this.instance)}}},{key:"onMouseUp",value:function(t){if(2!==t.button){var e=M.get(this),n=this.parentCell(t.realTarget);n.TD&&this.instance.hasSetting("onCellMouseUp")&&this.instance.getSetting("onCellMouseUp",t,n.coords,n.TD,this.instance),n.TD===e.dblClickOrigin[0]&&n.TD===e.dblClickOrigin[1]?(Object(b.hasClass)(t.realTarget,"corner")?this.instance.getSetting("onCellCornerDblClick",t,n.coords,n.TD,this.instance):this.instance.getSetting("onCellDblClick",t,n.coords,n.TD,this.instance),e.dblClickOrigin[0]=null,e.dblClickOrigin[1]=null):n.TD===e.dblClickOrigin[0]&&(e.dblClickOrigin[1]=n.TD,clearTimeout(e.dblClickTimeout[1]),e.dblClickTimeout[1]=setTimeout(function(){e.dblClickOrigin[1]=null},500))}}},{key:"onTouchStart",value:function(t){M.get(this).selectedCellBeforeTouchEnd=this.instance.selections.getCell().cellRange,this.instance.touchApplied=!0,this.onMouseDown(t)}},{key:"onTouchEnd",value:function(t){var e=t.target;this.instance.touchApplied=!1,!1===this.selectedCellWasTouched(e)&&["A","BUTTON","INPUT"].includes(e.tagName)&&t.preventDefault(),this.onMouseUp(t)}},{key:"destroy",value:function(){var t=M.get(this);clearTimeout(t.dblClickTimeout[0]),clearTimeout(t.dblClickTimeout[1]),this.eventManager.destroy()}}])&&x(e.prototype,n),r&&x(e,r),t}(),N=(n(30),n(26),n(17));function _(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var I=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wot=e;var n=this.wot,r=n.rootDocument,o=n.rootWindow,i=n.wtTable,a=parseInt(o.getComputedStyle(r.body).lineHeight,10),s=1.2*parseInt(o.getComputedStyle(r.body).fontSize,10);this.instance=this.wot,this.eventManager=new S.a(this.wot),this.scrollbarSize=Object(b.getScrollbarWidth)(r),this.wot.update("scrollbarWidth",this.scrollbarSize),this.wot.update("scrollbarHeight",this.scrollbarSize),"hidden"===o.getComputedStyle(i.wtRootElement.parentNode).getPropertyValue("overflow")?this.scrollableElement=i.holder:this.scrollableElement=Object(b.getScrollableElement)(i.TABLE),this.prepareOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.overlayScrollPositions={master:{top:0,left:0},top:{top:null,left:0},bottom:{top:null,left:0},left:{top:0,left:null}},this.pendingScrollCallbacks={master:{top:0,left:0},top:{left:0},bottom:{left:0},left:{top:0}},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.delegatedScrollCallback=!1,this.registeredListeners=[],this.browserLineHeight=a||s,this.registerListeners(),this.lastScrollX=o.scrollX,this.lastScrollY=o.scrollY}var e,n,r;return e=t,(n=[{key:"prepareOverlays",value:function(){var t=!1;return this.topOverlay?t=this.topOverlay.updateStateOfRendering()||t:this.topOverlay=it.createOverlay(it.CLONE_TOP,this.wot),it.hasOverlay(it.CLONE_BOTTOM)||(this.bottomOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),it.hasOverlay(it.CLONE_BOTTOM_LEFT_CORNER)||(this.bottomLeftCornerOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),this.bottomOverlay?t=this.bottomOverlay.updateStateOfRendering()||t:this.bottomOverlay=it.createOverlay(it.CLONE_BOTTOM,this.wot),this.leftOverlay?t=this.leftOverlay.updateStateOfRendering()||t:this.leftOverlay=it.createOverlay(it.CLONE_LEFT,this.wot),this.topOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.topLeftCornerOverlay?t=this.topLeftCornerOverlay.updateStateOfRendering()||t:this.topLeftCornerOverlay=it.createOverlay(it.CLONE_TOP_LEFT_CORNER,this.wot)),this.bottomOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.bottomLeftCornerOverlay?t=this.bottomLeftCornerOverlay.updateStateOfRendering()||t:this.bottomLeftCornerOverlay=it.createOverlay(it.CLONE_BOTTOM_LEFT_CORNER,this.wot)),this.wot.getSetting("debug")&&!this.debug&&(this.debug=it.createOverlay(it.CLONE_DEBUG,this.wot)),t}},{key:"refreshAll",value:function(){this.wot.drawn&&(this.wot.wtTable.holder.parentNode?(this.wot.draw(!0),this.verticalScrolling&&this.leftOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1):this.destroy())}},{key:"registerListeners",value:function(){var t=this,e=this.wot,n=e.rootDocument,r=e.rootWindow,o=this.topOverlay.mainTableScrollableElement,i=this.leftOverlay.mainTableScrollableElement,a=[];a.push([n.documentElement,"keydown",function(e){return t.onKeyDown(e)}]),a.push([n.documentElement,"keyup",function(){return t.onKeyUp()}]),a.push([n,"visibilitychange",function(){return t.onKeyUp()}]),a.push([o,"scroll",function(e){return t.onTableScroll(e)},{passive:!0}]),o!==i&&a.push([i,"scroll",function(e){return t.onTableScroll(e)},{passive:!0}]);var s,l=r.devicePixelRatio&&r.devicePixelRatio>1,u=this.scrollableElement===r;for(l||!Object(R.isChrome)()?a.push([this.wot.wtTable.wtRootElement.parentNode,"wheel",function(e){return t.onCloneWheel(e)},{passive:u}]):(this.topOverlay.needFullRender&&a.push([this.topOverlay.clone.wtTable.holder,"wheel",function(e){return t.onCloneWheel(e)},{passive:u}]),this.bottomOverlay.needFullRender&&a.push([this.bottomOverlay.clone.wtTable.holder,"wheel",function(e){return t.onCloneWheel(e)},{passive:u}]),this.leftOverlay.needFullRender&&a.push([this.leftOverlay.clone.wtTable.holder,"wheel",function(e){return t.onCloneWheel(e)},{passive:u}]),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.needFullRender&&a.push([this.topLeftCornerOverlay.clone.wtTable.holder,"wheel",function(e){return t.onCloneWheel(e)},{passive:u}]),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.needFullRender&&a.push([this.bottomLeftCornerOverlay.clone.wtTable.holder,"wheel",function(e){return t.onCloneWheel(e)},{passive:u}])),a.push([r,"resize",function(){clearTimeout(s),s=setTimeout(function(){t.wot.getSetting("onWindowResize")},200)}]);a.length;){var c,h=a.pop();(c=this.eventManager).addEventListener.apply(c,_(h)),this.registeredListeners.push(h)}}},{key:"deregisterListeners",value:function(){for(;this.registeredListeners.length;){var t=this.registeredListeners.pop();this.eventManager.removeEventListener(t[0],t[1],t[2])}}},{key:"onTableScroll",value:function(t){var e=this.wot.rootWindow,n=this.leftOverlay.mainTableScrollableElement,r=this.topOverlay.mainTableScrollableElement,o=t.target;this.keyPressed&&(r!==e&&o!==e&&!t.target.contains(r)||n!==e&&o!==e&&!t.target.contains(n))||this.syncScrollPositions(t)}},{key:"onCloneWheel",value:function(t){var e=this.wot.rootWindow;this.scrollableElement!==e&&t.preventDefault();var n=this.leftOverlay.mainTableScrollableElement,r=this.topOverlay.mainTableScrollableElement,o=t.target,i=r!==e&&o!==e&&!o.contains(r),a=n!==e&&o!==e&&!o.contains(n);this.keyPressed&&(i||a)||this.translateMouseWheelToScroll(t)}},{key:"onKeyDown",value:function(t){this.keyPressed=Object(N.isKey)(t.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}},{key:"onKeyUp",value:function(){this.keyPressed=!1}},{key:"translateMouseWheelToScroll",value:function(t){var e=this.browserLineHeight,n=isNaN(t.deltaY)?-1*t.wheelDeltaY:t.deltaY,r=isNaN(t.deltaX)?-1*t.wheelDeltaX:t.deltaX;1===t.deltaMode&&(r+=r*e,n+=n*e),this.scrollVertically(n),this.scrollHorizontally(r)}},{key:"scrollVertically",value:function(t){this.scrollableElement.scrollTop+=t}},{key:"scrollHorizontally",value:function(t){this.scrollableElement.scrollLeft+=t}},{key:"syncScrollPositions",value:function(){if(!this.destroyed){var t=this.wot.rootWindow,e=this.topOverlay.clone.wtTable.holder,n=this.leftOverlay.clone.wtTable.holder,r=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop],o=r[0],i=r[1];if(this.horizontalScrolling=e.scrollLeft!==o||this.lastScrollX!==t.scrollX,this.verticalScrolling=n.scrollTop!==i||this.lastScrollY!==t.scrollY,this.lastScrollX=t.scrollX,this.lastScrollY=t.scrollY,this.horizontalScrolling){e.scrollLeft=o;var a=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;a&&(a.scrollLeft=o)}this.verticalScrolling&&(n.scrollTop=i),this.refreshAll()}}},{key:"syncScrollWithMaster",value:function(){var t=this.topOverlay.mainTableScrollableElement,e=t.scrollLeft,n=t.scrollTop;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=e),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=e),this.leftOverlay.needFullRender&&(this.leftOverlay.clone.wtTable.holder.scrollTop=n)}},{key:"updateMainScrollableElements",value:function(){this.deregisterListeners(),this.leftOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();var t=this.wot,e=t.rootWindow,n=t.wtTable;"hidden"===e.getComputedStyle(n.wtRootElement.parentNode).getPropertyValue("overflow")?this.scrollableElement=n.holder:this.scrollableElement=Object(b.getScrollableElement)(n.TABLE),this.registerListeners()}},{key:"destroy",value:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.leftOverlay.destroy(),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.destroy(),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.destroy(),this.debug&&this.debug.destroy(),this.destroyed=!0}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted){var e=this.wot.wtTable.wtRootElement.parentNode||this.wot.wtTable.wtRootElement,n=e.clientWidth,r=e.clientHeight;n===this.spreaderLastSize.width&&r===this.spreaderLastSize.height||(this.spreaderLastSize.width=n,this.spreaderLastSize.height=r,this.adjustElementsSize())}this.bottomOverlay.clone&&this.bottomOverlay.refresh(t),this.leftOverlay.refresh(t),this.topOverlay.refresh(t),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.refresh(t),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.refresh(t),this.debug&&this.debug.refresh(t)}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.wot,n=e.wtViewport,r=e.wtTable,o=this.wot.getSetting("totalColumns"),i=this.wot.getSetting("totalRows"),a=n.getRowHeaderWidth(),s=n.getColumnHeaderHeight(),l=r.hider.style;if(l.width="".concat(a+this.leftOverlay.sumCellSizes(0,o),"px"),l.height="".concat(s+this.topOverlay.sumCellSizes(0,i)+1,"px"),this.scrollbarSize>0){var u=r.wtRootElement,c=u.scrollHeight,h=u.scrollWidth,f=r.holder,d=f.scrollHeight,p=f.scrollWidth;this.hasScrollbarRight=c<d,this.hasScrollbarBottom=h<p,this.hasScrollbarRight&&r.hider.scrollWidth+this.scrollbarSize>h?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&r.hider.scrollHeight+this.scrollbarSize>c&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(t),this.leftOverlay.adjustElementsSize(t),this.bottomOverlay.adjustElementsSize(t)}},{key:"applyToDOM",value:function(){this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted||this.adjustElementsSize(),this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.leftOverlay.applyToDOM()}},{key:"getParentOverlay",value:function(t){if(!t)return null;var e=[this.topOverlay,this.leftOverlay,this.bottomOverlay,this.topLeftCornerOverlay,this.bottomLeftCornerOverlay],n=null;return Object(C.arrayEach)(e,function(e){e&&e.clone&&e.clone.wtTable.TABLE.contains(t)&&(n=e.clone)}),n}}])&&P(e.prototype,n),r&&P(e,r),t}(),D=n(4);function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var j=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wot=e,this.instance=e}var e,n,r;return e=t,(n=[{key:"scrollViewport",value:function(t,e,n,r,o){var i=this.scrollViewportHorizontally(t.col,n,o),a=this.scrollViewportVertically(t.row,e,r);return i||a}},{key:"scrollViewportHorizontally",value:function(t,e,n){if(!this.wot.drawn)return!1;var r=this._getVariables(),o=r.fixedColumnsLeft,i=r.leftOverlay,a=r.totalColumns,s=!1;return t>=0&&t<=Math.max(a-1,0)&&(t>=o&&(t<this.getFirstVisibleColumn()||n)?s=i.scrollTo(t):(t>this.getLastVisibleColumn()||e)&&(s=i.scrollTo(t,!0))),s}},{key:"scrollViewportVertically",value:function(t,e,n){if(!this.wot.drawn)return!1;var r=this._getVariables(),o=r.fixedRowsBottom,i=r.fixedRowsTop,a=r.topOverlay,s=r.totalRows,l=!1;return t>=0&&t<=Math.max(s-1,0)&&(t>=i&&(t<this.getFirstVisibleRow()||e)?l=a.scrollTo(t):(t>this.getLastVisibleRow()&&t<s-o||n)&&(l=a.scrollTo(t,!0))),l}},{key:"getFirstVisibleRow",value:function(){var t=this._getVariables(),e=t.topOverlay,n=t.wtTable,r=t.wtViewport,o=t.totalRows,i=t.fixedRowsTop,a=this.wot.rootWindow,s=n.getFirstVisibleRow();if(e.mainTableScrollableElement===a){var l=Object(b.offset)(n.wtRootElement),u=Object(b.innerHeight)(n.hider),c=Object(b.innerHeight)(a),h=Object(b.getScrollTop)(a,a);if(l.top+u-c<=h){var f=r.getColumnHeaderHeight();f+=e.sumCellSizes(0,i),Object(D.rangeEachReverse)(o,1,function(t){if(f+=e.sumCellSizes(t-1,t),l.top+u-f<=h)return s=t,!1})}}return s}},{key:"getLastVisibleRow",value:function(){var t=this._getVariables(),e=t.topOverlay,n=t.wtTable,r=t.wtViewport,o=t.totalRows,i=this.wot.rootWindow,a=n.getLastVisibleRow();if(e.mainTableScrollableElement===i){var s=Object(b.offset)(n.wtRootElement),l=Object(b.innerHeight)(i),u=Object(b.getScrollTop)(i,i);if(s.top>u){var c=r.getColumnHeaderHeight();Object(D.rangeEach)(1,o,function(t){if(c+=e.sumCellSizes(t-1,t),s.top+c-u>=l)return a=t-2,!1})}}return a}},{key:"getFirstVisibleColumn",value:function(){var t=this._getVariables(),e=t.leftOverlay,n=t.wtTable,r=t.wtViewport,o=t.totalColumns,i=this.wot.rootWindow,a=n.getFirstVisibleColumn();if(e.mainTableScrollableElement===i){var s=Object(b.offset)(n.wtRootElement),l=Object(b.innerWidth)(n.hider),u=Object(b.innerWidth)(i),c=Object(b.getScrollLeft)(i,i);if(s.left+l-u<=c){var h=r.getRowHeaderWidth();Object(D.rangeEachReverse)(o,1,function(t){if(h+=e.sumCellSizes(t-1,t),s.left+l-h<=c)return a=t,!1})}}return a}},{key:"getLastVisibleColumn",value:function(){var t=this._getVariables(),e=t.leftOverlay,n=t.wtTable,r=t.wtViewport,o=t.totalColumns,i=this.wot.rootWindow,a=n.getLastVisibleColumn();if(e.mainTableScrollableElement===i){var s=Object(b.offset)(n.wtRootElement),l=Object(b.innerWidth)(i),u=Object(b.getScrollLeft)(i,i);if(s.left>u){var c=r.getRowHeaderWidth();Object(D.rangeEach)(1,o,function(t){if(c+=e.sumCellSizes(t-1,t),s.left+c-u>=l)return a=t-2,!1})}}return a}},{key:"_getVariables",value:function(){var t=this.wot;return{topOverlay:t.wtOverlays.topOverlay,leftOverlay:t.wtOverlays.leftOverlay,wtTable:t.wtTable,wtViewport:t.wtViewport,totalRows:t.getSetting("totalRows"),totalColumns:t.getSetting("totalColumns"),fixedRowsTop:t.getSetting("fixedRowsTop"),fixedRowsBottom:t.getSetting("fixedRowsBottom"),fixedColumnsLeft:t.getSetting("fixedColumnsLeft")}}}])&&L(e.prototype,n),r&&L(e,r),t}();function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var B=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wot=e,this.instance=e,this.defaults={table:void 0,debug:!1,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow:function(){return!1},data:void 0,freezeOverlays:!1,fixedColumnsLeft:0,fixedRowsTop:0,fixedRowsBottom:0,minSpareRows:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(t,e,n){var o=r.getSetting("data",t,e);Object(b.fastInnerText)(n,void 0===o||null===o?"":o)},columnWidth:function(){},rowHeight:function(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:function(t){return t},onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onWindowResize:null,scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null},this.settings={},Object(w.objectEach)(this.defaults,function(t,e){if(void 0!==n[e])r.settings[e]=n[e];else{if(void 0===t)throw new Error('A required setting "'.concat(e,'" was not provided'));r.settings[e]=t}})}var e,n,r;return e=t,(n=[{key:"update",value:function(t,e){var n=this;return void 0===e?Object(w.objectEach)(t,function(t,e){n.settings[e]=t}):this.settings[t]=e,this.wot}},{key:"getSetting",value:function(t,e,n,r,o){return"function"===typeof this.settings[t]?this.settings[t](e,n,r,o):void 0!==e&&Array.isArray(this.settings[t])?this.settings[t][e]:this.settings[t]}},{key:"has",value:function(t){return!!this.settings[t]}}])&&H(e.prototype,n),r&&H(e,r),t}(),F=(n(36),n(71),n(34));function W(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting the number\n          of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.']);return W=function(){return t},t}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var U=!1;function z(t,e,n){var r=t.createElement("TH");return n.insertBefore(r,e),n.removeChild(e),r}function Y(t,e,n){var r=t.createElement("TD");return n.insertBefore(r,e),n.removeChild(e),r}var G=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wtTable=e,this.wot=e.instance,this.instance=e.instance,this.rowFilter=e.rowFilter,this.columnFilter=e.columnFilter,this.TABLE=e.TABLE,this.THEAD=e.THEAD,this.TBODY=e.TBODY,this.COLGROUP=e.COLGROUP,this.rowHeaders=[],this.rowHeaderCount=0,this.columnHeaders=[],this.columnHeaderCount=0,this.fixedRowsTop=0,this.fixedRowsBottom=0}var e,n,r;return e=t,(n=[{key:"render",value:function(){if(!this.wtTable.isWorkingOnClone()){var t={};if(this.wot.getSetting("beforeDraw",!0,t),!0===t.skipRender)return}this.rowHeaders=this.wot.getSetting("rowHeaders"),this.rowHeaderCount=this.rowHeaders.length,this.fixedRowsTop=this.wot.getSetting("fixedRowsTop"),this.fixedRowsBottom=this.wot.getSetting("fixedRowsBottom"),this.columnHeaders=this.wot.getSetting("columnHeaders"),this.columnHeaderCount=this.columnHeaders.length;var e,n=this.wtTable.getRenderedColumnsCount(),r=this.wtTable.getRenderedRowsCount(),o=this.wot.getSetting("totalColumns"),i=this.wot.getSetting("totalRows"),a=!1;if((it.isOverlayTypeOf(this.wot.cloneOverlay,it.CLONE_BOTTOM)||it.isOverlayTypeOf(this.wot.cloneOverlay,it.CLONE_BOTTOM_LEFT_CORNER))&&(this.columnHeaders=[],this.columnHeaderCount=0),o>=0&&(this.adjustAvailableNodes(),a=!0,this.renderColumnHeaders(),this.renderRows(i,r,n),this.wtTable.isWorkingOnClone()||(e=this.wot.wtViewport.getWorkspaceWidth(),this.wot.wtViewport.containerWidth=null),this.adjustColumnWidths(n),this.markOversizedColumnHeaders(),this.adjustColumnHeaderHeights()),a||this.adjustAvailableNodes(),this.removeRedundantRows(r),this.wtTable.isWorkingOnClone()&&!this.wot.isOverlayName(it.CLONE_BOTTOM)||this.markOversizedRows(),this.wtTable.isWorkingOnClone())this.wot.isOverlayName(it.CLONE_BOTTOM)&&this.wot.cloneSource.wtOverlays.adjustElementsSize();else{this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays.refresh(!1),this.wot.wtOverlays.applyToDOM();var s=Object(b.outerWidth)(this.wtTable.hider),l=Object(b.outerWidth)(this.wtTable.TABLE);if(0!==s&&l!==s&&this.adjustColumnWidths(n),e!==this.wot.wtViewport.getWorkspaceWidth()){this.wot.wtViewport.containerWidth=null;var u=this.wtTable.getFirstRenderedColumn(),c=this.wtTable.getLastRenderedColumn(),h=this.wot.getSetting("defaultColumnWidth"),f=this.wot.getSetting("rowHeaderWidth");if(null!==(f=this.instance.getSetting("onModifyRowHeaderWidth",f))&&void 0!==f)for(var d=0;d<this.rowHeaderCount;d++){var p=Array.isArray(f)?f[d]:f;p=null===p||void 0===p?h:p,this.COLGROUP.childNodes[d].style.width="".concat(p,"px")}for(var g=u;g<c;g++){var m=this.wtTable.getStretchedColumnWidth(g),v=this.columnFilter.sourceToRendered(g);this.COLGROUP.childNodes[v+this.rowHeaderCount].style.width="".concat(m,"px")}}this.wot.getSetting("onDraw",!0)}}},{key:"removeRedundantRows",value:function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength-=1}},{key:"renderRows",value:function(t,e,n){for(var r,o=0,i=this.rowFilter.renderedToSource(o),a=this.wtTable.isWorkingOnClone();i<t&&i>=0&&(!U&&o>1e3&&(U=!0,Object(O.b)(Object(F.a)(W()))),void 0===e||o!==e);){if(r=this.getOrCreateTrForRow(o,r),this.renderRowHeaders(i,r),this.adjustColumns(r,n+this.rowHeaderCount),this.renderCells(i,r,n),a&&!this.wot.isOverlayName(it.CLONE_BOTTOM)||this.resetOversizedRow(i),r.firstChild){var s=this.wot.wtTable.getRowHeight(i);s?(s-=1,r.firstChild.style.height="".concat(s,"px")):r.firstChild.style.height=""}o+=1,i=this.rowFilter.renderedToSource(o)}}},{key:"resetOversizedRow",value:function(t){this.wot.getSetting("externalRowCalculator")||this.wot.wtViewport.oversizedRows&&this.wot.wtViewport.oversizedRows[t]&&(this.wot.wtViewport.oversizedRows[t]=void 0)}},{key:"markOversizedRows",value:function(){if(!this.wot.getSetting("externalRowCalculator")){var t,e,n,r,o,i=this.instance.wtTable.TBODY.childNodes.length;if(i*this.instance.wtSettings.settings.defaultRowHeight!==Object(b.innerHeight)(this.instance.wtTable.TBODY)-1||this.instance.getSetting("fixedRowsBottom"))for(;i;)i-=1,n=this.instance.wtTable.rowFilter.renderedToSource(i),t=this.instance.wtTable.getRowHeight(n),e=(o=(r=this.instance.wtTable.getTrForRow(n)).querySelector("th"))?Object(b.innerHeight)(o):Object(b.innerHeight)(r)-1,(!t&&this.instance.wtSettings.settings.defaultRowHeight<e||t<e)&&(e+=1,this.instance.wtViewport.oversizedRows[n]=e)}}},{key:"markOversizedColumnHeaders",value:function(){var t=this.wot.getOverlayName();if(this.columnHeaderCount&&!this.wot.wtViewport.hasOversizedColumnHeadersMarked[t]&&!this.wtTable.isWorkingOnClone()){for(var e=this.wtTable.getRenderedColumnsCount(),n=0;n<this.columnHeaderCount;n++)for(var r=-1*this.rowHeaderCount;r<e;r++)this.markIfOversizedColumnHeader(r);this.wot.wtViewport.hasOversizedColumnHeadersMarked[t]=!0}}},{key:"adjustColumnHeaderHeights",value:function(){for(var t=this.wot.getSetting("columnHeaders"),e=this.wot.wtTable.THEAD.childNodes,n=this.wot.wtViewport.oversizedColumnHeaders,r=0,o=t.length;r<o;r++)if(n[r]){if(!e[r]||0===e[r].childNodes.length)return;e[r].childNodes[0].style.height="".concat(n[r],"px")}}},{key:"markIfOversizedColumnHeader",value:function(t){for(var e,n,r,o=this.wot.wtTable.columnFilter.renderedToSource(t),i=this.columnHeaderCount,a=this.wot.wtSettings.settings.defaultRowHeight,s=this.wot.getSetting("columnHeaderHeight")||[];i;)i-=1,e=this.wot.wtTable.getColumnHeaderHeight(i),(n=this.wot.wtTable.getColumnHeader(o,i))&&(r=Object(b.innerHeight)(n),(!e&&a<r||e<r)&&(this.wot.wtViewport.oversizedColumnHeaders[i]=r),Array.isArray(s)?null!==s[i]&&void 0!==s[i]&&(this.wot.wtViewport.oversizedColumnHeaders[i]=s[i]):isNaN(s)||(this.wot.wtViewport.oversizedColumnHeaders[i]=s),this.wot.wtViewport.oversizedColumnHeaders[i]<(s[i]||s)&&(this.wot.wtViewport.oversizedColumnHeaders[i]=s[i]||s))}},{key:"renderCells",value:function(t,e,n){for(var r,o,i=0;i<n;i++)o=this.columnFilter.renderedToSource(i),"TH"===(r=0===i?e.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(o)]:r.nextSibling).nodeName&&(r=Y(this.wot.rootDocument,r,e)),Object(b.hasClass)(r,"hide")||(r.className=""),r.removeAttribute("style"),this.wot.wtSettings.settings.cellRenderer(t,o,r);return r}},{key:"adjustColumnWidths",value:function(t){var e=0,n=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,r=this.wot.getSetting("defaultColumnWidth"),o=this.wot.getSetting("rowHeaderWidth");if(n.offsetHeight<n.scrollHeight&&(e=Object(b.getScrollbarWidth)(this.wot.rootDocument)),this.wot.wtViewport.columnsRenderCalculator.refreshStretching(this.wot.wtViewport.getViewportWidth()-e),null!==(o=this.instance.getSetting("onModifyRowHeaderWidth",o))&&void 0!==o)for(var i=0;i<this.rowHeaderCount;i++){var a=Array.isArray(o)?o[i]:o;a=null===a||void 0===a?r:a,this.COLGROUP.childNodes[i].style.width="".concat(a,"px")}for(var s=0;s<t;s++){var l=this.wtTable.getStretchedColumnWidth(this.columnFilter.renderedToSource(s));this.COLGROUP.childNodes[s+this.rowHeaderCount].style.width="".concat(l,"px")}}},{key:"appendToTbody",value:function(t){this.TBODY.appendChild(t),this.wtTable.tbodyChildrenLength+=1}},{key:"getOrCreateTrForRow",value:function(t,e){var n;return t>=this.wtTable.tbodyChildrenLength?(n=this.createRow(),this.appendToTbody(n)):n=0===t?this.TBODY.firstChild:e.nextSibling,n.className&&n.removeAttribute("class"),n}},{key:"createRow",value:function(){for(var t=this.wot.rootDocument,e=t.createElement("TR"),n=0;n<this.rowHeaderCount;n++)e.appendChild(t.createElement("TH"));return e}},{key:"renderRowHeader",value:function(t,e,n){n.className="",n.removeAttribute("style"),this.rowHeaders[e](t,n,e)}},{key:"renderRowHeaders",value:function(t,e){for(var n=e.firstChild,r=0;r<this.rowHeaderCount;r++)n?"TD"===n.nodeName&&(n=z(this.wot.rootDocument,n,e)):(n=this.wot.rootDocument.createElement("TH"),e.appendChild(n)),this.renderRowHeader(t,r,n),n=n.nextSibling}},{key:"adjustAvailableNodes",value:function(){this.adjustColGroups(),this.adjustThead()}},{key:"renderColumnHeaders",value:function(){if(this.columnHeaderCount)for(var t=this.wtTable.getRenderedColumnsCount(),e=0;e<this.columnHeaderCount;e++)for(var n=this.getTrForColumnHeaders(e),r=-1*this.rowHeaderCount;r<t;r++){var o=this.columnFilter.renderedToSource(r);this.renderColumnHeader(e,o,n.childNodes[r+this.rowHeaderCount])}}},{key:"adjustColGroups",value:function(){for(var t=this.wtTable.getRenderedColumnsCount();this.wtTable.colgroupChildrenLength<t+this.rowHeaderCount;)this.COLGROUP.appendChild(this.wot.rootDocument.createElement("COL")),this.wtTable.colgroupChildrenLength+=1;for(;this.wtTable.colgroupChildrenLength>t+this.rowHeaderCount;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.wtTable.colgroupChildrenLength-=1;this.rowHeaderCount&&Object(b.addClass)(this.COLGROUP.childNodes[0],"rowHeader")}},{key:"adjustThead",value:function(){var t=this.wtTable.getRenderedColumnsCount(),e=this.THEAD.firstChild;if(this.columnHeaders.length){for(var n=this.wot.rootDocument,r=0,o=this.columnHeaders.length;r<o;r++){for((e=this.THEAD.childNodes[r])||(e=n.createElement("TR"),this.THEAD.appendChild(e)),this.theadChildrenLength=e.childNodes.length;this.theadChildrenLength<t+this.rowHeaderCount;)e.appendChild(n.createElement("TH")),this.theadChildrenLength+=1;for(;this.theadChildrenLength>t+this.rowHeaderCount;)e.removeChild(e.lastChild),this.theadChildrenLength-=1}var i=this.THEAD.childNodes.length;if(i>this.columnHeaders.length)for(var a=this.columnHeaders.length;a<i;a++)this.THEAD.removeChild(this.THEAD.lastChild)}else e&&Object(b.empty)(e)}},{key:"getTrForColumnHeaders",value:function(t){return this.THEAD.childNodes[t]}},{key:"renderColumnHeader",value:function(t,e,n){return n.className="",n.removeAttribute("style"),this.columnHeaders[t](e,n,t)}},{key:"adjustColumns",value:function(t,e){for(var n=this.wot.rootDocument,r=t.childNodes.length;r<e;){var o=n.createElement("TD");t.appendChild(o),r+=1}for(;r>e;)t.removeChild(t.lastChild),r-=1}},{key:"removeRedundantColumns",value:function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength-=1}}])&&V(e.prototype,n),r&&V(e,r),t}();function X(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function K(t){return(K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Q=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wot=e,this.instance=this.wot,this.TABLE=n,this.TBODY=null,this.THEAD=null,this.COLGROUP=null,this.tableOffset=0,this.holderOffset=0,Object(b.removeTextNodes)(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;var o=this.wot.wtSettings.settings.rowHeaderWidth;this.wot.wtSettings.settings.rowHeaderWidth=function(){return r._modifyRowHeaderWidth(o)}}var e,n,r;return e=t,(n=[{key:"fixTableDomTree",value:function(){var t=this.wot.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=t.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=t.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=t.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.wot.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length&&this.THEAD.appendChild(t.createElement("TR"))}},{key:"createSpreader",value:function(t){var e,n=t.parentNode;return n&&1===n.nodeType&&Object(b.hasClass)(n,"wtHolder")||((e=this.wot.rootDocument.createElement("div")).className="wtSpreader",n&&n.insertBefore(e,t),e.appendChild(t)),e.style.position="relative",e}},{key:"createHider",value:function(t){var e,n=t.parentNode;return n&&1===n.nodeType&&Object(b.hasClass)(n,"wtHolder")||((e=this.wot.rootDocument.createElement("div")).className="wtHider",n&&n.insertBefore(e,t),e.appendChild(t)),e}},{key:"createHolder",value:function(t){var e,n=t.parentNode;return n&&1===n.nodeType&&Object(b.hasClass)(n,"wtHolder")||((e=this.wot.rootDocument.createElement("div")).style.position="relative",e.className="wtHolder",n&&n.insertBefore(e,t),this.isWorkingOnClone()||(e.parentNode.className+="ht_master handsontable"),e.appendChild(t)),e}},{key:"alignOverlaysWithTrimmingContainer",value:function(){var t=Object(b.getTrimmingContainer)(this.wtRootElement);if(!this.isWorkingOnClone()){var e=this.wot.rootWindow;if(this.holder.parentNode.style.position="relative",t===e){this.wot.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible")}else{var n=Object(b.getStyle)(t,"height",e),r=this.holder.style,o=t.scrollWidth,i=t.scrollHeight,a=t.getBoundingClientRect(),s=a.width,l=a.height;s=Math.min(s,o),l=Math.min(l,i),r.width="".concat(s,"px"),r.height="auto"===n?"auto":"".concat(l,"px"),r.overflow=""}}}},{key:"isWorkingOnClone",value:function(){return!!this.wot.cloneSource}},{key:"draw",value:function(t){var e=this.wot,n=e.wtOverlays,r=e.wtViewport,o=this.instance.getSetting("totalRows"),i=e.getSetting("rowHeaders").length,a=e.getSetting("columnHeaders").length,s=!1,l=t;if(!this.isWorkingOnClone()&&(this.holderOffset=Object(b.offset)(this.holder),l=r.createRenderCalculators(l),i&&!e.getSetting("fixedColumnsLeft"))){var u=n.leftOverlay.getScrollPosition(),c=this.correctHeaderWidth;this.correctHeaderWidth=u>0,c!==this.correctHeaderWidth&&(l=!1)}if(this.isWorkingOnClone()||(s=n.prepareOverlays()),l)this.isWorkingOnClone()||r.createVisibleCalculators(),n&&n.refresh(!0);else{var h,f,d=e.cloneOverlay;this.isWorkingOnClone()?this.tableOffset=e.cloneSource.wtTable.tableOffset:this.tableOffset=Object(b.offset)(this.TABLE),h=it.isOverlayTypeOf(d,it.CLONE_DEBUG)||it.isOverlayTypeOf(d,it.CLONE_TOP)||it.isOverlayTypeOf(d,it.CLONE_TOP_LEFT_CORNER)?0:it.isOverlayTypeOf(d,it.CLONE_BOTTOM)||it.isOverlayTypeOf(d,it.CLONE_BOTTOM_LEFT_CORNER)?Math.max(o-e.getSetting("fixedRowsBottom"),0):r.rowsRenderCalculator.startRow,f=it.isOverlayTypeOf(d,it.CLONE_DEBUG)||it.isOverlayTypeOf(d,it.CLONE_LEFT)||it.isOverlayTypeOf(d,it.CLONE_TOP_LEFT_CORNER)||it.isOverlayTypeOf(d,it.CLONE_BOTTOM_LEFT_CORNER)?0:r.columnsRenderCalculator.startColumn,this.rowFilter=new y(h,o,a),this.columnFilter=new m(f,e.getSetting("totalColumns"),i),this.alignOverlaysWithTrimmingContainer(),this._doDraw()}return this.refreshSelections(l),this.isWorkingOnClone()||(n.topOverlay.resetFixedPosition(),n.bottomOverlay.clone&&n.bottomOverlay.resetFixedPosition(),n.leftOverlay.resetFixedPosition(),n.topLeftCornerOverlay&&n.topLeftCornerOverlay.resetFixedPosition(),n.bottomLeftCornerOverlay&&n.bottomLeftCornerOverlay.clone&&n.bottomLeftCornerOverlay.resetFixedPosition()),s&&n.syncScrollWithMaster(),e.drawn=!0,this}},{key:"_doDraw",value:function(){new G(this).render()}},{key:"removeClassFromCells",value:function(t){for(var e=this.TABLE.querySelectorAll(".".concat(t)),n=0,r=e.length;n<r;n++)Object(b.removeClass)(e[n],t)}},{key:"refreshSelections",value:function(t){var e=this.wot;if(e.selections){var n=Array.from(e.selections),r=n.length;if(t){for(var o=[],i=0;i<r;i++){for(var a=n[i].settings,s=a.highlightHeaderClassName,l=a.highlightRowClassName,u=a.highlightColumnClassName,c=n[i].classNames,h=c.length,f=0;f<h;f++)o.includes(c[f])||o.push(c[f]);s&&!o.includes(s)&&o.push(s),l&&!o.includes(l)&&o.push(l),u&&!o.includes(u)&&o.push(u)}var d=e.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(d))for(var p=0;p<d.length;p++)o.push(d[p]);for(var g=o.length,m=0;m<g;m++)this.removeClassFromCells(o[m])}for(var v=0;v<r;v++)n[v].draw(e,t)}}},{key:"getCell",value:function(t){var e=t.row,n=t.col,r=this.wot.getSetting("onModifyGetCellCoords",e,n);if(r&&Array.isArray(r)){var o=q(r,2);e=o[0],n=o[1]}if(this.isRowBeforeRenderedRows(e))return-1;if(this.isRowAfterRenderedRows(e))return-2;if(this.isColumnBeforeRenderedColumns(n))return-3;if(this.isColumnAfterRenderedColumns(n))return-4;var i=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)];return i?i.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(n)]:void 0}},{key:"getColumnHeader",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.THEAD.childNodes[e];if(n)return n.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]}},{key:"getRowHeader",value:function(t){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return null;var e=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];return e?e.childNodes[0]:void 0}},{key:"getCoords",value:function(t){var e=t;if("TD"!==e.nodeName&&"TH"!==e.nodeName&&(e=Object(b.closest)(e,["TD","TH"])),null===e)return null;var n=e.parentNode,r=n.parentNode,o=Object(b.index)(n),i=e.cellIndex;if(Object(b.overlayContainsElement)(it.CLONE_TOP_LEFT_CORNER,e,this.wtRootElement)||Object(b.overlayContainsElement)(it.CLONE_TOP,e,this.wtRootElement))"THEAD"===r.nodeName&&(o-=r.childNodes.length);else if(Object(b.overlayContainsElement)(it.CLONE_BOTTOM_LEFT_CORNER,e,this.wtRootElement)||Object(b.overlayContainsElement)(it.CLONE_BOTTOM,e,this.wtRootElement)){o=this.wot.getSetting("totalRows")-r.childNodes.length+o}else o=r===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(o):this.rowFilter.renderedToSource(o);return i=Object(b.overlayContainsElement)(it.CLONE_TOP_LEFT_CORNER,e,this.wtRootElement)||Object(b.overlayContainsElement)(it.CLONE_LEFT,e,this.wtRootElement)||Object(b.overlayContainsElement)(it.CLONE_BOTTOM_LEFT_CORNER,e,this.wtRootElement)||Object(b.overlayContainsElement)(it.CLONE_BOTTOM,e,this.wtRootElement)?this.columnFilter.offsettedTH(i):this.columnFilter.visibleRowHeadedColumnToSourceColumn(i),new f(o,i)}},{key:"getTrForRow",value:function(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]}},{key:"getFirstRenderedRow",value:function(){return this.wot.wtViewport.rowsRenderCalculator.startRow}},{key:"getFirstVisibleRow",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.startRow}},{key:"getFirstRenderedColumn",value:function(){return this.wot.wtViewport.columnsRenderCalculator.startColumn}},{key:"getFirstVisibleColumn",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.startColumn}},{key:"getLastRenderedRow",value:function(){return this.wot.wtViewport.rowsRenderCalculator.endRow}},{key:"getLastVisibleRow",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.endRow}},{key:"getLastRenderedColumn",value:function(){return this.wot.wtViewport.columnsRenderCalculator.endColumn}},{key:"getLastVisibleColumn",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.endColumn}},{key:"isRowBeforeRenderedRows",value:function(t){return this.rowFilter&&this.rowFilter.sourceToRendered(t)<0&&t>=0}},{key:"isRowAfterViewport",value:function(t){return this.rowFilter&&this.rowFilter.sourceToRendered(t)>this.getLastVisibleRow()}},{key:"isRowAfterRenderedRows",value:function(t){return this.rowFilter&&this.rowFilter.sourceToRendered(t)>this.getLastRenderedRow()}},{key:"isColumnBeforeViewport",value:function(t){return this.columnFilter&&this.columnFilter.sourceToRendered(t)<0&&t>=0}},{key:"isColumnBeforeRenderedColumns",value:function(t){return this.columnFilter&&this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)<0&&t>=0}},{key:"isColumnAfterViewport",value:function(t){return this.columnFilter&&this.columnFilter.sourceToRendered(t)>this.getLastVisibleColumn()}},{key:"isColumnAfterRenderedColumns",value:function(t){return this.columnFilter&&this.columnFilter.sourceToRendered(t)>this.getLastRenderedColumn()}},{key:"isLastRowFullyVisible",value:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()}},{key:"isLastColumnFullyVisible",value:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}},{key:"getRenderedColumnsCount",value:function(){var t=this.wot,e=t.getSetting("totalColumns"),n=t.wtViewport.columnsRenderCalculator.count;if(t.isOverlayName(it.CLONE_DEBUG))n=e;else if(t.isOverlayName(it.CLONE_LEFT)||t.isOverlayName(it.CLONE_TOP_LEFT_CORNER)||t.isOverlayName(it.CLONE_BOTTOM_LEFT_CORNER))return Math.min(t.getSetting("fixedColumnsLeft"),e);return n}},{key:"getRenderedRowsCount",value:function(){var t=this.wot,e=t.getSetting("totalRows"),n=t.wtViewport.rowsRenderCalculator.count;return t.isOverlayName(it.CLONE_DEBUG)?n=e:t.isOverlayName(it.CLONE_TOP)||t.isOverlayName(it.CLONE_TOP_LEFT_CORNER)?n=Math.min(t.getSetting("fixedRowsTop"),e):(t.isOverlayName(it.CLONE_BOTTOM)||t.isOverlayName(it.CLONE_BOTTOM_LEFT_CORNER))&&(n=Math.min(t.getSetting("fixedRowsBottom"),e)),n}},{key:"getVisibleRowsCount",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.count}},{key:"allRowsInViewport",value:function(){return this.wot.getSetting("totalRows")===this.getVisibleRowsCount()}},{key:"getRowHeight",value:function(t){var e=this.wot.wtSettings.settings.rowHeight(t),n=this.wot.wtViewport.oversizedRows[t];return void 0!==n&&(e=void 0===e?n:Math.max(e,n)),e}},{key:"getColumnHeaderHeight",value:function(t){var e=this.wot.wtSettings.settings.defaultRowHeight,n=this.wot.wtViewport.oversizedColumnHeaders[t];return void 0!==n&&(e=e?Math.max(e,n):n),e}},{key:"getVisibleColumnsCount",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.count}},{key:"allColumnsInViewport",value:function(){return this.wot.getSetting("totalColumns")===this.getVisibleColumnsCount()}},{key:"getColumnWidth",value:function(t){var e=this.wot.wtSettings.settings.columnWidth;return"function"===typeof e?e=e(t):"object"===K(e)&&(e=e[t]),e||this.wot.wtSettings.settings.defaultColumnWidth}},{key:"getStretchedColumnWidth",value:function(t){var e=this.getColumnWidth(t),n=null===e||void 0===e?this.instance.wtSettings.settings.defaultColumnWidth:e,r=this.wot.wtViewport.columnsRenderCalculator;if(r){var o=r.getStretchedColumnWidth(t,n);o&&(n=o)}return n}},{key:"_modifyRowHeaderWidth",value:function(t){var e=Object(k.isFunction)(t)?t():null;return Array.isArray(e)?(e=X(e))[e.length-1]=this._correctRowHeaderWidth(e[e.length-1]):e=this._correctRowHeaderWidth(e),e}},{key:"_correctRowHeaderWidth",value:function(t){var e=t;return"number"!==typeof t&&(e=this.wot.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(e+=1),e}}])&&$(e.prototype,n),r&&$(e,r),t}();function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var J=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wot=e,this.instance=this.wot,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=new S.a(this.wot),this.eventManager.addEventListener(this.wot.rootWindow,"resize",function(){n.clientHeight=n.getWorkspaceHeight()})}var e,n,r;return e=t,(n=[{key:"getWorkspaceHeight",value:function(){var t=this.wot.rootDocument,e=this.instance.wtOverlays.topOverlay.trimmingContainer;return e===this.wot.rootWindow?t.documentElement.clientHeight:Object(b.outerHeight)(e)>0&&e.clientHeight>0?e.clientHeight:1/0}},{key:"getWorkspaceWidth",value:function(){var t,e,n=this.wot,r=n.rootDocument,o=n.rootWindow,i=this.instance.wtOverlays.leftOverlay.trimmingContainer,a=r.documentElement.offsetWidth,s=n.getSetting("totalColumns"),l=n.getSetting("stretchH");return n.getSetting("preventOverflow")?Object(b.outerWidth)(this.instance.wtTable.wtRootElement):(t=n.getSetting("freezeOverlays")?Math.min(a-this.getWorkspaceOffset().left,a):Math.min(this.getContainerFillWidth(),a-this.getWorkspaceOffset().left,a),i===o&&s>0&&this.sumColumnWidths(0,s-1)>t?r.documentElement.clientWidth:i===o||"scroll"!==(e=Object(b.getStyle)(this.instance.wtOverlays.leftOverlay.trimmingContainer,"overflow",o))&&"hidden"!==e&&"auto"!==e?"none"!==l&&l?t:Math.max(t,Object(b.outerWidth)(this.instance.wtTable.TABLE)):Math.max(t,i.clientWidth))}},{key:"hasVerticalScroll",value:function(){return this.getWorkspaceActualHeight()>this.getWorkspaceHeight()}},{key:"hasHorizontalScroll",value:function(){return this.getWorkspaceActualWidth()>this.getWorkspaceWidth()}},{key:"sumColumnWidths",value:function(t,e){for(var n=this.wot.wtTable,r=0,o=t;o<e;)r+=n.getColumnWidth(o),o+=1;return r}},{key:"getContainerFillWidth",value:function(){if(this.containerWidth)return this.containerWidth;var t=this.instance.wtTable.holder,e=this.wot.rootDocument.createElement("div");e.style.width="100%",e.style.height="1px",t.appendChild(e);var n=e.offsetWidth;return this.containerWidth=n,t.removeChild(e),n}},{key:"getWorkspaceOffset",value:function(){return Object(b.offset)(this.wot.wtTable.TABLE)}},{key:"getWorkspaceActualHeight",value:function(){return Object(b.outerHeight)(this.wot.wtTable.TABLE)}},{key:"getWorkspaceActualWidth",value:function(){var t=this.wot.wtTable;return Object(b.outerWidth)(t.TABLE)||Object(b.outerWidth)(t.TBODY)||Object(b.outerWidth)(t.THEAD)}},{key:"getColumnHeaderHeight",value:function(){return this.instance.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=Object(b.outerHeight)(this.wot.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}},{key:"getViewportHeight",value:function(){var t=this.getWorkspaceHeight();if(t===1/0)return t;var e=this.getColumnHeaderHeight();return e>0&&(t-=e),t}},{key:"getRowHeaderWidth",value:function(){var t=this.instance.getSetting("rowHeaderWidth"),e=this.instance.getSetting("rowHeaders");if(t){this.rowHeaderWidth=0;for(var n=0,r=e.length;n<r;n++)this.rowHeaderWidth+=t[n]||t}if(this.wot.cloneSource)return this.wot.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth))if(e.length){var o=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var i=0,a=e.length;i<a;i++)o?(this.rowHeaderWidth+=Object(b.outerWidth)(o),o=o.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.instance.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}},{key:"getViewportWidth",value:function(){var t=this.getWorkspaceWidth();if(t===1/0)return t;var e=this.getRowHeaderWidth();return e>0?t-e:t}},{key:"createRowsCalculator",value:function(){var t,e,n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.wot,i=o.wtSettings,a=o.wtOverlays,s=o.wtTable,l=o.rootDocument;this.rowHeaderWidth=NaN,t=i.settings.renderAllRows&&!r?1/0:this.getViewportHeight();var u=a.topOverlay.getScrollPosition()-a.topOverlay.getTableParentOffset();u<0&&(u=0);var h=o.getSetting("fixedRowsTop"),f=o.getSetting("fixedRowsBottom"),d=o.getSetting("totalRows");return h&&(u+=n=a.topOverlay.sumCellSizes(0,h),t-=n),f&&a.bottomOverlay.clone&&(t-=n=a.bottomOverlay.sumCellSizes(d-f,d)),e=s.holder.clientHeight===s.holder.offsetHeight?0:Object(b.getScrollbarWidth)(l),new c(t,u,o.getSetting("totalRows"),function(t){return s.getRowHeight(t)},r?null:i.settings.viewportRowCalculatorOverride,r,e)}},{key:"createColumnsCalculator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.wot,n=e.wtSettings,r=e.wtOverlays,o=e.wtTable,i=e.rootDocument,s=this.getViewportWidth(),l=r.leftOverlay.getScrollPosition()-r.leftOverlay.getTableParentOffset();this.columnHeaderHeight=NaN,l<0&&(l=0);var u=e.getSetting("fixedColumnsLeft");if(u){var c=r.leftOverlay.sumCellSizes(0,u);l+=c,s-=c}return o.holder.clientWidth!==o.holder.offsetWidth&&(s-=Object(b.getScrollbarWidth)(i)),new a(s,l,e.getSetting("totalColumns"),function(t){return e.wtTable.getColumnWidth(t)},t?null:n.settings.viewportColumnCalculatorOverride,t,e.getSetting("stretchH"),function(t,n){return e.getSetting("onBeforeStretchingColumnWidth",t,n)})}},{key:"createRenderCalculators",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t){var e=this.createRowsCalculator(!0),n=this.createColumnsCalculator(!0);this.areAllProposedVisibleRowsAlreadyRendered(e)&&this.areAllProposedVisibleColumnsAlreadyRendered(n)||(t=!1)}return t||(this.rowsRenderCalculator=this.createRowsCalculator(),this.columnsRenderCalculator=this.createColumnsCalculator()),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,t}},{key:"createVisibleCalculators",value:function(){this.rowsVisibleCalculator=this.createRowsCalculator(!0),this.columnsVisibleCalculator=this.createColumnsCalculator(!0)}},{key:"areAllProposedVisibleRowsAlreadyRendered",value:function(t){return!!this.rowsVisibleCalculator&&(!(t.startRow<this.rowsRenderCalculator.startRow||t.startRow===this.rowsRenderCalculator.startRow&&t.startRow>0)&&!(t.endRow>this.rowsRenderCalculator.endRow||t.endRow===this.rowsRenderCalculator.endRow&&t.endRow<this.wot.getSetting("totalRows")-1))}},{key:"areAllProposedVisibleColumnsAlreadyRendered",value:function(t){return!!this.columnsVisibleCalculator&&(!(t.startColumn<this.columnsRenderCalculator.startColumn||t.startColumn===this.columnsRenderCalculator.startColumn&&t.startColumn>0)&&!(t.endColumn>this.columnsRenderCalculator.endColumn||t.endColumn===this.columnsRenderCalculator.endColumn&&t.endColumn<this.wot.getSetting("totalColumns")-1))}},{key:"resetHasOversizedColumnHeadersMarked",value:function(){Object(w.objectEach)(this.hasOversizedColumnHeadersMarked,function(t,e,n){n[e]=void 0})}}])&&Z(e.prototype,n),r&&Z(e,r),t}();function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var et=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=[];if(this.guid="wt_".concat(Object(E.randomString)()),this.rootDocument=e.table.ownerDocument,this.rootWindow=this.rootDocument.defaultView,e.cloneSource?(this.cloneSource=e.cloneSource,this.cloneOverlay=e.cloneOverlay,this.wtSettings=e.cloneSource.wtSettings,this.wtTable=new Q(this,e.table,e.wtRootElement),this.wtScroll=new j(this),this.wtViewport=e.cloneSource.wtViewport,this.wtEvent=new A(this),this.selections=this.cloneSource.selections):(this.wtSettings=new B(this,e),this.wtTable=new Q(this,e.table),this.wtScroll=new j(this),this.wtViewport=new J(this),this.wtEvent=new A(this),this.selections=this.getSetting("selections"),this.wtOverlays=new I(this),this.exportSettingsAsClassNames()),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var r=0,o=this.wtTable.THEAD.childNodes[0].childNodes.length;r<o;r++)n.push(this.wtTable.THEAD.childNodes[0].childNodes[r].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(t,e){Object(b.fastInnerText)(e,n[t])}])}this.drawn=!1,this.drawInterrupted=!1}var e,n,r;return e=t,(n=[{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.drawInterrupted=!1,t||Object(b.isVisible)(this.wtTable.TABLE)?this.wtTable.draw(t):this.drawInterrupted=!0,this}},{key:"getCell",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return this.wtTable.getCell(t);var e=this.wtSettings.getSetting("totalRows"),n=this.wtSettings.getSetting("fixedRowsTop"),r=this.wtSettings.getSetting("fixedRowsBottom"),o=this.wtSettings.getSetting("fixedColumnsLeft");if(t.row<n&&t.col<o)return this.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell(t);if(t.row<n)return this.wtOverlays.topOverlay.clone.wtTable.getCell(t);if(t.col<o&&t.row>=e-r){if(this.wtOverlays.bottomLeftCornerOverlay&&this.wtOverlays.bottomLeftCornerOverlay.clone)return this.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell(t)}else{if(t.col<o)return this.wtOverlays.leftOverlay.clone.wtTable.getCell(t);if(t.row<e&&t.row>=e-r&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(t)}return this.wtTable.getCell(t)}},{key:"update",value:function(t,e){return this.wtSettings.update(t,e)}},{key:"scrollViewport",value:function(t,e,n,r,o){return this.wtScroll.scrollViewport(t,e,n,r,o)}},{key:"scrollViewportHorizontally",value:function(t,e,n){return this.wtScroll.scrollViewportHorizontally(t,e,n)}},{key:"scrollViewportVertically",value:function(t,e,n){return this.wtScroll.scrollViewportVertically(t,e,n)}},{key:"getViewport",value:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}},{key:"getOverlayName",value:function(){return this.cloneOverlay?this.cloneOverlay.type:"master"}},{key:"isOverlayName",value:function(t){return!!this.cloneOverlay&&this.cloneOverlay.type===t}},{key:"exportSettingsAsClassNames",value:function(){var t=this,e=[],n=[];Object(w.objectEach)({rowHeaders:["array"],columnHeaders:["array"]},function(r,o){r.indexOf("array")>-1&&t.getSetting(o).length&&n.push("ht".concat(Object(E.toUpperCaseFirst)(o))),e.push("ht".concat(Object(E.toUpperCaseFirst)(o)))}),Object(b.removeClass)(this.wtTable.wtRootElement.parentNode,e),Object(b.addClass)(this.wtTable.wtRootElement.parentNode,n)}},{key:"getSetting",value:function(t,e,n,r,o){return this.wtSettings.getSetting(t,e,n,r,o)}},{key:"hasSetting",value:function(t){return this.wtSettings.has(t)}},{key:"destroy",value:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}}])&&tt(e.prototype,n),r&&tt(e,r),t}();function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e,n){return e&&nt(t.prototype,e),n&&nt(t,n),t}var ot={},it=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(w.defineGetter)(this,"wot",e,{writable:!1});var n=this.wot.wtTable,r=n.TABLE,o=n.hider,i=n.spreader,a=n.holder,s=n.wtRootElement;this.instance=this.wot,this.type="",this.mainTableScrollableElement=null,this.TABLE=r,this.hider=o,this.spreader=i,this.holder=a,this.wtRootElement=s,this.trimmingContainer=Object(b.getTrimmingContainer)(this.hider.parentNode.parentNode),this.areElementSizesAdjusted=!1,this.updateStateOfRendering()}return rt(t,null,[{key:"registerOverlay",value:function(e,n){if(-1===t.CLONE_TYPES.indexOf(e))throw new Error("Unsupported overlay (".concat(e,")."));ot[e]=n}},{key:"createOverlay",value:function(t,e){return new ot[t](e)}},{key:"hasOverlay",value:function(t){return void 0!==ot[t]}},{key:"isOverlayTypeOf",value:function(t,e){return!(!t||!ot[e])&&t instanceof ot[e]}},{key:"CLONE_TOP",get:function(){return"top"}},{key:"CLONE_BOTTOM",get:function(){return"bottom"}},{key:"CLONE_LEFT",get:function(){return"left"}},{key:"CLONE_TOP_LEFT_CORNER",get:function(){return"top_left_corner"}},{key:"CLONE_BOTTOM_LEFT_CORNER",get:function(){return"bottom_left_corner"}},{key:"CLONE_DEBUG",get:function(){return"debug"}},{key:"CLONE_TYPES",get:function(){return[t.CLONE_TOP,t.CLONE_BOTTOM,t.CLONE_LEFT,t.CLONE_TOP_LEFT_CORNER,t.CLONE_BOTTOM_LEFT_CORNER,t.CLONE_DEBUG]}}]),rt(t,[{key:"updateStateOfRendering",value:function(){var t=this.needFullRender;this.needFullRender=this.shouldBeRendered();var e=t!==this.needFullRender;return e&&!this.needFullRender&&this.reset(),e}},{key:"shouldBeRendered",value:function(){return!0}},{key:"updateTrimmingContainer",value:function(){this.trimmingContainer=Object(b.getTrimmingContainer)(this.hider.parentNode.parentNode)}},{key:"updateMainScrollableElement",value:function(){var t=this.wot,e=t.wtTable;"hidden"===t.rootWindow.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")?this.mainTableScrollableElement=this.wot.wtTable.holder:this.mainTableScrollableElement=Object(b.getScrollableElement)(e.TABLE)}},{key:"getRelativeCellPosition",value:function(t,e,n){if(!1!==this.clone.wtTable.holder.contains(t)){var r=this.mainTableScrollableElement===this.wot.rootWindow,o=n<this.wot.getSetting("fixedColumnsLeft"),i=e<this.wot.getSetting("fixedRowsTop"),a=e>=this.wot.getSetting("totalRows")-this.wot.getSetting("fixedRowsBottom"),s={left:this.clone.wtTable.spreader.offsetLeft,top:this.clone.wtTable.spreader.offsetTop},l={left:t.offsetLeft,top:t.offsetTop};return r?this.getRelativeCellPositionWithinWindow(i,o,l,s):this.getRelativeCellPositionWithinHolder(i,a,o,l,s)}Object(O.b)("The provided element is not a child of the ".concat(this.type," overlay"))}},{key:"getRelativeCellPositionWithinWindow",value:function(t,e,n,r){var o=this.wot.wtTable.wtRootElement.getBoundingClientRect(),i=0,a=0;(i=e?o.left<=0?-1*o.left:0:r.left,t)?a=this.clone.wtTable.TABLE.getBoundingClientRect().top-o.top:a=r.top;return{left:n.left+i,top:n.top+a}}},{key:"getRelativeCellPositionWithinHolder",value:function(t,e,n,r,o){var i=this.clone.cloneSource.wtOverlays.leftOverlay.getScrollPosition(),a=this.clone.cloneSource.wtOverlays.topOverlay.getScrollPosition(),s=0,l=0;if(n||(s=i-o.left),e){var u=this.wot.wtTable.wtRootElement.getBoundingClientRect();l=-1*this.clone.wtTable.TABLE.getBoundingClientRect().top+u.top}else t||(l=a-o.top);return{left:r.left-s,top:r.top-l}}},{key:"makeClone",value:function(e){if(-1===t.CLONE_TYPES.indexOf(e))throw new Error('Clone type "'.concat(e,'" is not supported.'));var n=this.wot,r=n.wtTable,o=n.rootDocument,i=n.rootWindow,a=o.createElement("DIV"),s=o.createElement("TABLE");a.className="ht_clone_".concat(e," handsontable"),a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.overflow="hidden",s.className=r.TABLE.className,a.appendChild(s),this.type=e,r.wtRootElement.parentNode.appendChild(a);var l=this.wot.getSetting("preventOverflow");return!0===l||"horizontal"===l&&this.type===t.CLONE_TOP||"vertical"===l&&this.type===t.CLONE_LEFT?this.mainTableScrollableElement=i:"hidden"===i.getComputedStyle(r.wtRootElement.parentNode).getPropertyValue("overflow")?this.mainTableScrollableElement=r.holder:this.mainTableScrollableElement=Object(b.getScrollableElement)(r.TABLE),new et({cloneSource:this.wot,cloneOverlay:this,table:s})}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.shouldBeRendered();this.clone&&(this.needFullRender||e)&&this.clone.draw(t),this.needFullRender=e}},{key:"reset",value:function(){if(this.clone){var t=this.clone.wtTable.holder,e=this.clone.wtTable.hider,n=t.style,r=e.style,o=t.parentNode.style;Object(C.arrayEach)([n,r,o],function(t){t.width="",t.height=""})}}},{key:"destroy",value:function(){new S.a(this.clone).destroy()}}]),t}();function at(t){return(at="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(t,e){return!e||"object"!==at(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ct=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=st(this,lt(e).call(this,t))).clone=n.makeClone(it.CLONE_DEBUG),n.clone.wtTable.holder.style.opacity=.4,n.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000",Object(b.addClass)(n.clone.wtTable.holder.parentNode,"wtDebugVisible"),n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(e,it),e}();it.registerOverlay(it.CLONE_DEBUG,ct);function ht(t){return(ht="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dt(t,e){return!e||"object"!==ht(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=dt(this,pt(e).call(this,t))).clone=n.makeClone(it.CLONE_LEFT),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(e,it),n=e,(r=[{key:"shouldBeRendered",value:function(){return!(!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)}},{key:"resetFixedPosition",value:function(){var t=this.wot.wtTable;if(this.needFullRender&&t.holder.parentNode){var e=this.clone.wtTable.holder.parentNode,n=0,r=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==this.wot.rootWindow||r&&"horizontal"===r)n=this.getScrollPosition(),Object(b.resetCssTransform)(e);else{var o,i,a=t.hider.getBoundingClientRect(),s=Math.ceil(a.left),l=Math.ceil(a.right);i=""===(i=t.hider.style.top)?0:i,n=o=s<0&&l-e.offsetWidth>0?-s:0,o+="px",Object(b.setOverlayPosition)(e,o,i)}this.adjustHeaderBordersPosition(n),this.adjustElementsSize()}}},{key:"setScrollPosition",value:function(t){var e=this.wot.rootWindow,n=!1;return this.mainTableScrollableElement===e&&e.scrollX!==t?(e.scrollTo(t,Object(b.getWindowScrollTop)(e)),n=!0):this.mainTableScrollableElement.scrollLeft!==t&&(this.mainTableScrollableElement.scrollLeft=t,n=!0),n}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollVertically")}},{key:"sumCellSizes",value:function(t,e){for(var n=this.wot.wtSettings.defaultColumnWidth,r=t,o=0;r<e;)o+=this.wot.wtTable.getStretchedColumnWidth(r)||n,r+=1;return o}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),t||(this.areElementSizesAdjusted=!0))}},{key:"adjustRootElementSize",value:function(){var t=this.wot,e=t.wtTable,n=t.rootDocument,r=t.rootWindow,o=Object(b.getScrollbarWidth)(n),i=this.clone.wtTable.holder.parentNode.style,a=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==r||"vertical"===a){var s=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(s-=o),s=Math.min(s,e.wtRootElement.scrollHeight),i.height="".concat(s,"px")}else i.height="";this.clone.wtTable.holder.style.height=i.height;var l=Object(b.outerWidth)(this.clone.wtTable.TABLE);i.width="".concat(0===l?l:l+4,"px")}},{key:"adjustRootChildrenSize",value:function(){var t=Object(b.getScrollbarWidth)(this.wot.rootDocument);this.clone.wtTable.hider.style.height=this.hider.style.height,this.clone.wtTable.holder.style.height=this.clone.wtTable.holder.parentNode.style.height,0===t&&(t=30),this.clone.wtTable.holder.style.width="".concat(parseInt(this.clone.wtTable.holder.parentNode.style.width,10)+t,"px")}},{key:"applyToDOM",value:function(){var t=this.wot.getSetting("totalColumns");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"===typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style.left="".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px");else{if(0!==t)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style.left="0"}this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){"number"===typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px"):this.clone.wtTable.spreader.style.top=""}},{key:"scrollTo",value:function(t,e){var n=this.getTableParentOffset(),r=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,o=0;return e&&r.offsetWidth!==r.clientWidth&&(o=Object(b.getScrollbarWidth)(this.wot.rootDocument)),e?(n+=this.sumCellSizes(0,t+1),n-=this.wot.wtViewport.getViewportWidth()):n+=this.sumCellSizes(this.wot.getSetting("fixedColumnsLeft"),t),n+=o,this.setScrollPosition(n)}},{key:"getTableParentOffset",value:function(){var t=0;return this.wot.getSetting("preventOverflow")||this.trimmingContainer!==this.wot.rootWindow||(t=this.wot.wtTable.holderOffset.left),t}},{key:"getScrollPosition",value:function(){return Object(b.getScrollLeft)(this.mainTableScrollableElement,this.wot.rootWindow)}},{key:"adjustHeaderBordersPosition",value:function(t){var e=this.wot.wtTable.holder.parentNode,n=this.wot.getSetting("rowHeaders"),r=this.wot.getSetting("fixedColumnsLeft");if(this.wot.getSetting("totalRows")?Object(b.removeClass)(e,"emptyRows"):Object(b.addClass)(e,"emptyRows"),r&&!n.length)Object(b.addClass)(e,"innerBorderLeft");else if(!r&&n.length){var o=Object(b.hasClass)(e,"innerBorderLeft");t?Object(b.addClass)(e,"innerBorderLeft"):Object(b.removeClass)(e,"innerBorderLeft"),(!o&&t||o&&!t)&&this.wot.wtOverlays.adjustElementsSize()}}}])&&ft(n.prototype,r),o&&ft(n,o),e}();it.registerOverlay(it.CLONE_LEFT,mt);function vt(t){return(vt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bt(t,e){return!e||"object"!==vt(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ct(t,e){return(Ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ot=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=bt(this,wt(e).call(this,t))).clone=n.makeClone(it.CLONE_TOP),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ct(t,e)}(e,it),n=e,(r=[{key:"shouldBeRendered",value:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length)}},{key:"resetFixedPosition",value:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=0,n=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==this.wot.rootWindow||n&&"vertical"===n)e=this.getScrollPosition(),Object(b.resetCssTransform)(t);else{var r,o,i=this.wot.wtTable.hider.getBoundingClientRect(),a=Math.ceil(i.top),s=Math.ceil(i.bottom);r=""===(r=this.wot.wtTable.hider.style.left)?0:r,e=o=a<0&&s-t.offsetHeight>0?-a:0,o+="px",Object(b.setOverlayPosition)(t,r,o)}this.adjustHeaderBordersPosition(e),this.adjustElementsSize()}}},{key:"setScrollPosition",value:function(t){var e=this.wot.rootWindow,n=!1;return this.mainTableScrollableElement===e&&e.scrollY!==t?(e.scrollTo(Object(b.getWindowScrollLeft)(e),t),n=!0):this.mainTableScrollableElement.scrollTop!==t&&(this.mainTableScrollableElement.scrollTop=t,n=!0),n}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(t,e){for(var n=this.wot.wtSettings.settings.defaultRowHeight,r=t,o=0;r<e;){var i=this.wot.wtTable.getRowHeight(r);o+=void 0===i?n:i,r+=1}return o}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),t||(this.areElementSizesAdjusted=!0))}},{key:"adjustRootElementSize",value:function(){var t=this.wot,e=t.wtTable,n=t.rootDocument,r=t.rootWindow,o=Object(b.getScrollbarWidth)(n),i=this.clone.wtTable.holder.parentNode.style,a=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==r||"horizontal"===a){var s=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(s-=o),s=Math.min(s,e.wtRootElement.scrollWidth),i.width="".concat(s,"px")}else i.width="";this.clone.wtTable.holder.style.width=i.width;var l=Object(b.outerHeight)(this.clone.wtTable.TABLE);i.height="".concat(0===l?l:l+4,"px")}},{key:"adjustRootChildrenSize",value:function(){var t=Object(b.getScrollbarWidth)(this.wot.rootDocument);this.clone.wtTable.hider.style.width=this.hider.style.width,this.clone.wtTable.holder.style.width=this.clone.wtTable.holder.parentNode.style.width,0===t&&(t=30),this.clone.wtTable.holder.style.height="".concat(parseInt(this.clone.wtTable.holder.parentNode.style.height,10)+t,"px")}},{key:"applyToDOM",value:function(){var t=this.wot.getSetting("totalRows");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"===typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px");else{if(0!==t)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){"number"===typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.left="".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px"):this.clone.wtTable.spreader.style.left=""}},{key:"scrollTo",value:function(t,e){var n=this.wot,r=(n.cloneSource?n.cloneSource:n).wtTable.holder,o=this.getTableParentOffset(),i=0;if(e&&r.offsetHeight!==r.clientHeight&&(i=Object(b.getScrollbarWidth)(n.rootDocument)),e){var a=n.getSetting("fixedRowsBottom"),s=n.getSetting("totalRows");o+=this.sumCellSizes(0,t+1),o-=n.wtViewport.getViewportHeight()-this.sumCellSizes(s-a,s),o+=1}else o+=this.sumCellSizes(n.getSetting("fixedRowsTop"),t);return o+=i,this.setScrollPosition(o)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===this.wot.rootWindow?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return Object(b.getScrollTop)(this.mainTableScrollableElement,this.wot.rootWindow)}},{key:"redrawSelectionBorders",value:function(t){if(t&&t.cellRange){var e=t.getBorder(this.wot),n=t.getCorners();e.disappear(),e.appear(n)}}},{key:"redrawAllSelectionsBorders",value:function(){var t=this,e=this.wot.selections;this.redrawSelectionBorders(e.getCell()),Object(C.arrayEach)(e.getAreas(),function(e){t.redrawSelectionBorders(e)}),this.redrawSelectionBorders(e.getFill()),this.wot.wtTable.wot.wtOverlays.leftOverlay.refresh()}},{key:"adjustHeaderBordersPosition",value:function(t){var e=this.wot.wtTable.holder.parentNode;if(this.wot.getSetting("totalColumns")?Object(b.removeClass)(e,"emptyColumns"):Object(b.addClass)(e,"emptyColumns"),0===this.wot.getSetting("fixedRowsTop")&&this.wot.getSetting("columnHeaders").length>0){var n=Object(b.hasClass)(e,"innerBorderTop");t||0===this.wot.getSetting("totalRows")?Object(b.addClass)(e,"innerBorderTop"):Object(b.removeClass)(e,"innerBorderTop"),(!n&&t||n&&!t)&&(this.wot.wtOverlays.adjustElementsSize(),this.redrawAllSelectionsBorders())}if(0===this.wot.getSetting("rowHeaders").length){var r=this.clone.wtTable.THEAD.querySelectorAll("th:nth-of-type(2)");if(r)for(var o=0;o<r.length;o++)r[o].style["border-left-width"]=0}}}])&&yt(n.prototype,r),o&&yt(n,o),e}();it.registerOverlay(it.CLONE_TOP,Ot);function St(t){return(St="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kt(t,e){return!e||"object"!==St(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rt(t,e){return(Rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=kt(this,Tt(e).call(this,t))).clone=n.makeClone(it.CLONE_TOP_LEFT_CORNER),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rt(t,e)}(e,it),n=e,(r=[{key:"shouldBeRendered",value:function(){var t=this.wot;return!(!t.getSetting("fixedRowsTop")&&!t.getSetting("columnHeaders").length||!t.getSetting("fixedColumnsLeft")&&!t.getSetting("rowHeaders").length)}},{key:"resetFixedPosition",value:function(){if(this.updateTrimmingContainer(),this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=Object(b.outerHeight)(this.clone.wtTable.TABLE),n=Object(b.outerWidth)(this.clone.wtTable.TABLE),r=this.wot.getSetting("preventOverflow");if(this.trimmingContainer===this.wot.rootWindow){var o=this.wot.wtTable.hider.getBoundingClientRect(),i=Math.ceil(o.top),a=Math.ceil(o.left),s=Math.ceil(o.bottom),l=Math.ceil(o.right),u="0",c="0";r&&"vertical"!==r||a<0&&l-t.offsetWidth>0&&(u="".concat(-a,"px")),r&&"horizontal"!==r||i<0&&s-t.offsetHeight>0&&(c="".concat(-i,"px")),Object(b.setOverlayPosition)(t,u,c)}else Object(b.resetCssTransform)(t);t.style.height="".concat(0===e?e:e+4,"px"),t.style.width="".concat(0===n?n:n+4,"px")}}}])&&Et(n.prototype,r),o&&Et(n,o),e}();it.registerOverlay(it.CLONE_TOP_LEFT_CORNER,xt);function Mt(t){return(Mt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nt(t,e){return!e||"object"!==Mt(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var It=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Nt(this,_t(e).call(this,t))).clone=n.makeClone(it.CLONE_BOTTOM),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(e,it),n=e,(r=[{key:"repositionOverlay",value:function(){var t=this.wot,e=t.wtTable,n=t.rootDocument,r=this.clone.wtTable.holder.parentNode,o=Object(b.getScrollbarWidth)(n);e.holder.clientHeight===e.holder.offsetHeight&&(o=0),r.style.top="",r.style.bottom="".concat(o,"px")}},{key:"shouldBeRendered",value:function(){return!!this.wot.getSetting("fixedRowsBottom")}},{key:"resetFixedPosition",value:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=0;if(t.style.top="",this.wot.wtOverlays.leftOverlay.trimmingContainer===this.wot.rootWindow){var n,r,o=this.wot,i=o.rootDocument,a=o.wtTable,s=a.hider.getBoundingClientRect(),l=Math.ceil(s.bottom),u=i.body.offsetHeight;n=""===(n=a.hider.style.left)?0:n,e=r=l>u?l-u:0,r+="px",t.style.top="",t.style.left=n,t.style.bottom=r}else e=this.getScrollPosition(),Object(b.resetCssTransform)(t),this.repositionOverlay();this.adjustHeaderBordersPosition(e)}}},{key:"setScrollPosition",value:function(t){var e=this.wot.rootWindow;this.mainTableScrollableElement===e?e.scrollTo(Object(b.getWindowScrollLeft)(e),t):this.mainTableScrollableElement.scrollTop=t}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollVertically")}},{key:"sumCellSizes",value:function(t,e){for(var n=this.wot,r=n.wtTable,o=n.wtSettings.settings.defaultRowHeight,i=t,a=0;i<e;){var s=r.getRowHeight(i);a+=void 0===s?o:s,i+=1}return a}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),t||(this.areElementSizesAdjusted=!0))}},{key:"adjustRootElementSize",value:function(){var t=this.wot,e=t.wtTable,n=t.wtViewport,r=t.rootWindow,o=Object(b.getScrollbarWidth)(this.wot.rootDocument),i=this.clone.wtTable.holder.parentNode.style,a=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==r||"horizontal"===a){var s=n.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(s-=o),s=Math.min(s,e.wtRootElement.scrollWidth),i.width="".concat(s,"px")}else i.width="";this.clone.wtTable.holder.style.width=i.width;var l=Object(b.outerHeight)(this.clone.wtTable.TABLE);i.height="".concat(l,"px")}},{key:"adjustRootChildrenSize",value:function(){var t=Object(b.getScrollbarWidth)(this.wot.rootDocument);this.clone.wtTable.hider.style.width=this.hider.style.width,this.clone.wtTable.holder.style.width=this.clone.wtTable.holder.parentNode.style.width,0===t&&(t=30),this.clone.wtTable.holder.style.height="".concat(parseInt(this.clone.wtTable.holder.parentNode.style.height,10)+t,"px")}},{key:"applyToDOM",value:function(){var t=this.wot.getSetting("totalRows");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"===typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top="".concat(this.wot.wtViewport.rowsRenderCalculator.startPosition,"px");else{if(0!==t)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){"number"===typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.left="".concat(this.wot.wtViewport.columnsRenderCalculator.startPosition,"px"):this.clone.wtTable.spreader.style.left=""}},{key:"scrollTo",value:function(t,e){var n=this.getTableParentOffset(),r=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,o=0;e&&r.offsetHeight!==r.clientHeight&&(o=Object(b.getScrollbarWidth)(this.wot.rootDocument)),e?(n+=this.sumCellSizes(0,t+1),n-=this.wot.wtViewport.getViewportHeight(),n+=1):n+=this.sumCellSizes(this.wot.getSetting("fixedRowsBottom"),t),n+=o,this.setScrollPosition(n)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===this.wot.rootWindow?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return Object(b.getScrollTop)(this.mainTableScrollableElement,this.wot.rootWindow)}},{key:"adjustHeaderBordersPosition",value:function(t){if(0===this.wot.getSetting("fixedRowsBottom")&&this.wot.getSetting("columnHeaders").length>0){var e=this.wot.wtTable.holder.parentNode,n=Object(b.hasClass)(e,"innerBorderTop");t?Object(b.addClass)(e,"innerBorderTop"):Object(b.removeClass)(e,"innerBorderTop"),(!n&&t||n&&!t)&&this.wot.wtOverlays.adjustElementsSize()}if(0===this.wot.getSetting("rowHeaders").length){var r=this.clone.wtTable.THEAD.querySelector("th:nth-of-type(2)");r&&(r.style["border-left-width"]=0)}}}])&&At(n.prototype,r),o&&At(n,o),e}();it.registerOverlay(it.CLONE_BOTTOM,It);function Dt(t){return(Dt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jt(t,e){return!e||"object"!==Dt(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ht(t){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bt(t,e){return(Bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ft=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=jt(this,Ht(e).call(this,t))).clone=n.makeClone(it.CLONE_BOTTOM_LEFT_CORNER),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bt(t,e)}(e,it),n=e,(r=[{key:"shouldBeRendered",value:function(){var t=this.wot;return!(!t.getSetting("fixedRowsBottom")||!t.getSetting("fixedColumnsLeft")&&!t.getSetting("rowHeaders").length)}},{key:"repositionOverlay",value:function(){var t=this.wot,e=t.wtTable,n=t.rootDocument,r=this.clone.wtTable.holder.parentNode,o=Object(b.getScrollbarWidth)(n);e.holder.clientHeight===e.holder.offsetHeight&&(o=0),r.style.top="",r.style.bottom="".concat(o,"px")}},{key:"resetFixedPosition",value:function(){var t=this.wot;if(this.updateTrimmingContainer(),t.wtTable.holder.parentNode){var e=this.clone.wtTable.holder.parentNode,n=Object(b.outerHeight)(this.clone.wtTable.TABLE),r=Object(b.outerWidth)(this.clone.wtTable.TABLE);if(e.style.top="",this.trimmingContainer===t.rootWindow){var o,i,a=t.wtTable.hider.getBoundingClientRect(),s=Math.ceil(a.bottom),l=Math.ceil(a.left),u=t.rootDocument.body.offsetHeight;o=l<0?-l:0,i=s>u?s-u:0,i+="px",o+="px",e.style.top="",e.style.left=o,e.style.bottom=i}else Object(b.resetCssTransform)(e),this.repositionOverlay();e.style.height="".concat(n,"px"),e.style.width="".concat(r,"px")}}}])&&Lt(n.prototype,r),o&&Lt(n,o),e}();it.registerOverlay(it.CLONE_BOTTOM_LEFT_CORNER,Ft);n(61);var Wt=n(14);function Vt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n&&(this.eventManager=new S.a(e),this.instance=e,this.wot=e,this.settings=n,this.mouseDown=!1,this.main=null,this.top=null,this.left=null,this.bottom=null,this.right=null,this.topStyle=null,this.leftStyle=null,this.bottomStyle=null,this.rightStyle=null,this.cornerDefaultStyle={width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"},this.corner=null,this.cornerStyle=null,this.createBorders(n),this.registerListeners())}var e,n,r;return e=t,(n=[{key:"registerListeners",value:function(){var t=this,e=this.wot.rootDocument.body;this.eventManager.addEventListener(e,"mousedown",function(){return t.onMouseDown()}),this.eventManager.addEventListener(e,"mouseup",function(){return t.onMouseUp()});for(var n=function(e,n){t.eventManager.addEventListener(t.main.childNodes[e],"mouseenter",function(n){return t.onMouseEnter(n,t.main.childNodes[e])})},r=0,o=this.main.childNodes.length;r<o;r++)n(r)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseEnter",value:function(t,e){if(this.mouseDown&&this.wot.getSetting("hideBorderOnMouseDownOver")){t.preventDefault(),Object(Wt.stopImmediatePropagation)(t);var n=this,r=this.wot.rootDocument.body,o=e.getBoundingClientRect();e.style.display="none",this.eventManager.addEventListener(r,"mousemove",function t(i){var a;((a=i).clientY<Math.floor(o.top)||a.clientY>Math.ceil(o.top+o.height)||a.clientX<Math.floor(o.left)||a.clientX>Math.ceil(o.left+o.width))&&(n.eventManager.removeEventListener(r,"mousemove",t),e.style.display="block")})}}},{key:"createBorders",value:function(t){var e=this.wot.rootDocument;this.main=e.createElement("div");var n=["top","left","bottom","right","corner"],r=this.main.style;r.position="absolute",r.top=0,r.left=0;for(var o=0;o<5;o++){var i=n[o],a=e.createElement("div");a.className="wtBorder ".concat(this.settings.className||""),this.settings[i]&&this.settings[i].hide&&(a.className+=" hidden"),(r=a.style).backgroundColor=this.settings[i]&&this.settings[i].color?this.settings[i].color:t.border.color,r.height=this.settings[i]&&this.settings[i].width?"".concat(this.settings[i].width,"px"):"".concat(t.border.width,"px"),r.width=this.settings[i]&&this.settings[i].width?"".concat(this.settings[i].width,"px"):"".concat(t.border.width,"px"),this.main.appendChild(a)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),Object(R.isMobileBrowser)()&&this.createMultipleSelectorHandles(),this.disappear();var s=this.wot.wtTable,l=s.bordersHolder;l||((l=e.createElement("div")).className="htBorders",s.bordersHolder=l,s.spreader.appendChild(l)),l.appendChild(this.main)}},{key:"createMultipleSelectorHandles",value:function(){var t=this,e=this.wot.rootDocument;this.selectionHandles={topLeft:e.createElement("DIV"),topLeftHitArea:e.createElement("DIV"),bottomRight:e.createElement("DIV"),bottomRightHitArea:e.createElement("DIV")};this.selectionHandles.topLeft.className="topLeftSelectionHandle",this.selectionHandles.topLeftHitArea.className="topLeftSelectionHandle-HitArea",this.selectionHandles.bottomRight.className="bottomRightSelectionHandle",this.selectionHandles.bottomRightHitArea.className="bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={topLeft:this.selectionHandles.topLeft.style,topLeftHitArea:this.selectionHandles.topLeftHitArea.style,bottomRight:this.selectionHandles.bottomRight.style,bottomRightHitArea:this.selectionHandles.bottomRightHitArea.style};var n={position:"absolute",height:"".concat(40,"px"),width:"".concat(40,"px"),"border-radius":"".concat(parseInt(40/1.5,10),"px")};Object(w.objectEach)(n,function(e,n){t.selectionHandles.styles.bottomRightHitArea[n]=e,t.selectionHandles.styles.topLeftHitArea[n]=e});var r={position:"absolute",height:"".concat(10,"px"),width:"".concat(10,"px"),"border-radius":"".concat(parseInt(10/1.5,10),"px"),background:"#F5F5FF",border:"1px solid #4285c8"};Object(w.objectEach)(r,function(e,n){t.selectionHandles.styles.bottomRight[n]=e,t.selectionHandles.styles.topLeft[n]=e}),this.main.appendChild(this.selectionHandles.topLeft),this.main.appendChild(this.selectionHandles.bottomRight),this.main.appendChild(this.selectionHandles.topLeftHitArea),this.main.appendChild(this.selectionHandles.bottomRightHitArea)}},{key:"isPartRange",value:function(t,e){var n=this.wot.selections.createOrGetArea();return!(!n.cellRange||t===n.cellRange.to.row&&e===n.cellRange.to.col)}},{key:"updateMultipleSelectionHandlesPosition",value:function(t,e,n,r,o,i){var a=parseInt(this.selectionHandles.styles.topLeft.width,10),s=parseInt(this.selectionHandles.styles.topLeftHitArea.width,10);this.selectionHandles.styles.topLeft.top="".concat(parseInt(n-a,10),"px"),this.selectionHandles.styles.topLeft.left="".concat(parseInt(r-a,10),"px"),this.selectionHandles.styles.topLeftHitArea.top="".concat(parseInt(n-s/4*3,10),"px"),this.selectionHandles.styles.topLeftHitArea.left="".concat(parseInt(r-s/4*3,10),"px"),this.selectionHandles.styles.bottomRight.top="".concat(parseInt(n+i,10),"px"),this.selectionHandles.styles.bottomRight.left="".concat(parseInt(r+o,10),"px"),this.selectionHandles.styles.bottomRightHitArea.top="".concat(parseInt(n+i-s/4,10),"px"),this.selectionHandles.styles.bottomRightHitArea.left="".concat(parseInt(r+o-s/4,10),"px"),this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(this.selectionHandles.styles.topLeft.display="block",this.selectionHandles.styles.topLeftHitArea.display="block",this.isPartRange(t,e)?(this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"):(this.selectionHandles.styles.bottomRight.display="block",this.selectionHandles.styles.bottomRightHitArea.display="block")):(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.topLeftHitArea.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"),t===this.wot.wtSettings.getSetting("fixedRowsTop")||e===this.wot.wtSettings.getSetting("fixedColumnsLeft")?(this.selectionHandles.styles.topLeft.zIndex="9999",this.selectionHandles.styles.topLeftHitArea.zIndex="9999"):(this.selectionHandles.styles.topLeft.zIndex="",this.selectionHandles.styles.topLeftHitArea.zIndex="")}},{key:"appear",value:function(t){if(!this.disabled){for(var e,n,r,o,i=this.wot,a=i.wtTable,s=i.rootDocument,l=i.rootWindow,u=a.getRenderedRowsCount(),c=0;c<u;c+=1){var h=a.rowFilter.renderedToSource(c);if(h>=t[0]&&h<=t[2]){e=h;break}}for(var d=u-1;d>=0;d-=1){var p=a.rowFilter.renderedToSource(d);if(p>=t[0]&&p<=t[2]){n=p;break}}for(var g=a.getRenderedColumnsCount(),m=0;m<g;m+=1){var v=a.columnFilter.renderedToSource(m);if(v>=t[1]&&v<=t[3]){r=v;break}}for(var y=g-1;y>=0;y-=1){var w=a.columnFilter.renderedToSource(y);if(w>=t[1]&&w<=t[3]){o=w;break}}if(void 0!==e&&void 0!==r){var C=a.getCell(new f(e,r)),O=e!==n||r!==o,S=O?a.getCell(new f(n,o)):C,E=Object(b.offset)(C),k=O?Object(b.offset)(S):E,T=Object(b.offset)(a.TABLE),x=E.top,M=E.left,A=M-T.left-1,N=k.left+Object(b.outerWidth)(S)-M;if(this.isEntireColumnSelected(e,n)){var _=this.getDimensionsFromHeader("columns",r,o,T),P=null;if(_){var I=Vt(_,3);P=I[0],A=I[1],N=I[2]}P&&(C=P)}var D=x-T.top-1,L=k.top+Object(b.outerHeight)(S)-x;if(this.isEntireRowSelected(r,o)){var j=this.getDimensionsFromHeader("rows",e,n,T),H=null;if(j){var B=Vt(j,3);H=B[0],D=B[1],L=B[2]}H&&(C=H)}var F=Object(b.getComputedStyle)(C,l);parseInt(F.borderTopWidth,10)>0&&(D+=1,L=L>0?L-1:0),parseInt(F.borderLeftWidth,10)>0&&(A+=1,N=N>0?N-1:0),this.topStyle.top="".concat(D,"px"),this.topStyle.left="".concat(A,"px"),this.topStyle.width="".concat(N,"px"),this.topStyle.display="block",this.leftStyle.top="".concat(D,"px"),this.leftStyle.left="".concat(A,"px"),this.leftStyle.height="".concat(L,"px"),this.leftStyle.display="block";var W=Math.floor(this.settings.border.width/2);this.bottomStyle.top="".concat(D+L-W,"px"),this.bottomStyle.left="".concat(A,"px"),this.bottomStyle.width="".concat(N,"px"),this.bottomStyle.display="block",this.rightStyle.top="".concat(D,"px"),this.rightStyle.left="".concat(A+N-W,"px"),this.rightStyle.height="".concat(L+1,"px"),this.rightStyle.display="block";var V=this.settings.border.cornerVisible;V="function"===typeof V?V(this.settings.layerLevel):V;var U=this.wot.getSetting("onModifyGetCellCoords",n,o),z=n,Y=o;if(U&&Array.isArray(U)){var G=Vt(U,4);z=G[2],Y=G[3]}if(Object(R.isMobileBrowser)()||!V||this.isPartRange(z,Y))this.cornerStyle.display="none";else{this.cornerStyle.top="".concat(D+L-4,"px"),this.cornerStyle.left="".concat(A+N-4,"px"),this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";var X=Object(b.getTrimmingContainer)(a.TABLE),K=X===l;if(K&&(X=s.documentElement),o===this.wot.getSetting("totalColumns")-1)(K?S.getBoundingClientRect().left:S.offsetLeft)+Object(b.outerWidth)(S)+parseInt(this.cornerDefaultStyle.width,10)/2>=Object(b.innerWidth)(X)&&(this.cornerStyle.left="".concat(Math.floor(A+N-3-parseInt(this.cornerDefaultStyle.width,10)/2),"px"),this.cornerStyle.borderRightWidth=0);if(n===this.wot.getSetting("totalRows")-1)(K?S.getBoundingClientRect().top:S.offsetTop)+Object(b.outerHeight)(S)+parseInt(this.cornerDefaultStyle.height,10)/2>=Object(b.innerHeight)(X)&&(this.cornerStyle.top="".concat(Math.floor(D+L-3-parseInt(this.cornerDefaultStyle.height,10)/2),"px"),this.cornerStyle.borderBottomWidth=0);this.cornerStyle.display="block"}Object(R.isMobileBrowser)()&&this.updateMultipleSelectionHandlesPosition(n,o,D,A,N,L)}else this.disappear()}}},{key:"isEntireColumnSelected",value:function(t,e){return t===this.wot.wtTable.getFirstRenderedRow()&&e===this.wot.wtTable.getLastRenderedRow()}},{key:"isEntireRowSelected",value:function(t,e){return t===this.wot.wtTable.getFirstRenderedColumn()&&e===this.wot.wtTable.getLastRenderedColumn()}},{key:"getDimensionsFromHeader",value:function(t,e,n,r){var o=this.wot.wtTable,i=o.wtRootElement.parentNode,a=null,s=null,l=null,u=null,c=null,h=null,f=null,d=null;switch(t){case"rows":a=function(){return o.getRowHeader.apply(o,arguments)},s=function(){return b.outerHeight.apply(void 0,arguments)},l="ht__selection--rows",h="top";break;case"columns":a=function(){return o.getColumnHeader.apply(o,arguments)},s=function(){return b.outerWidth.apply(void 0,arguments)},l="ht__selection--columns",h="left"}if(i.className.includes(l)){var p=this.wot.getSetting("columnHeaders").length;if(f=a(e,p-1),d=a(n,p-1),!f||!d)return!1;var g=Object(b.offset)(f),m=Object(b.offset)(d);return f&&d&&(u=g[h]-r[h]-1,c=m[h]+s(d)-g[h]),[f,u,c]}return!1}},{key:"changeBorderStyle",value:function(t,e){var n=this[t].style,r=e[t];!r||r.hide?Object(b.addClass)(this[t],"hidden"):(Object(b.hasClass)(this[t],"hidden")&&Object(b.removeClass)(this[t],"hidden"),n.backgroundColor=r.color,"top"!==t&&"bottom"!==t||(n.height="".concat(r.width,"px")),"right"!==t&&"left"!==t||(n.width="".concat(r.width,"px")))}},{key:"changeBorderToDefaultStyle",value:function(t){var e=1,n="#000",r=this[t].style;r.backgroundColor=n,r.width="".concat(e,"px"),r.height="".concat(e,"px")}},{key:"toggleHiddenClass",value:function(t,e){this.changeBorderToDefaultStyle(t),e?Object(b.addClass)(this[t],"hidden"):Object(b.removeClass)(this[t],"hidden")}},{key:"disappear",value:function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none",Object(R.isMobileBrowser)()&&(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none")}}])&&Ut(e.prototype,n),r&&Ut(e,r),t}();n(25);function Yt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Gt(t){return(Gt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Kt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=e,this.cellRange=n||null,this.instanceBorders={},this.classNames=[this.settings.className],this.classNameGenerator=this.linearClassNameGenerator(this.settings.className,this.settings.layerLevel)}var e,n,r;return e=t,(n=[{key:"getBorder",value:function(t){return this.instanceBorders[t.guid]||(this.instanceBorders[t.guid]=new zt(t,this.settings)),this.instanceBorders[t.guid]}},{key:"isEmpty",value:function(){return null===this.cellRange}},{key:"add",value:function(t){return this.isEmpty()?this.cellRange=new p(t):this.cellRange.expand(t),this}},{key:"replace",value:function(t,e){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=e,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=e,!0}return!1}},{key:"clear",value:function(){return this.cellRange=null,this}},{key:"getCorners",value:function(){var t=this.cellRange.getTopLeftCorner(),e=this.cellRange.getBottomRightCorner();return[t.row,t.col,e.row,e.col]}},{key:"addClassAtCoords",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=t.wtTable.getCell(new f(e,n));if("object"===Gt(i)){var a=r;o&&(a=this.classNameGenerator(i),this.classNames.includes(a)||this.classNames.push(a)),Object(b.addClass)(i,a)}return this}},{key:"linearClassNameGenerator",value:function(t,e){return function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(0===e||0===o)return t;var i=o>=0?o:e,a=t,s=0===(i-=1)?t:"".concat(t,"-").concat(i);if(Object(b.hasClass)(r,s)){var l=i+1;a="".concat(t,"-").concat(l)}else a=n(r,i);return a}}},{key:"draw",value:function(t){if(this.isEmpty())this.settings.border&&this.getBorder(t).disappear();else{for(var e=t.wtTable.getRenderedRowsCount(),n=t.wtTable.getRenderedColumnsCount(),r=this.getCorners(),o=Yt(r,4),i=o[0],a=o[1],s=o[2],l=o[3],u=0;u<n;u+=1){var c=t.wtTable.columnFilter.renderedToSource(u);if(c>=a&&c<=l){var h=t.wtTable.getColumnHeader(c);if(h){var f=[];this.settings.highlightHeaderClassName&&f.push(this.settings.highlightHeaderClassName),this.settings.highlightColumnClassName&&f.push(this.settings.highlightColumnClassName),Object(b.addClass)(h,f)}}}for(var d=0;d<e;d+=1){var p=t.wtTable.rowFilter.renderedToSource(d);if(p>=i&&p<=s){var g=t.wtTable.getRowHeader(p);if(g){var m=[];this.settings.highlightHeaderClassName&&m.push(this.settings.highlightHeaderClassName),this.settings.highlightRowClassName&&m.push(this.settings.highlightRowClassName),Object(b.addClass)(g,m)}}for(var v=0;v<n;v+=1){var y=t.wtTable.columnFilter.renderedToSource(v);p>=i&&p<=s&&y>=a&&y<=l?this.settings.className&&this.addClassAtCoords(t,p,y,this.settings.className,this.settings.markIntersections):p>=i&&p<=s?this.settings.highlightRowClassName&&this.addClassAtCoords(t,p,y,this.settings.highlightRowClassName):y>=a&&y<=l&&this.settings.highlightColumnClassName&&this.addClassAtCoords(t,p,y,this.settings.highlightColumnClassName);var w=t.getSetting("onAfterDrawSelection",p,y,r,this.settings.layerLevel);"string"===typeof w&&this.addClassAtCoords(t,p,y,w)}}t.getSetting("onBeforeDrawBorders",r,this.settings.className),this.settings.border&&this.getBorder(t).appear(r)}}}])&&Xt(e.prototype,n),r&&Xt(e,r),t}();n.d(e,"d",function(){return a}),n.d(e,"a",function(){return f}),n.d(e,"b",function(){return p}),n.d(e,"e",function(){return et}),n.d(e,"c",function(){return Kt})},function(t,e,n){var r=n(218),o=Object.prototype;r!==o.toString&&n(70)(o,"toString",r,{unsafe:!0})},function(t,e,n){"use strict";var r=n(69),o=n(101),i=n(103),a=n(86),s=n(139),l=a.set,u=a.getterFor("Array Iterator");t.exports=s(Array,"Array",function(t,e){l(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){"use strict";var r=n(141),o=n(86),i=n(139),a=o.set,s=o.getterFor("String Iterator");i(String,"String",function(t){a(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o,!0),e.index+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(176),o=n(7),i=n(44),a=n(66),s=n(45),l=s("iterator"),u=s("toStringTag"),c=o.values;for(var h in r){var f=i[h],d=f&&f.prototype;if(d){if(d[l]!==c)try{a(d,l,c)}catch(g){d[l]=c}if(d[u]||a(d,u,h),r[h])for(var p in o)if(d[p]!==o[p])try{a(d,p,o[p])}catch(g){d[p]=o[p]}}}},function(t,e,n){"use strict";var r=n(44),o=n(55),i=n(57),a=n(111),s=n(28),l=n(70),u=n(96),c=n(38),h=n(100),f=n(117),d=n(113),p=n(45),g=n(177),m=n(178),v=n(219),y=n(118),b=n(52),w=n(49),C=n(69),O=n(99),S=n(98),E=n(102),k=n(159),T=n(90),R=n(58),x=n(97),M=n(66),A=n(91),N=n(112)("hidden"),_=n(86),P=_.set,I=_.getterFor("Symbol"),D=T.f,L=R.f,j=k.f,H=r.Symbol,B=r.JSON,F=B&&B.stringify,W=p("toPrimitive"),V=x.f,U=h("symbol-registry"),z=h("symbols"),Y=h("op-symbols"),G=h("wks"),X=Object.prototype,K=r.QObject,q=n(165),$=!K||!K.prototype||!K.prototype.findChild,Q=i&&c(function(){return 7!=E(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=D(X,e);r&&delete X[e],L(t,e,n),r&&t!==X&&L(X,e,r)}:L,Z=function(t,e){var n=z[t]=E(H.prototype);return P(n,{type:"Symbol",tag:t,description:e}),i||(n.description=e),n},J=q&&"symbol"==typeof H.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof H},tt=function(t,e,n){return t===X&&tt(Y,e,n),b(t),e=O(e,!0),b(n),o(z,e)?(n.enumerable?(o(t,N)&&t[N][e]&&(t[N][e]=!1),n=E(n,{enumerable:S(0,!1)})):(o(t,N)||L(t,N,S(1,{})),t[N][e]=!0),Q(t,e,n)):L(t,e,n)},et=function(t,e){b(t);for(var n,r=v(e=C(e)),o=0,i=r.length;i>o;)tt(t,n=r[o++],e[n]);return t},nt=function(t){var e=V.call(this,t=O(t,!0));return!(this===X&&o(z,t)&&!o(Y,t))&&(!(e||!o(this,t)||!o(z,t)||o(this,N)&&this[N][t])||e)},rt=function(t,e){if(t=C(t),e=O(e,!0),t!==X||!o(z,e)||o(Y,e)){var n=D(t,e);return!n||!o(z,e)||o(t,N)&&t[N][e]||(n.enumerable=!0),n}},ot=function(t){for(var e,n=j(C(t)),r=[],i=0;n.length>i;)o(z,e=n[i++])||o(u,e)||r.push(e);return r},it=function(t){for(var e,n=t===X,r=j(n?Y:C(t)),i=[],a=0;r.length>a;)!o(z,e=r[a++])||n&&!o(X,e)||i.push(z[e]);return i};q||(l((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var t=void 0===arguments[0]?void 0:String(arguments[0]),e=d(t);return i&&$&&Q(X,e,{configurable:!0,set:function t(n){this===X&&t.call(Y,n),o(this,N)&&o(this[N],e)&&(this[N][e]=!1),Q(this,e,S(1,n))}}),Z(e,t)}).prototype,"toString",function(){return I(this).tag}),x.f=nt,R.f=tt,T.f=rt,n(95).f=k.f=ot,n(114).f=it,i&&(L(H.prototype,"description",{configurable:!0,get:function(){return I(this).description}}),a||l(X,"propertyIsEnumerable",nt,{unsafe:!0})),g.f=function(t){return Z(p(t),t)}),s({global:!0,wrap:!0,forced:!q,sham:!q},{Symbol:H});for(var at=A(G),st=0;at.length>st;)m(at[st++]);s({target:"Symbol",stat:!0,forced:!q},{for:function(t){return o(U,t+="")?U[t]:U[t]=H(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol");for(var e in U)if(U[e]===t)return e},useSetter:function(){$=!0},useSimple:function(){$=!1}}),s({target:"Object",stat:!0,forced:!q,sham:!i},{create:function(t,e){return void 0===e?E(t):et(E(t),e)},defineProperty:tt,defineProperties:et,getOwnPropertyDescriptor:rt}),s({target:"Object",stat:!0,forced:!q},{getOwnPropertyNames:ot,getOwnPropertySymbols:it}),B&&s({target:"JSON",stat:!0,forced:!q||c(function(){var t=H();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))})},{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(w(e)||void 0!==t)&&!J(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!J(e))return e}),r[1]=e,F.apply(B,r)}}),H.prototype[W]||M(H.prototype,W,H.prototype.valueOf),f(H,"Symbol"),u[N]=!0},function(t,e,n){"use strict";var r=n(57),o=n(55),i=n(49),a=n(58).f,s=n(164),l=n(44).Symbol;if(r&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var u={},c=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof c?new l(t):void 0===t?l():l(t);return""===t&&(u[e]=!0),e};s(c,l);var h=c.prototype=l.prototype;h.constructor=c;var f=h.toString,d="Symbol(test)"==String(l("test")),p=/^Symbol\((.*)\)[^)]+$/;a(h,"description",{configurable:!0,get:function(){var t=i(this)?this.valueOf():this,e=f.call(t);if(o(u,t))return"";var n=d?e.slice(7,-1):e.replace(p,"$1");return""===n?void 0:n}}),n(28)({global:!0,forced:!0},{Symbol:c})}},function(t,e,n){n(178)("iterator")},function(t,e,n){"use strict";n.r(e),n.d(e,"stringify",function(){return p}),n.d(e,"isDefined",function(){return g}),n.d(e,"isUndefined",function(){return m}),n.d(e,"isEmpty",function(){return v}),n.d(e,"isRegExp",function(){return y}),n.d(e,"_injectProductInfo",function(){return A});n(10),n(11),n(12),n(7),n(36),n(71),n(6),n(26),n(224),n(8),n(184),n(51),n(60),n(9);var r=n(27),o=n.n(r),i=n(34);function a(){var t=f(['\n    The license key for Handsontable is missing. Use your purchased key to activate the product. \n    Alternatively, you can activate Handsontable to use for non-commercial purposes by \n    passing the key: \'non-commercial-and-evaluation\'. \n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in \n    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'],['\n    The license key for Handsontable is missing. Use your purchased key to activate the product.\\x20\n    Alternatively, you can activate Handsontable to use for non-commercial purposes by\\x20\n    passing the key: \'non-commercial-and-evaluation\'.\\x20\n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\\x20\n    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.']);return a=function(){return t},t}function s(){var t=f(["\n    The license key for Handsontable expired on ",", and is not valid for the installed \n    version ",'. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your \n    license key or downgrade to a version released prior to ','. If you need any \n    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.'],["\n    The license key for Handsontable expired on ",", and is not valid for the installed\\x20\n    version ",'. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\\x20\n    license key or downgrade to a version released prior to ','. If you need any\\x20\n    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.']);return s=function(){return t},t}function l(){var t=f(['\n    The license key for Handsontable is invalid. \n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to \n    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.'],['\n    The license key for Handsontable is invalid.\\x20\n    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\\x20\n    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.']);return l=function(){return t},t}function u(){var t=f(["\n    The license key for Handsontable is missing. Use your purchased key to activate the product. \n    Alternatively, you can activate Handsontable to use for non-commercial purposes by \n    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact \n    us at support@handsontable.com."],["\n    The license key for Handsontable is missing. Use your purchased key to activate the product.\\x20\n    Alternatively, you can activate Handsontable to use for non-commercial purposes by\\x20\n    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\\x20\n    us at support@handsontable.com."]);return u=function(){return t},t}function c(){var t=f(["\n    The license key for Handsontable expired on ",", and is not valid for the installed \n    version ",". Renew your license key at handsontable.com or downgrade to a version released prior \n    to ",". If you need any help, contact us at sales@handsontable.com."],["\n    The license key for Handsontable expired on ",", and is not valid for the installed\\x20\n    version ",". Renew your license key at handsontable.com or downgrade to a version released prior\\x20\n    to ",". If you need any help, contact us at sales@handsontable.com."]);return c=function(){return t},t}function h(){var t=f(["\n    The license key for Handsontable is invalid. \n    If you need any help, contact us at support@handsontable.com."],["\n    The license key for Handsontable is invalid.\\x20\n    If you need any help, contact us at support@handsontable.com."]);return h=function(){return t},t}function f(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function d(t){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t){var e;switch(d(t)){case"string":case"number":e="".concat(t);break;case"object":e=null===t?"":t.toString();break;case"undefined":e="";break;default:e=t.toString()}return e}function g(t){return"undefined"!==typeof t}function m(t){return"undefined"===typeof t}function v(t){return null===t||""===t||m(t)}function y(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var b="length",w=function(t){return parseInt(t,16)},C=function(t){return parseInt(t,10)},O=function(t,e,n){return t.substr(e,n)},S=function(t){return t.codePointAt(0)-65},E=function(t){return"".concat(t).replace(/\-/g,"")},k=function(t){return w(O(E(t),w("12"),S("F")))/(w(O(E(t),S("B"),~~![][b]))||9)},T=function(){return"undefined"!==typeof location&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host)},R=!1,x={invalid:function(){return Object(i.a)(h())},expired:function(t){var e=t.keyValidityDate,n=t.hotVersion;return Object(i.a)(c(),e,n,e)},missing:function(){return Object(i.a)(u())},non_commercial:function(){return""}},M={invalid:function(){return Object(i.a)(l())},expired:function(t){var e=t.keyValidityDate,n=t.hotVersion;return Object(i.a)(s(),e,n,e)},missing:function(){return Object(i.a)(a())},non_commercial:function(){return""}};function A(t,e){var n,r=!v(t),i="string"===typeof t&&"non-commercial-and-evaluation"===t.toLowerCase(),a="invalid",s="invalid",l=function(t){var e=[][b],n=e;if(t[b]!==S("Z"))return!1;for(var r="",o="B<H4P+".split(""),i=S(o.shift());i;i=S(o.shift()||"A"))--i<""[b]?n|=(C("".concat(C(w(r)+(w(O(t,Math.abs(i),2))+[]).padStart(2,"0"))))%97||2)>>1:r=O(t,i,i?1===o[b]?9:8:6);return n===e}(t=E(t||""));if(r||i||l)if(l){var u=o()("11/06/2019","DD/MM/YYYY"),c=Math.floor(u.toDate().getTime()/864e5),h=k(t);if(n=o()(864e5*(h+1),"x").format("MMMM DD, YYYY"),c>h){var f=o()().diff(u,"days");a=f<=1?"valid":"expired",s=f<=15?"valid":"expired"}else a="valid",s="valid"}else i?(a="non_commercial",s="valid"):(a="invalid",s="invalid");else a="missing",s="missing";(T()&&(a="valid",s="valid"),R||"valid"===a)||(x[a]({keyValidityDate:n,hotVersion:"7.1.0"})&&console["non_commercial"===a?"info":"warn"](x[a]({keyValidityDate:n,hotVersion:"7.1.0"})),R=!0);if("valid"!==s&&e.parentNode&&M[s]({keyValidityDate:n,hotVersion:"7.1.0"})){var d=document.createElement("div");d.id="hot-display-license-info",d.innerHTML=M[s]({keyValidityDate:n,hotVersion:"7.1.0"}),e.parentNode.insertBefore(d,e.nextSibling)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"stopImmediatePropagation",function(){return o}),n.d(e,"isImmediatePropagationStopped",function(){return i}),n.d(e,"stopPropagation",function(){return a}),n.d(e,"pageX",function(){return s}),n.d(e,"pageY",function(){return l}),n.d(e,"isRightClick",function(){return u}),n.d(e,"isLeftClick",function(){return c});var r=n(0);function o(t){t.isImmediatePropagationEnabled=!1,t.cancelBubble=!0}function i(t){return!1===t.isImmediatePropagationEnabled}function a(t){"function"===typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function s(t){if(t.pageX)return t.pageX;var e=t.target.ownerDocument.defaultView;return t.clientX+Object(r.getWindowScrollLeft)(e)}function l(t){if(t.pageY)return t.pageY;var e=t.target.ownerDocument.defaultView;return t.clientY+Object(r.getWindowScrollTop)(e)}function u(t){return 2===t.button}function c(t){return 0===t.button}},function(t,e,n){"use strict";n.d(e,"d",function(){return s}),n.d(e,"a",function(){return l}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return c});n(7),n(72),n(6),n(8),n(32),n(9);var r=n(16),o=n(2),i=n(37),a=new WeakMap;function s(t,e){var n=Object(i.toUpperCaseFirst)(t);r.a.getSingleton().add("construct",function(){a.has(this)||a.set(this,{});var t=a.get(this);t[n]||(t[n]=new e(this))}),r.a.getSingleton().add("afterDestroy",function(){if(a.has(this)){var t=a.get(this);Object(o.objectEach)(t,function(t){return t.destroy()}),a.delete(this)}})}function l(t,e){if("string"!==typeof e)throw Error('Only strings can be passed as "plugin" parameter');var n=Object(i.toUpperCaseFirst)(e);if(a.has(t)&&a.get(t)[n])return a.get(t)[n]}function u(t){return a.has(t)?Object.keys(a.get(t)):[]}function c(t,e){var n=null;return a.has(t)&&Object(o.objectEach)(a.get(t),function(t,r){t===e&&(n=r)}),n}},function(t,e,n){"use strict";n(22),n(43);var r=n(1),o=n(2);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var s=["afterCellMetaReset","afterChange","afterChangesObserved","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","afterRender","beforeRenderer","afterRenderer","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeRender","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyCol","unmodifyCol","unmodifyRow","modifyColHeader","modifyColWidth","modifyRow","modifyRowHeader","modifyRowHeight","modifyData","modifyRowData","modifyGetCellCoords","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnMove","afterColumnMove","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","modifyColumnHeaderHeight","beforeUndo","afterUndo","beforeRedo","afterRedo","modifyRowHeaderWidth","beforeAutofillInsidePopulate","modifyTransformStart","modifyTransformEnd","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","skipLengthCache","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","hiddenRow","hiddenColumn","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions"],l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.globalBucket=this.createEmptyBucket()}return a(t,null,[{key:"getSingleton",value:function(){return u}}]),a(t,[{key:"createEmptyBucket",value:function(){var t=Object.create(null);return Object(r.arrayEach)(s,function(e){return t[e]=[]}),t}},{key:"getBucket",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?(t.pluginHookBucket||(t.pluginHookBucket=this.createEmptyBucket()),t.pluginHookBucket):this.globalBucket}},{key:"add",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(e))Object(r.arrayEach)(e,function(e){return n.add(t,e,o)});else{var i=this.getBucket(o);if("undefined"===typeof i[t]&&(this.register(t),i[t]=[]),e.skip=!1,-1===i[t].indexOf(e)){var a=!1;e.initialHook&&Object(r.arrayEach)(i[t],function(n,r){if(n.initialHook)return i[t][r]=e,a=!0,!1}),a||i[t].push(e)}}return this}},{key:"once",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Array.isArray(e)?Object(r.arrayEach)(e,function(e){return n.once(t,e,o)}):(e.runOnce=!0,this.add(t,e,o))}},{key:"remove",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.getBucket(n);return"undefined"!==typeof r[t]&&r[t].indexOf(e)>=0&&(e.skip=!0,!0)}},{key:"has",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getBucket(e);return!(void 0===n[t]||!n[t].length)}},{key:"run",value:function(t,e,n,r,o,i,a,s){var l=this.globalBucket[e],u=l?l.length:0,c=0;if(u)for(;c<u;)if(l[c]&&!l[c].skip){var h=l[c].call(t,n,r,o,i,a,s);void 0!==h&&(n=h),l[c]&&l[c].runOnce&&this.remove(e,l[c]),c+=1}else c+=1;var f=this.getBucket(t)[e],d=f?f.length:0,p=0;if(d)for(;p<d;)if(f[p]&&!f[p].skip){var g=f[p].call(t,n,r,o,i,a,s);void 0!==g&&(n=g),f[p]&&f[p].runOnce&&this.remove(e,f[p],t),p+=1}else p+=1;return n}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(o.objectEach)(this.getBucket(t),function(t,e,n){return n[e].length=0})}},{key:"register",value:function(t){this.isRegistered(t)||s.push(t)}},{key:"deregister",value:function(t){this.isRegistered(t)&&s.splice(s.indexOf(t),1)}},{key:"isRegistered",value:function(t){return s.indexOf(t)>=0}},{key:"getRegistered",value:function(){return s}}]),t}(),u=new l;e.a=l},function(t,e,n){"use strict";n.r(e),n.d(e,"KEY_CODES",function(){return o}),n.d(e,"isPrintableChar",function(){return i}),n.d(e,"isMetaKey",function(){return a}),n.d(e,"isCtrlKey",function(){return s}),n.d(e,"isCtrlMetaKey",function(){return l}),n.d(e,"isKey",function(){return u});n(41),n(22),n(47),n(60);var r=n(1),o={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL:17,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88};function i(t){return 32===t||t>=48&&t<=57||t>=96&&t<=111||t>=186&&t<=192||t>=219&&t<=222||t>=226||t>=65&&t<=90}function a(t){return-1!==[o.ARROW_DOWN,o.ARROW_UP,o.ARROW_LEFT,o.ARROW_RIGHT,o.HOME,o.END,o.DELETE,o.BACKSPACE,o.F1,o.F2,o.F3,o.F4,o.F5,o.F6,o.F7,o.F8,o.F9,o.F10,o.F11,o.F12,o.TAB,o.PAGE_DOWN,o.PAGE_UP,o.ENTER,o.ESCAPE,o.SHIFT,o.CAPS_LOCK,o.ALT].indexOf(t)}function s(t){var e=[];return navigator.platform.includes("Mac")?e.push(o.COMMAND_LEFT,o.COMMAND_RIGHT,o.COMMAND_FIREFOX):e.push(o.CONTROL),e.includes(t)}function l(t){return[o.CONTROL,o.COMMAND_LEFT,o.COMMAND_RIGHT,o.COMMAND_FIREFOX].includes(t)}function u(t,e){var n=e.split("|"),i=!1;return Object(r.arrayEach)(n,function(e){if(t===o[e])return i=!0,!1}),i}},function(t,e,n){var r=n(67),o=n(116),i=n(168),a=n(38)(function(){o(1)});n(28)({target:"Object",stat:!0,forced:a,sham:!i},{getPrototypeOf:function(t){return o(r(t))}})},function(t,e,n){n(28)({target:"Object",stat:!0},{setPrototypeOf:n(140)})},function(t,e,n){"use strict";n.d(e,"b",function(){return h});n(43);var r=n(0),o=n(2),i=n(35),a=n(14);function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=0,u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}var e,n,r;return e=t,(n=[{key:"addEventListener",value:function(t,e,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=this.context;function s(t){n.call(this,c(a,t))}return"boolean"===typeof o||Object(i.isPassiveEventSupported)()||(o=!1),this.context.eventListeners.push({element:t,event:e,callback:n,callbackProxy:s,options:o}),t.addEventListener(e,s,o),l+=1,function(){r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){for(var r,o=this.context.eventListeners.length;o;)if(o-=1,(r=this.context.eventListeners[o]).event===e&&r.element===t){if(n&&n!==r.callback)continue;this.context.eventListeners.splice(o,1),r.element.removeEventListener(r.event,r.callbackProxy,r.options),l-=1}}},{key:"clearEvents",value:function(){if(this.context)for(var t=this.context.eventListeners.length;t;){t-=1;var e=this.context.eventListeners[t];e&&this.removeEventListener(e.element,e.event,e.callback)}}},{key:"clear",value:function(){this.clearEvents()}},{key:"destroy",value:function(){this.clearEvents(),this.context=null}},{key:"fireEvent",value:function(t,e){var n=t.document,r=t;n||(r=(n=t.ownerDocument?t.ownerDocument:t).defaultView);var o,i={bubbles:!0,cancelable:"mousemove"!==e,view:r,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};n.createEvent?(o=n.createEvent("MouseEvents")).initMouseEvent(e,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget||n.body.parentNode):o=n.createEventObject(),t.dispatchEvent?t.dispatchEvent(o):t.fireEvent("on".concat(e),o)}}])&&s(e.prototype,n),r&&s(e,r),t}();function c(t,e){var n,s,l,c,h;e.isTargetWebComponent=!1,e.realTarget=e.target;var f=e.stopImmediatePropagation;if(e.stopImmediatePropagation=function(){f.apply(this),Object(a.stopImmediatePropagation)(this)},!u.isHotTableEnv)return e;for(h=(e=Object(r.polymerWrap)(e)).path?e.path.length:0;h;){if(h-=1,"HOT-TABLE"===e.path[h].nodeName)n=!0;else if(n&&e.path[h].shadowRoot){c=e.path[h];break}0!==h||c||(c=e.path[h])}return c||(c=e.target),e.isTargetWebComponent=!0,Object(i.isWebComponentSupportedNatively)()?e.realTarget=e.srcElement||e.toElement:(Object(o.hasOwnProperty)(t,"hot")||t.isHotTableEnv||t.wtTable)&&(Object(o.hasOwnProperty)(t,"hot")?s=t.hot?t.hot.view.wt.wtTable.TABLE:null:t.isHotTableEnv?s=t.view.activeWt.wtTable.TABLE.parentNode.parentNode:t.wtTable&&(s=t.wtTable.TABLE.parentNode.parentNode),l=Object(r.closest)(e.target,["HOT-TABLE"],s),e.realTarget=l&&s.querySelector("HOT-TABLE")||e.target),Object.defineProperty(e,"target",{get:function(){return Object(r.polymerWrap)(c)},enumerable:!0,configurable:!0}),e}function h(){return l}e.a=u},function(t,e,n){"use strict";t.exports=n(206)},function(t,e,n){"use strict";var r=n(135)(!1),o=[].indexOf,i=!!o&&1/[1].indexOf(1,-0)<0,a=n(121)("indexOf");n(28)({target:"Array",proto:!0,forced:i||a},{indexOf:function(t){return i?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){var r=n(69),o=n(90).f,i=n(57),a=n(38)(function(){o(1)}),s=!i||a;n(28)({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(t,e){return o(r(t),e)}})},function(t,e,n){var r=n(90),o=n(116),i=n(55),a=n(49),s=n(52);n(28)({target:"Reflect",stat:!0},{get:function t(e,n){var l,u,c=arguments.length<3?e:arguments[2];return s(e)===c?e[n]:(l=r.f(e,n))?i(l,"value")?l.value:void 0===l.get?void 0:l.get.call(c):a(u=o(e))?t(u,n,c):void 0}})},function(t,e,n){"use strict";var r=n(118),o=n(49),i=n(67),a=n(56),s=n(120),l=n(146),u=n(45)("isConcatSpreadable"),c=!n(38)(function(){var t=[];return t[u]=!1,t.concat()[0]!==t}),h=n(106)("concat"),f=function(t){if(!o(t))return!1;var e=t[u];return void 0!==e?!!e:r(t)},d=!c||!h;n(28)({target:"Array",proto:!0,forced:d},{concat:function(t){var e,n,r,o,u,c=i(this),h=l(c,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(u=-1===e?c:arguments[e],f(u)){if(d+(o=a(u.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,d++)n in u&&s(h,d,u[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(h,d++,u)}return h.length=d,h}})},function(t,e,n){"use strict";var r=n(52),o=n(38),i=n(148),a=n(57),s=/./.toString,l=o(function(){return"/a/b"!=s.call({source:"a",flags:"b"})}),u="toString"!=s.name;(l||u)&&n(70)(RegExp.prototype,"toString",function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?i.call(t):void 0)},{unsafe:!0})},function(t,e,n){(function(t){t.exports=function(){"use strict";var e,n;function r(){return e.apply(null,arguments)}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t){return void 0===t}function s(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var n in e)c(e,n)&&(t[n]=e[n]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,r){return xe(t,e,n,r,!0).utc()}function d(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function p(t){if(null==t._isValid){var e=d(t),r=n.call(e.parsedDateParts,function(t){return null!=t}),o=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(o=o&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function g(t){var e=f(NaN);return null!=t?h(d(e),t):d(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var m=r.momentProperties=[];function v(t,e){var n,r,o;if(a(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),a(e._i)||(t._i=e._i),a(e._f)||(t._f=e._f),a(e._l)||(t._l=e._l),a(e._strict)||(t._strict=e._strict),a(e._tzm)||(t._tzm=e._tzm),a(e._isUTC)||(t._isUTC=e._isUTC),a(e._offset)||(t._offset=e._offset),a(e._pf)||(t._pf=d(e)),a(e._locale)||(t._locale=e._locale),m.length>0)for(n=0;n<m.length;n++)r=m[n],a(o=e[r])||(t[r]=o);return t}var y=!1;function b(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function w(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function C(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function O(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=C(e)),n}function S(t,e,n){var r,o=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),a=0;for(r=0;r<o;r++)(n&&t[r]!==e[r]||!n&&O(t[r])!==O(e[r]))&&a++;return a+i}function E(t){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function k(t,e){var n=!0;return h(function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){for(var o,i=[],a=0;a<arguments.length;a++){if(o="","object"===typeof arguments[a]){for(var s in o+="\n["+a+"] ",arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[a];i.push(o)}E(t+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)},e)}var T,R={};function x(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),R[t]||(E(e),R[t]=!0)}function M(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function A(t,e){var n,r=h({},t);for(n in e)c(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},h(r[n],t[n]),h(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)c(t,n)&&!c(e,n)&&i(t[n])&&(r[n]=h({},r[n]));return r}function N(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)c(t,e)&&n.push(e);return n};var _={};function P(t,e){var n=t.toLowerCase();_[n]=_[n+"s"]=_[e]=t}function I(t){return"string"===typeof t?_[t]||_[t.toLowerCase()]:void 0}function D(t){var e,n,r={};for(n in t)c(t,n)&&(e=I(n))&&(r[e]=t[n]);return r}var L={};function j(t,e){L[t]=e}function H(t,e,n){var r=""+Math.abs(t),o=e-r.length,i=t>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},V={};function U(t,e,n,r){var o=r;"string"===typeof r&&(o=function(){return this[r]()}),t&&(V[t]=o),e&&(V[e[0]]=function(){return H(o.apply(this,arguments),e[1],e[2])}),n&&(V[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function z(t,e){return t.isValid()?(e=Y(e,t.localeData()),W[e]=W[e]||function(t){var e,n,r,o=t.match(B);for(e=0,n=o.length;e<n;e++)V[o[e]]?o[e]=V[o[e]]:o[e]=(r=o[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,i="";for(r=0;r<n;r++)i+=M(o[r])?o[r].call(e,t):o[r];return i}}(e),W[e](t)):t.localeData().invalidDate()}function Y(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(F.lastIndex=0;n>=0&&F.test(t);)t=t.replace(F,r),F.lastIndex=0,n-=1;return t}var G=/\d/,X=/\d\d/,K=/\d{3}/,q=/\d{4}/,$=/[+-]?\d{6}/,Q=/\d\d?/,Z=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,tt=/\d{1,3}/,et=/\d{1,4}/,nt=/[+-]?\d{1,6}/,rt=/\d+/,ot=/[+-]?\d+/,it=/Z|[+-]\d\d:?\d\d/gi,at=/Z|[+-]\d\d(?::?\d\d)?/gi,st=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lt={};function ut(t,e,n){lt[t]=M(e)?e:function(t,r){return t&&n?n:e}}function ct(t,e){return c(lt,t)?lt[t](e._strict,e._locale):new RegExp(ht(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,o){return e||n||r||o})))}function ht(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ft={};function dt(t,e){var n,r=e;for("string"===typeof t&&(t=[t]),s(e)&&(r=function(t,n){n[e]=O(t)}),n=0;n<t.length;n++)ft[t[n]]=r}function pt(t,e){dt(t,function(t,n,r,o){r._w=r._w||{},e(t,r._w,r,o)})}function gt(t,e,n){null!=e&&c(ft,t)&&ft[t](e,n._a,n,t)}var mt=0,vt=1,yt=2,bt=3,wt=4,Ct=5,Ot=6,St=7,Et=8;function kt(t){return Tt(t)?366:365}function Tt(t){return t%4===0&&t%100!==0||t%400===0}U("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),P("year","y"),j("year",1),ut("Y",ot),ut("YY",Q,X),ut("YYYY",et,q),ut("YYYYY",nt,$),ut("YYYYYY",nt,$),dt(["YYYYY","YYYYYY"],mt),dt("YYYY",function(t,e){e[mt]=2===t.length?r.parseTwoDigitYear(t):O(t)}),dt("YY",function(t,e){e[mt]=r.parseTwoDigitYear(t)}),dt("Y",function(t,e){e[mt]=parseInt(t,10)}),r.parseTwoDigitYear=function(t){return O(t)+(O(t)>68?1900:2e3)};var Rt,xt=Mt("FullYear",!0);function Mt(t,e){return function(n){return null!=n?(Nt(this,t,n),r.updateOffset(this,e),this):At(this,t)}}function At(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Nt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&Tt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),_t(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function _t(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,r=(e%(n=12)+n)%n;return t+=(e-r)/12,1===r?Tt(t)?29:28:31-r%7%2}Rt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),U("MMMM",0,0,function(t){return this.localeData().months(this,t)}),P("month","M"),j("month",8),ut("M",Q),ut("MM",Q,X),ut("MMM",function(t,e){return e.monthsShortRegex(t)}),ut("MMMM",function(t,e){return e.monthsRegex(t)}),dt(["M","MM"],function(t,e){e[vt]=O(t)-1}),dt(["MMM","MMMM"],function(t,e,n,r){var o=n._locale.monthsParse(t,r,n._strict);null!=o?e[vt]=o:d(n).invalidMonth=t});var Pt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,It="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Dt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Lt(t,e){var n;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=O(e);else if(!s(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),_t(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function jt(t){return null!=t?(Lt(this,t),r.updateOffset(this,!0),this):At(this,"Month")}var Ht=st,Bt=st;function Ft(){function t(t,e){return e.length-t.length}var e,n,r=[],o=[],i=[];for(e=0;e<12;e++)n=f([2e3,e]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(t),o.sort(t),i.sort(t),e=0;e<12;e++)r[e]=ht(r[e]),o[e]=ht(o[e]);for(e=0;e<24;e++)i[e]=ht(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Wt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Vt(t,e,n){var r=7+e-n,o=(7+Wt(t,0,r).getUTCDay()-e)%7;return-o+r-1}function Ut(t,e,n,r,o){var i,a,s=(7+n-r)%7,l=Vt(t,r,o),u=1+7*(e-1)+s+l;return u<=0?a=kt(i=t-1)+u:u>kt(t)?(i=t+1,a=u-kt(t)):(i=t,a=u),{year:i,dayOfYear:a}}function zt(t,e,n){var r,o,i=Vt(t.year(),e,n),a=Math.floor((t.dayOfYear()-i-1)/7)+1;return a<1?(o=t.year()-1,r=a+Yt(o,e,n)):a>Yt(t.year(),e,n)?(r=a-Yt(t.year(),e,n),o=t.year()+1):(o=t.year(),r=a),{week:r,year:o}}function Yt(t,e,n){var r=Vt(t,e,n),o=Vt(t+1,e,n);return(kt(t)-r+o)/7}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),j("week",5),j("isoWeek",5),ut("w",Q),ut("ww",Q,X),ut("W",Q),ut("WW",Q,X),pt(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=O(t)}),U("d",0,"do","day"),U("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),U("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),U("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),ut("d",Q),ut("e",Q),ut("E",Q),ut("dd",function(t,e){return e.weekdaysMinRegex(t)}),ut("ddd",function(t,e){return e.weekdaysShortRegex(t)}),ut("dddd",function(t,e){return e.weekdaysRegex(t)}),pt(["dd","ddd","dddd"],function(t,e,n,r){var o=n._locale.weekdaysParse(t,r,n._strict);null!=o?e.d=o:d(n).invalidWeekday=t}),pt(["d","e","E"],function(t,e,n,r){e[r]=O(t)});var Gt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Kt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qt=st,$t=st,Qt=st;function Zt(){function t(t,e){return e.length-t.length}var e,n,r,o,i,a=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),r=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),i=this.weekdays(n,""),a.push(r),s.push(o),l.push(i),u.push(r),u.push(o),u.push(i);for(a.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=ht(s[e]),l[e]=ht(l[e]),u[e]=ht(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Jt(){return this.hours()%12||12}function te(t,e){U(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ee(t,e){return e._meridiemParse}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Jt),U("k",["kk",2],0,function(){return this.hours()||24}),U("hmm",0,0,function(){return""+Jt.apply(this)+H(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Jt.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),te("a",!0),te("A",!1),P("hour","h"),j("hour",13),ut("a",ee),ut("A",ee),ut("H",Q),ut("h",Q),ut("k",Q),ut("HH",Q,X),ut("hh",Q,X),ut("kk",Q,X),ut("hmm",Z),ut("hmmss",J),ut("Hmm",Z),ut("Hmmss",J),dt(["H","HH"],bt),dt(["k","kk"],function(t,e,n){var r=O(t);e[bt]=24===r?0:r}),dt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),dt(["h","hh"],function(t,e,n){e[bt]=O(t),d(n).bigHour=!0}),dt("hmm",function(t,e,n){var r=t.length-2;e[bt]=O(t.substr(0,r)),e[wt]=O(t.substr(r)),d(n).bigHour=!0}),dt("hmmss",function(t,e,n){var r=t.length-4,o=t.length-2;e[bt]=O(t.substr(0,r)),e[wt]=O(t.substr(r,2)),e[Ct]=O(t.substr(o)),d(n).bigHour=!0}),dt("Hmm",function(t,e,n){var r=t.length-2;e[bt]=O(t.substr(0,r)),e[wt]=O(t.substr(r))}),dt("Hmmss",function(t,e,n){var r=t.length-4,o=t.length-2;e[bt]=O(t.substr(0,r)),e[wt]=O(t.substr(r,2)),e[Ct]=O(t.substr(o))});var ne,re=Mt("Hours",!0),oe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:It,monthsShort:Dt,week:{dow:0,doy:6},weekdays:Gt,weekdaysMin:Kt,weekdaysShort:Xt,meridiemParse:/[ap]\.?m?\.?/i},ie={},ae={};function se(t){return t?t.toLowerCase().replace("_","-"):t}function le(e){var n=null;if(!ie[e]&&"undefined"!==typeof t&&t&&t.exports)try{n=ne._abbr,!function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}(),ue(n)}catch(r){}return ie[e]}function ue(t,e){var n;return t&&(n=a(e)?he(t):ce(t,e))&&(ne=n),ne._abbr}function ce(t,e){if(null!==e){var n=oe;if(e.abbr=t,null!=ie[t])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ie[t]._config;else if(null!=e.parentLocale){if(null==ie[e.parentLocale])return ae[e.parentLocale]||(ae[e.parentLocale]=[]),ae[e.parentLocale].push({name:t,config:e}),null;n=ie[e.parentLocale]._config}return ie[t]=new N(A(n,e)),ae[t]&&ae[t].forEach(function(t){ce(t.name,t.config)}),ue(t),ie[t]}return delete ie[t],null}function he(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ne;if(!o(t)){if(e=le(t))return e;t=[t]}return function(t){for(var e,n,r,o,i=0;i<t.length;){for(o=se(t[i]).split("-"),e=o.length,n=(n=se(t[i+1]))?n.split("-"):null;e>0;){if(r=le(o.slice(0,e).join("-")))return r;if(n&&n.length>=e&&S(o,n,!0)>=e-1)break;e--}i++}return null}(t)}function fe(t){var e,n=t._a;return n&&-2===d(t).overflow&&(e=n[vt]<0||n[vt]>11?vt:n[yt]<1||n[yt]>_t(n[mt],n[vt])?yt:n[bt]<0||n[bt]>24||24===n[bt]&&(0!==n[wt]||0!==n[Ct]||0!==n[Ot])?bt:n[wt]<0||n[wt]>59?wt:n[Ct]<0||n[Ct]>59?Ct:n[Ot]<0||n[Ot]>999?Ot:-1,d(t)._overflowDayOfYear&&(e<mt||e>yt)&&(e=yt),d(t)._overflowWeeks&&-1===e&&(e=St),d(t)._overflowWeekday&&-1===e&&(e=Et),d(t).overflow=e),t}function de(t,e,n){return null!=t?t:null!=e?e:n}function pe(t){var e,n,o,i,a,s=[];if(!t._d){for(o=function(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[yt]&&null==t._a[vt]&&function(t){var e,n,r,o,i,a,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)i=1,a=4,n=de(e.GG,t._a[mt],zt(Me(),1,4).year),r=de(e.W,1),((o=de(e.E,1))<1||o>7)&&(l=!0);else{i=t._locale._week.dow,a=t._locale._week.doy;var u=zt(Me(),i,a);n=de(e.gg,t._a[mt],u.year),r=de(e.w,u.week),null!=e.d?((o=e.d)<0||o>6)&&(l=!0):null!=e.e?(o=e.e+i,(e.e<0||e.e>6)&&(l=!0)):o=i}r<1||r>Yt(n,i,a)?d(t)._overflowWeeks=!0:null!=l?d(t)._overflowWeekday=!0:(s=Ut(n,r,o,i,a),t._a[mt]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=de(t._a[mt],o[mt]),(t._dayOfYear>kt(a)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),n=Wt(a,0,t._dayOfYear),t._a[vt]=n.getUTCMonth(),t._a[yt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=o[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[bt]&&0===t._a[wt]&&0===t._a[Ct]&&0===t._a[Ot]&&(t._nextDay=!0,t._a[bt]=0),t._d=(t._useUTC?Wt:function(t,e,n,r,o,i,a){var s=new Date(t,e,n,r,o,i,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}).apply(null,s),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[bt]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==i&&(d(t).weekdayMismatch=!0)}}var ge=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,me=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ve=/Z|[+-]\d\d(?::?\d\d)?/,ye=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],be=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],we=/^\/?Date\((\-?\d+)/i;function Ce(t){var e,n,r,o,i,a,s=t._i,l=ge.exec(s)||me.exec(s);if(l){for(d(t).iso=!0,e=0,n=ye.length;e<n;e++)if(ye[e][1].exec(l[1])){o=ye[e][0],r=!1!==ye[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,n=be.length;e<n;e++)if(be[e][1].exec(l[3])){i=(l[2]||" ")+be[e][0];break}if(null==i)return void(t._isValid=!1)}if(!r&&null!=i)return void(t._isValid=!1);if(l[4]){if(!ve.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=o+(i||"")+(a||""),Te(t)}else t._isValid=!1}var Oe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Se(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var Ee={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ke(t){var e=Oe.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(e){var n=function(t,e,n,r,o,i){var a=[Se(t),Dt.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&a.push(parseInt(i,10)),a}(e[4],e[3],e[2],e[5],e[6],e[7]);if(!function(t,e,n){if(t){var r=Xt.indexOf(t),o=new Date(e[0],e[1],e[2]).getDay();if(r!==o)return d(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}(e[1],n,t))return;t._a=n,t._tzm=function(t,e,n){if(t)return Ee[t];if(e)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return 60*i+o}(e[8],e[9],e[10]),t._d=Wt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),d(t).rfc2822=!0}else t._isValid=!1}function Te(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],d(t).empty=!0;var e,n,o,i,a,s=""+t._i,l=s.length,u=0;for(o=Y(t._f,t._locale).match(B)||[],e=0;e<o.length;e++)i=o[e],(n=(s.match(ct(i,t))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&d(t).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),u+=n.length),V[i]?(n?d(t).empty=!1:d(t).unusedTokens.push(i),gt(i,n,t)):t._strict&&!n&&d(t).unusedTokens.push(i);d(t).charsLeftOver=l-u,s.length>0&&d(t).unusedInput.push(s),t._a[bt]<=12&&!0===d(t).bigHour&&t._a[bt]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[bt]=function(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}(t._locale,t._a[bt],t._meridiem),pe(t),fe(t)}else ke(t);else Ce(t)}function Re(t){var e=t._i,n=t._f;return t._locale=t._locale||he(t._l),null===e||void 0===n&&""===e?g({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),w(e)?new b(fe(e)):(l(e)?t._d=e:o(n)?function(t){var e,n,r,o,i;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)i=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Te(e),p(e)&&(i+=d(e).charsLeftOver,i+=10*d(e).unusedTokens.length,d(e).score=i,(null==r||i<r)&&(r=i,n=e));h(t,n||e)}(t):n?Te(t):function(t){var e=t._i;a(e)?t._d=new Date(r.now()):l(e)?t._d=new Date(e.valueOf()):"string"===typeof e?function(t){var e=we.exec(t._i);null===e?(Ce(t),!1===t._isValid&&(delete t._isValid,ke(t),!1===t._isValid&&(delete t._isValid,r.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):o(e)?(t._a=u(e.slice(0),function(t){return parseInt(t,10)}),pe(t)):i(e)?function(t){if(!t._d){var e=D(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),pe(t)}}(t):s(e)?t._d=new Date(e):r.createFromInputFallback(t)}(t),p(t)||(t._d=null),t))}function xe(t,e,n,r,a){var s={};return!0!==n&&!1!==n||(r=n,n=void 0),(i(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||o(t)&&0===t.length)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=n,s._i=t,s._f=e,s._strict=r,function(t){var e=new b(fe(Re(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}(s)}function Me(t,e,n,r){return xe(t,e,n,r,!1)}r.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),r.ISO_8601=function(){},r.RFC_2822=function(){};var Ae=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Me.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),Ne=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Me.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()});function _e(t,e){var n,r;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Me();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Pe=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ie(t){var e=D(t),n=e.year||0,r=e.quarter||0,o=e.month||0,i=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Rt.call(Pe,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<Pe.length;++r)if(t[Pe[r]]){if(n)return!1;parseFloat(t[Pe[r]])!==O(t[Pe[r]])&&(n=!0)}return!0}(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=he(),this._bubble()}function De(t){return t instanceof Ie}function Le(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function je(t,e){U(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+H(~~(t/60),2)+e+H(~~t%60,2)})}je("Z",":"),je("ZZ",""),ut("Z",at),ut("ZZ",at),dt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Be(at,t)});var He=/([\+\-]|\d\d)/gi;function Be(t,e){var n=(e||"").match(t);if(null===n)return null;var r=n[n.length-1]||[],o=(r+"").match(He)||["-",0,0],i=60*o[1]+O(o[2]);return 0===i?0:"+"===o[0]?i:-i}function Fe(t,e){var n,o;return e._isUTC?(n=e.clone(),o=(w(t)||l(t)?t.valueOf():Me(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),r.updateOffset(n,!1),n):Me(t).local()}function We(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ve(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ue=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ze=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ye(t,e){var n,r,o,i=t,a=null;return De(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:s(t)?(i={},e?i[e]=t:i.milliseconds=t):(a=Ue.exec(t))?(n="-"===a[1]?-1:1,i={y:0,d:O(a[yt])*n,h:O(a[bt])*n,m:O(a[wt])*n,s:O(a[Ct])*n,ms:O(Le(1e3*a[Ot]))*n}):(a=ze.exec(t))?(n="-"===a[1]?-1:(a[1],1),i={y:Ge(a[2],n),M:Ge(a[3],n),w:Ge(a[4],n),d:Ge(a[5],n),h:Ge(a[6],n),m:Ge(a[7],n),s:Ge(a[8],n)}):null==i?i={}:"object"===typeof i&&("from"in i||"to"in i)&&(o=function(t,e){var n;return t.isValid()&&e.isValid()?(e=Fe(e,t),t.isBefore(e)?n=Xe(t,e):((n=Xe(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Me(i.from),Me(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),r=new Ie(i),De(t)&&c(t,"_locale")&&(r._locale=t._locale),r}function Ge(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Xe(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ke(t,e){return function(n,r){var o;return null===r||isNaN(+r)||(x(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),qe(this,Ye(n="string"===typeof n?+n:n,r),t),this}}function qe(t,e,n,o){var i=e._milliseconds,a=Le(e._days),s=Le(e._months);t.isValid()&&(o=null==o||o,s&&Lt(t,At(t,"Month")+s*n),a&&Nt(t,"Date",At(t,"Date")+a*n),i&&t._d.setTime(t._d.valueOf()+i*n),o&&r.updateOffset(t,a||s))}Ye.fn=Ie.prototype,Ye.invalid=function(){return Ye(NaN)};var $e=Ke(1,"add"),Qe=Ke(-1,"subtract");function Ze(t,e){var n,r,o=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(o,"months");return e-i<0?(n=t.clone().add(o-1,"months"),r=(e-i)/(i-n)):(n=t.clone().add(o+1,"months"),r=(e-i)/(n-i)),-(o+r)||0}function Je(t){var e;return void 0===t?this._locale._abbr:(null!=(e=he(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tn=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function en(){return this._locale}function nn(t,e){U(0,[t,t.length],0,e)}function rn(t,e,n,r,o){var i;return null==t?zt(this,r,o).year:(i=Yt(t,r,o),e>i&&(e=i),function(t,e,n,r,o){var i=Ut(t,e,n,r,o),a=Wt(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,t,e,n,r,o))}U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),nn("gggg","weekYear"),nn("ggggg","weekYear"),nn("GGGG","isoWeekYear"),nn("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),ut("G",ot),ut("g",ot),ut("GG",Q,X),ut("gg",Q,X),ut("GGGG",et,q),ut("gggg",et,q),ut("GGGGG",nt,$),ut("ggggg",nt,$),pt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=O(t)}),pt(["gg","GG"],function(t,e,n,o){e[o]=r.parseTwoDigitYear(t)}),U("Q",0,"Qo","quarter"),P("quarter","Q"),j("quarter",7),ut("Q",G),dt("Q",function(t,e){e[vt]=3*(O(t)-1)}),U("D",["DD",2],"Do","date"),P("date","D"),j("date",9),ut("D",Q),ut("DD",Q,X),ut("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),dt(["D","DD"],yt),dt("Do",function(t,e){e[yt]=O(t.match(Q)[0])});var on=Mt("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),j("dayOfYear",4),ut("DDD",tt),ut("DDDD",K),dt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=O(t)}),U("m",["mm",2],0,"minute"),P("minute","m"),j("minute",14),ut("m",Q),ut("mm",Q,X),dt(["m","mm"],wt);var an=Mt("Minutes",!1);U("s",["ss",2],0,"second"),P("second","s"),j("second",15),ut("s",Q),ut("ss",Q,X),dt(["s","ss"],Ct);var sn,ln=Mt("Seconds",!1);for(U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),j("millisecond",16),ut("S",tt,G),ut("SS",tt,X),ut("SSS",tt,K),sn="SSSS";sn.length<=9;sn+="S")ut(sn,rt);function un(t,e){e[Ot]=O(1e3*("0."+t))}for(sn="S";sn.length<=9;sn+="S")dt(sn,un);var cn=Mt("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var hn=b.prototype;function fn(t){return t}hn.add=$e,hn.calendar=function(t,e){var n=t||Me(),o=Fe(n,this).startOf("day"),i=r.calendarFormat(this,o)||"sameElse",a=e&&(M(e[i])?e[i].call(this,n):e[i]);return this.format(a||this.localeData().calendar(i,this,Me(n)))},hn.clone=function(){return new b(this)},hn.diff=function(t,e,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=Fe(t,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),e=I(e)){case"year":i=Ze(this,r)/12;break;case"month":i=Ze(this,r);break;case"quarter":i=Ze(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:C(i)},hn.endOf=function(t){return void 0===(t=I(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},hn.format=function(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=z(this,t);return this.localeData().postformat(e)},hn.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Me(t).isValid())?Ye({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},hn.fromNow=function(t){return this.from(Me(),t)},hn.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Me(t).isValid())?Ye({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},hn.toNow=function(t){return this.to(Me(),t)},hn.get=function(t){return M(this[t=I(t)])?this[t]():this},hn.invalidAt=function(){return d(this).overflow},hn.isAfter=function(t,e){var n=w(t)?t:Me(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(a(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},hn.isBefore=function(t,e){var n=w(t)?t:Me(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(a(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},hn.isBetween=function(t,e,n,r){return("("===(r=r||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))},hn.isSame=function(t,e){var n,r=w(t)?t:Me(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=I(e||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},hn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},hn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},hn.isValid=function(){return p(this)},hn.lang=tn,hn.locale=Je,hn.localeData=en,hn.max=Ne,hn.min=Ae,hn.parsingFlags=function(){return h({},d(this))},hn.set=function(t,e){if("object"===typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:L[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=D(t)),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit]);else if(M(this[t=I(t)]))return this[t](e);return this},hn.startOf=function(t){switch(t=I(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},hn.subtract=Qe,hn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},hn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},hn.toDate=function(){return new Date(this.valueOf())},hn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?z(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",z(n,"Z")):z(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},hn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=e+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+o)},hn.toJSON=function(){return this.isValid()?this.toISOString():null},hn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},hn.unix=function(){return Math.floor(this.valueOf()/1e3)},hn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},hn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},hn.year=xt,hn.isLeapYear=function(){return Tt(this.year())},hn.weekYear=function(t){return rn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},hn.isoWeekYear=function(t){return rn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},hn.quarter=hn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},hn.month=jt,hn.daysInMonth=function(){return _t(this.year(),this.month())},hn.week=hn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},hn.isoWeek=hn.isoWeeks=function(t){var e=zt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},hn.weeksInYear=function(){var t=this.localeData()._week;return Yt(this.year(),t.dow,t.doy)},hn.isoWeeksInYear=function(){return Yt(this.year(),1,4)},hn.date=on,hn.day=hn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!==typeof t?t:isNaN(t)?"number"===typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},hn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},hn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},hn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},hn.hour=hn.hours=re,hn.minute=hn.minutes=an,hn.second=hn.seconds=ln,hn.millisecond=hn.milliseconds=cn,hn.utcOffset=function(t,e,n){var o,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(null===(t=Be(at,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(o=We(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==t&&(!e||this._changeInProgress?qe(this,Ye(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:We(this)},hn.utc=function(t){return this.utcOffset(0,t)},hn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(We(this),"m")),this},hn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=Be(it,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},hn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Me(t).utcOffset():0,(this.utcOffset()-t)%60===0)},hn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},hn.isLocal=function(){return!!this.isValid()&&!this._isUTC},hn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},hn.isUtc=Ve,hn.isUTC=Ve,hn.zoneAbbr=function(){return this._isUTC?"UTC":""},hn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},hn.dates=k("dates accessor is deprecated. Use date instead.",on),hn.months=k("months accessor is deprecated. Use month instead",jt),hn.years=k("years accessor is deprecated. Use year instead",xt),hn.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),hn.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=Re(t))._a){var e=t._isUTC?f(t._a):Me(t._a);this._isDSTShifted=this.isValid()&&S(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var dn=N.prototype;function pn(t,e,n,r){var o=he(),i=f().set(r,e);return o[n](i,t)}function gn(t,e,n){if(s(t)&&(e=t,t=void 0),t=t||"",null!=e)return pn(t,e,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=pn(t,r,n,"month");return o}function mn(t,e,n,r){"boolean"===typeof t?(s(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,s(e)&&(n=e,e=void 0),e=e||"");var o,i=he(),a=t?i._week.dow:0;if(null!=n)return pn(e,(n+a)%7,r,"day");var l=[];for(o=0;o<7;o++)l[o]=pn(e,(o+a)%7,r,"day");return l}dn.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return M(r)?r.call(e,n):r},dn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},dn.invalidDate=function(){return this._invalidDate},dn.ordinal=function(t){return this._ordinal.replace("%d",t)},dn.preparse=fn,dn.postformat=fn,dn.relativeTime=function(t,e,n,r){var o=this._relativeTime[n];return M(o)?o(t,e,n,r):o.replace(/%d/i,t)},dn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return M(n)?n(e):n.replace(/%s/i,e)},dn.set=function(t){var e,n;for(n in t)M(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},dn.months=function(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Pt).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone},dn.monthsShort=function(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Pt.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},dn.monthsParse=function(t,e,n){var r,o,i;if(this._monthsParseExact)return function(t,e,n){var r,o,i,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(o=Rt.call(this._shortMonthsParse,a))?o:null:-1!==(o=Rt.call(this._longMonthsParse,a))?o:null:"MMM"===e?-1!==(o=Rt.call(this._shortMonthsParse,a))?o:-1!==(o=Rt.call(this._longMonthsParse,a))?o:null:-1!==(o=Rt.call(this._longMonthsParse,a))?o:-1!==(o=Rt.call(this._shortMonthsParse,a))?o:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},dn.monthsRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Ft.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Bt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},dn.monthsShortRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Ft.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Ht),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},dn.week=function(t){return zt(t,this._week.dow,this._week.doy).week},dn.firstDayOfYear=function(){return this._week.doy},dn.firstDayOfWeek=function(){return this._week.dow},dn.weekdays=function(t,e){return t?o(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:o(this._weekdays)?this._weekdays:this._weekdays.standalone},dn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},dn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},dn.weekdaysParse=function(t,e,n){var r,o,i;if(this._weekdaysParseExact)return function(t,e,n){var r,o,i,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(o=Rt.call(this._weekdaysParse,a))?o:null:"ddd"===e?-1!==(o=Rt.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=Rt.call(this._minWeekdaysParse,a))?o:null:"dddd"===e?-1!==(o=Rt.call(this._weekdaysParse,a))?o:-1!==(o=Rt.call(this._shortWeekdaysParse,a))?o:-1!==(o=Rt.call(this._minWeekdaysParse,a))?o:null:"ddd"===e?-1!==(o=Rt.call(this._shortWeekdaysParse,a))?o:-1!==(o=Rt.call(this._weekdaysParse,a))?o:-1!==(o=Rt.call(this._minWeekdaysParse,a))?o:null:-1!==(o=Rt.call(this._minWeekdaysParse,a))?o:-1!==(o=Rt.call(this._weekdaysParse,a))?o:-1!==(o=Rt.call(this._shortWeekdaysParse,a))?o:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},dn.weekdaysRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=qt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},dn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$t),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},dn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},dn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},dn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},ue("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===O(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),r.lang=k("moment.lang is deprecated. Use moment.locale instead.",ue),r.langData=k("moment.langData is deprecated. Use moment.localeData instead.",he);var vn=Math.abs;function yn(t,e,n,r){var o=Ye(e,n);return t._milliseconds+=r*o._milliseconds,t._days+=r*o._days,t._months+=r*o._months,t._bubble()}function bn(t){return t<0?Math.floor(t):Math.ceil(t)}function wn(t){return 4800*t/146097}function Cn(t){return 146097*t/4800}function On(t){return function(){return this.as(t)}}var Sn=On("ms"),En=On("s"),kn=On("m"),Tn=On("h"),Rn=On("d"),xn=On("w"),Mn=On("M"),An=On("y");function Nn(t){return function(){return this.isValid()?this._data[t]:NaN}}var _n=Nn("milliseconds"),Pn=Nn("seconds"),In=Nn("minutes"),Dn=Nn("hours"),Ln=Nn("days"),jn=Nn("months"),Hn=Nn("years"),Bn=Math.round,Fn={ss:44,s:45,m:45,h:22,d:26,M:11},Wn=Math.abs;function Vn(t){return(t>0)-(t<0)||+t}function Un(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Wn(this._milliseconds)/1e3,r=Wn(this._days),o=Wn(this._months);t=C(n/60),e=C(t/60),n%=60,t%=60;var i=C(o/12),a=o%=12,s=r,l=e,u=t,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var f=h<0?"-":"",d=Vn(this._months)!==Vn(h)?"-":"",p=Vn(this._days)!==Vn(h)?"-":"",g=Vn(this._milliseconds)!==Vn(h)?"-":"";return f+"P"+(i?d+i+"Y":"")+(a?d+a+"M":"")+(s?p+s+"D":"")+(l||u||c?"T":"")+(l?g+l+"H":"")+(u?g+u+"M":"")+(c?g+c+"S":"")}var zn=Ie.prototype;return zn.isValid=function(){return this._isValid},zn.abs=function(){var t=this._data;return this._milliseconds=vn(this._milliseconds),this._days=vn(this._days),this._months=vn(this._months),t.milliseconds=vn(t.milliseconds),t.seconds=vn(t.seconds),t.minutes=vn(t.minutes),t.hours=vn(t.hours),t.months=vn(t.months),t.years=vn(t.years),this},zn.add=function(t,e){return yn(this,t,e,1)},zn.subtract=function(t,e){return yn(this,t,e,-1)},zn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=I(t))||"year"===t)return e=this._days+r/864e5,n=this._months+wn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Cn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},zn.asMilliseconds=Sn,zn.asSeconds=En,zn.asMinutes=kn,zn.asHours=Tn,zn.asDays=Rn,zn.asWeeks=xn,zn.asMonths=Mn,zn.asYears=An,zn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*O(this._months/12):NaN},zn._bubble=function(){var t,e,n,r,o,i=this._milliseconds,a=this._days,s=this._months,l=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*bn(Cn(s)+a),a=0,s=0),l.milliseconds=i%1e3,t=C(i/1e3),l.seconds=t%60,e=C(t/60),l.minutes=e%60,n=C(e/60),l.hours=n%24,a+=C(n/24),o=C(wn(a)),s+=o,a-=bn(Cn(o)),r=C(s/12),s%=12,l.days=a,l.months=s,l.years=r,this},zn.clone=function(){return Ye(this)},zn.get=function(t){return t=I(t),this.isValid()?this[t+"s"]():NaN},zn.milliseconds=_n,zn.seconds=Pn,zn.minutes=In,zn.hours=Dn,zn.days=Ln,zn.weeks=function(){return C(this.days()/7)},zn.months=jn,zn.years=Hn,zn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=function(t,e,n){var r=Ye(t).abs(),o=Bn(r.as("s")),i=Bn(r.as("m")),a=Bn(r.as("h")),s=Bn(r.as("d")),l=Bn(r.as("M")),u=Bn(r.as("y")),c=o<=Fn.ss&&["s",o]||o<Fn.s&&["ss",o]||i<=1&&["m"]||i<Fn.m&&["mm",i]||a<=1&&["h"]||a<Fn.h&&["hh",a]||s<=1&&["d"]||s<Fn.d&&["dd",s]||l<=1&&["M"]||l<Fn.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,function(t,e,n,r,o){return o.relativeTime(e||1,!!n,t,r)}.apply(null,c)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},zn.toISOString=Un,zn.toString=Un,zn.toJSON=Un,zn.locale=Je,zn.localeData=en,zn.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Un),zn.lang=tn,U("X",0,0,"unix"),U("x",0,0,"valueOf"),ut("x",ot),ut("X",/[+-]?\d+(\.\d{1,3})?/),dt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),dt("x",function(t,e,n){n._d=new Date(O(t))}),r.version="2.20.1",e=Me,r.fn=hn,r.min=function(){return _e("isBefore",[].slice.call(arguments,0))},r.max=function(){return _e("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=f,r.unix=function(t){return Me(1e3*t)},r.months=function(t,e){return gn(t,e,"months")},r.isDate=l,r.locale=ue,r.invalid=g,r.duration=Ye,r.isMoment=w,r.weekdays=function(t,e,n){return mn(t,e,n,"weekdays")},r.parseZone=function(){return Me.apply(null,arguments).parseZone()},r.localeData=he,r.isDuration=De,r.monthsShort=function(t,e){return gn(t,e,"monthsShort")},r.weekdaysMin=function(t,e,n){return mn(t,e,n,"weekdaysMin")},r.defineLocale=ce,r.updateLocale=function(t,e){if(null!=e){var n,r,o=oe;null!=(r=le(t))&&(o=r._config),e=A(o,e),(n=new N(e)).parentLocale=ie[t],ie[t]=n,ue(t)}else null!=ie[t]&&(null!=ie[t].parentLocale?ie[t]=ie[t].parentLocale:null!=ie[t]&&delete ie[t]);return ie[t]},r.locales=function(){return T(ie)},r.weekdaysShort=function(t,e,n){return mn(t,e,n,"weekdaysShort")},r.normalizeUnits=I,r.relativeTimeRounding=function(t){return void 0===t?Bn:"function"===typeof t&&(Bn=t,!0)},r.relativeTimeThreshold=function(t,e){return void 0!==Fn[t]&&(void 0===e?Fn[t]:(Fn[t]=e,"s"===t&&(Fn.ss=e-1),!0))},r.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=hn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(228)(t))},function(t,e,n){var r=n(44),o=n(90).f,i=n(66),a=n(70),s=n(138),l=n(164),u=n(115);t.exports=function(t,e){var n,c,h,f,d,p=t.target,g=t.global,m=t.stat;if(n=g?r:m?r[p]||s(p,{}):(r[p]||{}).prototype)for(c in e){if(f=e[c],h=t.noTargetGet?(d=o(n,c))&&d.value:n[c],!u(g?c:p+(m?".":"#")+c,t.forced)&&void 0!==h){if(typeof f===typeof h)continue;l(f,h)}(t.sham||h&&h.sham)&&i(f,"sham",!0),a(n,c,f,t)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"isFunction",function(){return o}),n.d(e,"throttle",function(){return i}),n.d(e,"throttleAfterHits",function(){return a}),n.d(e,"debounce",function(){return s}),n.d(e,"pipe",function(){return l}),n.d(e,"partial",function(){return u}),n.d(e,"curry",function(){return c}),n.d(e,"curryRight",function(){return h});n(25),n(36);var r=n(1);function o(t){return"function"===typeof t}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=0,r={lastCallThrottled:!0},o=null;return function(){for(var i=this,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];var u=Date.now(),c=!1;r.lastCallThrottled=!0,n||(n=u,c=!0);var h=e-(u-n);return c?(r.lastCallThrottled=!1,t.apply(this,s)):(o&&clearTimeout(o),o=setTimeout(function(){r.lastCallThrottled=!1,t.apply(i,s),n=0,o=void 0},h)),r}}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=i(t,e),o=n;function a(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return o?(o-=1,t.apply(this,n)):r.apply(this,n)}return a.clearHits=function(){o=n},a}function s(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=null;return function(){for(var o=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&clearTimeout(r),r=setTimeout(function(){e=t.apply(o,a)},n),e}}function l(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e[0],i=e.slice(1);return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(r.arrayReduce)(i,function(t,e){return e(t)},o.apply(this,e))}}function u(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(this,n.concat(r))}}function c(t){var e=t.length;return function n(r){return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=r.concat(i);return s.length>=e?t.apply(this,s):n(s)}}([])}function h(t){var e=t.length;return function n(r){return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=r.concat(i.reverse());return s.length>=e?t.apply(this,s):n(s)}}([])}},function(t,e,n){var r=!n(175)(function(t){Array.from(t)});n(28)({target:"Array",stat:!0,forced:r},{from:n(220)})},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return i});var r=n(13);function o(){var t;Object(r.isDefined)(console)&&(t=console).warn.apply(t,arguments)}function i(){var t;Object(r.isDefined)(console)&&(t=console).error.apply(t,arguments)}},function(t,e,n){"use strict";var r,o=n(44),i=n(142),a=n(104),s=n(171),l=n(49),u=n(86).enforce,c=n(163),h=!o.ActiveXObject&&"ActiveXObject"in o,f=Object.isExtensible,d=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},p=t.exports=n(119)("WeakMap",d,s,!0,!0);if(c&&h){r=s.getConstructor(d,"WeakMap",!0),a.REQUIRED=!0;var g=p.prototype,m=g.delete,v=g.has,y=g.get,b=g.set;i(g,{delete:function(t){if(l(t)&&!f(t)){var e=u(this);return e.frozen||(e.frozen=new r),m.call(this,t)||e.frozen.delete(t)}return m.call(this,t)},has:function(t){if(l(t)&&!f(t)){var e=u(this);return e.frozen||(e.frozen=new r),v.call(this,t)||e.frozen.has(t)}return v.call(this,t)},get:function(t){if(l(t)&&!f(t)){var e=u(this);return e.frozen||(e.frozen=new r),v.call(this,t)?y.call(this,t):e.frozen.get(t)}return y.call(this,t)},set:function(t,e){if(l(t)&&!f(t)){var n=u(this);n.frozen||(n.frozen=new r),v.call(this,t)?b.call(this,t,e):n.frozen.set(t,e)}else b.call(this,t,e);return this}})}},function(t,e,n){"use strict";n(7),n(6),n(8),n(32),n(9);var r=n(53),o=n(16),i=n(59),a=(n(10),n(11),n(12),n(54),n(154),n(22),n(75),n(23),n(18),n(19),n(24),n(51),n(17)),s=n(13),l=n(37),u=n(1),c=n(0),h=n(2),f=n(14),d=(n(25),n(41),n(36),n(196)),p=n.n(d),g=n(42),m=n(20);function v(t){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t,e,n){return(w="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o=C(e).call(this,t),(n=!o||"object"!==v(o)&&"function"!==typeof o?b(r):o).eventManager=new m.a(b(n)),n.autoResize=p()(),n.holderZIndex=-1,n.TEXTAREA=void 0,n.textareaStyle=void 0,n.TEXTAREA_PARENT=void 0,n.textareaParentStyle=void 0,n.createElements(),n.bindEvents(),n.hot.addHookOnce("afterDestroy",function(){return n.destroy()}),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,i["b"]),n=e,(r=[{key:"getValue",value:function(){return this.TEXTAREA.value}},{key:"setValue",value:function(t){this.TEXTAREA.value=t}},{key:"open",value:function(){var t=this;this.refreshDimensions(),this.showEditableElement(),this.addHook("beforeKeyDown",function(e){return t.onBeforeKeyDown(e)})}},{key:"close",value:function(){this.autoResize.unObserve(),this.hot.rootDocument.activeElement===this.TEXTAREA&&this.hot.listen(),this.hideEditableElement(),this.removeHooksByKey("beforeKeyDown")}},{key:"prepare",value:function(t,n,r,o,a,s){var l=this,u=this.state;if(w(C(e.prototype),"prepare",this).call(this,t,n,r,o,a,s),!s.readOnly){this.refreshDimensions(!0);var c=s.allowInvalid,h=s.fragmentSelection;c&&(this.TEXTAREA.value=""),u!==i.a.FINISHED&&this.hideEditableElement(),!h&&!Object(g.isMobileBrowser)()&&this.hot._registerImmediate(function(){return l.focus(!0)})}}},{key:"beginEditing",value:function(t,n){this.state===i.a.VIRGIN&&(this.TEXTAREA.value="",w(C(e.prototype),"beginEditing",this).call(this,t,n))}},{key:"focus",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Object(c.selectElementIfAllowed)(this.TEXTAREA):(this.TEXTAREA.select(),Object(c.setCaretPosition)(this.TEXTAREA,this.TEXTAREA.value.length))}},{key:"createElements",value:function(){var t=this.hot.rootDocument;this.TEXTAREA=t.createElement("TEXTAREA"),this.TEXTAREA.tabIndex=-1,Object(c.addClass)(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=t.createElement("DIV"),Object(c.addClass)(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.zIndex="-1",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}},{key:"getEditedCell",value:function(){var t;switch(this.checkEditorSection()){case"top":t=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.holderZIndex=101;break;case"top-left-corner":t=this.hot.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.holderZIndex=103;break;case"bottom-left-corner":t=this.hot.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.holderZIndex=103;break;case"left":t=this.hot.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.holderZIndex=102;break;case"bottom":t=this.hot.view.wt.wtOverlays.bottomOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.holderZIndex=102;break;default:t=this.hot.getCell(this.row,this.col),this.holderZIndex=-1}return t<0?void 0:t}},{key:"hideEditableElement",value:function(){(Object(g.isIE)()||Object(g.isEdge)())&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",this.textareaParentStyle.zIndex="-1"}},{key:"showEditableElement",value:function(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle.right="auto",this.textareaParentStyle.zIndex=this.holderZIndex>=0?this.holderZIndex:"",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="",this.textareaStyle.overflowY="hidden"}},{key:"refreshValue",value:function(){var t=this.hot.toPhysicalRow(this.row),e=this.hot.getSourceDataAtCell(t,this.col);this.originalValue=e,this.setValue(e),this.refreshDimensions()}},{key:"refreshDimensions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state===i.a.EDITING||t)if(this.TD=this.getEditedCell(),this.TD){var e,n=this.hot.view.wt,r=n.wtOverlays,o=n.wtViewport,a=Object(c.offset)(this.TD),s=Object(c.offset)(this.hot.rootElement),l=r.topOverlay.holder,u=r.leftOverlay.holder,h=this.hot.countRows(),f=l!==this.hot.rootWindow?l.scrollTop:0,d=u!==this.hot.rootWindow?u.scrollLeft:0,p=this.checkEditorSection(),g=["","left"].includes(p)?f:0,m=["","top","bottom"].includes(p)?d:0,v=a.top===s.top?0:1,y=this.hot.getSettings(),b=this.hot.hasColHeaders(),w=this.TD.style.backgroundColor,C=a.top-s.top-v-g,O=a.left-s.left-1-m;switch(p){case"top":e=Object(c.getCssTransform)(r.topOverlay.clone.wtTable.holder.parentNode);break;case"left":e=Object(c.getCssTransform)(r.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":e=Object(c.getCssTransform)(r.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":e=Object(c.getCssTransform)(r.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":e=Object(c.getCssTransform)(r.bottomOverlay.clone.wtTable.holder.parentNode)}(b&&0===this.hot.getSelectedLast()[0]||y.fixedRowsBottom&&this.hot.getSelectedLast()[0]===h-y.fixedRowsBottom)&&(C+=1),0===this.hot.getSelectedLast()[1]&&(O+=1),e&&-1!==e?this.textareaParentStyle[e[0]]=e[1]:Object(c.resetCssTransform)(this.TEXTAREA_PARENT),this.textareaParentStyle.top="".concat(C,"px"),this.textareaParentStyle.left="".concat(O,"px"),this.showEditableElement();var S=o.rowsRenderCalculator.startPosition,E=o.columnsRenderCalculator.startPosition,k=r.leftOverlay.getScrollPosition(),T=r.topOverlay.getScrollPosition(),R=Object(c.getScrollbarWidth)(this.hot.rootDocument),x=this.TD.offsetTop+S-T,M=this.TD.offsetLeft+E-k,A=Object(c.innerWidth)(this.TD)-8,N=Object(c.hasVerticalScrollbar)(l)?R:0,_=Object(c.hasHorizontalScrollbar)(u)?R:0,P=this.hot.view.maximumVisibleElementWidth(M)-9-N,I=this.TD.scrollHeight+1,D=Math.max(this.hot.view.maximumVisibleElementHeight(x)-_,23),L=Object(c.getComputedStyle)(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=L.fontSize,this.TEXTAREA.style.fontFamily=L.fontFamily,this.TEXTAREA.style.backgroundColor=w,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(I,D),maxHeight:D,minWidth:Math.min(A,P),maxWidth:P},!0)}else t||this.close()}},{key:"bindEvents",value:function(){var t=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(t){return Object(f.stopPropagation)(t)}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(t){return Object(f.stopPropagation)(t)}),this.addHook("afterScrollHorizontally",function(){return t.refreshDimensions()}),this.addHook("afterScrollVertically",function(){return t.refreshDimensions()}),this.addHook("afterColumnResize",function(){t.refreshDimensions(),t.focus()}),this.addHook("afterRowResize",function(){t.refreshDimensions(),t.focus()})}},{key:"allowKeyEventPropagation",value:function(){}},{key:"destroy",value:function(){this.eventManager.destroy(),this.clearHooks()}},{key:"onBeforeKeyDown",value:function(t){var e=(t.ctrlKey||t.metaKey)&&!t.altKey;if(t.target===this.TEXTAREA&&!Object(f.isImmediatePropagationStopped)(t)){switch(t.keyCode){case a.KEY_CODES.ARROW_RIGHT:case a.KEY_CODES.ARROW_LEFT:this.isInFullEditMode()&&(this.isWaiting()||this.allowKeyEventPropagation(t.keyCode)||Object(f.stopImmediatePropagation)(t));break;case a.KEY_CODES.ARROW_UP:case a.KEY_CODES.ARROW_DOWN:this.isInFullEditMode()&&(this.isWaiting()||this.allowKeyEventPropagation(t.keyCode)||Object(f.stopImmediatePropagation)(t));break;case a.KEY_CODES.ENTER:var n=this.hot.selection.isMultiple();if(e&&!n||t.altKey){if(this.isOpened()){var r=Object(c.getCaretPosition)(this.TEXTAREA),o=this.getValue(),i="".concat(o.slice(0,r),"\n").concat(o.slice(r));this.setValue(i),Object(c.setCaretPosition)(this.TEXTAREA,r+1)}else this.beginEditing("".concat(this.originalValue,"\n"));Object(f.stopImmediatePropagation)(t)}t.preventDefault();break;case a.KEY_CODES.BACKSPACE:case a.KEY_CODES.DELETE:case a.KEY_CODES.HOME:case a.KEY_CODES.END:Object(f.stopImmediatePropagation)(t)}-1===[a.KEY_CODES.ARROW_UP,a.KEY_CODES.ARROW_RIGHT,a.KEY_CODES.ARROW_DOWN,a.KEY_CODES.ARROW_LEFT].indexOf(t.keyCode)&&this.autoResize.resize(String.fromCharCode(t.keyCode))}}}])&&y(n.prototype,r),o&&y(n,o),e}();function E(t){return(E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e){return!e||"object"!==E(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t,e,n){return(R="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),T(this,x(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(e,S),n=e,(r=[{key:"open",value:function(){R(x(e.prototype),"open",this).call(this),this.htEditor&&this.htEditor.destroy(),"none"===this.htContainer.style.display&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),Object(c.setCaretPosition)(this.TEXTAREA,0,this.TEXTAREA.value.length)}},{key:"close",value:function(){this.htEditor.rootElement.style.display="none",this.removeHooksByKey("beforeKeyDown"),R(x(e.prototype),"close",this).call(this)}},{key:"prepare",value:function(t,n,r,o,i,a){R(x(e.prototype),"prepare",this).call(this,t,n,r,o,i,a);var s=this,l={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,afterOnCellMouseDown:function(t,e){var n=this.getSourceData(e.row,e.col);void 0!==n&&s.setValue(n),s.instance.destroyEditor()}};this.cellProperties.handsontable&&Object(h.extend)(l,a.handsontable),this.htOptions=l}},{key:"beginEditing",value:function(t,n){var r=this.hot.getSettings().onBeginEditing;r&&!1===r()||R(x(e.prototype),"beginEditing",this).call(this,t,n)}},{key:"focus",value:function(){R(x(e.prototype),"focus",this).call(this)}},{key:"createElements",value:function(){R(x(e.prototype),"createElements",this).call(this);var t=this.hot.rootDocument.createElement("DIV");t.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(t),this.htContainer=t,this.assignHooks()}},{key:"finishEditing",value:function(t,n,r){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){var o=this.htEditor.getInstance().getValue();void 0!==o&&this.setValue(o)}return R(x(e.prototype),"finishEditing",this).call(this,t,n,r)}},{key:"assignHooks",value:function(){var t=this;this.hot.addHook("afterDestroy",function(){t.htEditor&&t.htEditor.destroy()})}},{key:"onBeforeKeyDown",value:function(t){if(!Object(f.isImmediatePropagationStopped)(t)){var n,r,o=this.htEditor.getInstance();if(t.keyCode===a.KEY_CODES.ARROW_DOWN)if(o.getSelectedLast()||o.flipped){if(o.getSelectedLast())if(o.flipped)n=o.getSelectedLast()[0]+1;else if(!o.flipped){var i=o.countRows()-1;r=o.getSelectedLast()[0],n=Math.min(i,r+1)}}else n=0;else t.keyCode===a.KEY_CODES.ARROW_UP&&(!o.getSelectedLast()&&o.flipped?n=o.countRows()-1:o.getSelectedLast()&&(o.flipped?(r=o.getSelectedLast()[0],n=Math.max(0,r-1)):n=(r=o.getSelectedLast()[0])-1));void 0!==n&&(n<0||o.flipped&&n>o.countRows()-1?o.deselectCell():o.selectCell(n,0),o.getData().length&&(t.preventDefault(),Object(f.stopImmediatePropagation)(t),this.hot.listen(),this.TEXTAREA.focus())),R(x(e.prototype),"onBeforeKeyDown",this).call(this,t)}}}])&&k(n.prototype,r),o&&k(n,o),e}();function N(t){return(N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I(t,e,n){return(I="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=D(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=new WeakMap,H=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=D(e).call(this,t))||"object"!==N(o)&&"function"!==typeof o?P(r):o).query=null,n.strippedChoices=[],n.rawChoices=[],j.set(P(n),{skipOne:!1}),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,A),n=e,(r=[{key:"getValue",value:function(){var t=this,e=this.rawChoices.find(function(e){return t.stripValueIfNeeded(e)===t.TEXTAREA.value});return Object(s.isDefined)(e)?e:this.TEXTAREA.value}},{key:"createElements",value:function(){I(D(e.prototype),"createElements",this).call(this),Object(c.addClass)(this.htContainer,"autocompleteEditor"),Object(c.addClass)(this.htContainer,-1===this.hot.rootWindow.navigator.platform.indexOf("Mac")?"":"htMacScroll")}},{key:"open",value:function(){var t=this,n=j.get(this);this.TEXTAREA_PARENT.style.overflow="auto",I(D(e.prototype),"open",this).call(this),this.TEXTAREA_PARENT.style.overflow="";var r=this.htEditor.getInstance(),o=void 0===this.cellProperties.trimDropdown||this.cellProperties.trimDropdown;this.showEditableElement(),this.focus();var i=Object(c.getScrollbarWidth)(this.hot.rootDocument);r.updateSettings({colWidths:o?[Object(c.outerWidth)(this.TEXTAREA)-2]:void 0,width:o?Object(c.outerWidth)(this.TEXTAREA)+i+2:void 0,afterRenderer:function(e,n,r,o,i){var a,l,u=t.cellProperties,c=u.filteringCaseSensitive,h=u.allowHtml,f=t.query,d=Object(s.stringify)(i);d&&!h&&-1!==(a=!0===c?d.indexOf(f):d.toLowerCase().indexOf(f.toLowerCase()))&&(l=d.substr(a,f.length),d=d.replace(l,"<strong>".concat(l,"</strong>"))),e.innerHTML=d},autoColumnSize:!0,modifyColWidth:function(t,e){var n=this.getPlugin("autoColumnSize"),r=t;if(n){var i=n.widths;i[e]&&(r=i[e])}return o?r:r+15}}),this.htEditor.view.wt.wtTable.holder.parentNode.style["padding-right"]="".concat(i+2,"px"),n.skipOne&&(n.skipOne=!1),this.hot._registerTimeout(function(){t.queryChoices(t.TEXTAREA.value)})}},{key:"close",value:function(){this.removeHooksByKey("beforeKeyDown"),I(D(e.prototype),"close",this).call(this)}},{key:"discardEditor",value:function(t){I(D(e.prototype),"discardEditor",this).call(this,t),this.hot.view.render()}},{key:"queryChoices",value:function(t){var e=this,n=this.cellProperties.source;this.query=t,"function"===typeof n?n.call(this.cellProperties,t,function(t){e.rawChoices=t,e.updateChoicesList(e.stripValuesIfNeeded(t))}):Array.isArray(n)?(this.rawChoices=n,this.updateChoicesList(this.stripValuesIfNeeded(n))):this.updateChoicesList([])}},{key:"updateChoicesList",value:function(t){var n=Object(c.getCaretPosition)(this.TEXTAREA),r=Object(c.getSelectionEndPosition)(this.TEXTAREA),o=this.cellProperties.sortByRelevance,i=this.cellProperties.filter,a=null,s=null,l=t;o&&(a=e.sortByRelevance(this.stripValueIfNeeded(this.getValue()),l,this.cellProperties.filteringCaseSensitive));var h=Array.isArray(a)?a.length:0;if(!1===i)h&&(s=a[0]);else{for(var f=[],d=0,p=l.length;d<p&&!(o&&h<=d);d++)h?f.push(l[a[d]]):f.push(l[d]);s=0,l=f}this.strippedChoices=l,this.htEditor.loadData(Object(u.pivot)([l])),this.updateDropdownHeight(),this.flipDropdownIfNeeded(),!0===this.cellProperties.strict&&this.highlightBestMatchingChoice(s),this.hot.listen(!1),Object(c.setCaretPosition)(this.TEXTAREA,n,n===r?void 0:r)}},{key:"flipDropdownIfNeeded",value:function(){var t=Object(c.offset)(this.TEXTAREA),e=Object(c.outerHeight)(this.TEXTAREA),n=this.getDropdownHeight(),r=Object(c.getTrimmingContainer)(this.hot.view.wt.wtTable.TABLE),o=r.scrollTop,i=Object(c.outerHeight)(this.hot.view.wt.wtTable.THEAD),a={row:0,col:0};r!==this.hot.rootWindow&&(a=Object(c.offset)(r));var s=t.top-a.top-i+o,l=r.scrollHeight-s-i-e,u=n>l&&s>l;return u?this.flipDropdown(n):this.unflipDropdown(),this.limitDropdownIfNeeded(u?s:l,n),u}},{key:"limitDropdownIfNeeded",value:function(t,e){if(e>t){var n,r=0,o=0,i=0;do{r+=i=this.htEditor.getRowHeight(o)||this.htEditor.view.wt.wtSettings.settings.defaultRowHeight,o+=1}while(r<t);n=r-i,this.htEditor.flipped&&(this.htEditor.rootElement.style.top="".concat(parseInt(this.htEditor.rootElement.style.top,10)+e-n,"px")),this.setDropdownHeight(r-i)}}},{key:"flipDropdown",value:function(t){var e=this.htEditor.rootElement.style;e.position="absolute",e.top="".concat(-t,"px"),this.htEditor.flipped=!0}},{key:"unflipDropdown",value:function(){var t=this.htEditor.rootElement.style;"absolute"===t.position&&(t.position="",t.top=""),this.htEditor.flipped=void 0}},{key:"updateDropdownHeight",value:function(){var t=this.htEditor.getColWidth(0)+Object(c.getScrollbarWidth)(this.hot.rootDocument)+2,e=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:e?void 0:t}),this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer()}},{key:"setDropdownHeight",value:function(t){this.htEditor.updateSettings({height:t})}},{key:"highlightBestMatchingChoice",value:function(t){"number"===typeof t?this.htEditor.selectCell(t,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}},{key:"getDropdownHeight",value:function(){var t=this.htEditor.getInstance().getRowHeight(0)||23,e=this.cellProperties.visibleRows;return this.strippedChoices.length>=e?e*t:this.strippedChoices.length*t+8}},{key:"stripValueIfNeeded",value:function(t){return this.stripValuesIfNeeded([t])[0]}},{key:"stripValuesIfNeeded",value:function(t){var e=this.cellProperties.allowHtml,n=Object(u.arrayMap)(t,function(t){return Object(s.stringify)(t)});return Object(u.arrayMap)(n,function(t){return e?t:Object(l.stripTags)(t)})}},{key:"allowKeyEventPropagation",value:function(t){var e=this.htEditor.getSelectedRangeLast(),n=e?e.from.row:-1,r=!1;return t===a.KEY_CODES.ARROW_DOWN&&n>0&&n<this.htEditor.countRows()-1&&(r=!0),t===a.KEY_CODES.ARROW_UP&&n>-1&&(r=!0),r}},{key:"onBeforeKeyDown",value:function(t){var n=this,r=j.get(this);if(r.skipOne=!1,Object(a.isPrintableChar)(t.keyCode)||t.keyCode===a.KEY_CODES.BACKSPACE||t.keyCode===a.KEY_CODES.DELETE||t.keyCode===a.KEY_CODES.INSERT){var o=0;if(t.keyCode===a.KEY_CODES.C&&(t.ctrlKey||t.metaKey))return;this.isOpened()||(o+=10),this.htEditor&&this.hot._registerTimeout(function(){n.queryChoices(n.TEXTAREA.value),r.skipOne=!0},o)}I(D(e.prototype),"onBeforeKeyDown",this).call(this,t)}}])&&_(n.prototype,r),o&&_(n,o),e}();H.sortByRelevance=function(t,e,n){var r,o,i,a,u=[],c=t.length,h=[],f=e.length;if(0===c){for(a=0;a<f;a++)h.push(a);return h}for(a=0;a<f;a++)r=Object(l.stripTags)(Object(s.stringify)(e[a])),-1!==(o=n?r.indexOf(t):r.toLowerCase().indexOf(t.toLowerCase()))&&(i=r.length-o-c,u.push({baseIndex:a,index:o,charsLeft:i,value:r}));for(u.sort(function(t,e){if(-1===e.index)return-1;if(-1===t.index)return 1;if(t.index<e.index)return-1;if(e.index<t.index)return 1;if(t.index===e.index){if(t.charsLeft<e.charsLeft)return-1;if(t.charsLeft>e.charsLeft)return 1}return 0}),a=0,f=u.length;a<f;a++)h.push(u[a].baseIndex);return h};var B=H;function F(t){return(F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t,e){return!e||"object"!==F(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Y=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),V(this,U(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(e,i["b"]),n=e,(r=[{key:"beginEditing",value:function(t,e){if(e&&"mouseup"===e.type){var n=this.TD.querySelector('input[type="checkbox"]');Object(c.hasClass)(n,"htBadValue")||n.click()}}},{key:"finishEditing",value:function(){}},{key:"init",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"focus",value:function(){}}])&&W(n.prototype,r),o&&W(n,o),e}(),G=n(27),X=n.n(G),K=n(156),q=n.n(K);function $(t){return($="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return!e||"object"!==$(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function J(t,e,n){return(J="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=tt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Z(this,tt(e).call(this,t))).defaultDateFormat="DD/MM/YYYY",n.isCellEdited=!1,n.parentDestroyed=!1,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}(e,S),n=e,(r=[{key:"init",value:function(){var t=this;if("function"!==typeof X.a)throw new Error("You need to include moment.js to your project.");if("function"!==typeof q.a)throw new Error("You need to include Pikaday to your project.");J(tt(e.prototype),"init",this).call(this),this.instance.addHook("afterDestroy",function(){t.parentDestroyed=!0,t.destroyElements()})}},{key:"createElements",value:function(){J(tt(e.prototype),"createElements",this).call(this),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,Object(c.addClass)(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),this.$datePicker=new q.a(this.getDatePickerConfig()),new m.a(this).addEventListener(this.datePicker,"mousedown",function(t){return Object(f.stopPropagation)(t)}),this.hideDatepicker()}},{key:"destroyElements",value:function(){this.$datePicker.destroy()}},{key:"prepare",value:function(t,n,r,o,i,a){J(tt(e.prototype),"prepare",this).call(this,t,n,r,o,i,a)}},{key:"open",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;J(tt(e.prototype),"open",this).call(this),this.showDatepicker(t)}},{key:"close",value:function(){var t=this;this._opened=!1,this.instance._registerTimeout(function(){t.instance._refreshBorders()}),J(tt(e.prototype),"close",this).call(this)}},{key:"finishEditing",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var r=this.originalValue;void 0!==r&&this.setValue(r)}this.hideDatepicker(),J(tt(e.prototype),"finishEditing",this).call(this,t,n)}},{key:"showDatepicker",value:function(t){this.$datePicker.config(this.getDatePickerConfig());var e,n=this.TD.getBoundingClientRect(),r=this.cellProperties.dateFormat||this.defaultDateFormat,o=this.$datePicker.config(),i=this.instance.view.isMouseDown(),s=!!t&&Object(a.isMetaKey)(t.keyCode);this.datePickerStyle.top="".concat(this.hot.rootWindow.pageYOffset+n.top+Object(c.outerHeight)(this.TD),"px"),this.datePickerStyle.left="".concat(this.hot.rootWindow.pageXOffset+n.left,"px"),this.$datePicker._onInputFocus=function(){},o.format=r,this.originalValue?(e=this.originalValue,X()(e,r,!0).isValid()&&this.$datePicker.setMoment(X()(e,r),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),s||i||this.setValue("")):this.cellProperties.defaultDate?(e=this.cellProperties.defaultDate,o.defaultDate=e,X()(e,r,!0).isValid()&&this.$datePicker.setMoment(X()(e,r),!0),s||i||this.setValue("")):this.$datePicker.gotoToday(),this.datePickerStyle.display="block",this.$datePicker.show()}},{key:"hideDatepicker",value:function(){this.datePickerStyle.display="none",this.$datePicker.hide()}},{key:"getDatePickerConfig",value:function(){var t=this,e=this.TEXTAREA,n={};this.cellProperties&&this.cellProperties.datePickerConfig&&Object(h.deepExtend)(n,this.cellProperties.datePickerConfig);var r=n.onSelect,o=n.onClose;return n.field=e,n.trigger=e,n.container=this.datePicker,n.bound=!1,n.format=n.format||this.defaultDateFormat,n.reposition=n.reposition||!1,n.onSelect=function(e){var n=e;isNaN(n.getTime())||(n=X()(n).format(t.cellProperties.dateFormat||t.defaultDateFormat)),t.setValue(n),t.hideDatepicker(),r&&r()},n.onClose=function(){t.parentDestroyed||t.finishEditing(!1),o&&o()},n}}])&&Q(n.prototype,r),o&&Q(n,o),e}();function rt(t){return(rt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function it(t,e){return!e||"object"!==rt(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(t,e,n){return(at="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=st(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lt(t,e){return(lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ut=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),it(this,st(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lt(t,e)}(e,B),n=e,(r=[{key:"prepare",value:function(t,n,r,o,i,a){at(st(e.prototype),"prepare",this).call(this,t,n,r,o,i,a),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}])&&ot(n.prototype,r),o&&ot(n,o),e}();o.a.getSingleton().add("beforeValidate",function(t,e,n){var r=this.getCellMeta(e,this.propToCol(n));r.editor===ut&&void 0===r.strict&&(r.filter=!1,r.strict=!0)});var ct=ut;function ht(t){return(ht="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){return!e||"object"!==ht(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ft(this,dt(e).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(e,S),e}();function mt(t){return(mt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yt(t,e){return!e||"object"!==mt(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bt(t,e,n){return(bt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ct(t,e){return(Ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ot=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),yt(this,wt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ct(t,e)}(e,S),n=e,(r=[{key:"createElements",value:function(){bt(wt(e.prototype),"createElements",this).call(this),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,Object(c.empty)(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}])&&vt(n.prototype,r),o&&vt(n,o),e}();function St(t){return(St="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kt(t,e){return!e||"object"!==St(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tt(t,e,n){return(Tt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Rt(t){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),kt(this,Rt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(e,i["b"]),n=e,(r=[{key:"init",value:function(){this.select=this.hot.rootDocument.createElement("SELECT"),Object(c.addClass)(this.select,"htSelectEditor"),this.select.style.display="none",this.hot.rootElement.appendChild(this.select),this.registerHooks()}},{key:"getValue",value:function(){return this.select.value}},{key:"setValue",value:function(t){this.select.value=t}},{key:"open",value:function(){var t=this;this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.addHook("beforeKeyDown",function(){return t.onBeforeKeyDown()})}},{key:"close",value:function(){this._opened=!1,this.select.style.display="none",this.clearHooks()}},{key:"focus",value:function(){this.select.focus()}},{key:"registerHooks",value:function(){var t=this;this.addHook("afterScrollHorizontally",function(){return t.refreshDimensions()}),this.addHook("afterScrollVertically",function(){return t.refreshDimensions()}),this.addHook("afterColumnResize",function(){return t.refreshDimensions()}),this.addHook("afterRowResize",function(){return t.refreshDimensions()})}},{key:"prepare",value:function(t,n,r,o,i,a){var s=this;Tt(Rt(e.prototype),"prepare",this).call(this,t,n,r,o,i,a);var l,u=this.cellProperties.selectOptions;l="function"===typeof u?this.prepareOptions(u(this.row,this.col,this.prop)):this.prepareOptions(u),Object(c.empty)(this.select),Object(h.objectEach)(l,function(t,e){var n=s.hot.rootDocument.createElement("OPTION");n.value=e,Object(c.fastInnerHTML)(n,t),s.select.appendChild(n)})}},{key:"prepareOptions",value:function(t){var e={};if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)e[t[n]]=t[n];else"object"===St(t)&&(e=t);return e}},{key:"refreshValue",value:function(){var t=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=t,this.setValue(t),this.refreshDimensions()}},{key:"refreshDimensions",value:function(){if(this.state===i.a.EDITING)if(this.TD=this.getEditedCell(),this.TD){var t,e=this.hot.view.wt.wtOverlays,n=Object(c.offset)(this.TD),r=Object(c.offset)(this.hot.rootElement),o=e.scrollableElement,a=this.checkEditorSection(),s=Object(c.outerWidth)(this.TD)+1,l=Object(c.outerHeight)(this.TD)+1,u=n.top-r.top-1-(o.scrollTop||0),h=n.left-r.left-1-(o.scrollLeft||0);switch(a){case"top":t=Object(c.getCssTransform)(e.topOverlay.clone.wtTable.holder.parentNode);break;case"left":t=Object(c.getCssTransform)(e.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":t=Object(c.getCssTransform)(e.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":t=Object(c.getCssTransform)(e.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":t=Object(c.getCssTransform)(e.bottomOverlay.clone.wtTable.holder.parentNode)}0===this.hot.getSelectedLast()[0]&&(u+=1),0===this.hot.getSelectedLast()[1]&&(h+=1);var f=this.select.style;t&&-1!==t?f[t[0]]=t[1]:Object(c.resetCssTransform)(this.select);var d=Object(c.getComputedStyle)(this.TD,this.hot.rootWindow);parseInt(d.borderTopWidth,10)>0&&(l-=1),parseInt(d.borderLeftWidth,10)>0&&(s-=1),f.height="".concat(l,"px"),f.minWidth="".concat(s,"px"),f.top="".concat(u,"px"),f.left="".concat(h,"px"),f.margin="0px"}else this.close()}},{key:"getEditedCell",value:function(){var t,e=this.hot.view.wt.wtOverlays;switch(this.checkEditorSection()){case"top":t=e.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=101;break;case"corner":t=e.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=103;break;case"left":t=e.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=102;break;default:t=this.hot.getCell(this.row,this.col),this.select.style.zIndex=""}return t<0?void 0:t}},{key:"onBeforeKeyDown",value:function(){var t=this.select.selectedIndex-1,e=this.select.selectedIndex+1;switch(event.keyCode){case a.KEY_CODES.ARROW_UP:t>=0&&(this.select[t].selected=!0),Object(f.stopImmediatePropagation)(event),event.preventDefault();break;case a.KEY_CODES.ARROW_DOWN:e<=this.select.length-1&&(this.select[e].selected=!0),Object(f.stopImmediatePropagation)(event),event.preventDefault()}}}])&&Et(n.prototype,r),o&&Et(n,o),e}();n.d(e,"d",function(){return Bt}),n.d(e,"a",function(){return Ht}),n.d(e,"b",function(){return jt}),n.d(e,"c",function(){return Dt});var At=new WeakMap,Nt=Object(r.a)("editors"),_t=Nt.register,Pt=Nt.getItem,It=Nt.hasItem,Dt=Nt.getNames;Nt.getValues;function Lt(t){var e={},n=t;this.getConstructor=function(){return t},this.getInstance=function(t){return t.guid in e||(e[t.guid]=new n(t)),e[t.guid]},o.a.getSingleton().add("afterDestroy",function(){e[this.guid]=null})}function jt(t,e){var n;if("function"===typeof t)At.get(t)||Bt(null,t),n=At.get(t);else{if("string"!==typeof t)throw Error('Only strings and functions can be passed as "editor" parameter');n=Pt(t)}if(!n)throw Error('No editor registered under name "'.concat(t,'"'));return n.getInstance(e)}function Ht(t){if(!It(t))throw Error('No registered editor found under "'.concat(t,'" name'));return Pt(t).getConstructor()}function Bt(t,e){var n=new Lt(e);"string"===typeof t&&_t(t,n),At.set(e,n)}Bt("base",i.b),Bt("autocomplete",B),Bt("checkbox",Y),Bt("date",nt),Bt("dropdown",ct),Bt("handsontable",A),Bt("numeric",gt),Bt("password",Ot),Bt("select",Mt),Bt("text",S)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});n(51),n(124);var r=n(1);function o(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return Object(r.arrayReduce)(t,function(t,e,r){return t+e.replace(/(?:\r?\n\s+)/g,"")+(n[r]?n[r]:"")},"").trim()}},function(t,e,n){"use strict";n.r(e),n.d(e,"requestAnimationFrame",function(){return f}),n.d(e,"isClassListSupported",function(){return d}),n.d(e,"isTextContentSupported",function(){return p}),n.d(e,"isGetComputedStyleSupported",function(){return g}),n.d(e,"cancelAnimationFrame",function(){return m}),n.d(e,"isTouchSupported",function(){return v}),n.d(e,"isWebComponentSupportedNatively",function(){return y}),n.d(e,"hasCaptionProblem",function(){return b}),n.d(e,"getComparisonFunction",function(){return w}),n.d(e,"isPassiveEventSupported",function(){return C});n(10),n(11),n(12),n(7),n(6),n(26),n(8),n(126),n(9);function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}for(var o,i,a,s=0,l=["ms","moz","webkit","o"],u=window.requestAnimationFrame,c=window.cancelAnimationFrame,h=0;h<l.length&&!u;++h)u=window["".concat(l[h],"RequestAnimationFrame")],c=window["".concat(l[h],"CancelAnimationFrame")]||window["".concat(l[h],"CancelRequestAnimationFrame")];function f(t){return u.call(window,t)}function d(){return!!document.documentElement.classList}function p(){return!!document.createTextNode("test").textContent}function g(){return!!window.getComputedStyle}function m(t){c.call(window,t)}function v(){return"ontouchstart"in window}function y(){var t=document.createElement("div");return!(!t.createShadowRoot||!t.createShadowRoot.toString().match(/\[native code\]/))}function b(){return void 0===o&&function(){var t=document.createElement("TABLE");t.style.borderSpacing="0",t.style.borderWidth="0",t.style.padding="0";var e=document.createElement("TBODY");t.appendChild(e),e.appendChild(document.createElement("TR")),e.firstChild.appendChild(document.createElement("TD")),e.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var n=document.createElement("CAPTION");n.innerHTML="c<br>c<br>c<br>c",n.style.padding="0",n.style.margin="0",t.insertBefore(n,e),document.body.appendChild(t),o=t.offsetHeight<2*t.lastChild.offsetHeight,document.body.removeChild(t)}(),o}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i||(i="object"===("undefined"===typeof Intl?"undefined":r(Intl))?new Intl.Collator(t,e).compare:"function"===typeof String.prototype.localeCompare?function(t,e){return"".concat(t).localeCompare(e)}:function(t,e){return t===e?0:t>e?-1:1})}function C(){if(void 0!==a)return a;try{var t={get passive(){a=!0}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(e){a=!1}return a}u||(u=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-s)),r=window.setTimeout(function(){t(e+n)},n);return s=e+n,r}),c||(c=function(t){clearTimeout(t)})},function(t,e,n){"use strict";var r=n(49),o=n(118),i=n(110),a=n(56),s=n(69),l=n(120),u=n(45)("species"),c=[].slice,h=Math.max,f=n(106)("slice");n(28)({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var n,f,d,p=s(this),g=a(p.length),m=i(t,g),v=i(void 0===e?g:e,g);if(o(p)&&("function"!=typeof(n=p.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[u])&&(n=void 0):n=void 0,n===Array||void 0===n))return c.call(p,m,v);for(f=new(void 0===n?Array:n)(h(v-m,0)),d=0;m<v;m++,d++)m in p&&l(f,d,p[m]);return f.length=d,f}})},function(t,e,n){"use strict";n.r(e),n.d(e,"toUpperCaseFirst",function(){return o}),n.d(e,"equalsIgnoreCase",function(){return i}),n.d(e,"randomString",function(){return a}),n.d(e,"isPercentValue",function(){return s}),n.d(e,"substitute",function(){return l}),n.d(e,"stripTags",function(){return c});n(22),n(6),n(26),n(51);var r=n(13);function o(t){return t[0].toUpperCase()+t.substr(1)}function i(){for(var t=[],e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];for(var i=n.length;i;){i-=1;var a=Object(r.stringify)(n[i]).toLowerCase();-1===t.indexOf(a)&&t.push(a)}return 1===t.length}function a(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()}function s(t){return/^([0-9][0-9]?%$)|(^100%$)/.test(t)}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"".concat(t).replace(/(?:\\)?\[([^[\]]+)]/g,function(t,n){return"\\"===t.charAt(0)?t.substr(1,t.length-1):void 0===e[n]?"":e[n]})}var u=/<\/?\w+\/?>|<\w+[\s|\/][^>]*>/gi;function c(t){return"".concat(t).replace(u,"")}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){"use strict";var r=n(53),o=(n(25),n(0));var i=function(t,e,n,r,i,a,s){var l=[],u=[];s.className&&(e.className?e.className="".concat(e.className," ").concat(s.className):e.className=s.className),s.readOnly&&l.push(s.readOnlyCellClassName),!1===s.valid&&s.invalidCellClassName?l.push(s.invalidCellClassName):u.push(s.invalidCellClassName),!1===s.wordWrap&&s.noWordWrapClassName&&l.push(s.noWordWrapClassName),!a&&s.placeholder&&l.push(s.placeholderCellClassName),Object(o.removeClass)(e,u),Object(o.addClass)(e,l)},a=n(20),s=n(5);var l=function(t,e,n,r,i,l,u){var c=t.rootDocument,h=u.allowHtml?"html":"text",f=c.createElement("DIV");f.className="htAutocompleteArrow",f.appendChild(c.createTextNode(String.fromCharCode(9660)));for(var d=arguments.length,p=new Array(d>7?d-7:0),g=7;g<d;g++)p[g-7]=arguments[g];if(N(h).apply(this,[t,e,n,r,i,l,u].concat(p)),e.firstChild||e.appendChild(c.createTextNode(String.fromCharCode(160))),e.insertBefore(f,e.firstChild),Object(o.addClass)(e,"htAutocomplete"),!t.acArrowListener){var m=new a.a(t);t.acArrowListener=function(i){Object(o.hasClass)(i.target,"htAutocompleteArrow")&&t.view.wt.getSetting("onCellDblClick",null,new s.a(n,r),e)},m.addEventListener(t.rootElement,"mousedown",t.acArrowListener),t.addHookOnce("afterDestroy",function(){m.destroy()})}},u=(n(41),n(7),n(6),n(26),n(47),n(8),n(32),n(9),n(37)),c=n(17),h=n(29),f=n(14),d=new WeakMap,p=new WeakMap,g="htBadValue";function m(t){return"INPUT"===t.tagName&&"checkbox"===t.getAttribute("type")}var v=function(t,e,n,r,i,s,l){for(var v=t.rootDocument,y=arguments.length,b=new Array(y>7?y-7:0),w=7;w<y;w++)b[w-7]=arguments[w];N("base").apply(this,[t,e,n,r,i,s,l].concat(b)),function(t){var e=p.get(t);if(!e){var n=t.rootElement;(e=new a.a(t)).addEventListener(n,"click",function(e){return function(t,e){if(!m(t.target))return!1;var n=parseInt(t.target.getAttribute("data-row"),10),r=parseInt(t.target.getAttribute("data-col"),10);e.getCellMeta(n,r).readOnly&&t.preventDefault()}(e,t)}),e.addEventListener(n,"mouseup",function(e){return function(t,e){m(t.target)&&setTimeout(e.listen,10)}(e,t)}),e.addEventListener(n,"change",function(e){return function(t,e){if(!m(t.target))return!1;var n=parseInt(t.target.getAttribute("data-row"),10),r=parseInt(t.target.getAttribute("data-col"),10),o=e.getCellMeta(n,r);if(!o.readOnly){var i=null;i=t.target.checked?void 0===o.uncheckedTemplate||o.checkedTemplate:void 0!==o.uncheckedTemplate&&o.uncheckedTemplate,e.setDataAtCell(n,r,i)}}(e,t)}),p.set(t,e)}}(t);var C=function(t){var e=t.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("autocomplete","off"),e.setAttribute("tabindex","-1"),e.cloneNode(!1)}(v),O=l.label,S=!1;if("undefined"===typeof l.checkedTemplate&&(l.checkedTemplate=!0),"undefined"===typeof l.uncheckedTemplate&&(l.uncheckedTemplate=!1),Object(o.empty)(e),s===l.checkedTemplate||Object(u.equalsIgnoreCase)(s,l.checkedTemplate)?C.checked=!0:s===l.uncheckedTemplate||Object(u.equalsIgnoreCase)(s,l.uncheckedTemplate)?C.checked=!1:null===s?Object(o.addClass)(C,"noValue"):(C.style.display="none",Object(o.addClass)(C,g),S=!0),C.setAttribute("data-row",n),C.setAttribute("data-col",r),!S&&O){var E="";O.value?E="function"===typeof O.value?O.value.call(this,n,r,i,s):O.value:O.property&&(E=t.getDataAtRowProp(n,O.property));var k=function(t,e){var n=t.createElement("label");return n.className="htCheckboxRendererLabel",n.appendChild(t.createTextNode(e)),n.cloneNode(!0)}(v,E);"before"===O.position?k.appendChild(C):k.insertBefore(C,k.firstChild),C=k}function T(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.getSelectedRangeLast();if(n){for(var r=n.getTopLeftCorner(),o=r.row,i=r.col,a=n.getBottomRightCorner(),s=a.row,l=a.col,u=[],c=o;c<=s;c+=1)for(var h=i;h<=l;h+=1){var f=t.getCellMeta(c,h);if("checkbox"!==f.type)return;if(!0!==f.readOnly){"undefined"===typeof f.checkedTemplate&&(f.checkedTemplate=!0),"undefined"===typeof f.uncheckedTemplate&&(f.uncheckedTemplate=!1);var d=t.getDataAtCell(c,h);!1===e?[f.checkedTemplate,f.checkedTemplate.toString()].includes(d)?u.push([c,h,f.uncheckedTemplate]):[f.uncheckedTemplate,f.uncheckedTemplate.toString(),null,void 0].includes(d)&&u.push([c,h,f.checkedTemplate]):u.push([c,h,f.uncheckedTemplate])}}u.length>0&&t.setDataAtCell(u)}}e.appendChild(C),S&&e.appendChild(v.createTextNode("#bad-value#")),d.has(t)||(d.set(t,!0),t.addHook("beforeKeyDown",function(e){var n=Object(h.partial)(c.isKey,e.keyCode);!t.getSettings().enterBeginsEditing&&n("ENTER")||(n("".concat("SPACE|ENTER","|").concat("DELETE|BACKSPACE"))&&!Object(f.isImmediatePropagationStopped)(e)&&function(e){var n=t.getSelectedRangeLast();if(n)for(var r=n.getTopLeftCorner(),o=n.getBottomRightCorner(),i=r.row;i<=o.row;i++)for(var a=r.col;a<=o.col;a++){var s=t.getCellMeta(i,a);if("checkbox"!==s.type)return;var l=t.getCell(i,a);if(null===l||void 0===l)e(i,a,s);else{var u=l.querySelectorAll("input[type=checkbox]");u.length>0&&!s.readOnly&&e(u)}}}(function(){Object(f.stopImmediatePropagation)(e),e.preventDefault()}),n("SPACE|ENTER")&&T(),n("DELETE|BACKSPACE")&&T(!0))}))};var y=function(t,e,n,r,i,a){for(var s=arguments.length,l=new Array(s>6?s-6:0),u=6;u<s;u++)l[u-6]=arguments[u];N("base").apply(this,[t,e,n,r,i,a].concat(l)),Object(o.fastInnerHTML)(e,null===a||void 0===a?"":a)},b=(n(22),n(61),n(51),n(60),n(84)),w=n.n(b),C=n(4);var O=function(t,e,n,r,o,i,a){var s=i;if(Object(C.isNumeric)(s)){var l=a.numericFormat,u=l&&l.culture||"-",c=l&&l.pattern,h=a.className||"",f=h.length?h.split(" "):[];if("undefined"!==typeof u&&!w.a.languages()[u]){var d=u.replace("-",""),p=w.a.allLanguages?w.a.allLanguages[u]:w.a[d];p&&w.a.registerLanguage(p)}w.a.setLanguage(u),s=w()(s).format(c||"0"),f.indexOf("htLeft")<0&&f.indexOf("htCenter")<0&&f.indexOf("htRight")<0&&f.indexOf("htJustify")<0&&f.push("htRight"),f.indexOf("htNumeric")<0&&f.push("htNumeric"),a.className=f.join(" ")}N("text")(t,e,n,r,o,s,a)};var S=function(t,e,n,r,i,a,s){for(var l=arguments.length,u=new Array(l>7?l-7:0),c=7;c<l;c++)u[c-7]=arguments[c];N("text").apply(this,[t,e,n,r,i,a,s].concat(u));var h=s.hashLength||e.innerHTML.length,f=s.hashSymbol||"*",d="";Object(C.rangeEach)(h-1,function(){d+=f}),Object(o.fastInnerHTML)(e,d)},E=n(13);var k=function(t,e,n,r,i,a,s){for(var l=arguments.length,u=new Array(l>7?l-7:0),c=7;c<l;c++)u[c-7]=arguments[c];N("base").apply(this,[t,e,n,r,i,a,s].concat(u));var h=a;if(!h&&s.placeholder&&(h=s.placeholder),h=Object(E.stringify)(h),t.getSettings().trimWhitespace||(h=h.replace(/ /g,String.fromCharCode(160))),s.rendererTemplate){Object(o.empty)(e);var f=t.rootDocument.createElement("TEMPLATE");f.setAttribute("bind","{{}}"),f.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(f),f.model=t.getSourceDataAtRow(n),e.appendChild(f)}else Object(o.fastInnerText)(e,h)};n.d(e,"c",function(){return R}),n.d(e,"b",function(){return N}),n.d(e,"a",function(){return A});var T=Object(r.a)("renderers"),R=T.register,x=T.getItem,M=T.hasItem,A=T.getNames;T.getValues;function N(t){if("function"===typeof t)return t;if(!M(t))throw Error('No registered renderer found under "'.concat(t,'" name'));return x(t)}R("base",i),R("autocomplete",l),R("checkbox",v),R("html",y),R("numeric",O),R("password",S),R("text",k)},function(t,e,n){"use strict";var r=n(1),o=n(2),i={_localHooks:Object.create(null),addLocalHook:function(t,e){return this._localHooks[t]||(this._localHooks[t]=[]),this._localHooks[t].push(e),this},runLocalHooks:function(t){for(var e=this,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];this._localHooks[t]&&Object(r.arrayEach)(this._localHooks[t],function(t){return t.apply(e,o)})},clearLocalHooks:function(){return this._localHooks={},this}};Object(o.defineGetter)(i,"MIXIN_NAME","localHooks",{writable:!1,enumerable:!1}),e.a=i},function(t,e,n){"use strict";var r=n(135)(!0);n(28)({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(101)("includes")},function(t,e,n){"use strict";n.r(e),n.d(e,"setBrowserMeta",function(){return a}),n.d(e,"isChrome",function(){return s}),n.d(e,"isEdge",function(){return l}),n.d(e,"isIE",function(){return u}),n.d(e,"isIE8",function(){return c}),n.d(e,"isIE9",function(){return h}),n.d(e,"isMSBrowser",function(){return f}),n.d(e,"isMobileBrowser",function(){return d}),n.d(e,"isSafari",function(){return p});var r=n(2),o=function(t){var e={value:!1,test:function(n,r){e.value=t(n,r)}};return e},i={chrome:o(function(t,e){return/Chrome/.test(t)&&/Google/.test(e)}),edge:o(function(t){return/Edge/.test(t)}),ie:o(function(t){return/Trident/.test(t)}),ie8:o(function(){return!document.createTextNode("test").textContent}),ie9:o(function(){return!!document.documentMode}),mobile:o(function(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)}),safari:o(function(t,e){return/Safari/.test(t)&&/Apple Computer/.test(e)})};function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.userAgent,n=void 0===e?navigator.userAgent:e,o=t.vendor,a=void 0===o?navigator.vendor:o;Object(r.objectEach)(i,function(t){(0,t.test)(n,a)})}function s(){return i.chrome.value}function l(){return i.edge.value}function u(){return i.ie.value}function c(){return i.ie8.value}function h(){return i.ie9.value}function f(){return i.ie.value||i.edge.value}function d(){return i.mobile.value}function p(){return i.safari.value}a()},function(t,e,n){"use strict";var r=n(110),o=n(85),i=n(56),a=n(67),s=n(146),l=n(120),u=Math.max,c=Math.min,h=n(106)("splice");n(28)({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var n,h,f,d,p,g,m=a(this),v=i(m.length),y=r(t,v),b=arguments.length;if(0===b?n=h=0:1===b?(n=0,h=v-y):(n=b-2,h=c(u(o(e),0),v-y)),v+n-h>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(f=s(m,h),d=0;d<h;d++)(p=y+d)in m&&l(f,d,m[p]);if(f.length=h,n<h){for(d=y;d<v-h;d++)g=d+n,(p=d+h)in m?m[g]=m[p]:delete m[g];for(d=v;d>v-h+n;d--)delete m[d-1]}else if(n>h)for(d=v-h;d>y;d--)g=d+n-1,(p=d+h-1)in m?m[g]=m[p]:delete m[g];for(d=0;d<n;d++)m[d+y]=arguments[d+2];return m.length=v-h+n,f}})},function(t,e){t.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},function(t,e,n){var r=n(100)("wks"),o=n(113),i=n(44).Symbol,a=n(165);t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}},function(t,e,n){var o;"undefined"!==typeof self&&self,o=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=15)}([function(t,e){e.nil=new Error("#NULL!"),e.div0=new Error("#DIV/0!"),e.value=new Error("#VALUE!"),e.ref=new Error("#REF!"),e.name=new Error("#NAME?"),e.num=new Error("#NUM!"),e.na=new Error("#N/A"),e.error=new Error("#ERROR!"),e.data=new Error("#GETTING_DATA")},function(t,e,n){var r=n(0);e.flattenShallow=function(t){return t&&t.reduce?t.reduce(function(t,e){var n=Array.isArray(t),r=Array.isArray(e);return n&&r?t.concat(e):n?(t.push(e),t):r?[t].concat(e):[t,e]}):t},e.isFlat=function(t){if(!t)return!1;for(var e=0;e<t.length;++e)if(Array.isArray(t[e]))return!1;return!0},e.flatten=function(){for(var t=e.argsToArray.apply(null,arguments);!e.isFlat(t);)t=e.flattenShallow(t);return t},e.argsToArray=function(t){var n=[];return e.arrayEach(t,function(t){n.push(t)}),n},e.numbers=function(){return this.flatten.apply(null,arguments).filter(function(t){return"number"===typeof t})},e.cleanFloat=function(t){return Math.round(1e14*t)/1e14},e.parseBool=function(t){if("boolean"===typeof t)return t;if(t instanceof Error)return t;if("number"===typeof t)return 0!==t;if("string"===typeof t){var e=t.toUpperCase();if("TRUE"===e)return!0;if("FALSE"===e)return!1}return t instanceof Date&&!isNaN(t)||r.value},e.parseNumber=function(t){return void 0===t||""===t?r.value:isNaN(t)?r.value:parseFloat(t)},e.parseNumberArray=function(t){var n,o;if(!t||0===(n=t.length))return r.value;for(;n--;){if((o=e.parseNumber(t[n]))===r.value)return o;t[n]=o}return t},e.parseMatrix=function(t){var n;if(!t||0===t.length)return r.value;for(var o=0;o<t.length;o++)if(n=e.parseNumberArray(t[o]),t[o]=n,n instanceof Error)return n;return t};var o=new Date(Date.UTC(1900,0,1));e.parseDate=function(t){if(!isNaN(t)){if(t instanceof Date)return new Date(t);var e=parseInt(t,10);return e<0?r.num:e<=60?new Date(o.getTime()+864e5*(e-1)):new Date(o.getTime()+864e5*(e-2))}return"string"!==typeof t||(t=new Date(t),isNaN(t))?r.value:t},e.parseDateArray=function(t){for(var e,n=t.length;n--;){if((e=this.parseDate(t[n]))===r.value)return e;t[n]=e}return t},e.anyIsError=function(){for(var t=arguments.length;t--;)if(arguments[t]instanceof Error)return!0;return!1},e.arrayValuesToNumbers=function(t){for(var e,n=t.length;n--;)if("number"!==typeof(e=t[n]))if(!0!==e)if(!1!==e){if("string"===typeof e){var r=this.parseNumber(e);r instanceof Error?t[n]=0:t[n]=r}}else t[n]=0;else t[n]=1;return t},e.rest=function(t,e){return e=e||1,t&&"function"===typeof t.slice?t.slice(e):t},e.initial=function(t,e){return e=e||1,t&&"function"===typeof t.slice?t.slice(0,t.length-e):t},e.arrayEach=function(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t},e.transpose=function(t){return t?t[0].map(function(e,n){return t.map(function(t){return t[n]})}):r.value}},function(t,e,n){"use strict";var r;e.__esModule=!0,e.default=function(t){var e=void 0;t=(t+"").replace(/#|!|\?/g,""),f[t]&&(e=f[t]);return e||null},e.isValidStrict=function(t){var e=!1;for(var n in f)if(Object.prototype.hasOwnProperty.call(f,n)&&f[n]===t){e=!0;break}return e};var o=e.ERROR="ERROR",i=e.ERROR_DIV_ZERO="DIV/0",a=e.ERROR_NAME="NAME",s=e.ERROR_NOT_AVAILABLE="N/A",l=e.ERROR_NULL="NULL",u=e.ERROR_NUM="NUM",c=e.ERROR_REF="REF",h=e.ERROR_VALUE="VALUE",f=((r={})[o]="#ERROR!",r[i]="#DIV/0!",r[a]="#NAME?",r[s]="#N/A",r[l]="#NULL!",r[u]="#NUM!",r[c]="#REF!",r[h]="#VALUE!",r)},function(t,e,n){"use strict";function r(t){var e=void 0;return"number"===typeof t?e=t:"string"===typeof t&&(e=t.indexOf(".")>-1?parseFloat(t):parseInt(t,10)),e}e.__esModule=!0,e.toNumber=r,e.invertNumber=function(t){return-1*r(t)}},function(t,e,n){var r=n(1),o=n(0),i=n(5),a=n(8),s=n(7);e.ABS=function(t){return(t=r.parseNumber(t))instanceof Error?t:Math.abs(t)},e.ACOS=function(t){if((t=r.parseNumber(t))instanceof Error)return t;var e=Math.acos(t);return isNaN(e)&&(e=o.num),e},e.ACOSH=function(t){if((t=r.parseNumber(t))instanceof Error)return t;var e=Math.log(t+Math.sqrt(t*t-1));return isNaN(e)&&(e=o.num),e},e.ACOT=function(t){return(t=r.parseNumber(t))instanceof Error?t:Math.atan(1/t)},e.ACOTH=function(t){if((t=r.parseNumber(t))instanceof Error)return t;var e=.5*Math.log((t+1)/(t-1));return isNaN(e)&&(e=o.num),e},e.AGGREGATE=function(t,n,a,s){if(t=r.parseNumber(t),n=r.parseNumber(t),r.anyIsError(t,n))return o.value;switch(t){case 1:return i.AVERAGE(a);case 2:return i.COUNT(a);case 3:return i.COUNTA(a);case 4:return i.MAX(a);case 5:return i.MIN(a);case 6:return e.PRODUCT(a);case 7:return i.STDEV.S(a);case 8:return i.STDEV.P(a);case 9:return e.SUM(a);case 10:return i.VAR.S(a);case 11:return i.VAR.P(a);case 12:return i.MEDIAN(a);case 13:return i.MODE.SNGL(a);case 14:return i.LARGE(a,s);case 15:return i.SMALL(a,s);case 16:return i.PERCENTILE.INC(a,s);case 17:return i.QUARTILE.INC(a,s);case 18:return i.PERCENTILE.EXC(a,s);case 19:return i.QUARTILE.EXC(a,s)}},e.ARABIC=function(t){if(!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(t))return o.value;var e=0;return t.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,function(t){e+={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}[t]}),e},e.ASIN=function(t){if((t=r.parseNumber(t))instanceof Error)return t;var e=Math.asin(t);return isNaN(e)&&(e=o.num),e},e.ASINH=function(t){return(t=r.parseNumber(t))instanceof Error?t:Math.log(t+Math.sqrt(t*t+1))},e.ATAN=function(t){return(t=r.parseNumber(t))instanceof Error?t:Math.atan(t)},e.ATAN2=function(t,e){return t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.value:Math.atan2(t,e)},e.ATANH=function(t){if((t=r.parseNumber(t))instanceof Error)return t;var e=Math.log((1+t)/(1-t))/2;return isNaN(e)&&(e=o.num),e},e.BASE=function(t,e,n){if(n=n||0,t=r.parseNumber(t),e=r.parseNumber(e),n=r.parseNumber(n),r.anyIsError(t,e,n))return o.value;n=void 0===n?0:n;var i=t.toString(e);return new Array(Math.max(n+1-i.length,0)).join("0")+i},e.CEILING=function(t,n,i){if(n=void 0===n?1:Math.abs(n),i=i||0,t=r.parseNumber(t),n=r.parseNumber(n),i=r.parseNumber(i),r.anyIsError(t,n,i))return o.value;if(0===n)return 0;var a=-Math.floor(Math.log(n)/Math.log(10));return t>=0?e.ROUND(Math.ceil(t/n)*n,a):0===i?-e.ROUND(Math.floor(Math.abs(t)/n)*n,a):-e.ROUND(Math.ceil(Math.abs(t)/n)*n,a)},e.CEILING.MATH=e.CEILING,e.CEILING.PRECISE=e.CEILING,e.COMBIN=function(t,n){return t=r.parseNumber(t),n=r.parseNumber(n),r.anyIsError(t,n)?o.value:e.FACT(t)/(e.FACT(n)*e.FACT(t-n))},e.COMBINA=function(t,n){return t=r.parseNumber(t),n=r.parseNumber(n),r.anyIsError(t,n)?o.value:0===t&&0===n?1:e.COMBIN(t+n-1,t-1)},e.COS=function(t){return(t=r.parseNumber(t))instanceof Error?t:Math.cos(t)},e.COSH=function(t){return(t=r.parseNumber(t))instanceof Error?t:(Math.exp(t)+Math.exp(-t))/2},e.COT=function(t){return(t=r.parseNumber(t))instanceof Error?t:1/Math.tan(t)},e.COTH=function(t){if((t=r.parseNumber(t))instanceof Error)return t;var e=Math.exp(2*t);return(e+1)/(e-1)},e.CSC=function(t){return(t=r.parseNumber(t))instanceof Error?t:1/Math.sin(t)},e.CSCH=function(t){return(t=r.parseNumber(t))instanceof Error?t:2/(Math.exp(t)-Math.exp(-t))},e.DECIMAL=function(t,e){return arguments.length<1?o.value:parseInt(t,e)},e.DEGREES=function(t){return(t=r.parseNumber(t))instanceof Error?t:180*t/Math.PI},e.EVEN=function(t){return(t=r.parseNumber(t))instanceof Error?t:e.CEILING(t,-2,-1)},e.EXP=function(t){return arguments.length<1?o.na:"number"!==typeof t||arguments.length>1?o.error:t=Math.exp(t)};var l=[];e.FACT=function(t){if((t=r.parseNumber(t))instanceof Error)return t;var n=Math.floor(t);return 0===n||1===n?1:l[n]>0?l[n]:(l[n]=e.FACT(n-1)*n,l[n])},e.FACTDOUBLE=function(t){if((t=r.parseNumber(t))instanceof Error)return t;var n=Math.floor(t);return n<=0?1:n*e.FACTDOUBLE(n-2)},e.FLOOR=function(t,n){if(t=r.parseNumber(t),n=r.parseNumber(n),r.anyIsError(t,n))return o.value;if(0===n)return 0;if(!(t>0&&n>0)&&!(t<0&&n<0))return o.num;n=Math.abs(n);var i=-Math.floor(Math.log(n)/Math.log(10));return t>=0?e.ROUND(Math.floor(t/n)*n,i):-e.ROUND(Math.ceil(Math.abs(t)/n),i)},e.FLOOR.MATH=function(t,n,i){if(n=void 0===n?1:n,i=void 0===i?0:i,t=r.parseNumber(t),n=r.parseNumber(n),i=r.parseNumber(i),r.anyIsError(t,n,i))return o.value;if(0===n)return 0;n=n?Math.abs(n):1;var a=-Math.floor(Math.log(n)/Math.log(10));return t>=0?e.ROUND(Math.floor(t/n)*n,a):0===i||void 0===i?-e.ROUND(Math.ceil(Math.abs(t)/n)*n,a):-e.ROUND(Math.floor(Math.abs(t)/n)*n,a)},e.FLOOR.PRECISE=e.FLOOR.MATH,e.GCD=function(){var t=r.parseNumberArray(r.flatten(arguments));if(t instanceof Error)return t;for(var e=t.length,n=t[0],o=n<0?-n:n,i=1;i<e;i++){for(var a=t[i],s=a<0?-a:a;o&&s;)o>s?o%=s:s%=o;o+=s}return o},e.INT=function(t){return(t=r.parseNumber(t))instanceof Error?t:Math.floor(t)},e.ISO={CEILING:e.CEILING},e.LCM=function(){var t=r.parseNumberArray(r.flatten(arguments));if(t instanceof Error)return t;for(var e,n,o,i,a=1;void 0!==(o=t.pop());)for(;o>1;){if(o%2){for(e=3,n=Math.floor(Math.sqrt(o));e<=n&&o%e;e+=2);i=e<=n?e:o}else i=2;for(o/=i,a*=i,e=t.length;e;t[--e]%i===0&&1===(t[e]/=i)&&t.splice(e,1));}return a},e.LN=function(t){return(t=r.parseNumber(t))instanceof Error?t:Math.log(t)},e.LN10=function(){return Math.log(10)},e.LN2=function(){return Math.log(2)},e.LOG10E=function(){return Math.LOG10E},e.LOG2E=function(){return Math.LOG2E},e.LOG=function(t,e){return t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.value:(e=void 0===e?10:e,Math.log(t)/Math.log(e))},e.LOG10=function(t){return(t=r.parseNumber(t))instanceof Error?t:Math.log(t)/Math.log(10)},e.MOD=function(t,e){if(t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e))return o.value;if(0===e)return o.div0;var n=Math.abs(t%e);return e>0?n:-n},e.MROUND=function(t,e){return t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.value:t*e<0?o.num:Math.round(t/e)*e},e.MULTINOMIAL=function(){var t=r.parseNumberArray(r.flatten(arguments));if(t instanceof Error)return t;for(var n=0,o=1,i=0;i<t.length;i++)n+=t[i],o*=e.FACT(t[i]);return e.FACT(n)/o},e.ODD=function(t){if((t=r.parseNumber(t))instanceof Error)return t;var e=Math.ceil(Math.abs(t));return e=1&e?e:e+1,t>0?e:-e},e.PI=function(){return Math.PI},e.E=function(){return Math.E},e.POWER=function(t,e){if(t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e))return o.value;var n=Math.pow(t,e);return isNaN(n)?o.num:n},e.PRODUCT=function(){var t=r.parseNumberArray(r.flatten(arguments));if(t instanceof Error)return t;for(var e=1,n=0;n<t.length;n++)e*=t[n];return e},e.QUOTIENT=function(t,e){return t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.value:parseInt(t/e,10)},e.RADIANS=function(t){return(t=r.parseNumber(t))instanceof Error?t:t*Math.PI/180},e.RAND=function(){return Math.random()},e.RANDBETWEEN=function(t,e){return t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.value:t+Math.ceil((e-t+1)*Math.random())-1},e.ROMAN=function(t){if((t=r.parseNumber(t))instanceof Error)return t;for(var e=String(t).split(""),n=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],o="",i=3;i--;)o=(n[+e.pop()+10*i]||"")+o;return new Array(+e.join("")+1).join("M")+o},e.ROUND=function(t,e){return t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.value:Math.round(t*Math.pow(10,e))/Math.pow(10,e)},e.ROUNDDOWN=function(t,e){return t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.value:(t>0?1:-1)*Math.floor(Math.abs(t)*Math.pow(10,e))/Math.pow(10,e)},e.ROUNDUP=function(t,e){return t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.value:(t>0?1:-1)*Math.ceil(Math.abs(t)*Math.pow(10,e))/Math.pow(10,e)},e.SEC=function(t){return(t=r.parseNumber(t))instanceof Error?t:1/Math.cos(t)},e.SECH=function(t){return(t=r.parseNumber(t))instanceof Error?t:2/(Math.exp(t)+Math.exp(-t))},e.SERIESSUM=function(t,e,n,i){if(t=r.parseNumber(t),e=r.parseNumber(e),n=r.parseNumber(n),i=r.parseNumberArray(i),r.anyIsError(t,e,n,i))return o.value;for(var a=i[0]*Math.pow(t,e),s=1;s<i.length;s++)a+=i[s]*Math.pow(t,e+s*n);return a},e.SIGN=function(t){return(t=r.parseNumber(t))instanceof Error?t:t<0?-1:0===t?0:1},e.SIN=function(t){return(t=r.parseNumber(t))instanceof Error?t:Math.sin(t)},e.SINH=function(t){return(t=r.parseNumber(t))instanceof Error?t:(Math.exp(t)-Math.exp(-t))/2},e.SQRT=function(t){return(t=r.parseNumber(t))instanceof Error?t:t<0?o.num:Math.sqrt(t)},e.SQRTPI=function(t){return(t=r.parseNumber(t))instanceof Error?t:Math.sqrt(t*Math.PI)},e.SQRT1_2=function(){return 1/Math.sqrt(2)},e.SQRT2=function(){return Math.sqrt(2)},e.SUBTOTAL=function(t,n){if((t=r.parseNumber(t))instanceof Error)return t;switch(t){case 1:return i.AVERAGE(n);case 2:return i.COUNT(n);case 3:return i.COUNTA(n);case 4:return i.MAX(n);case 5:return i.MIN(n);case 6:return e.PRODUCT(n);case 7:return i.STDEV.S(n);case 8:return i.STDEV.P(n);case 9:return e.SUM(n);case 10:return i.VAR.S(n);case 11:return i.VAR.P(n);case 101:return i.AVERAGE(n);case 102:return i.COUNT(n);case 103:return i.COUNTA(n);case 104:return i.MAX(n);case 105:return i.MIN(n);case 106:return e.PRODUCT(n);case 107:return i.STDEV.S(n);case 108:return i.STDEV.P(n);case 109:return e.SUM(n);case 110:return i.VAR.S(n);case 111:return i.VAR.P(n)}},e.ADD=function(t,e){return 2!==arguments.length?o.na:(t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.value:t+e)},e.MINUS=function(t,e){return 2!==arguments.length?o.na:(t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.value:t-e)},e.DIVIDE=function(t,e){return 2!==arguments.length?o.na:(t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.value:0===e?o.div0:t/e)},e.MULTIPLY=function(t,e){return 2!==arguments.length?o.na:(t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.value:t*e)},e.GTE=function(t,e){return 2!==arguments.length?o.na:(t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.error:t>=e)},e.LT=function(t,e){return 2!==arguments.length?o.na:(t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.error:t<e)},e.LTE=function(t,e){return 2!==arguments.length?o.na:(t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.error:t<=e)},e.EQ=function(t,e){return 2!==arguments.length?o.na:t===e},e.NE=function(t,e){return 2!==arguments.length?o.na:t!==e},e.POW=function(t,n){return 2!==arguments.length?o.na:(t=r.parseNumber(t),n=r.parseNumber(n),r.anyIsError(t,n)?o.error:e.POWER(t,n))},e.SUM=function(){var t=0;return r.arrayEach(r.argsToArray(arguments),function(n){if("number"===typeof n)t+=n;else if("string"===typeof n){var r=parseFloat(n);!isNaN(r)&&(t+=r)}else Array.isArray(n)&&(t+=e.SUM.apply(null,n))}),t},e.SUMIF=function(t,e){if((t=r.parseNumberArray(r.flatten(t)))instanceof Error)return t;for(var n=0,o=void 0===e||"*"===e,i=o?null:s.parse(e+""),a=0;a<t.length;a++){var l=t[a];if(o)n+=l;else{var u=[s.createToken(l,s.TOKEN_TYPE_LITERAL)].concat(i);n+=s.compute(u)?l:0}}return n},e.SUMIFS=function(){var t=r.argsToArray(arguments),e=r.parseNumberArray(r.flatten(t.shift()));if(e instanceof Error)return e;for(var n=t,o=e.length,i=n.length,a=0,l=0;l<o;l++){for(var u=e[l],c=!1,h=0;h<i;h++){var f=n[h],d=!1;if(void 0===f||"*"===f)d=!0;else{var p=s.parse(f+""),g=[s.createToken(u,s.TOKEN_TYPE_LITERAL)].concat(p);d=s.compute(g)}if(!d){c=!1;break}c=!0}c&&(a+=u)}return a},e.SUMPRODUCT=function(){if(!arguments||0===arguments.length)return o.value;for(var t,e,n,i,a=arguments.length+1,s=0,l=0;l<arguments[0].length;l++)if(arguments[0][l]instanceof Array)for(var u=0;u<arguments[0][l].length;u++){for(t=1,e=1;e<a;e++){if((i=r.parseNumber(arguments[e-1][l][u]))instanceof Error)return i;t*=i}s+=t}else{for(t=1,e=1;e<a;e++){if((n=r.parseNumber(arguments[e-1][l]))instanceof Error)return n;t*=n}s+=t}return s},e.SUMSQ=function(){var t=r.parseNumberArray(r.flatten(arguments));if(t instanceof Error)return t;for(var e=0,n=t.length,o=0;o<n;o++)e+=a.ISNUMBER(t[o])?t[o]*t[o]:0;return e},e.SUMX2MY2=function(t,e){if(t=r.parseNumberArray(r.flatten(t)),e=r.parseNumberArray(r.flatten(e)),r.anyIsError(t,e))return o.value;for(var n=0,i=0;i<t.length;i++)n+=t[i]*t[i]-e[i]*e[i];return n},e.SUMX2PY2=function(t,e){if(t=r.parseNumberArray(r.flatten(t)),e=r.parseNumberArray(r.flatten(e)),r.anyIsError(t,e))return o.value;var n=0;t=r.parseNumberArray(r.flatten(t)),e=r.parseNumberArray(r.flatten(e));for(var i=0;i<t.length;i++)n+=t[i]*t[i]+e[i]*e[i];return n},e.SUMXMY2=function(t,e){if(t=r.parseNumberArray(r.flatten(t)),e=r.parseNumberArray(r.flatten(e)),r.anyIsError(t,e))return o.value;var n=0;t=r.flatten(t),e=r.flatten(e);for(var i=0;i<t.length;i++)n+=Math.pow(t[i]-e[i],2);return n},e.TAN=function(t){return(t=r.parseNumber(t))instanceof Error?t:Math.tan(t)},e.TANH=function(t){if((t=r.parseNumber(t))instanceof Error)return t;var e=Math.exp(2*t);return(e-1)/(e+1)},e.TRUNC=function(t,e){return e=void 0===e?0:e,t=r.parseNumber(t),e=r.parseNumber(e),r.anyIsError(t,e)?o.value:(t>0?1:-1)*Math.floor(Math.abs(t)*Math.pow(10,e))/Math.pow(10,e)}},function(t,e,n){var r=n(4),o=n(6),i=n(10),a=n(1),s=n(7),l=n(0),u=n(11);e.AVEDEV=function(){var t=a.parseNumberArray(a.flatten(arguments));return t instanceof Error?t:i.sum(i(t).subtract(i.mean(t)).abs()[0])/t.length},e.AVERAGE=function(){for(var t,e=a.numbers(a.flatten(arguments)),n=e.length,r=0,o=0,i=0;i<n;i++)r+=e[i],o+=1;return t=r/o,isNaN(t)&&(t=l.num),t},e.AVERAGEA=function(){for(var t,e=a.flatten(arguments),n=e.length,r=0,o=0,i=0;i<n;i++){var s=e[i];"number"===typeof s&&(r+=s),!0===s&&r++,null!==s&&o++}return t=r/o,isNaN(t)&&(t=l.num),t},e.AVERAGEIF=function(t,e,n){if(arguments.length<=1)return l.na;if(n=n||t,t=a.flatten(t),(n=a.parseNumberArray(a.flatten(n)))instanceof Error)return n;for(var r=0,o=0,i=void 0===e||"*"===e,u=i?null:s.parse(e+""),c=0;c<t.length;c++){var h=t[c];if(i)o+=n[c],r++;else{var f=[s.createToken(h,s.TOKEN_TYPE_LITERAL)].concat(u);s.compute(f)&&(o+=n[c],r++)}}return o/r},e.AVERAGEIFS=function(){for(var t=a.argsToArray(arguments),e=(t.length-1)/2,n=a.flatten(t[0]),r=0,o=0,i=0;i<n.length;i++){for(var l=!1,u=0;u<e;u++){var c=t[2*u+1][i],h=t[2*u+2],f=!1;if(void 0===h||"*"===h)f=!0;else{var d=s.parse(h+""),p=[s.createToken(c,s.TOKEN_TYPE_LITERAL)].concat(d);f=s.compute(p)}if(!f){l=!1;break}l=!0}l&&(o+=n[i],r++)}var g=o/r;return isNaN(g)?0:g},e.BETA={},e.BETA.DIST=function(t,e,n,r,o,s){return arguments.length<4?l.value:(o=void 0===o?0:o,s=void 0===s?1:s,t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),o=a.parseNumber(o),s=a.parseNumber(s),a.anyIsError(t,e,n,o,s)?l.value:(t=(t-o)/(s-o),r?i.beta.cdf(t,e,n):i.beta.pdf(t,e,n)))},e.BETA.INV=function(t,e,n,r,o){return r=void 0===r?0:r,o=void 0===o?1:o,t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),r=a.parseNumber(r),o=a.parseNumber(o),a.anyIsError(t,e,n,r,o)?l.value:i.beta.inv(t,e,n)*(o-r)+r},e.BINOM={},e.BINOM.DIST=function(t,e,n,r){return t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),r=a.parseNumber(r),a.anyIsError(t,e,n,r)?l.value:r?i.binomial.cdf(t,e,n):i.binomial.pdf(t,e,n)},e.BINOM.DIST.RANGE=function(t,e,n,o){if(o=void 0===o?n:o,t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),o=a.parseNumber(o),a.anyIsError(t,e,n,o))return l.value;for(var i=0,s=n;s<=o;s++)i+=r.COMBIN(t,s)*Math.pow(e,s)*Math.pow(1-e,t-s);return i},e.BINOM.INV=function(t,e,n){if(t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),a.anyIsError(t,e,n))return l.value;for(var r=0;r<=t;){if(i.binomial.cdf(r,t,e)>=n)return r;r++}},e.CHISQ={},e.CHISQ.DIST=function(t,e,n){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?l.value:n?i.chisquare.cdf(t,e):i.chisquare.pdf(t,e)},e.CHISQ.DIST.RT=function(t,e){return!t|!e?l.na:t<1||e>Math.pow(10,10)?l.num:"number"!==typeof t||"number"!==typeof e?l.value:1-i.chisquare.cdf(t,e)},e.CHISQ.INV=function(t,e){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?l.value:i.chisquare.inv(t,e)},e.CHISQ.INV.RT=function(t,e){return!t|!e?l.na:t<0||t>1||e<1||e>Math.pow(10,10)?l.num:"number"!==typeof t||"number"!==typeof e?l.value:i.chisquare.inv(1-t,e)},e.CHISQ.TEST=function(t,e){if(2!==arguments.length)return l.na;if(!(t instanceof Array)||!(e instanceof Array))return l.value;if(t.length!==e.length)return l.value;if(t[0]&&e[0]&&t[0].length!==e[0].length)return l.value;var n,r,o,i=t.length;for(r=0;r<i;r++)t[r]instanceof Array||(n=t[r],t[r]=[],t[r].push(n)),e[r]instanceof Array||(n=e[r],e[r]=[],e[r].push(n));var a=t[0].length,s=1===a?i-1:(i-1)*(a-1),u=0,c=Math.PI;for(r=0;r<i;r++)for(o=0;o<a;o++)u+=Math.pow(t[r][o]-e[r][o],2)/e[r][o];return Math.round(1e6*function(t,e){var n=Math.exp(-.5*t);e%2===1&&(n*=Math.sqrt(2*t/c));for(var r=e;r>=2;)n=n*t/r,r-=2;for(var o=n,i=e;o>1e-10*n;)n+=o=o*t/(i+=2);return 1-n}(u,s))/1e6},e.COLUMN=function(t,e){return 2!==arguments.length?l.na:e<0?l.num:t instanceof Array&&"number"===typeof e?0!==t.length?i.col(t,e):void 0:l.value},e.COLUMNS=function(t){return 1!==arguments.length?l.na:t instanceof Array?0===t.length?0:i.cols(t):l.value},e.CONFIDENCE={},e.CONFIDENCE.NORM=function(t,e,n){return t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),a.anyIsError(t,e,n)?l.value:i.normalci(1,t,e,n)[1]-1},e.CONFIDENCE.T=function(t,e,n){return t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),a.anyIsError(t,e,n)?l.value:i.tci(1,t,e,n)[1]-1},e.CORREL=function(t,e){return t=a.parseNumberArray(a.flatten(t)),e=a.parseNumberArray(a.flatten(e)),a.anyIsError(t,e)?l.value:i.corrcoeff(t,e)},e.COUNT=function(){return a.numbers(a.flatten(arguments)).length},e.COUNTA=function(){var t=a.flatten(arguments);return t.length-e.COUNTBLANK(t)},e.COUNTIN=function(t,e){var n=0;t=a.flatten(t);for(var r=0;r<t.length;r++)t[r]===e&&n++;return n},e.COUNTBLANK=function(){for(var t,e=a.flatten(arguments),n=0,r=0;r<e.length;r++)null!==(t=e[r])&&""!==t||n++;return n},e.COUNTIF=function(t,e){if(t=a.flatten(t),void 0===e||"*"===e)return t.length;for(var n=0,r=s.parse(e+""),o=0;o<t.length;o++){var i=t[o],l=[s.createToken(i,s.TOKEN_TYPE_LITERAL)].concat(r);s.compute(l)&&n++}return n},e.COUNTIFS=function(){for(var t=a.argsToArray(arguments),e=new Array(a.flatten(t[0]).length),n=0;n<e.length;n++)e[n]=!0;for(n=0;n<t.length;n+=2){var r=a.flatten(t[n]),o=t[n+1];if(!(void 0===o||"*"===o))for(var i=s.parse(o+""),l=0;l<r.length;l++){var u=r[l],c=[s.createToken(u,s.TOKEN_TYPE_LITERAL)].concat(i);e[l]=e[l]&&s.compute(c)}}var h=0;for(n=0;n<e.length;n++)e[n]&&h++;return h},e.COUNTUNIQUE=function(){return u.UNIQUE.apply(null,a.flatten(arguments)).length},e.COVARIANCE={},e.COVARIANCE.P=function(t,e){if(t=a.parseNumberArray(a.flatten(t)),e=a.parseNumberArray(a.flatten(e)),a.anyIsError(t,e))return l.value;for(var n=i.mean(t),r=i.mean(e),o=0,s=t.length,u=0;u<s;u++)o+=(t[u]-n)*(e[u]-r);return o/s},e.COVARIANCE.S=function(t,e){return t=a.parseNumberArray(a.flatten(t)),e=a.parseNumberArray(a.flatten(e)),a.anyIsError(t,e)?l.value:i.covariance(t,e)},e.DEVSQ=function(){var t=a.parseNumberArray(a.flatten(arguments));if(t instanceof Error)return t;for(var e=i.mean(t),n=0,r=0;r<t.length;r++)n+=Math.pow(t[r]-e,2);return n},e.EXPON={},e.EXPON.DIST=function(t,e,n){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?l.value:n?i.exponential.cdf(t,e):i.exponential.pdf(t,e)},e.F={},e.F.DIST=function(t,e,n,r){return t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),a.anyIsError(t,e,n)?l.value:r?i.centralF.cdf(t,e,n):i.centralF.pdf(t,e,n)},e.F.DIST.RT=function(t,e,n){return 3!==arguments.length?l.na:t<0||e<1||n<1?l.num:"number"!==typeof t||"number"!==typeof e||"number"!==typeof n?l.value:1-i.centralF.cdf(t,e,n)},e.F.INV=function(t,e,n){return t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),a.anyIsError(t,e,n)?l.value:t<=0||t>1?l.num:i.centralF.inv(t,e,n)},e.F.INV.RT=function(t,e,n){return 3!==arguments.length?l.na:t<0||t>1||e<1||e>Math.pow(10,10)||n<1||n>Math.pow(10,10)?l.num:"number"!==typeof t||"number"!==typeof e||"number"!==typeof n?l.value:i.centralF.inv(1-t,e,n)},e.F.TEST=function(t,e){if(!t||!e)return l.na;if(!(t instanceof Array)||!(e instanceof Array))return l.na;if(t.length<2||e.length<2)return l.div0;var n=function(t,e){for(var n=0,r=0;r<t.length;r++)n+=Math.pow(t[r]-e,2);return n},o=r.SUM(t)/t.length,i=r.SUM(e)/e.length;return n(t,o)/(t.length-1)/(n(e,i)/(e.length-1))},e.FISHER=function(t){return(t=a.parseNumber(t))instanceof Error?t:Math.log((1+t)/(1-t))/2},e.FISHERINV=function(t){if((t=a.parseNumber(t))instanceof Error)return t;var e=Math.exp(2*t);return(e-1)/(e+1)},e.FORECAST=function(t,e,n){if(t=a.parseNumber(t),e=a.parseNumberArray(a.flatten(e)),n=a.parseNumberArray(a.flatten(n)),a.anyIsError(t,e,n))return l.value;for(var r=i.mean(n),o=i.mean(e),s=n.length,u=0,c=0,h=0;h<s;h++)u+=(n[h]-r)*(e[h]-o),c+=Math.pow(n[h]-r,2);var f=u/c;return o-f*r+f*t},e.FREQUENCY=function(t,e){if(t=a.parseNumberArray(a.flatten(t)),e=a.parseNumberArray(a.flatten(e)),a.anyIsError(t,e))return l.value;for(var n=t.length,r=e.length,o=[],i=0;i<=r;i++){o[i]=0;for(var s=0;s<n;s++)0===i?t[s]<=e[0]&&(o[0]+=1):i<r?t[s]>e[i-1]&&t[s]<=e[i]&&(o[i]+=1):i===r&&t[s]>e[r-1]&&(o[r]+=1)}return o},e.GAMMA=function(t){return(t=a.parseNumber(t))instanceof Error?t:0===t?l.num:parseInt(t,10)===t&&t<0?l.num:i.gammafn(t)},e.GAMMA.DIST=function(t,e,n,r){return 4!==arguments.length?l.na:t<0||e<=0||n<=0?l.value:"number"!==typeof t||"number"!==typeof e||"number"!==typeof n?l.value:r?i.gamma.cdf(t,e,n,!0):i.gamma.pdf(t,e,n,!1)},e.GAMMA.INV=function(t,e,n){return 3!==arguments.length?l.na:t<0||t>1||e<=0||n<=0?l.num:"number"!==typeof t||"number"!==typeof e||"number"!==typeof n?l.value:i.gamma.inv(t,e,n)},e.GAMMALN=function(t){return(t=a.parseNumber(t))instanceof Error?t:i.gammaln(t)},e.GAMMALN.PRECISE=function(t){return 1!==arguments.length?l.na:t<=0?l.num:"number"!==typeof t?l.value:i.gammaln(t)},e.GAUSS=function(t){return(t=a.parseNumber(t))instanceof Error?t:i.normal.cdf(t,0,1)-.5},e.GEOMEAN=function(){var t=a.parseNumberArray(a.flatten(arguments));return t instanceof Error?t:i.geomean(t)},e.GROWTH=function(t,e,n,r){if((t=a.parseNumberArray(t))instanceof Error)return t;var o;if(void 0===e)for(e=[],o=1;o<=t.length;o++)e.push(o);if(void 0===n)for(n=[],o=1;o<=t.length;o++)n.push(o);if(e=a.parseNumberArray(e),n=a.parseNumberArray(n),a.anyIsError(e,n))return l.value;void 0===r&&(r=!0);var i,s,u=t.length,c=0,h=0,f=0,d=0;for(o=0;o<u;o++){var p=e[o],g=Math.log(t[o]);c+=p,h+=g,f+=p*g,d+=p*p}c/=u,h/=u,f/=u,d/=u,r?s=h-(i=(f-c*h)/(d-c*c))*c:(i=f/d,s=0);var m=[];for(o=0;o<n.length;o++)m.push(Math.exp(s+i*n[o]));return m},e.HARMEAN=function(){var t=a.parseNumberArray(a.flatten(arguments));if(t instanceof Error)return t;for(var e=t.length,n=0,r=0;r<e;r++)n+=1/t[r];return e/n},e.HYPGEOM={},e.HYPGEOM.DIST=function(t,e,n,o,i){if(t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),o=a.parseNumber(o),a.anyIsError(t,e,n,o))return l.value;function s(t,e,n,o){return r.COMBIN(n,t)*r.COMBIN(o-n,e-t)/r.COMBIN(o,e)}return i?function(t,e,n,r){for(var o=0,i=0;i<=t;i++)o+=s(i,e,n,r);return o}(t,e,n,o):s(t,e,n,o)},e.INTERCEPT=function(t,n){return t=a.parseNumberArray(t),n=a.parseNumberArray(n),a.anyIsError(t,n)?l.value:t.length!==n.length?l.na:e.FORECAST(0,t,n)},e.KURT=function(){var t=a.parseNumberArray(a.flatten(arguments));if(t instanceof Error)return t;for(var e=i.mean(t),n=t.length,r=0,o=0;o<n;o++)r+=Math.pow(t[o]-e,4);return n*(n+1)/((n-1)*(n-2)*(n-3))*(r/=Math.pow(i.stdev(t,!0),4))-3*(n-1)*(n-1)/((n-2)*(n-3))},e.LARGE=function(t,e){return t=a.parseNumberArray(a.flatten(t)),e=a.parseNumber(e),a.anyIsError(t,e)?t:t.sort(function(t,e){return e-t})[e-1]},e.LINEST=function(t,e){if(t=a.parseNumberArray(a.flatten(t)),e=a.parseNumberArray(a.flatten(e)),a.anyIsError(t,e))return l.value;for(var n=i.mean(t),r=i.mean(e),o=e.length,s=0,u=0,c=0;c<o;c++)s+=(e[c]-r)*(t[c]-n),u+=Math.pow(e[c]-r,2);var h=s/u;return[h,n-h*r]},e.LOGEST=function(t,n){if(t=a.parseNumberArray(a.flatten(t)),n=a.parseNumberArray(a.flatten(n)),a.anyIsError(t,n))return l.value;for(var r=0;r<t.length;r++)t[r]=Math.log(t[r]);var o=e.LINEST(t,n);return o[0]=Math.round(1e6*Math.exp(o[0]))/1e6,o[1]=Math.round(1e6*Math.exp(o[1]))/1e6,o},e.LOGNORM={},e.LOGNORM.DIST=function(t,e,n,r){return t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),a.anyIsError(t,e,n)?l.value:r?i.lognormal.cdf(t,e,n):i.lognormal.pdf(t,e,n)},e.LOGNORM.INV=function(t,e,n){return t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),a.anyIsError(t,e,n)?l.value:i.lognormal.inv(t,e,n)},e.MAX=function(){var t=a.numbers(a.flatten(arguments));return 0===t.length?0:Math.max.apply(Math,t)},e.MAXA=function(){var t=a.arrayValuesToNumbers(a.flatten(arguments));return 0===t.length?0:Math.max.apply(Math,t)},e.MEDIAN=function(){var t=a.arrayValuesToNumbers(a.flatten(arguments)),e=i.median(t);return isNaN(e)&&(e=l.num),e},e.MIN=function(){var t=a.numbers(a.flatten(arguments));return 0===t.length?0:Math.min.apply(Math,t)},e.MINA=function(){var t=a.arrayValuesToNumbers(a.flatten(arguments));return 0===t.length?0:Math.min.apply(Math,t)},e.MODE={},e.MODE.MULT=function(){var t=a.parseNumberArray(a.flatten(arguments));if(t instanceof Error)return t;for(var e,n=t.length,r={},o=[],i=0,s=0;s<n;s++)r[e=t[s]]=r[e]?r[e]+1:1,r[e]>i&&(i=r[e],o=[]),r[e]===i&&(o[o.length]=e);return o},e.MODE.SNGL=function(){var t=a.parseNumberArray(a.flatten(arguments));return t instanceof Error?t:e.MODE.MULT(t).sort(function(t,e){return t-e})[0]},e.NEGBINOM={},e.NEGBINOM.DIST=function(t,e,n,r){return t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),a.anyIsError(t,e,n)?l.value:r?i.negbin.cdf(t,e,n):i.negbin.pdf(t,e,n)},e.NORM={},e.NORM.DIST=function(t,e,n,r){return t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),a.anyIsError(t,e,n)?l.value:n<=0?l.num:r?i.normal.cdf(t,e,n):i.normal.pdf(t,e,n)},e.NORM.INV=function(t,e,n){return t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),a.anyIsError(t,e,n)?l.value:i.normal.inv(t,e,n)},e.NORM.S={},e.NORM.S.DIST=function(t,e){return(t=a.parseNumber(t))instanceof Error?l.value:e?i.normal.cdf(t,0,1):i.normal.pdf(t,0,1)},e.NORM.S.INV=function(t){return(t=a.parseNumber(t))instanceof Error?l.value:i.normal.inv(t,0,1)},e.PEARSON=function(t,e){if(e=a.parseNumberArray(a.flatten(e)),t=a.parseNumberArray(a.flatten(t)),a.anyIsError(e,t))return l.value;for(var n=i.mean(t),r=i.mean(e),o=t.length,s=0,u=0,c=0,h=0;h<o;h++)s+=(t[h]-n)*(e[h]-r),u+=Math.pow(t[h]-n,2),c+=Math.pow(e[h]-r,2);return s/Math.sqrt(u*c)},e.PERCENTILE={},e.PERCENTILE.EXC=function(t,e){if(t=a.parseNumberArray(a.flatten(t)),e=a.parseNumber(e),a.anyIsError(t,e))return l.value;var n=(t=t.sort(function(t,e){return t-e})).length;if(e<1/(n+1)||e>1-1/(n+1))return l.num;var r=e*(n+1)-1,o=Math.floor(r);return a.cleanFloat(r===o?t[r]:t[o]+(r-o)*(t[o+1]-t[o]))},e.PERCENTILE.INC=function(t,e){if(t=a.parseNumberArray(a.flatten(t)),e=a.parseNumber(e),a.anyIsError(t,e))return l.value;var n=e*((t=t.sort(function(t,e){return t-e})).length-1),r=Math.floor(n);return a.cleanFloat(n===r?t[n]:t[r]+(n-r)*(t[r+1]-t[r]))},e.PERCENTRANK={},e.PERCENTRANK.EXC=function(t,e,n){if(n=void 0===n?3:n,t=a.parseNumberArray(a.flatten(t)),e=a.parseNumber(e),n=a.parseNumber(n),a.anyIsError(t,e,n))return l.value;t=t.sort(function(t,e){return t-e});for(var r=u.UNIQUE.apply(null,t),o=t.length,i=r.length,s=Math.pow(10,n),c=0,h=!1,f=0;!h&&f<i;)e===r[f]?(c=(t.indexOf(r[f])+1)/(o+1),h=!0):e>=r[f]&&(e<r[f+1]||f===i-1)&&(c=(t.indexOf(r[f])+1+(e-r[f])/(r[f+1]-r[f]))/(o+1),h=!0),f++;return Math.floor(c*s)/s},e.PERCENTRANK.INC=function(t,e,n){if(n=void 0===n?3:n,t=a.parseNumberArray(a.flatten(t)),e=a.parseNumber(e),n=a.parseNumber(n),a.anyIsError(t,e,n))return l.value;t=t.sort(function(t,e){return t-e});for(var r=u.UNIQUE.apply(null,t),o=t.length,i=r.length,s=Math.pow(10,n),c=0,h=!1,f=0;!h&&f<i;)e===r[f]?(c=t.indexOf(r[f])/(o-1),h=!0):e>=r[f]&&(e<r[f+1]||f===i-1)&&(c=(t.indexOf(r[f])+(e-r[f])/(r[f+1]-r[f]))/(o-1),h=!0),f++;return Math.floor(c*s)/s},e.PERMUT=function(t,e){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?l.value:r.FACT(t)/r.FACT(t-e)},e.PERMUTATIONA=function(t,e){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?l.value:Math.pow(t,e)},e.PHI=function(t){return(t=a.parseNumber(t))instanceof Error?l.value:Math.exp(-.5*t*t)/2.5066282746310002},e.POISSON={},e.POISSON.DIST=function(t,e,n){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?l.value:n?i.poisson.cdf(t,e):i.poisson.pdf(t,e)},e.PROB=function(t,e,n,r){if(void 0===n)return 0;if(r=void 0===r?n:r,t=a.parseNumberArray(a.flatten(t)),e=a.parseNumberArray(a.flatten(e)),n=a.parseNumber(n),r=a.parseNumber(r),a.anyIsError(t,e,n,r))return l.value;if(n===r)return t.indexOf(n)>=0?e[t.indexOf(n)]:0;for(var o=t.sort(function(t,e){return t-e}),i=o.length,s=0,u=0;u<i;u++)o[u]>=n&&o[u]<=r&&(s+=e[t.indexOf(o[u])]);return s},e.QUARTILE={},e.QUARTILE.EXC=function(t,n){if(t=a.parseNumberArray(a.flatten(t)),n=a.parseNumber(n),a.anyIsError(t,n))return l.value;switch(n){case 1:return e.PERCENTILE.EXC(t,.25);case 2:return e.PERCENTILE.EXC(t,.5);case 3:return e.PERCENTILE.EXC(t,.75);default:return l.num}},e.QUARTILE.INC=function(t,n){if(t=a.parseNumberArray(a.flatten(t)),n=a.parseNumber(n),a.anyIsError(t,n))return l.value;switch(n){case 1:return e.PERCENTILE.INC(t,.25);case 2:return e.PERCENTILE.INC(t,.5);case 3:return e.PERCENTILE.INC(t,.75);default:return l.num}},e.RANK={},e.RANK.AVG=function(t,e,n){if(t=a.parseNumber(t),e=a.parseNumberArray(a.flatten(e)),a.anyIsError(t,e))return l.value;for(var r=(n=n||!1)?function(t,e){return t-e}:function(t,e){return e-t},o=(e=(e=a.flatten(e)).sort(r)).length,i=0,s=0;s<o;s++)e[s]===t&&i++;return i>1?(2*e.indexOf(t)+i+1)/2:e.indexOf(t)+1},e.RANK.EQ=function(t,e,n){if(t=a.parseNumber(t),e=a.parseNumberArray(a.flatten(e)),a.anyIsError(t,e))return l.value;var r=(n=n||!1)?function(t,e){return t-e}:function(t,e){return e-t};return(e=e.sort(r)).indexOf(t)+1},e.ROW=function(t,e){return 2!==arguments.length?l.na:e<0?l.num:t instanceof Array&&"number"===typeof e?0!==t.length?i.row(t,e):void 0:l.value},e.ROWS=function(t){return 1!==arguments.length?l.na:t instanceof Array?0===t.length?0:i.rows(t):l.value},e.RSQ=function(t,n){return t=a.parseNumberArray(a.flatten(t)),n=a.parseNumberArray(a.flatten(n)),a.anyIsError(t,n)?l.value:Math.pow(e.PEARSON(t,n),2)},e.SKEW=function(){var t=a.parseNumberArray(a.flatten(arguments));if(t instanceof Error)return t;for(var e=i.mean(t),n=t.length,r=0,o=0;o<n;o++)r+=Math.pow(t[o]-e,3);return n*r/((n-1)*(n-2)*Math.pow(i.stdev(t,!0),3))},e.SKEW.P=function(){var t=a.parseNumberArray(a.flatten(arguments));if(t instanceof Error)return t;for(var e=i.mean(t),n=t.length,r=0,o=0,s=0;s<n;s++)o+=Math.pow(t[s]-e,3),r+=Math.pow(t[s]-e,2);return r/=n,(o/=n)/Math.pow(r,1.5)},e.SLOPE=function(t,e){if(t=a.parseNumberArray(a.flatten(t)),e=a.parseNumberArray(a.flatten(e)),a.anyIsError(t,e))return l.value;for(var n=i.mean(e),r=i.mean(t),o=e.length,s=0,u=0,c=0;c<o;c++)s+=(e[c]-n)*(t[c]-r),u+=Math.pow(e[c]-n,2);return s/u},e.SMALL=function(t,e){return t=a.parseNumberArray(a.flatten(t)),e=a.parseNumber(e),a.anyIsError(t,e)?t:t.sort(function(t,e){return t-e})[e-1]},e.STANDARDIZE=function(t,e,n){return t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),a.anyIsError(t,e,n)?l.value:(t-e)/n},e.STDEV={},e.STDEV.P=function(){var t=e.VAR.P.apply(this,arguments),n=Math.sqrt(t);return isNaN(n)&&(n=l.num),n},e.STDEV.S=function(){var t=e.VAR.S.apply(this,arguments);return Math.sqrt(t)},e.STDEVA=function(){var t=e.VARA.apply(this,arguments);return Math.sqrt(t)},e.STDEVPA=function(){var t=e.VARPA.apply(this,arguments),n=Math.sqrt(t);return isNaN(n)&&(n=l.num),n},e.STEYX=function(t,e){if(t=a.parseNumberArray(a.flatten(t)),e=a.parseNumberArray(a.flatten(e)),a.anyIsError(t,e))return l.value;for(var n=i.mean(e),r=i.mean(t),o=e.length,s=0,u=0,c=0,h=0;h<o;h++)s+=Math.pow(t[h]-r,2),u+=(e[h]-n)*(t[h]-r),c+=Math.pow(e[h]-n,2);return Math.sqrt((s-u*u/c)/(o-2))},e.TRANSPOSE=function(t){return t?i.transpose(t):l.na},e.T=o.T,e.T.DIST=function(t,e,n){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?l.value:n?i.studentt.cdf(t,e):i.studentt.pdf(t,e)},e.T.DIST["2T"]=function(t,e){return 2!==arguments.length?l.na:t<0||e<1?l.num:"number"!==typeof t||"number"!==typeof e?l.value:2*(1-i.studentt.cdf(t,e))},e.T.DIST.RT=function(t,e){return 2!==arguments.length?l.na:t<0||e<1?l.num:"number"!==typeof t||"number"!==typeof e?l.value:1-i.studentt.cdf(t,e)},e.T.INV=function(t,e){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?l.value:i.studentt.inv(t,e)},e.T.INV["2T"]=function(t,e){return t=a.parseNumber(t),e=a.parseNumber(e),t<=0||t>1||e<1?l.num:a.anyIsError(t,e)?l.value:Math.abs(i.studentt.inv(t/2,e))},e.T.TEST=function(t,n){if(t=a.parseNumberArray(a.flatten(t)),n=a.parseNumberArray(a.flatten(n)),a.anyIsError(t,n))return l.value;var r,o=i.mean(t),s=i.mean(n),u=0,c=0;for(r=0;r<t.length;r++)u+=Math.pow(t[r]-o,2);for(r=0;r<n.length;r++)c+=Math.pow(n[r]-s,2);u/=t.length-1,c/=n.length-1;var h=Math.abs(o-s)/Math.sqrt(u/t.length+c/n.length);return e.T.DIST["2T"](h,t.length+n.length-2)},e.TREND=function(t,n,r){if(t=a.parseNumberArray(a.flatten(t)),n=a.parseNumberArray(a.flatten(n)),r=a.parseNumberArray(a.flatten(r)),a.anyIsError(t,n,r))return l.value;var o=e.LINEST(t,n),i=o[0],s=o[1],u=[];return r.forEach(function(t){u.push(i*t+s)}),u},e.TRIMMEAN=function(t,e){if(t=a.parseNumberArray(a.flatten(t)),e=a.parseNumber(e),a.anyIsError(t,e))return l.value;var n=r.FLOOR(t.length*e,2)/2;return i.mean(a.initial(a.rest(t.sort(function(t,e){return t-e}),n),n))},e.VAR={},e.VAR.P=function(){for(var t,n=a.numbers(a.flatten(arguments)),r=n.length,o=0,i=e.AVERAGE(n),s=0;s<r;s++)o+=Math.pow(n[s]-i,2);return t=o/r,isNaN(t)&&(t=l.num),t},e.VAR.S=function(){for(var t=a.numbers(a.flatten(arguments)),n=t.length,r=0,o=e.AVERAGE(t),i=0;i<n;i++)r+=Math.pow(t[i]-o,2);return r/(n-1)},e.VARA=function(){for(var t=a.flatten(arguments),n=t.length,r=0,o=0,i=e.AVERAGEA(t),s=0;s<n;s++){var l=t[s];r+="number"===typeof l?Math.pow(l-i,2):!0===l?Math.pow(1-i,2):Math.pow(0-i,2),null!==l&&o++}return r/(o-1)},e.VARPA=function(){for(var t,n=a.flatten(arguments),r=n.length,o=0,i=0,s=e.AVERAGEA(n),u=0;u<r;u++){var c=n[u];o+="number"===typeof c?Math.pow(c-s,2):!0===c?Math.pow(1-s,2):Math.pow(0-s,2),null!==c&&i++}return t=o/i,isNaN(t)&&(t=l.num),t},e.WEIBULL={},e.WEIBULL.DIST=function(t,e,n,r){return t=a.parseNumber(t),e=a.parseNumber(e),n=a.parseNumber(n),a.anyIsError(t,e,n)?l.value:r?1-Math.exp(-Math.pow(t/n,e)):Math.pow(t,e-1)*Math.exp(-Math.pow(t/n,e))*e/Math.pow(n,e)},e.Z={},e.Z.TEST=function(t,n,r){if(t=a.parseNumberArray(a.flatten(t)),n=a.parseNumber(n),a.anyIsError(t,n))return l.value;r=r||e.STDEV.S(t);var o=t.length;return 1-e.NORM.S.DIST((e.AVERAGE(t)-n)/(r/Math.sqrt(o)),!0)}},function(t,e,n){var r=n(1),o=n(0);e.ASC=function(){throw new Error("ASC is not implemented")},e.BAHTTEXT=function(){throw new Error("BAHTTEXT is not implemented")},e.CHAR=function(t){return(t=r.parseNumber(t))instanceof Error?t:String.fromCharCode(t)},e.CLEAN=function(t){return(t=t||"").replace(/[\0-\x1F]/g,"")},e.CODE=function(t){var e=(t=t||"").charCodeAt(0);return isNaN(e)&&(e=o.na),e},e.CONCATENATE=function(){for(var t=r.flatten(arguments),e=0;(e=t.indexOf(!0))>-1;)t[e]="TRUE";for(var n=0;(n=t.indexOf(!1))>-1;)t[n]="FALSE";return t.join("")},e.DBCS=function(){throw new Error("DBCS is not implemented")},e.DOLLAR=function(){throw new Error("DOLLAR is not implemented")},e.EXACT=function(t,e){return 2!==arguments.length?o.na:t===e},e.FIND=function(t,e,n){return arguments.length<2?o.na:(n=void 0===n?0:n,e?e.indexOf(t,n-1)+1:null)},e.FIXED=function(){throw new Error("FIXED is not implemented")},e.HTML2TEXT=function(t){var e="";return t&&(t instanceof Array?t.forEach(function(t){""!==e&&(e+="\n"),e+=t.replace(/<(?:.|\n)*?>/gm,"")}):e=t.replace(/<(?:.|\n)*?>/gm,"")),e},e.LEFT=function(t,e){return e=void 0===e?1:e,(e=r.parseNumber(e))instanceof Error||"string"!==typeof t?o.value:t?t.substring(0,e):null},e.LEN=function(t){return 0===arguments.length?o.error:"string"===typeof t?t?t.length:0:t.length?t.length:o.value},e.LOWER=function(t){return"string"!==typeof t?o.value:t?t.toLowerCase():t},e.MID=function(t,e,n){if(e=r.parseNumber(e),n=r.parseNumber(n),r.anyIsError(e,n)||"string"!==typeof t)return n;var o=e-1,i=o+n;return t.substring(o,i)},e.NUMBERVALUE=function(t,e,n){return e="undefined"===typeof e?".":e,n="undefined"===typeof n?",":n,Number(t.replace(e,".").replace(n,""))},e.PRONETIC=function(){throw new Error("PRONETIC is not implemented")},e.PROPER=function(t){return void 0===t||0===t.length?o.value:(!0===t&&(t="TRUE"),!1===t&&(t="FALSE"),isNaN(t)&&"number"===typeof t?o.value:("number"===typeof t&&(t=""+t),t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})))},e.REGEXEXTRACT=function(t,e){if(arguments.length<2)return o.na;var n=t.match(new RegExp(e));return n?n[n.length>1?n.length-1:0]:null},e.REGEXMATCH=function(t,e,n){if(arguments.length<2)return o.na;var r=t.match(new RegExp(e));return n?r:!!r},e.REGEXREPLACE=function(t,e,n){return arguments.length<3?o.na:t.replace(new RegExp(e),n)},e.REPLACE=function(t,e,n,i){return e=r.parseNumber(e),n=r.parseNumber(n),r.anyIsError(e,n)||"string"!==typeof t||"string"!==typeof i?o.value:t.substr(0,e-1)+i+t.substr(e-1+n)},e.REPT=function(t,e){return(e=r.parseNumber(e))instanceof Error?e:new Array(e+1).join(t)},e.RIGHT=function(t,e){return e=void 0===e?1:e,(e=r.parseNumber(e))instanceof Error?e:t?t.substring(t.length-e):o.na},e.SEARCH=function(t,e,n){var r;return"string"!==typeof t||"string"!==typeof e?o.value:(n=void 0===n?0:n,0===(r=e.toLowerCase().indexOf(t.toLowerCase(),n-1)+1)?o.value:r)},e.SPLIT=function(t,e){return t.split(e)},e.SUBSTITUTE=function(t,e,n,r){if(arguments.length<2)return o.na;if(!(t&&e&&n))return t;if(void 0===r)return t.replace(new RegExp(e,"g"),n);for(var i=0,a=0;t.indexOf(e,i)>0;)if(i=t.indexOf(e,i+1),++a===r)return t.substring(0,i)+n+t.substring(i+e.length)},e.T=function(t){return"string"===typeof t?t:""},e.TEXT=function(){throw new Error("TEXT is not implemented")},e.TRIM=function(t){return"string"!==typeof t?o.value:t.replace(/ +/g," ").trim()},e.UNICHAR=e.CHAR,e.UNICODE=e.CODE,e.UPPER=function(t){return"string"!==typeof t?o.value:t.toUpperCase()},e.VALUE=function(){throw new Error("VALUE is not implemented")}},function(t,e){var n="=",r=[">",">=","<","<=","=","<>"],o="operator",i="literal",a=[o,i];function s(t,e){if(-1===a.indexOf(e))throw new Error("Unsupported token type: "+e);return{value:t,type:e}}function l(t){for(var e,a="",l=[],u=0;u<t.length;u++){var c=t[u];0===u&&r.indexOf(c)>=0?l.push(s(c,o)):a+=c}return a.length>0&&l.push(s("string"!==typeof(e=a)?e:(/^\d+(\.\d+)?$/.test(e)&&(e=-1===e.indexOf(".")?parseInt(e,10):parseFloat(e)),e),i)),l.length>0&&l[0].type!==o&&l.unshift(s(n,o)),l}e.TOKEN_TYPE_OPERATOR=o,e.TOKEN_TYPE_LITERAL=i,e.parse=function(t){return l(function(t){for(var e=t.length,n=[],r=0,o="",i="";r<e;){var a=t.charAt(r);switch(a){case">":case"<":case"=":i+=a,o.length>0&&(n.push(o),o="");break;default:i.length>0&&(n.push(i),i=""),o+=a}r++}return o.length>0&&n.push(o),i.length>0&&n.push(i),n}(t))},e.createToken=s,e.compute=function(t){for(var e,n=[],r=0;r<t.length;r++){var a=t[r];switch(a.type){case o:e=a.value;break;case i:n.push(a.value)}}return function(t,e){var n=!1;switch(e){case">":n=t[0]>t[1];break;case">=":n=t[0]>=t[1];break;case"<":n=t[0]<t[1];break;case"<=":n=t[0]<=t[1];break;case"=":n=t[0]==t[1];break;case"<>":n=t[0]!=t[1]}return n}(n,e)}},function(t,e,n){var r=n(0);e.CELL=function(){throw new Error("CELL is not implemented")},e.ERROR={},e.ERROR.TYPE=function(t){switch(t){case r.nil:return 1;case r.div0:return 2;case r.value:return 3;case r.ref:return 4;case r.name:return 5;case r.num:return 6;case r.na:return 7;case r.data:return 8}return r.na},e.INFO=function(){throw new Error("INFO is not implemented")},e.ISBLANK=function(t){return null===t},e.ISBINARY=function(t){return/^[01]{1,10}$/.test(t)},e.ISERR=function(t){return[r.value,r.ref,r.div0,r.num,r.name,r.nil].indexOf(t)>=0||"number"===typeof t&&(isNaN(t)||!isFinite(t))},e.ISERROR=function(t){return e.ISERR(t)||t===r.na},e.ISEVEN=function(t){return!(1&Math.floor(Math.abs(t)))},e.ISFORMULA=function(){throw new Error("ISFORMULA is not implemented")},e.ISLOGICAL=function(t){return!0===t||!1===t},e.ISNA=function(t){return t===r.na},e.ISNONTEXT=function(t){return"string"!==typeof t},e.ISNUMBER=function(t){return"number"===typeof t&&!isNaN(t)&&isFinite(t)},e.ISODD=function(t){return!!(1&Math.floor(Math.abs(t)))},e.ISREF=function(){throw new Error("ISREF is not implemented")},e.ISTEXT=function(t){return"string"===typeof t},e.N=function(t){return this.ISNUMBER(t)?t:t instanceof Date?t.getTime():!0===t?1:!1===t?0:this.ISERROR(t)?t:0},e.NA=function(){return r.na},e.SHEET=function(){throw new Error("SHEET is not implemented")},e.SHEETS=function(){throw new Error("SHEETS is not implemented")},e.TYPE=function(t){return this.ISNUMBER(t)?1:this.ISTEXT(t)?2:this.ISLOGICAL(t)?4:this.ISERROR(t)?16:Array.isArray(t)?64:void 0}},function(t,e,n){var r=n(0),o=n(1),i=new Date(Date.UTC(1900,0,1)),a=[void 0,0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,2,3,4,5,6,0],s=[[],[1,2,3,4,5,6,7],[7,1,2,3,4,5,6],[6,0,1,2,3,4,5],[],[],[],[],[],[],[],[7,1,2,3,4,5,6],[6,7,1,2,3,4,5],[5,6,7,1,2,3,4],[4,5,6,7,1,2,3],[3,4,5,6,7,1,2],[2,3,4,5,6,7,1],[1,2,3,4,5,6,7]],l=[[],[6,0],[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],void 0,void 0,void 0,[0,0],[1,1],[2,2],[3,3],[4,4],[5,5],[6,6]];function u(t){return 1===new Date(t,1,29).getMonth()}function c(t,e){return Math.ceil((e-t)/1e3/60/60/24)}function h(t){var e=t>-22038912e5?2:1;return Math.ceil((t-i)/864e5)+e}e.DATE=function(t,e,n){return t=o.parseNumber(t),e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(t,e,n)?r.value:t<0||e<0||n<0?r.num:new Date(t,e-1,n)},e.DATEVALUE=function(t){var e,n=2;return"string"!==typeof t?r.value:(e=Date.parse(t),isNaN(e)?r.value:(e<=-22038912e5&&(n=1),Math.ceil((e-i)/864e5)+n))},e.DAY=function(t){var e=o.parseDate(t);return e instanceof Error?e:e.getDate()},e.DAYS=function(t,e){return t=o.parseDate(t),e=o.parseDate(e),t instanceof Error?t:e instanceof Error?e:h(t)-h(e)},e.DAYS360=function(t,e,n){if(n=o.parseBool(n),t=o.parseDate(t),e=o.parseDate(e),t instanceof Error)return t;if(e instanceof Error)return e;if(n instanceof Error)return n;var r,i,a=t.getMonth(),s=e.getMonth();if(n)r=31===t.getDate()?30:t.getDate(),i=31===e.getDate()?30:e.getDate();else{var l=new Date(t.getFullYear(),a+1,0).getDate(),u=new Date(e.getFullYear(),s+1,0).getDate();r=t.getDate()===l?30:t.getDate(),e.getDate()===u?r<30?(s++,i=1):i=30:i=e.getDate()}return 360*(e.getFullYear()-t.getFullYear())+30*(s-a)+(i-r)},e.EDATE=function(t,e){return(t=o.parseDate(t))instanceof Error?t:isNaN(e)?r.value:(e=parseInt(e,10),t.setMonth(t.getMonth()+e),h(t))},e.EOMONTH=function(t,e){return(t=o.parseDate(t))instanceof Error?t:isNaN(e)?r.value:(e=parseInt(e,10),h(new Date(t.getFullYear(),t.getMonth()+e+1,0)))},e.HOUR=function(t){return(t=o.parseDate(t))instanceof Error?t:t.getHours()},e.INTERVAL=function(t){if("number"!==typeof t&&"string"!==typeof t)return r.value;t=parseInt(t,10);var e=Math.floor(t/94608e4);t%=94608e4;var n=Math.floor(t/2592e3);t%=2592e3;var o=Math.floor(t/86400);t%=86400;var i=Math.floor(t/3600);t%=3600;var a=Math.floor(t/60),s=t%=60;return"P"+(e=e>0?e+"Y":"")+(n=n>0?n+"M":"")+(o=o>0?o+"D":"")+"T"+(i=i>0?i+"H":"")+(a=a>0?a+"M":"")+(s=s>0?s+"S":"")},e.ISOWEEKNUM=function(t){if((t=o.parseDate(t))instanceof Error)return t;t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+1)/7)},e.MINUTE=function(t){return(t=o.parseDate(t))instanceof Error?t:t.getMinutes()},e.MONTH=function(t){return(t=o.parseDate(t))instanceof Error?t:t.getMonth()+1},e.NETWORKDAYS=function(t,e,n){return this.NETWORKDAYS.INTL(t,e,1,n)},e.NETWORKDAYS.INTL=function(t,e,n,i){if((t=o.parseDate(t))instanceof Error)return t;if((e=o.parseDate(e))instanceof Error)return e;if(!((n=void 0===n?l[1]:l[n])instanceof Array))return r.value;void 0===i?i=[]:i instanceof Array||(i=[i]);for(var a=0;a<i.length;a++){var s=o.parseDate(i[a]);if(s instanceof Error)return s;i[a]=s}var u=(e-t)/864e5+1,c=u,h=t;for(a=0;a<u;a++){var f=(new Date).getTimezoneOffset()>0?h.getUTCDay():h.getDay(),d=!1;f!==n[0]&&f!==n[1]||(d=!0);for(var p=0;p<i.length;p++){var g=i[p];if(g.getDate()===h.getDate()&&g.getMonth()===h.getMonth()&&g.getFullYear()===h.getFullYear()){d=!0;break}}d&&c--,h.setDate(h.getDate()+1)}return c},e.NOW=function(){return new Date},e.SECOND=function(t){return(t=o.parseDate(t))instanceof Error?t:t.getSeconds()},e.TIME=function(t,e,n){return t=o.parseNumber(t),e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(t,e,n)?r.value:t<0||e<0||n<0?r.num:(3600*t+60*e+n)/86400},e.TIMEVALUE=function(t){return(t=o.parseDate(t))instanceof Error?t:(3600*t.getHours()+60*t.getMinutes()+t.getSeconds())/86400},e.TODAY=function(){return new Date},e.WEEKDAY=function(t,e){if((t=o.parseDate(t))instanceof Error)return t;void 0===e&&(e=1);var n=t.getDay();return s[e][n]},e.WEEKNUM=function(t,e){if((t=o.parseDate(t))instanceof Error)return t;if(void 0===e&&(e=1),21===e)return this.ISOWEEKNUM(t);var n=a[e],r=new Date(t.getFullYear(),0,1),i=r.getDay()<n?1:0;return r-=24*Math.abs(r.getDay()-n)*60*60*1e3,Math.floor((t-r)/864e5/7+1)+i},e.WORKDAY=function(t,e,n){return this.WORKDAY.INTL(t,e,1,n)},e.WORKDAY.INTL=function(t,e,n,i){if((t=o.parseDate(t))instanceof Error)return t;if((e=o.parseNumber(e))instanceof Error)return e;if(e<0)return r.num;if(!((n=void 0===n?l[1]:l[n])instanceof Array))return r.value;void 0===i?i=[]:i instanceof Array||(i=[i]);for(var a=0;a<i.length;a++){var s=o.parseDate(i[a]);if(s instanceof Error)return s;i[a]=s}for(var u=0;u<e;){t.setDate(t.getDate()+1);var c=t.getDay();if(c!==n[0]&&c!==n[1]){for(var h=0;h<i.length;h++){var f=i[h];if(f.getDate()===t.getDate()&&f.getMonth()===t.getMonth()&&f.getFullYear()===t.getFullYear()){u--;break}}u++}}return t},e.YEAR=function(t){return(t=o.parseDate(t))instanceof Error?t:t.getFullYear()},e.YEARFRAC=function(t,e,n){if((t=o.parseDate(t))instanceof Error)return t;if((e=o.parseDate(e))instanceof Error)return e;n=n||0;var r=t.getDate(),i=t.getMonth()+1,a=t.getFullYear(),s=e.getDate(),l=e.getMonth()+1,h=e.getFullYear();switch(n){case 0:return 31===r&&31===s?(r=30,s=30):31===r?r=30:30===r&&31===s&&(s=30),(s+30*l+360*h-(r+30*i+360*a))/360;case 1:var f=365;if(a===h||a+1===h&&(i>l||i===l&&r>=s))return(a===h&&u(a)||function(t,e){var n=t.getFullYear(),r=new Date(n,2,1);if(u(n)&&t<r&&e>=r)return!0;var o=e.getFullYear(),i=new Date(o,2,1);return u(o)&&e>=i&&t<i}(t,e)||1===l&&29===s)&&(f=366),c(t,e)/f;var d=h-a+1,p=(new Date(h+1,0,1)-new Date(a,0,1))/1e3/60/60/24/d;return c(t,e)/p;case 2:return c(t,e)/360;case 3:return c(t,e)/365;case 4:return(s+30*l+360*h-(r+30*i+360*a))/360}}},function(t,e,n){"undefined"!==typeof self&&self,t.exports=function(){var t=function(t,e){var n=Array.prototype.concat,r=Array.prototype.slice,o=Object.prototype.toString;function a(e,n){var r=e>n?e:n;return t.pow(10,17-~~(t.log(r>0?r:-r)*t.LOG10E))}var s=Array.isArray||function(t){return"[object Array]"===o.call(t)};function l(t){return"[object Function]"===o.call(t)}function u(t){return"number"===typeof t&&t===t}function c(){return new c._init(arguments)}function h(){return 0}function f(){return 1}function d(t,e){return t===e?1:0}c.fn=c.prototype,c._init=function(t){if(s(t[0]))if(s(t[0][0])){l(t[1])&&(t[0]=c.map(t[0],t[1]));for(var e=0;e<t[0].length;e++)this[e]=t[0][e];this.length=t[0].length}else this[0]=l(t[1])?c.map(t[0],t[1]):t[0],this.length=1;else if(u(t[0]))this[0]=c.seq.apply(null,t),this.length=1;else{if(t[0]instanceof c)return c(t[0].toArray());this[0]=[],this.length=1}return this},c._init.prototype=c.prototype,c._init.constructor=c,c.utils={calcRdx:a,isArray:s,isFunction:l,isNumber:u,toVector:function(t){return n.apply([],t)}},c.extend=function(t){var e;if(1===arguments.length){for(e in t)c[e]=t[e];return this}for(var n=1;n<arguments.length;n++)for(e in arguments[n])t[e]=arguments[n][e];return t},c.rows=function(t){return t.length||1},c.cols=function(t){return t[0].length||1},c.dimensions=function(t){return{rows:c.rows(t),cols:c.cols(t)}},c.row=function(t,e){return s(e)?e.map(function(e){return c.row(t,e)}):t[e]},c.rowa=function(t,e){return c.row(t,e)},c.col=function(t,e){if(s(e)){var n=c.arange(t.length).map(function(t){return new Array(e.length)});return e.forEach(function(e,r){c.arange(t.length).forEach(function(o){n[o][r]=t[o][e]})}),n}for(var r=new Array(t.length),o=0;o<t.length;o++)r[o]=[t[o][e]];return r},c.cola=function(t,e){return c.col(t,e).map(function(t){return t[0]})},c.diag=function(t){for(var e=c.rows(t),n=new Array(e),r=0;r<e;r++)n[r]=[t[r][r]];return n},c.antidiag=function(t){for(var e=c.rows(t)-1,n=new Array(e),r=0;e>=0;e--,r++)n[r]=[t[r][e]];return n},c.transpose=function(t){var e,n,r,o,i=[];s(t[0])||(t=[t]),n=t.length,r=t[0].length;for(var a=0;a<r;a++){for(e=new Array(n),o=0;o<n;o++)e[o]=t[o][a];i.push(e)}return 1===i.length?i[0]:i},c.map=function(t,e,n){var r,o,i,a,l;for(s(t[0])||(t=[t]),o=t.length,i=t[0].length,a=n?t:new Array(o),r=0;r<o;r++)for(a[r]||(a[r]=new Array(i)),l=0;l<i;l++)a[r][l]=e(t[r][l],r,l);return 1===a.length?a[0]:a},c.cumreduce=function(t,e,n){var r,o,i,a,l;for(s(t[0])||(t=[t]),o=t.length,i=t[0].length,a=n?t:new Array(o),r=0;r<o;r++)for(a[r]||(a[r]=new Array(i)),i>0&&(a[r][0]=t[r][0]),l=1;l<i;l++)a[r][l]=e(a[r][l-1],t[r][l]);return 1===a.length?a[0]:a},c.alter=function(t,e){return c.map(t,e,!0)},c.create=function(t,e,n){var r,o=new Array(t);l(e)&&(n=e,e=t);for(var i=0;i<t;i++)for(o[i]=new Array(e),r=0;r<e;r++)o[i][r]=n(i,r);return o},c.zeros=function(t,e){return u(e)||(e=t),c.create(t,e,h)},c.ones=function(t,e){return u(e)||(e=t),c.create(t,e,f)},c.rand=function(e,n){return u(n)||(n=e),c.create(e,n,t.random)},c.identity=function(t,e){return u(e)||(e=t),c.create(t,e,d)},c.symmetric=function(t){var e,n,r=t.length;if(t.length!==t[0].length)return!1;for(e=0;e<r;e++)for(n=0;n<r;n++)if(t[n][e]!==t[e][n])return!1;return!0},c.clear=function(t){return c.alter(t,h)},c.seq=function(t,e,n,r){l(r)||(r=!1);var o,i=[],s=a(t,e),u=(e*s-t*s)/((n-1)*s),c=t;for(o=0;c<=e&&o<n;c=(t*s+u*s*++o)/s)i.push(r?r(c,o):c);return i},c.arange=function(t,n,r){var o=[];if(r=r||1,n===e&&(n=t,t=0),t===n||0===r)return[];if(t<n&&r<0)return[];if(t>n&&r>0)return[];if(r>0)for(i=t;i<n;i+=r)o.push(i);else for(i=t;i>n;i+=r)o.push(i);return o},c.slice=function(){function t(t,n,r,o){var i,a=[],s=t.length;if(n===e&&r===e&&o===e)return c.copy(t);if(n=n||0,r=r||t.length,o=o||1,(n=n>=0?n:s+n)===(r=r>=0?r:s+r)||0===o)return[];if(n<r&&o<0)return[];if(n>r&&o>0)return[];if(o>0)for(i=n;i<r;i+=o)a.push(t[i]);else for(i=n;i>r;i+=o)a.push(t[i]);return a}return function(e,n){if(u((n=n||{}).row)){if(u(n.col))return e[n.row][n.col];var r=c.rowa(e,n.row),o=n.col||{};return t(r,o.start,o.end,o.step)}if(u(n.col)){var i=c.cola(e,n.col),a=n.row||{};return t(i,a.start,a.end,a.step)}var a=n.row||{},o=n.col||{};return t(e,a.start,a.end,a.step).map(function(e){return t(e,o.start,o.end,o.step)})}}(),c.sliceAssign=function(n,r,o){if(u(r.row)){if(u(r.col))return n[r.row][r.col]=o;r.col=r.col||{},r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1;var i=c.arange(r.col.start,t.min(n.length,r.col.end),r.col.step),a=r.row;return i.forEach(function(t,e){n[a][t]=o[e]}),n}if(u(r.col)){r.row=r.row||{},r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1;var s=c.arange(r.row.start,t.min(n[0].length,r.row.end),r.row.step),l=r.col;return s.forEach(function(t,e){n[t][l]=o[e]}),n}o[0].length===e&&(o=[o]),r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1,r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1;var s=c.arange(r.row.start,t.min(n.length,r.row.end),r.row.step),i=c.arange(r.col.start,t.min(n[0].length,r.col.end),r.col.step);return s.forEach(function(t,e){i.forEach(function(r,i){n[t][r]=o[e][i]})}),n},c.diagonal=function(t){var e=c.zeros(t.length,t.length);return t.forEach(function(t,n){e[n][n]=t}),e},c.copy=function(t){return t.map(function(t){return u(t)?t:t.map(function(t){return t})})};var p=c.prototype;return p.length=0,p.push=Array.prototype.push,p.sort=Array.prototype.sort,p.splice=Array.prototype.splice,p.slice=Array.prototype.slice,p.toArray=function(){return this.length>1?r.call(this):r.call(this)[0]},p.map=function(t,e){return c(c.map(this,t,e))},p.cumreduce=function(t,e){return c(c.cumreduce(this,t,e))},p.alter=function(t){return c.alter(this,t),this},function(t){for(var e=0;e<t.length;e++)!function(t){p[t]=function(e){var n,r=this;return e?(setTimeout(function(){e.call(r,p[t].call(r))}),this):(n=c[t](this),s(n)?c(n):n)}}(t[e])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(t){for(var e=0;e<t.length;e++)!function(t){p[t]=function(e,n){var r=this;return n?(setTimeout(function(){n.call(r,p[t].call(r,e))}),this):c(c[t](this,e))}}(t[e])}("row col".split(" ")),function(t){for(var e=0;e<t.length;e++)!function(t){p[t]=function(){return c(c[t].apply(null,arguments))}}(t[e])}("create zeros ones rand identity".split(" ")),c}(Math);return function(t,e){var n=t.utils.isFunction;function r(t,e){return t-e}function o(t,n,r){return e.max(n,e.min(t,r))}t.sum=function(t){for(var e=0,n=t.length;--n>=0;)e+=t[n];return e},t.sumsqrd=function(t){for(var e=0,n=t.length;--n>=0;)e+=t[n]*t[n];return e},t.sumsqerr=function(e){for(var n,r=t.mean(e),o=0,i=e.length;--i>=0;)o+=(n=e[i]-r)*n;return o},t.sumrow=function(t){for(var e=0,n=t.length;--n>=0;)e+=t[n];return e},t.product=function(t){for(var e=1,n=t.length;--n>=0;)e*=t[n];return e},t.min=function(t){for(var e=t[0],n=0;++n<t.length;)t[n]<e&&(e=t[n]);return e},t.max=function(t){for(var e=t[0],n=0;++n<t.length;)t[n]>e&&(e=t[n]);return e},t.unique=function(t){for(var e={},n=[],r=0;r<t.length;r++)e[t[r]]||(e[t[r]]=!0,n.push(t[r]));return n},t.mean=function(e){return t.sum(e)/e.length},t.meansqerr=function(e){return t.sumsqerr(e)/e.length},t.geomean=function(n){return e.pow(t.product(n),1/n.length)},t.median=function(t){var e=t.length,n=t.slice().sort(r);return 1&e?n[e/2|0]:(n[e/2-1]+n[e/2])/2},t.cumsum=function(e){return t.cumreduce(e,function(t,e){return t+e})},t.cumprod=function(e){return t.cumreduce(e,function(t,e){return t*e})},t.diff=function(t){for(var e=[],n=t.length,r=1;r<n;r++)e.push(t[r]-t[r-1]);return e},t.rank=function(t){for(var e=t.length,n=t.slice().sort(r),o=new Array(e),i=0;i<e;i++){var a=n.indexOf(t[i]),s=n.lastIndexOf(t[i]);if(a===s)var l=a;else l=(a+s)/2;o[i]=l+1}return o},t.mode=function(t){for(var e=t.length,n=t.slice().sort(r),o=1,i=0,a=0,s=[],l=0;l<e;l++)n[l]===n[l+1]?o++:(o>i?(s=[n[l]],i=o,a=0):o===i&&(s.push(n[l]),a++),o=1);return 0===a?s[0]:s},t.range=function(e){return t.max(e)-t.min(e)},t.variance=function(e,n){return t.sumsqerr(e)/(e.length-(n?1:0))},t.pooledvariance=function(e){return e.reduce(function(e,n){return e+t.sumsqerr(n)},0)/(e.reduce(function(t,e){return t+e.length},0)-e.length)},t.deviation=function(e){for(var n=t.mean(e),r=e.length,o=new Array(r),i=0;i<r;i++)o[i]=e[i]-n;return o},t.stdev=function(n,r){return e.sqrt(t.variance(n,r))},t.pooledstdev=function(n){return e.sqrt(t.pooledvariance(n))},t.meandev=function(n){for(var r=t.mean(n),o=[],i=n.length-1;i>=0;i--)o.push(e.abs(n[i]-r));return t.mean(o)},t.meddev=function(n){for(var r=t.median(n),o=[],i=n.length-1;i>=0;i--)o.push(e.abs(n[i]-r));return t.median(o)},t.coeffvar=function(e){return t.stdev(e)/t.mean(e)},t.quartiles=function(t){var n=t.length,o=t.slice().sort(r);return[o[e.round(n/4)-1],o[e.round(n/2)-1],o[e.round(3*n/4)-1]]},t.quantiles=function(t,n,i,a){var s,l,u,c,h=t.slice().sort(r),f=[n.length],d=t.length;"undefined"===typeof i&&(i=3/8),"undefined"===typeof a&&(a=3/8);for(var p=0;p<n.length;p++)l=d*(s=n[p])+(i+s*(1-i-a)),u=e.floor(o(l,1,d-1)),c=o(l-u,0,1),f[p]=(1-c)*h[u-1]+c*h[u];return f},t.percentile=function(t,e){var n=t.slice().sort(r),o=e*(n.length-1),i=parseInt(o),a=o-i;return i+1<n.length?n[i]*(1-a)+n[i+1]*a:n[i]},t.percentileOfScore=function(t,e,n){var r,o=0,i=t.length,a=!1;"strict"===n&&(a=!0);for(var s=0;s<i;s++)r=t[s],(a&&r<e||!a&&r<=e)&&o++;return o/i},t.histogram=function(n,r){for(var o=t.min(n),i=r||4,a=(t.max(n)-o)/i,s=n.length,l=(r=[],0);l<i;l++)r[l]=0;for(l=0;l<s;l++)r[e.min(e.floor((n[l]-o)/a),i-1)]+=1;return r},t.covariance=function(e,n){for(var r=t.mean(e),o=t.mean(n),i=e.length,a=new Array(i),s=0;s<i;s++)a[s]=(e[s]-r)*(n[s]-o);return t.sum(a)/(i-1)},t.corrcoeff=function(e,n){return t.covariance(e,n)/t.stdev(e,1)/t.stdev(n,1)},t.spearmancoeff=function(e,n){return e=t.rank(e),n=t.rank(n),t.corrcoeff(e,n)},t.stanMoment=function(n,r){for(var o=t.mean(n),i=t.stdev(n),a=n.length,s=0,l=0;l<a;l++)s+=e.pow((n[l]-o)/i,r);return s/n.length},t.skewness=function(e){return t.stanMoment(e,3)},t.kurtosis=function(e){return t.stanMoment(e,4)-3};var i=t.prototype;!function(e){for(var r=0;r<e.length;r++)!function(e){i[e]=function(r,o){var a=[],s=0,l=this;if(n(r)&&(o=r,r=!1),o)return setTimeout(function(){o.call(l,i[e].call(l,r))}),this;if(this.length>1){for(l=!0===r?this:this.transpose();s<l.length;s++)a[s]=t[e](l[s]);return a}return t[e](this[0],r)}}(e[r])}("cumsum cumprod".split(" ")),function(e){for(var r=0;r<e.length;r++)!function(e){i[e]=function(r,o){var a=[],s=0,l=this;if(n(r)&&(o=r,r=!1),o)return setTimeout(function(){o.call(l,i[e].call(l,r))}),this;if(this.length>1){for("sumrow"!==e&&(l=!0===r?this:this.transpose());s<l.length;s++)a[s]=t[e](l[s]);return!0===r?t[e](t.utils.toVector(a)):a}return t[e](this[0],r)}}(e[r])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(e){for(var r=0;r<e.length;r++)!function(e){i[e]=function(){var r=[],o=0,a=this,s=Array.prototype.slice.call(arguments);if(n(s[s.length-1])){var l=s[s.length-1],u=s.slice(0,s.length-1);return setTimeout(function(){l.call(a,i[e].apply(a,u))}),this}l=void 0;var c=function(n){return t[e].apply(a,[n].concat(s))};if(this.length>1){for(a=a.transpose();o<a.length;o++)r[o]=c(a[o]);return r}return c(this[0])}}(e[r])}("quantiles percentileOfScore".split(" "))}(t,Math),function(t,e){t.gammaln=function(t){var n,r,o,i=0,a=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],s=1.000000000190015;for(o=(r=n=t)+5.5,o-=(n+.5)*e.log(o);i<6;i++)s+=a[i]/++r;return e.log(2.5066282746310007*s/n)-o},t.gammafn=function(t){var n,r,o,i=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],a=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],s=!1,l=0,u=0,c=0,h=t;if(h<=0){if(!(o=h%1+3.6e-16))return 1/0;s=(1&h?-1:1)*e.PI/e.sin(e.PI*o),h=1-h}r=h,n=h<1?h++:(h-=l=(0|h)-1)-1;for(var f=0;f<8;++f)c=(c+i[f])*n,u=u*n+a[f];if(o=c/u+1,r<h)o/=r;else if(r>h)for(f=0;f<l;++f)o*=h,h++;return s&&(o=s/o),o},t.gammap=function(e,n){return t.lowRegGamma(e,n)*t.gammafn(e)},t.lowRegGamma=function(n,r){var o,i=t.gammaln(n),a=n,s=1/n,l=s,u=r+1-n,c=1/1e-30,h=1/u,f=h,d=1,p=-~(8.5*e.log(n>=1?n:1/n)+.4*n+17);if(r<0||n<=0)return NaN;if(r<n+1){for(;d<=p;d++)s+=l*=r/++a;return s*e.exp(-r+n*e.log(r)-i)}for(;d<=p;d++)f*=(h=1/(h=(o=-d*(d-n))*h+(u+=2)))*(c=u+o/c);return 1-f*e.exp(-r+n*e.log(r)-i)},t.factorialln=function(e){return e<0?NaN:t.gammaln(e+1)},t.factorial=function(e){return e<0?NaN:t.gammafn(e+1)},t.combination=function(n,r){return n>170||r>170?e.exp(t.combinationln(n,r)):t.factorial(n)/t.factorial(r)/t.factorial(n-r)},t.combinationln=function(e,n){return t.factorialln(e)-t.factorialln(n)-t.factorialln(e-n)},t.permutation=function(e,n){return t.factorial(e)/t.factorial(e-n)},t.betafn=function(n,r){if(!(n<=0||r<=0))return n+r>170?e.exp(t.betaln(n,r)):t.gammafn(n)*t.gammafn(r)/t.gammafn(n+r)},t.betaln=function(e,n){return t.gammaln(e)+t.gammaln(n)-t.gammaln(e+n)},t.betacf=function(t,n,r){var o,i,a,s,l=1,u=n+r,c=n+1,h=n-1,f=1,d=1-u*t/c;for(e.abs(d)<1e-30&&(d=1e-30),s=d=1/d;l<=100&&(d=1+(i=l*(r-l)*t/((h+(o=2*l))*(n+o)))*d,e.abs(d)<1e-30&&(d=1e-30),f=1+i/f,e.abs(f)<1e-30&&(f=1e-30),s*=(d=1/d)*f,d=1+(i=-(n+l)*(u+l)*t/((n+o)*(c+o)))*d,e.abs(d)<1e-30&&(d=1e-30),f=1+i/f,e.abs(f)<1e-30&&(f=1e-30),s*=a=(d=1/d)*f,!(e.abs(a-1)<3e-7));l++);return s},t.gammapinv=function(n,r){var o,i,a,s,l,u,c=0,h=r-1,f=t.gammaln(r);if(n>=1)return e.max(100,r+100*e.sqrt(r));if(n<=0)return 0;for(r>1?(l=e.log(h),u=e.exp(h*(l-1)-f),s=n<.5?n:1-n,o=(2.30753+.27061*(i=e.sqrt(-2*e.log(s))))/(1+i*(.99229+.04481*i))-i,n<.5&&(o=-o),o=e.max(.001,r*e.pow(1-1/(9*r)-o/(3*e.sqrt(r)),3))):o=n<(i=1-r*(.253+.12*r))?e.pow(n/i,1/r):1-e.log(1-(n-i)/(1-i));c<12;c++){if(o<=0)return 0;if((o-=i=(a=(t.lowRegGamma(r,o)-n)/(i=r>1?u*e.exp(-(o-h)+h*(e.log(o)-l)):e.exp(-o+h*e.log(o)-f)))/(1-.5*e.min(1,a*((r-1)/o-1))))<=0&&(o=.5*(o+i)),e.abs(i)<1e-8*o)break}return o},t.erf=function(t){var n,r,o,i,a=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,9.6467911e-11,2.394038e-12,-6.886027e-12,8.94487e-13,3.13092e-13,-1.12708e-13,3.81e-16,7.106e-15,-1.523e-15,-9.4e-17,1.21e-16,-2.8e-17],s=a.length-1,l=!1,u=0,c=0;for(t<0&&(t=-t,l=!0),r=4*(n=2/(2+t))-2;s>0;s--)o=u,u=r*u-c+a[s],c=o;return i=n*e.exp(-t*t+.5*(a[0]+r*u)-c),l?i-1:1-i},t.erfc=function(e){return 1-t.erf(e)},t.erfcinv=function(n){var r,o,i,a,s=0;if(n>=2)return-100;if(n<=0)return 100;for(a=n<1?n:2-n,r=-.70711*((2.30753+.27061*(i=e.sqrt(-2*e.log(a/2))))/(1+i*(.99229+.04481*i))-i);s<2;s++)r+=(o=t.erfc(r)-a)/(1.1283791670955126*e.exp(-r*r)-r*o);return n<1?r:-r},t.ibetainv=function(n,r,o){var i,a,s,l,u,c,h,f,d,p,g=r-1,m=o-1,v=0;if(n<=0)return 0;if(n>=1)return 1;for(r>=1&&o>=1?(s=n<.5?n:1-n,c=(2.30753+.27061*(l=e.sqrt(-2*e.log(s))))/(1+l*(.99229+.04481*l))-l,n<.5&&(c=-c),h=(c*c-3)/6,f=2/(1/(2*r-1)+1/(2*o-1)),d=c*e.sqrt(h+f)/f-(1/(2*o-1)-1/(2*r-1))*(h+5/6-2/(3*f)),c=r/(r+o*e.exp(2*d))):(i=e.log(r/(r+o)),a=e.log(o/(r+o)),c=n<(l=e.exp(r*i)/r)/(d=l+(u=e.exp(o*a)/o))?e.pow(r*d*n,1/r):1-e.pow(o*d*(1-n),1/o)),p=-t.gammaln(r)-t.gammaln(o)+t.gammaln(r+o);v<10;v++){if(0===c||1===c)return c;if((c-=l=(u=(t.ibeta(c,r,o)-n)/(l=e.exp(g*e.log(c)+m*e.log(1-c)+p)))/(1-.5*e.min(1,u*(g/c-m/(1-c)))))<=0&&(c=.5*(c+l)),c>=1&&(c=.5*(c+l+1)),e.abs(l)<1e-8*c&&v>0)break}return c},t.ibeta=function(n,r,o){var i=0===n||1===n?0:e.exp(t.gammaln(r+o)-t.gammaln(r)-t.gammaln(o)+r*e.log(n)+o*e.log(1-n));return!(n<0||n>1)&&(n<(r+1)/(r+o+2)?i*t.betacf(n,r,o)/r:1-i*t.betacf(1-n,o,r)/o)},t.randn=function(n,r){var o,i,a,s,l;if(r||(r=n),n)return t.create(n,r,function(){return t.randn()});do{o=e.random(),i=1.7156*(e.random()-.5),l=(a=o-.449871)*a+(s=e.abs(i)+.386595)*(.196*s-.25472*a)}while(l>.27597&&(l>.27846||i*i>-4*e.log(o)*o*o));return i/o},t.randg=function(n,r,o){var i,a,s,l,u,c,h=n;if(o||(o=r),n||(n=1),r)return(c=t.zeros(r,o)).alter(function(){return t.randg(n)}),c;n<1&&(n+=1),i=n-1/3,a=1/e.sqrt(9*i);do{do{l=1+a*(u=t.randn())}while(l<=0);l*=l*l,s=e.random()}while(s>1-.331*e.pow(u,4)&&e.log(s)>.5*u*u+i*(1-l+e.log(l)));if(n==h)return i*l;do{s=e.random()}while(0===s);return e.pow(s,1/h)*i*l},function(e){for(var n=0;n<e.length;n++)!function(e){t.fn[e]=function(){return t(t.map(this,function(n){return t[e](n)}))}}(e[n])}("gammaln gammafn factorial factorialln".split(" ")),function(e){for(var n=0;n<e.length;n++)!function(e){t.fn[e]=function(){return t(t[e].apply(null,arguments))}}(e[n])}("randn".split(" "))}(t,Math),function(t,e){function n(n,r,o){var i=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],a=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],s=.5*n;if(s>=8)return 1;var l,u=2*t.normal.cdf(s,0,1,1,0)-1;u=u>=e.exp(-50/o)?e.pow(u,o):0;for(var c=s,h=(8-s)/(l=n>3?2:3),f=c+h,d=0,p=o-1,g=1;g<=l;g++){for(var m=0,v=.5*(f+c),y=.5*(f-c),b=1;b<=12;b++){var w,C=v+y*(6<b?i[(w=12-b+1)-1]:-i[(w=b)-1]),O=C*C;if(O>60)break;var S=2*t.normal.cdf(C,0,1,1,0)*.5-2*t.normal.cdf(C,n,1,1,0)*.5;S>=e.exp(-30/p)&&(m+=S=a[w-1]*e.exp(-.5*O)*e.pow(S,p))}d+=m*=2*y*o/e.sqrt(2*e.PI),c=f,f+=h}return(u+=d)<=e.exp(-30/r)?0:(u=e.pow(u,r))>=1?1:u}!function(e){for(var n=0;n<e.length;n++)!function(e){t[e]=function(t,e,n){return this instanceof arguments.callee?(this._a=t,this._b=e,this._c=n,this):new arguments.callee(t,e,n)},t.fn[e]=function(n,r,o){var i=t[e](n,r,o);return i.data=this,i},t[e].prototype.sample=function(n){var r=this._a,o=this._b,i=this._c;return n?t.alter(n,function(){return t[e].sample(r,o,i)}):t[e].sample(r,o,i)},function(n){for(var r=0;r<n.length;r++)!function(n){t[e].prototype[n]=function(r){var o=this._a,i=this._b,a=this._c;return r||0===r||(r=this.data),"number"!==typeof r?t.fn.map.call(r,function(r){return t[e][n](r,o,i,a)}):t[e][n](r,o,i,a)}}(n[r])}("pdf cdf inv".split(" ")),function(n){for(var r=0;r<n.length;r++)!function(n){t[e].prototype[n]=function(){return t[e][n](this._a,this._b,this._c)}}(n[r])}("mean median mode variance".split(" "))}(e[n])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),t.extend(t.beta,{pdf:function(n,r,o){return n>1||n<0?0:1==r&&1==o?1:r<512&&o<512?e.pow(n,r-1)*e.pow(1-n,o-1)/t.betafn(r,o):e.exp((r-1)*e.log(n)+(o-1)*e.log(1-n)-t.betaln(r,o))},cdf:function(e,n,r){return e>1||e<0?1*(e>1):t.ibeta(e,n,r)},inv:function(e,n,r){return t.ibetainv(e,n,r)},mean:function(t,e){return t/(t+e)},median:function(e,n){return t.ibetainv(.5,e,n)},mode:function(t,e){return(t-1)/(t+e-2)},sample:function(e,n){var r=t.randg(e);return r/(r+t.randg(n))},variance:function(t,n){return t*n/(e.pow(t+n,2)*(t+n+1))}}),t.extend(t.centralF,{pdf:function(n,r,o){var i;return n<0?0:r<=2?0===n&&r<2?1/0:0===n&&2===r?1:1/t.betafn(r/2,o/2)*e.pow(r/o,r/2)*e.pow(n,r/2-1)*e.pow(1+r/o*n,-(r+o)/2):(i=r*n/(o+n*r),r*(o/(o+n*r))/2*t.binomial.pdf((r-2)/2,(r+o-2)/2,i))},cdf:function(e,n,r){return e<0?0:t.ibeta(n*e/(n*e+r),n/2,r/2)},inv:function(e,n,r){return r/(n*(1/t.ibetainv(e,n/2,r/2)-1))},mean:function(t,e){return e>2?e/(e-2):void 0},mode:function(t,e){return t>2?e*(t-2)/(t*(e+2)):void 0},sample:function(e,n){return 2*t.randg(e/2)/e/(2*t.randg(n/2)/n)},variance:function(t,e){if(!(e<=4))return 2*e*e*(t+e-2)/(t*(e-2)*(e-2)*(e-4))}}),t.extend(t.cauchy,{pdf:function(t,n,r){return r<0?0:r/(e.pow(t-n,2)+e.pow(r,2))/e.PI},cdf:function(t,n,r){return e.atan((t-n)/r)/e.PI+.5},inv:function(t,n,r){return n+r*e.tan(e.PI*(t-.5))},median:function(t,e){return t},mode:function(t,e){return t},sample:function(n,r){return t.randn()*e.sqrt(1/(2*t.randg(.5)))*r+n}}),t.extend(t.chisquare,{pdf:function(n,r){return n<0?0:0===n&&2===r?.5:e.exp((r/2-1)*e.log(n)-n/2-r/2*e.log(2)-t.gammaln(r/2))},cdf:function(e,n){return e<0?0:t.lowRegGamma(n/2,e/2)},inv:function(e,n){return 2*t.gammapinv(e,.5*n)},mean:function(t){return t},median:function(t){return t*e.pow(1-2/(9*t),3)},mode:function(t){return t-2>0?t-2:0},sample:function(e){return 2*t.randg(e/2)},variance:function(t){return 2*t}}),t.extend(t.exponential,{pdf:function(t,n){return t<0?0:n*e.exp(-n*t)},cdf:function(t,n){return t<0?0:1-e.exp(-n*t)},inv:function(t,n){return-e.log(1-t)/n},mean:function(t){return 1/t},median:function(t){return 1/t*e.log(2)},mode:function(t){return 0},sample:function(t){return-1/t*e.log(e.random())},variance:function(t){return e.pow(t,-2)}}),t.extend(t.gamma,{pdf:function(n,r,o){return n<0?0:0===n&&1===r?1/o:e.exp((r-1)*e.log(n)-n/o-t.gammaln(r)-r*e.log(o))},cdf:function(e,n,r){return e<0?0:t.lowRegGamma(n,e/r)},inv:function(e,n,r){return t.gammapinv(e,n)*r},mean:function(t,e){return t*e},mode:function(t,e){if(t>1)return(t-1)*e},sample:function(e,n){return t.randg(e)*n},variance:function(t,e){return t*e*e}}),t.extend(t.invgamma,{pdf:function(n,r,o){return n<=0?0:e.exp(-(r+1)*e.log(n)-o/n-t.gammaln(r)+r*e.log(o))},cdf:function(e,n,r){return e<=0?0:1-t.lowRegGamma(n,r/e)},inv:function(e,n,r){return r/t.gammapinv(1-e,n)},mean:function(t,e){return t>1?e/(t-1):void 0},mode:function(t,e){return e/(t+1)},sample:function(e,n){return n/t.randg(e)},variance:function(t,e){if(!(t<=2))return e*e/((t-1)*(t-1)*(t-2))}}),t.extend(t.kumaraswamy,{pdf:function(t,n,r){return 0===t&&1===n?r:1===t&&1===r?n:e.exp(e.log(n)+e.log(r)+(n-1)*e.log(t)+(r-1)*e.log(1-e.pow(t,n)))},cdf:function(t,n,r){return t<0?0:t>1?1:1-e.pow(1-e.pow(t,n),r)},inv:function(t,n,r){return e.pow(1-e.pow(1-t,1/r),1/n)},mean:function(e,n){return n*t.gammafn(1+1/e)*t.gammafn(n)/t.gammafn(1+1/e+n)},median:function(t,n){return e.pow(1-e.pow(2,-1/n),1/t)},mode:function(t,n){if(t>=1&&n>=1&&1!==t&&1!==n)return e.pow((t-1)/(t*n-1),1/t)},variance:function(t,e){throw new Error("variance not yet implemented")}}),t.extend(t.lognormal,{pdf:function(t,n,r){return t<=0?0:e.exp(-e.log(t)-.5*e.log(2*e.PI)-e.log(r)-e.pow(e.log(t)-n,2)/(2*r*r))},cdf:function(n,r,o){return n<0?0:.5+.5*t.erf((e.log(n)-r)/e.sqrt(2*o*o))},inv:function(n,r,o){return e.exp(-1.4142135623730951*o*t.erfcinv(2*n)+r)},mean:function(t,n){return e.exp(t+n*n/2)},median:function(t,n){return e.exp(t)},mode:function(t,n){return e.exp(t-n*n)},sample:function(n,r){return e.exp(t.randn()*r+n)},variance:function(t,n){return(e.exp(n*n)-1)*e.exp(2*t+n*n)}}),t.extend(t.noncentralt,{pdf:function(n,r,o){return e.abs(o)<1e-14?t.studentt.pdf(n,r):e.abs(n)<1e-14?e.exp(t.gammaln((r+1)/2)-o*o/2-.5*e.log(e.PI*r)-t.gammaln(r/2)):r/n*(t.noncentralt.cdf(n*e.sqrt(1+2/r),r+2,o)-t.noncentralt.cdf(n,r,o))},cdf:function(n,r,o){if(e.abs(o)<1e-14)return t.studentt.cdf(n,r);var i=!1;n<0&&(i=!0,o=-o);for(var a=t.normal.cdf(-o,0,1),s=1e-14+1,l=s,u=n*n/(n*n+r),c=0,h=e.exp(-o*o/2),f=e.exp(-o*o/2-.5*e.log(2)-t.gammaln(1.5))*o;c<200||l>1e-14||s>1e-14;)l=s,c>0&&(h*=o*o/(2*c),f*=o*o/(2*(c+.5))),a+=.5*(s=h*t.beta.cdf(u,c+.5,r/2)+f*t.beta.cdf(u,c+1,r/2)),c++;return i?1-a:a}}),t.extend(t.normal,{pdf:function(t,n,r){return e.exp(-.5*e.log(2*e.PI)-e.log(r)-e.pow(t-n,2)/(2*r*r))},cdf:function(n,r,o){return.5*(1+t.erf((n-r)/e.sqrt(2*o*o)))},inv:function(e,n,r){return-1.4142135623730951*r*t.erfcinv(2*e)+n},mean:function(t,e){return t},median:function(t,e){return t},mode:function(t,e){return t},sample:function(e,n){return t.randn()*n+e},variance:function(t,e){return e*e}}),t.extend(t.pareto,{pdf:function(t,n,r){return t<n?0:r*e.pow(n,r)/e.pow(t,r+1)},cdf:function(t,n,r){return t<n?0:1-e.pow(n/t,r)},inv:function(t,n,r){return n/e.pow(1-t,1/r)},mean:function(t,n){if(!(n<=1))return n*e.pow(t,n)/(n-1)},median:function(t,n){return t*(n*e.SQRT2)},mode:function(t,e){return t},variance:function(t,n){if(!(n<=2))return t*t*n/(e.pow(n-1,2)*(n-2))}}),t.extend(t.studentt,{pdf:function(n,r){return r=r>1e100?1e100:r,1/(e.sqrt(r)*t.betafn(.5,r/2))*e.pow(1+n*n/r,-(r+1)/2)},cdf:function(n,r){var o=r/2;return t.ibeta((n+e.sqrt(n*n+r))/(2*e.sqrt(n*n+r)),o,o)},inv:function(n,r){var o=t.ibetainv(2*e.min(n,1-n),.5*r,.5);return o=e.sqrt(r*(1-o)/o),n>.5?o:-o},mean:function(t){return t>1?0:void 0},median:function(t){return 0},mode:function(t){return 0},sample:function(n){return t.randn()*e.sqrt(n/(2*t.randg(n/2)))},variance:function(t){return t>2?t/(t-2):t>1?1/0:void 0}}),t.extend(t.weibull,{pdf:function(t,n,r){return t<0||n<0||r<0?0:r/n*e.pow(t/n,r-1)*e.exp(-e.pow(t/n,r))},cdf:function(t,n,r){return t<0?0:1-e.exp(-e.pow(t/n,r))},inv:function(t,n,r){return n*e.pow(-e.log(1-t),1/r)},mean:function(e,n){return e*t.gammafn(1+1/n)},median:function(t,n){return t*e.pow(e.log(2),1/n)},mode:function(t,n){return n<=1?0:t*e.pow((n-1)/n,1/n)},sample:function(t,n){return t*e.pow(-e.log(e.random()),1/n)},variance:function(n,r){return n*n*t.gammafn(1+2/r)-e.pow(t.weibull.mean(n,r),2)}}),t.extend(t.uniform,{pdf:function(t,e,n){return t<e||t>n?0:1/(n-e)},cdf:function(t,e,n){return t<e?0:t<n?(t-e)/(n-e):1},inv:function(t,e,n){return e+t*(n-e)},mean:function(t,e){return.5*(t+e)},median:function(e,n){return t.mean(e,n)},mode:function(t,e){throw new Error("mode is not yet implemented")},sample:function(t,n){return t/2+n/2+(n/2-t/2)*(2*e.random()-1)},variance:function(t,n){return e.pow(n-t,2)/12}}),t.extend(t.binomial,{pdf:function(n,r,o){return 0===o||1===o?r*o===n?1:0:t.combination(r,n)*e.pow(o,n)*e.pow(1-o,r-n)},cdf:function(e,n,r){var o=[],i=0;if(e<0)return 0;if(e<n){for(;i<=e;i++)o[i]=t.binomial.pdf(i,n,r);return t.sum(o)}return 1}}),t.extend(t.negbin,{pdf:function(n,r,o){return n===n>>>0&&(n<0?0:t.combination(n+r-1,r-1)*e.pow(1-o,n)*e.pow(o,r))},cdf:function(e,n,r){var o=0,i=0;if(e<0)return 0;for(;i<=e;i++)o+=t.negbin.pdf(i,n,r);return o}}),t.extend(t.hypgeom,{pdf:function(n,r,o,i){if(n!==n|0)return!1;if(n<0||n<o-(r-i))return 0;if(n>i||n>o)return 0;if(2*o>r)return 2*i>r?t.hypgeom.pdf(r-o-i+n,r,r-o,r-i):t.hypgeom.pdf(i-n,r,r-o,i);if(2*i>r)return t.hypgeom.pdf(o-n,r,o,r-i);if(o<i)return t.hypgeom.pdf(n,r,i,o);for(var a=1,s=0,l=0;l<n;l++){for(;a>1&&s<i;)a*=1-o/(r-s),s++;a*=(i-l)*(o-l)/((l+1)*(r-o-i+l+1))}for(;s<i;s++)a*=1-o/(r-s);return e.min(1,e.max(0,a))},cdf:function(n,r,o,i){if(n<0||n<o-(r-i))return 0;if(n>=i||n>=o)return 1;if(2*o>r)return 2*i>r?t.hypgeom.cdf(r-o-i+n,r,r-o,r-i):1-t.hypgeom.cdf(i-n-1,r,r-o,i);if(2*i>r)return 1-t.hypgeom.cdf(o-n-1,r,o,r-i);if(o<i)return t.hypgeom.cdf(n,r,i,o);for(var a=1,s=1,l=0,u=0;u<n;u++){for(;a>1&&l<i;){var c=1-o/(r-l);s*=c,a*=c,l++}a+=s*=(i-u)*(o-u)/((u+1)*(r-o-i+u+1))}for(;l<i;l++)a*=1-o/(r-l);return e.min(1,e.max(0,a))}}),t.extend(t.poisson,{pdf:function(n,r){return r<0||n%1!==0||n<0?0:e.pow(r,n)*e.exp(-r)/t.factorial(n)},cdf:function(e,n){var r=[],o=0;if(e<0)return 0;for(;o<=e;o++)r.push(t.poisson.pdf(o,n));return t.sum(r)},mean:function(t){return t},variance:function(t){return t},sample:function(t){var n=1,r=0,o=e.exp(-t);do{r++,n*=e.random()}while(n>o);return r-1}}),t.extend(t.triangular,{pdf:function(t,e,n,r){return n<=e||r<e||r>n?NaN:t<e||t>n?0:t<r?2*(t-e)/((n-e)*(r-e)):t===r?2/(n-e):2*(n-t)/((n-e)*(n-r))},cdf:function(t,n,r,o){return r<=n||o<n||o>r?NaN:t<=n?0:t>=r?1:t<=o?e.pow(t-n,2)/((r-n)*(o-n)):1-e.pow(r-t,2)/((r-n)*(r-o))},inv:function(t,n,r,o){return r<=n||o<n||o>r?NaN:t<=(o-n)/(r-n)?n+(r-n)*e.sqrt(t*((o-n)/(r-n))):n+(r-n)*(1-e.sqrt((1-t)*(1-(o-n)/(r-n))))},mean:function(t,e,n){return(t+e+n)/3},median:function(t,n,r){return r<=(t+n)/2?n-e.sqrt((n-t)*(n-r))/e.sqrt(2):r>(t+n)/2?t+e.sqrt((n-t)*(r-t))/e.sqrt(2):void 0},mode:function(t,e,n){return n},sample:function(t,n,r){var o=e.random();return o<(r-t)/(n-t)?t+e.sqrt(o*(n-t)*(r-t)):n-e.sqrt((1-o)*(n-t)*(n-r))},variance:function(t,e,n){return(t*t+e*e+n*n-t*e-t*n-e*n)/18}}),t.extend(t.arcsine,{pdf:function(t,n,r){return r<=n?NaN:t<=n||t>=r?0:2/e.PI*e.pow(e.pow(r-n,2)-e.pow(2*t-n-r,2),-.5)},cdf:function(t,n,r){return t<n?0:t<r?2/e.PI*e.asin(e.sqrt((t-n)/(r-n))):1},inv:function(t,n,r){return n+(.5-.5*e.cos(e.PI*t))*(r-n)},mean:function(t,e){return e<=t?NaN:(t+e)/2},median:function(t,e){return e<=t?NaN:(t+e)/2},mode:function(t,e){throw new Error("mode is not yet implemented")},sample:function(n,r){return(n+r)/2+(r-n)/2*e.sin(2*e.PI*t.uniform.sample(0,1))},variance:function(t,n){return n<=t?NaN:e.pow(n-t,2)/8}}),t.extend(t.laplace,{pdf:function(t,n,r){return r<=0?0:e.exp(-e.abs(t-n)/r)/(2*r)},cdf:function(t,n,r){return r<=0?0:t<n?.5*e.exp((t-n)/r):1-.5*e.exp(-(t-n)/r)},mean:function(t,e){return t},median:function(t,e){return t},mode:function(t,e){return t},variance:function(t,e){return 2*e*e},sample:function(t,n){var r,o=e.random()-.5;return t-n*((r=o)/e.abs(r))*e.log(1-2*e.abs(o))}}),t.extend(t.tukey,{cdf:function(r,o,i){var a=o,s=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],l=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(r<=0)return 0;if(i<2||a<2)return NaN;if(!Number.isFinite(r))return 1;if(i>25e3)return n(r,1,a);var u,c=.5*i,h=c*e.log(i)-i*e.log(2)-t.gammaln(c),f=c-1,d=.25*i;u=i<=100?1:i<=800?.5:i<=5e3?.25:.125,h+=e.log(u);for(var p=0,g=1;g<=50;g++){for(var m=0,v=(2*g-1)*u,y=1;y<=16;y++){var b,w;8<y?(b=y-8-1,w=h+f*e.log(v+s[b]*u)-(s[b]*u+v)*d):(b=y-1,w=h+f*e.log(v-s[b]*u)+(s[b]*u-v)*d),w>=-30&&(m+=n(8<y?r*e.sqrt(.5*(s[b]*u+v)):r*e.sqrt(.5*(-s[b]*u+v)),1,a)*l[b]*e.exp(w))}if(g*u>=1&&m<=1e-14)break;p+=m}if(m>1e-14)throw new Error("tukey.cdf failed to converge");return p>1&&(p=1),p},inv:function(n,r,o){if(o<2||r<2)return NaN;if(n<0||n>1)return NaN;if(0===n)return 0;if(1===n)return 1/0;var i,a=function(t,n,r){var o=.5-.5*t,i=e.sqrt(e.log(1/(o*o))),a=i+((((-453642210148e-16*i-.204231210125)*i-.342242088547)*i-1)*i+.322232421088)/((((.0038560700634*i+.10353775285)*i+.531103462366)*i+.588581570495)*i+.099348462606);r<120&&(a+=(a*a*a+a)/r/4);var s=.8832-.2368*a;return r<120&&(s+=-1.214/r+1.208*a/r),a*(s*e.log(n-1)+1.4142)}(n,r,o),s=t.tukey.cdf(a,r,o)-n;i=s>0?e.max(0,a-1):a+1;for(var l,u=t.tukey.cdf(i,r,o)-n,c=1;c<50;c++)if(l=i-u*(i-a)/(u-s),s=u,a=i,l<0&&(l=0,u=-n),u=t.tukey.cdf(l,r,o)-n,i=l,e.abs(i-a)<1e-4)return l;throw new Error("tukey.inv failed to converge")}})}(t,Math),function(t,e){var n=Array.prototype.push,o=t.utils.isArray;function a(e){return o(e)||e instanceof t}t.extend({add:function(e,n){return a(n)?(a(n[0])||(n=[n]),t.map(e,function(t,e,r){return t+n[e][r]})):t.map(e,function(t){return t+n})},subtract:function(e,n){return a(n)?(a(n[0])||(n=[n]),t.map(e,function(t,e,r){return t-n[e][r]||0})):t.map(e,function(t){return t-n})},divide:function(e,n){return a(n)?(a(n[0])||(n=[n]),t.multiply(e,t.inv(n))):t.map(e,function(t){return t/n})},multiply:function(e,n){var r,o,i,s,l,u,c,h;if(void 0===e.length&&void 0===n.length)return e*n;if(l=e.length,u=e[0].length,c=t.zeros(l,i=a(n)?n[0].length:u),h=0,a(n)){for(;h<i;h++)for(r=0;r<l;r++){for(s=0,o=0;o<u;o++)s+=e[r][o]*n[o][h];c[r][h]=s}return 1===l&&1===h?c[0][0]:c}return t.map(e,function(t){return t*n})},outer:function(e,n){return t.multiply(e.map(function(t){return[t]}),[n])},dot:function(e,n){a(e[0])||(e=[e]),a(n[0])||(n=[n]);for(var r,o,i=1===e[0].length&&1!==e.length?t.transpose(e):e,s=1===n[0].length&&1!==n.length?t.transpose(n):n,l=[],u=0,c=i.length,h=i[0].length;u<c;u++){for(l[u]=[],r=0,o=0;o<h;o++)r+=i[u][o]*s[u][o];l[u]=r}return 1===l.length?l[0]:l},pow:function(n,r){return t.map(n,function(t){return e.pow(t,r)})},exp:function(n){return t.map(n,function(t){return e.exp(t)})},log:function(n){return t.map(n,function(t){return e.log(t)})},abs:function(n){return t.map(n,function(t){return e.abs(t)})},norm:function(t,n){var r=0,o=0;for(isNaN(n)&&(n=2),a(t[0])&&(t=t[0]);o<t.length;o++)r+=e.pow(e.abs(t[o]),n);return e.pow(r,1/n)},angle:function(n,r){return e.acos(t.dot(n,r)/(t.norm(n)*t.norm(r)))},aug:function(t,e){for(var r=[],o=0;o<t.length;o++)r.push(t[o].slice());for(o=0;o<r.length;o++)n.apply(r[o],e[o]);return r},inv:function(e){for(var n,r=e.length,o=e[0].length,i=t.identity(r,o),a=t.gauss_jordan(e,i),s=[],l=0;l<r;l++)for(s[l]=[],n=o;n<a[0].length;n++)s[l][n-o]=a[l][n];return s},det:function(t){var e,n=t.length,r=2*n,o=new Array(r),i=n-1,a=r-1,s=i-n+1,l=a,u=0,c=0;if(2===n)return t[0][0]*t[1][1]-t[0][1]*t[1][0];for(;u<r;u++)o[u]=1;for(u=0;u<n;u++){for(e=0;e<n;e++)o[s<0?s+n:s]*=t[u][e],o[l<n?l+n:l]*=t[u][e],s++,l--;s=--i-n+1,l=--a}for(u=0;u<n;u++)c+=o[u];for(;u<r;u++)c-=o[u];return c},gauss_elimination:function(n,r){var o,i,a,s,l=0,u=0,c=n.length,h=n[0].length,f=1,d=0,p=[];for(o=(n=t.aug(n,r))[0].length,l=0;l<c;l++){for(i=n[l][l],u=l,s=l+1;s<h;s++)i<e.abs(n[s][l])&&(i=n[s][l],u=s);if(u!=l)for(s=0;s<o;s++)a=n[l][s],n[l][s]=n[u][s],n[u][s]=a;for(u=l+1;u<c;u++)for(f=n[u][l]/n[l][l],s=l;s<o;s++)n[u][s]=n[u][s]-f*n[l][s]}for(l=c-1;l>=0;l--){for(d=0,u=l+1;u<=c-1;u++)d+=p[u]*n[l][u];p[l]=(n[l][o-1]-d)/n[l][l]}return p},gauss_jordan:function(n,r){for(var o=t.aug(n,r),i=o.length,a=o[0].length,s=0,l=0;l<i;l++){for(var u=l,c=l+1;c<i;c++)e.abs(o[c][l])>e.abs(o[u][l])&&(u=c);var h=o[l];for(o[l]=o[u],o[u]=h,c=l+1;c<i;c++){s=o[c][l]/o[l][l];for(var f=l;f<a;f++)o[c][f]-=o[l][f]*s}}for(l=i-1;l>=0;l--){for(s=o[l][l],c=0;c<l;c++)for(f=a-1;f>l-1;f--)o[c][f]-=o[l][f]*o[c][l]/s;for(o[l][l]/=s,f=i;f<a;f++)o[l][f]/=s}return o},triaUpSolve:function(e,n){var r,o=e[0].length,i=t.zeros(1,o)[0],a=!1;return void 0!=n[0].length&&(n=n.map(function(t){return t[0]}),a=!0),t.arange(o-1,-1,-1).forEach(function(a){r=t.arange(a+1,o).map(function(t){return i[t]*e[a][t]}),i[a]=(n[a]-t.sum(r))/e[a][a]}),a?i.map(function(t){return[t]}):i},triaLowSolve:function(e,n){var r,o=e[0].length,i=t.zeros(1,o)[0],a=!1;return void 0!=n[0].length&&(n=n.map(function(t){return t[0]}),a=!0),t.arange(o).forEach(function(o){r=t.arange(o).map(function(t){return e[o][t]*i[t]}),i[o]=(n[o]-t.sum(r))/e[o][o]}),a?i.map(function(t){return[t]}):i},lu:function(e){var n,r=e.length,o=t.identity(r),a=t.zeros(e.length,e[0].length);return t.arange(r).forEach(function(t){a[0][t]=e[0][t]}),t.arange(1,r).forEach(function(s){t.arange(s).forEach(function(r){n=t.arange(r).map(function(t){return o[s][t]*a[t][r]}),o[s][r]=(e[s][r]-t.sum(n))/a[r][r]}),t.arange(s,r).forEach(function(r){n=t.arange(s).map(function(t){return o[s][t]*a[t][r]}),a[s][r]=e[i][r]-t.sum(n)})}),[o,a]},cholesky:function(n){var r,o=n.length,i=t.zeros(n.length,n[0].length);return t.arange(o).forEach(function(a){r=t.arange(a).map(function(t){return e.pow(i[a][t],2)}),i[a][a]=e.sqrt(n[a][a]-t.sum(r)),t.arange(a+1,o).forEach(function(e){r=t.arange(a).map(function(t){return i[a][t]*i[e][t]}),i[e][a]=(n[a][e]-t.sum(r))/i[a][a]})}),i},gauss_jacobi:function(n,r,o,i){for(var a,s,l,u,c=0,h=0,f=n.length,d=[],p=[],g=[];c<f;c++)for(d[c]=[],p[c]=[],g[c]=[],h=0;h<f;h++)c>h?(d[c][h]=n[c][h],p[c][h]=g[c][h]=0):c<h?(p[c][h]=n[c][h],d[c][h]=g[c][h]=0):(g[c][h]=n[c][h],d[c][h]=p[c][h]=0);for(l=t.multiply(t.multiply(t.inv(g),t.add(d,p)),-1),s=t.multiply(t.inv(g),r),a=o,u=t.add(t.multiply(l,o),s),c=2;e.abs(t.norm(t.subtract(u,a)))>i;)a=u,u=t.add(t.multiply(l,a),s),c++;return u},gauss_seidel:function(n,r,o,i){for(var a,s,l,u,c,h=0,f=n.length,d=[],p=[],g=[];h<f;h++)for(d[h]=[],p[h]=[],g[h]=[],a=0;a<f;a++)h>a?(d[h][a]=n[h][a],p[h][a]=g[h][a]=0):h<a?(p[h][a]=n[h][a],d[h][a]=g[h][a]=0):(g[h][a]=n[h][a],d[h][a]=p[h][a]=0);for(u=t.multiply(t.multiply(t.inv(t.add(g,d)),p),-1),l=t.multiply(t.inv(t.add(g,d)),r),s=o,c=t.add(t.multiply(u,o),l),h=2;e.abs(t.norm(t.subtract(c,s)))>i;)s=c,c=t.add(t.multiply(u,s),l),h+=1;return c},SOR:function(n,r,o,i,a){for(var s,l,u,c,h,f=0,d=n.length,p=[],g=[],m=[];f<d;f++)for(p[f]=[],g[f]=[],m[f]=[],s=0;s<d;s++)f>s?(p[f][s]=n[f][s],g[f][s]=m[f][s]=0):f<s?(g[f][s]=n[f][s],p[f][s]=m[f][s]=0):(m[f][s]=n[f][s],p[f][s]=g[f][s]=0);for(c=t.multiply(t.inv(t.add(m,t.multiply(p,a))),t.subtract(t.multiply(m,1-a),t.multiply(g,a))),u=t.multiply(t.multiply(t.inv(t.add(m,t.multiply(p,a))),r),a),l=o,h=t.add(t.multiply(c,o),u),f=2;e.abs(t.norm(t.subtract(h,l)))>i;)l=h,h=t.add(t.multiply(c,l),u),f++;return h},householder:function(n){for(var r,o,i,a,s=n.length,l=n[0].length,u=0,c=[],h=[];u<s-1;u++){for(r=0,a=u+1;a<l;a++)r+=n[a][u]*n[a][u];for(r=(n[u+1][u]>0?-1:1)*e.sqrt(r),o=e.sqrt((r*r-n[u+1][u]*r)/2),(c=t.zeros(s,1))[u+1][0]=(n[u+1][u]-r)/(2*o),i=u+2;i<s;i++)c[i][0]=n[i][u]/(2*o);h=t.subtract(t.identity(s,l),t.multiply(t.multiply(c,t.transpose(c)),2)),n=t.multiply(h,t.multiply(n,h))}return n},QR:function(){var n=t.sum,o=t.arange;return function(i){var a,s,l,u=i.length,c=i[0].length;for(i=t.copy(i),r=t.zeros(c,c),s=0;s<c;s++){for(r[s][s]=e.sqrt(n(o(u).map(function(t){return i[t][s]*i[t][s]}))),a=0;a<u;a++)i[a][s]=i[a][s]/r[s][s];for(l=s+1;l<c;l++)for(r[s][l]=n(o(u).map(function(t){return i[t][s]*i[t][l]})),a=0;a<u;a++)i[a][l]=i[a][l]-i[a][s]*r[s][l]}return[i,r]}}(),lstsq:function(e,n){var r=!1;void 0===n[0].length&&(n=n.map(function(t){return[t]}),r=!0);var o=t.QR(e),i=o[0],a=o[1],s=e[0].length,l=t.slice(i,{col:{end:s}}),u=function(e){var n=(e=t.copy(e)).length,r=t.identity(n);return t.arange(n-1,-1,-1).forEach(function(n){t.sliceAssign(r,{row:n},t.divide(t.slice(r,{row:n}),e[n][n])),t.sliceAssign(e,{row:n},t.divide(t.slice(e,{row:n}),e[n][n])),t.arange(n).forEach(function(o){var i=t.multiply(e[o][n],-1),a=t.slice(e,{row:o}),s=t.multiply(t.slice(e,{row:n}),i);t.sliceAssign(e,{row:o},t.add(a,s));var l=t.slice(r,{row:o}),u=t.multiply(t.slice(r,{row:n}),i);t.sliceAssign(r,{row:o},t.add(l,u))})}),r}(t.slice(a,{row:{end:s}})),c=t.transpose(l);void 0===c[0].length&&(c=[c]);var h=t.multiply(t.multiply(u,c),n);return void 0===h.length&&(h=[[h]]),r?h.map(function(t){return t[0]}):h},jacobi:function(n){for(var r,o,i,a,s,l,u=1,c=n.length,h=t.identity(c,c),f=[];1===u;){a=n[0][1],o=0,i=1;for(var d=0;d<c;d++)for(r=0;r<c;r++)d!=r&&a<e.abs(n[d][r])&&(a=e.abs(n[d][r]),o=d,i=r);for(s=n[o][o]===n[i][i]?n[o][i]>0?e.PI/4:-e.PI/4:e.atan(2*n[o][i]/(n[o][o]-n[i][i]))/2,(l=t.identity(c,c))[o][o]=e.cos(s),l[o][i]=-e.sin(s),l[i][o]=e.sin(s),l[i][i]=e.cos(s),h=t.multiply(h,l),n=t.multiply(t.multiply(t.inv(l),n),l),u=0,d=1;d<c;d++)for(r=1;r<c;r++)d!=r&&e.abs(n[d][r])>.001&&(u=1)}for(d=0;d<c;d++)f.push(n[d][d]);return[h,f]},rungekutta:function(t,e,n,r,o,i){var a,s,l;if(2===i)for(;r<=n;)o+=((a=e*t(r,o))+(s=e*t(r+e,o+a)))/2,r+=e;if(4===i)for(;r<=n;)o+=((a=e*t(r,o))+2*(s=e*t(r+e/2,o+a/2))+2*(l=e*t(r+e/2,o+s/2))+e*t(r+e,o+l))/6,r+=e;return o},romberg:function(t,n,r,o){for(var i,a,s,l,u,c=0,h=(r-n)/2,f=[],d=[],p=[];c<o/2;){for(u=t(n),s=n,l=0;s<=r;s+=h,l++)f[l]=s;for(i=f.length,s=1;s<i-1;s++)u+=(s%2!==0?4:2)*t(f[s]);u=h/3*(u+t(r)),p[c]=u,h/=2,c++}for(a=p.length,i=1;1!==a;){for(s=0;s<a-1;s++)d[s]=(e.pow(4,i)*p[s+1]-p[s])/(e.pow(4,i)-1);a=d.length,p=d,d=[],i++}return p},richardson:function(t,n,r,o){function i(t,e){for(var n,r=0,o=t.length;r<o;r++)t[r]===e&&(n=r);return n}t.length;for(var a,s,l,u,c,h=e.abs(r-t[i(t,r)+1]),f=0,d=[],p=[];o>=h;)a=i(t,r+o),s=i(t,r),d[f]=(n[a]-2*n[s]+n[2*s-a])/(o*o),o/=2,f++;for(u=d.length,l=1;1!=u;){for(c=0;c<u-1;c++)p[c]=(e.pow(4,l)*d[c+1]-d[c])/(e.pow(4,l)-1);u=p.length,d=p,p=[],l++}return d},simpson:function(t,e,n,r){for(var o,i=(n-e)/r,a=t(e),s=[],l=e,u=0,c=1;l<=n;l+=i,u++)s[u]=l;for(o=s.length;c<o-1;c++)a+=(c%2!==0?4:2)*t(s[c]);return i/3*(a+t(n))},hermite:function(t,e,n,r){for(var o,i=t.length,a=0,s=0,l=[],u=[],c=[],h=[];s<i;s++){for(l[s]=1,o=0;o<i;o++)s!=o&&(l[s]*=(r-t[o])/(t[s]-t[o]));for(u[s]=0,o=0;o<i;o++)s!=o&&(u[s]+=1/(t[s]-t[o]));c[s]=(1-2*(r-t[s])*u[s])*(l[s]*l[s]),h[s]=(r-t[s])*(l[s]*l[s]),a+=c[s]*e[s]+h[s]*n[s]}return a},lagrange:function(t,e,n){for(var r,o,i=0,a=0,s=t.length;a<s;a++){for(o=e[a],r=0;r<s;r++)a!=r&&(o*=(n-t[r])/(t[a]-t[r]));i+=o}return i},cubic_spline:function(e,n,r){for(var o,i,a=e.length,s=0,l=[],u=[],c=[],h=[],f=[],d=[];s<a-1;s++)h[s]=e[s+1]-e[s];for(c[0]=0,s=1;s<a-1;s++)c[s]=3/h[s]*(n[s+1]-n[s])-3/h[s-1]*(n[s]-n[s-1]);for(s=1;s<a-1;s++)l[s]=[],u[s]=[],l[s][s-1]=h[s-1],l[s][s]=2*(h[s-1]+h[s]),l[s][s+1]=h[s],u[s][0]=c[s];for(i=t.multiply(t.inv(l),u),o=0;o<a-1;o++)f[o]=(n[o+1]-n[o])/h[o]-h[o]*(i[o+1][0]+2*i[o][0])/3,d[o]=(i[o+1][0]-i[o][0])/(3*h[o]);for(o=0;o<a&&!(e[o]>r);o++);return n[o-=1]+(r-e[o])*f[o]+t.sq(r-e[o])*i[o]+(r-e[o])*t.sq(r-e[o])*d[o]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(e){var n,r,o,i,a,s=e.length,l=e[0].length,u=0,c=[],h=[],f=[],d=[],p=[],g=[],m=[];for(u=0;u<s;u++)c[u]=t.sum(e[u])/l;for(u=0;u<l;u++)for(p[u]=[],n=0;n<s;n++)p[u][n]=e[n][u]-c[n];for(p=t.transpose(p),u=0;u<s;u++)for(g[u]=[],n=0;n<s;n++)g[u][n]=t.dot([p[u]],[p[n]])/(l-1);for(a=(o=t.jacobi(g))[0],h=o[1],m=t.transpose(a),u=0;u<h.length;u++)for(n=u;n<h.length;n++)h[u]<h[n]&&(r=h[u],h[u]=h[n],h[n]=r,f=m[u],m[u]=m[n],m[n]=f);for(i=t.transpose(p),u=0;u<s;u++)for(d[u]=[],n=0;n<i.length;n++)d[u][n]=t.dot([m[u]],[i[n]]);return[e,h,m,d]}}),function(e){for(var n=0;n<e.length;n++)!function(e){t.fn[e]=function(n,r){var o=this;return r?(setTimeout(function(){r.call(o,t.fn[e].call(o,n))},15),this):"number"===typeof t[e](this,n)?t[e](this,n):t(t[e](this,n))}}(e[n])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(t,Math),function(t,e){var n=[].slice,r=t.utils.isNumber,o=t.utils.isArray;function i(t,n,r,o){if(t>1||r>1||t<=0||r<=0)throw new Error("Proportions should be greater than 0 and less than 1");var i=(t*n+r*o)/(n+o);return(t-r)/e.sqrt(i*(1-i)*(1/n+1/o))}t.extend({zscore:function(){var e=n.call(arguments);return r(e[1])?(e[0]-e[1])/e[2]:(e[0]-t.mean(e[1]))/t.stdev(e[1],e[2])},ztest:function(){var r,i=n.call(arguments);return o(i[1])?(r=t.zscore(i[0],i[1],i[3]),1===i[2]?t.normal.cdf(-e.abs(r),0,1):2*t.normal.cdf(-e.abs(r),0,1)):i.length>2?(r=t.zscore(i[0],i[1],i[2]),1===i[3]?t.normal.cdf(-e.abs(r),0,1):2*t.normal.cdf(-e.abs(r),0,1)):(r=i[0],1===i[1]?t.normal.cdf(-e.abs(r),0,1):2*t.normal.cdf(-e.abs(r),0,1))}}),t.extend(t.fn,{zscore:function(t,e){return(t-this.mean())/this.stdev(e)},ztest:function(n,r,o){var i=e.abs(this.zscore(n,o));return 1===r?t.normal.cdf(-i,0,1):2*t.normal.cdf(-i,0,1)}}),t.extend({tscore:function(){var r=n.call(arguments);return 4===r.length?(r[0]-r[1])/(r[2]/e.sqrt(r[3])):(r[0]-t.mean(r[1]))/(t.stdev(r[1],!0)/e.sqrt(r[1].length))},ttest:function(){var o,i=n.call(arguments);return 5===i.length?(o=e.abs(t.tscore(i[0],i[1],i[2],i[3])),1===i[4]?t.studentt.cdf(-o,i[3]-1):2*t.studentt.cdf(-o,i[3]-1)):r(i[1])?(o=e.abs(i[0]),1==i[2]?t.studentt.cdf(-o,i[1]-1):2*t.studentt.cdf(-o,i[1]-1)):(o=e.abs(t.tscore(i[0],i[1])),1==i[2]?t.studentt.cdf(-o,i[1].length-1):2*t.studentt.cdf(-o,i[1].length-1))}}),t.extend(t.fn,{tscore:function(t){return(t-this.mean())/(this.stdev(!0)/e.sqrt(this.cols()))},ttest:function(n,r){return 1===r?1-t.studentt.cdf(e.abs(this.tscore(n)),this.cols()-1):2*t.studentt.cdf(-e.abs(this.tscore(n)),this.cols()-1)}}),t.extend({anovafscore:function(){var r,o,i,a,s,l,u,c=n.call(arguments);if(1===c.length){s=new Array(c[0].length);for(var h=0;h<c[0].length;h++)s[h]=c[0][h];c=s}if(2===c.length)return t.variance(c[0])/t.variance(c[1]);for(o=new Array,h=0;h<c.length;h++)o=o.concat(c[h]);for(i=t.mean(o),r=0,h=0;h<c.length;h++)r+=c[h].length*e.pow(t.mean(c[h])-i,2);for(r/=c.length-1,l=0,h=0;h<c.length;h++)for(a=t.mean(c[h]),u=0;u<c[h].length;u++)l+=e.pow(c[h][u]-a,2);return r/(l/=o.length-c.length)},anovaftest:function(){var e,o,i,a=n.call(arguments);if(r(a[0]))return 1-t.centralF.cdf(a[0],a[1],a[2]);anovafscore=t.anovafscore(a),e=a.length-1,i=0;for(var s=0;s<a.length;s++)i+=a[s].length;return o=i-e-1,1-t.centralF.cdf(anovafscore,e,o)},ftest:function(e,n,r){return 1-t.centralF.cdf(e,n,r)}}),t.extend(t.fn,{anovafscore:function(){return t.anovafscore(this.toArray())},anovaftes:function(){for(var e=0,n=0;n<this.length;n++)e+=this[n].length;return t.ftest(this.anovafscore(),this.length-1,e-this.length)}}),t.extend({qscore:function(){var o,i,a,s,l,u=n.call(arguments);return r(u[0])?(o=u[0],i=u[1],a=u[2],s=u[3],l=u[4]):(o=t.mean(u[0]),i=t.mean(u[1]),a=u[0].length,s=u[1].length,l=u[2]),e.abs(o-i)/(l*e.sqrt((1/a+1/s)/2))},qtest:function(){var e,r=n.call(arguments);3===r.length?(e=r[0],r=r.slice(1)):7===r.length?(e=t.qscore(r[0],r[1],r[2],r[3],r[4]),r=r.slice(5)):(e=t.qscore(r[0],r[1],r[2]),r=r.slice(3));var o=r[0],i=r[1];return 1-t.tukey.cdf(e,i,o-i)},tukeyhsd:function(e){for(var n=t.pooledstdev(e),r=e.map(function(e){return t.mean(e)}),o=e.reduce(function(t,e){return t+e.length},0),i=[],a=0;a<e.length;++a)for(var s=a+1;s<e.length;++s){var l=t.qtest(r[a],r[s],e[a].length,e[s].length,n,o,e.length);i.push([[a,s],l])}return i}}),t.extend({normalci:function(){var r,o=n.call(arguments),i=new Array(2);return r=4===o.length?e.abs(t.normal.inv(o[1]/2,0,1)*o[2]/e.sqrt(o[3])):e.abs(t.normal.inv(o[1]/2,0,1)*t.stdev(o[2])/e.sqrt(o[2].length)),i[0]=o[0]-r,i[1]=o[0]+r,i},tci:function(){var r,o=n.call(arguments),i=new Array(2);return r=4===o.length?e.abs(t.studentt.inv(o[1]/2,o[3]-1)*o[2]/e.sqrt(o[3])):e.abs(t.studentt.inv(o[1]/2,o[2].length-1)*t.stdev(o[2],!0)/e.sqrt(o[2].length)),i[0]=o[0]-r,i[1]=o[0]+r,i},significant:function(t,e){return t<e}}),t.extend(t.fn,{normalci:function(e,n){return t.normalci(e,n,this.toArray())},tci:function(e,n){return t.tci(e,n,this.toArray())}}),t.extend(t.fn,{oneSidedDifferenceOfProportions:function(e,n,r,o){var a=i(e,n,r,o);return t.ztest(a,1)},twoSidedDifferenceOfProportions:function(e,n,r,o){var a=i(e,n,r,o);return t.ztest(a,2)}})}(t,Math),t.models=function(){function e(e,n){var r=e.length,o=n[0].length-1,i=r-o-1,a=t.lstsq(n,e),s=t.multiply(n,a.map(function(t){return[t]})).map(function(t){return t[0]}),l=t.subtract(e,s),u=t.mean(e),c=t.sum(s.map(function(t){return Math.pow(t-u,2)})),h=t.sum(e.map(function(t,e){return Math.pow(t-s[e],2)})),f=c+h;return{exog:n,endog:e,nobs:r,df_model:o,df_resid:i,coef:a,predict:s,resid:l,ybar:u,SST:f,SSE:c,SSR:h,R2:c/f}}function n(n){var r=function(n){var r=n[0].length;return t.arange(r).map(function(o){var i=t.arange(r).filter(function(t){return t!==o});return e(t.col(n,o).map(function(t){return t[0]}),t.col(n,i))})}(n.exog),o=Math.sqrt(n.SSR/n.df_resid),i=r.map(function(t){var e=t.SST,n=t.R2;return o/Math.sqrt(e*(1-n))}),a=n.coef.map(function(t,e){return(t-0)/i[e]}),s=a.map(function(e){var r=t.studentt.cdf(e,n.df_resid);return 2*(r>.5?1-r:r)}),l=t.studentt.inv(.975,n.df_resid),u=n.coef.map(function(t,e){var n=l*i[e];return[t-n,t+n]});return{se:i,t:a,p:s,sigmaHat:o,interval95:u}}return{ols:function(r,o){var i=e(r,o),a=n(i),s=function(e){var n,r,o,i=e.R2/e.df_model/((1-e.R2)/e.df_resid);return{F_statistic:i,pvalue:1-(n=i,r=e.df_model,o=e.df_resid,t.beta.cdf(n/(o/r+n),r/2,o/2))}}(i),l=1-(1-i.R2)*((i.nobs-1)/i.df_resid);return i.t=a,i.f=s,i.adjust_R2=l,i}}}(),t}()},function(t,e,n){var r=n(1),o=n(0);e.UNIQUE=function(){for(var t=[],e=0;e<arguments.length;++e){for(var n=!1,r=arguments[e],o=0;o<t.length&&!(n=t[o]===r);++o);n||t.push(r)}return t},e.FLATTEN=r.flatten,e.ARGS2ARRAY=function(){return Array.prototype.slice.call(arguments,0)},e.REFERENCE=function(t,e){if(!arguments.length)return o.error;try{for(var n=e.split("."),r=t,i=0;i<n.length;++i){var a=n[i];if("]"===a[a.length-1]){var s=a.indexOf("["),l=a.substring(s+1,a.length-1);r=r[a.substring(0,s)][l]}else r=r[a]}return r}catch(o){}},e.JOIN=function(t,e){return t.join(e)},e.NUMBERS=function(){return r.flatten(arguments).filter(function(t){return"number"===typeof t})}},function(t,e,n){var r=n(0),o=n(10),i=n(6),a=n(1),s=n(26);function l(t){return/^[01]{1,10}$/.test(t)}e.BESSELI=function(t,e){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?r.value:s.besseli(t,e)},e.BESSELJ=function(t,e){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?r.value:s.besselj(t,e)},e.BESSELK=function(t,e){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?r.value:s.besselk(t,e)},e.BESSELY=function(t,e){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?r.value:s.bessely(t,e)},e.BIN2DEC=function(t){if(!l(t))return r.num;var e=parseInt(t,2),n=t.toString();return 10===n.length&&"1"===n.substring(0,1)?parseInt(n.substring(1),2)-512:e},e.BIN2HEX=function(t,e){if(!l(t))return r.num;var n=t.toString();if(10===n.length&&"1"===n.substring(0,1))return(0xfffffffe00+parseInt(n.substring(1),2)).toString(16);var o=parseInt(t,2).toString(16);return void 0===e?o:isNaN(e)?r.value:e<0?r.num:(e=Math.floor(e))>=o.length?i.REPT("0",e-o.length)+o:r.num},e.BIN2OCT=function(t,e){if(!l(t))return r.num;var n=t.toString();if(10===n.length&&"1"===n.substring(0,1))return(1073741312+parseInt(n.substring(1),2)).toString(8);var o=parseInt(t,2).toString(8);return void 0===e?o:isNaN(e)?r.value:e<0?r.num:(e=Math.floor(e))>=o.length?i.REPT("0",e-o.length)+o:r.num},e.BITAND=function(t,e){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?r.value:t<0||e<0?r.num:Math.floor(t)!==t||Math.floor(e)!==e?r.num:t>0xffffffffffff||e>0xffffffffffff?r.num:t&e},e.BITLSHIFT=function(t,e){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?r.value:t<0?r.num:Math.floor(t)!==t?r.num:t>0xffffffffffff?r.num:Math.abs(e)>53?r.num:e>=0?t<<e:t>>-e},e.BITOR=function(t,e){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?r.value:t<0||e<0?r.num:Math.floor(t)!==t||Math.floor(e)!==e?r.num:t>0xffffffffffff||e>0xffffffffffff?r.num:t|e},e.BITRSHIFT=function(t,e){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?r.value:t<0?r.num:Math.floor(t)!==t?r.num:t>0xffffffffffff?r.num:Math.abs(e)>53?r.num:e>=0?t>>e:t<<-e},e.BITXOR=function(t,e){return t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?r.value:t<0||e<0?r.num:Math.floor(t)!==t||Math.floor(e)!==e?r.num:t>0xffffffffffff||e>0xffffffffffff?r.num:t^e},e.COMPLEX=function(t,e,n){if(t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e))return t;if("i"!==(n=void 0===n?"i":n)&&"j"!==n)return r.value;if(0===t&&0===e)return 0;if(0===t)return 1===e?n:e.toString()+n;if(0===e)return t.toString();var o=e>0?"+":"";return t.toString()+o+(1===e?n:e.toString()+n)},e.CONVERT=function(t,e,n){if((t=a.parseNumber(t))instanceof Error)return t;for(var o,i=[["a.u. of action","?",null,"action",!1,!1,1.05457168181818e-34],["a.u. of charge","e",null,"electric_charge",!1,!1,1.60217653141414e-19],["a.u. of energy","Eh",null,"energy",!1,!1,4.35974417757576e-18],["a.u. of length","a?",null,"length",!1,!1,5.29177210818182e-11],["a.u. of mass","m?",null,"mass",!1,!1,9.10938261616162e-31],["a.u. of time","?/Eh",null,"time",!1,!1,2.41888432650516e-17],["admiralty knot","admkn",null,"speed",!1,!0,.514773333],["ampere","A",null,"electric_current",!0,!1,1],["ampere per meter","A/m",null,"magnetic_field_intensity",!0,!1,1],["\xe5ngstr\xf6m","\xc5",["ang"],"length",!1,!0,1e-10],["are","ar",null,"area",!1,!0,100],["astronomical unit","ua",null,"length",!1,!1,1.49597870691667e-11],["bar","bar",null,"pressure",!1,!1,1e5],["barn","b",null,"area",!1,!1,1e-28],["becquerel","Bq",null,"radioactivity",!0,!1,1],["bit","bit",["b"],"information",!1,!0,1],["btu","BTU",["btu"],"energy",!1,!0,1055.05585262],["byte","byte",null,"information",!1,!0,8],["candela","cd",null,"luminous_intensity",!0,!1,1],["candela per square metre","cd/m?",null,"luminance",!0,!1,1],["coulomb","C",null,"electric_charge",!0,!1,1],["cubic \xe5ngstr\xf6m","ang3",["ang^3"],"volume",!1,!0,1e-30],["cubic foot","ft3",["ft^3"],"volume",!1,!0,.028316846592],["cubic inch","in3",["in^3"],"volume",!1,!0,16387064e-12],["cubic light-year","ly3",["ly^3"],"volume",!1,!0,8.46786664623715e-47],["cubic metre","m?",null,"volume",!0,!0,1],["cubic mile","mi3",["mi^3"],"volume",!1,!0,4168181825.44058],["cubic nautical mile","Nmi3",["Nmi^3"],"volume",!1,!0,6352182208],["cubic Pica","Pica3",["Picapt3","Pica^3","Picapt^3"],"volume",!1,!0,7.58660370370369e-8],["cubic yard","yd3",["yd^3"],"volume",!1,!0,.764554857984],["cup","cup",null,"volume",!1,!0,.0002365882365],["dalton","Da",["u"],"mass",!1,!1,1.66053886282828e-27],["day","d",["day"],"time",!1,!0,86400],["degree","\xb0",null,"angle",!1,!1,.0174532925199433],["degrees Rankine","Rank",null,"temperature",!1,!0,.555555555555556],["dyne","dyn",["dy"],"force",!1,!0,1e-5],["electronvolt","eV",["ev"],"energy",!1,!0,1.60217656514141],["ell","ell",null,"length",!1,!0,1.143],["erg","erg",["e"],"energy",!1,!0,1e-7],["farad","F",null,"electric_capacitance",!0,!1,1],["fluid ounce","oz",null,"volume",!1,!0,295735295625e-16],["foot","ft",null,"length",!1,!0,.3048],["foot-pound","flb",null,"energy",!1,!0,1.3558179483314],["gal","Gal",null,"acceleration",!1,!1,.01],["gallon","gal",null,"volume",!1,!0,.003785411784],["gauss","G",["ga"],"magnetic_flux_density",!1,!0,1],["grain","grain",null,"mass",!1,!0,647989e-10],["gram","g",null,"mass",!1,!0,.001],["gray","Gy",null,"absorbed_dose",!0,!1,1],["gross registered ton","GRT",["regton"],"volume",!1,!0,2.8316846592],["hectare","ha",null,"area",!1,!0,1e4],["henry","H",null,"inductance",!0,!1,1],["hertz","Hz",null,"frequency",!0,!1,1],["horsepower","HP",["h"],"power",!1,!0,745.69987158227],["horsepower-hour","HPh",["hh","hph"],"energy",!1,!0,2684519.538],["hour","h",["hr"],"time",!1,!0,3600],["imperial gallon (U.K.)","uk_gal",null,"volume",!1,!0,.00454609],["imperial hundredweight","lcwt",["uk_cwt","hweight"],"mass",!1,!0,50.802345],["imperial quart (U.K)","uk_qt",null,"volume",!1,!0,.0011365225],["imperial ton","brton",["uk_ton","LTON"],"mass",!1,!0,1016.046909],["inch","in",null,"length",!1,!0,.0254],["international acre","uk_acre",null,"area",!1,!0,4046.8564224],["IT calorie","cal",null,"energy",!1,!0,4.1868],["joule","J",null,"energy",!0,!0,1],["katal","kat",null,"catalytic_activity",!0,!1,1],["kelvin","K",["kel"],"temperature",!0,!0,1],["kilogram","kg",null,"mass",!0,!0,1],["knot","kn",null,"speed",!1,!0,.514444444444444],["light-year","ly",null,"length",!1,!0,9460730472580800],["litre","L",["l","lt"],"volume",!1,!0,.001],["lumen","lm",null,"luminous_flux",!0,!1,1],["lux","lx",null,"illuminance",!0,!1,1],["maxwell","Mx",null,"magnetic_flux",!1,!1,1e-18],["measurement ton","MTON",null,"volume",!1,!0,1.13267386368],["meter per hour","m/h",["m/hr"],"speed",!1,!0,.00027777777777778],["meter per second","m/s",["m/sec"],"speed",!0,!0,1],["meter per second squared","m?s??",null,"acceleration",!0,!1,1],["parsec","pc",["parsec"],"length",!1,!0,0x6da012f958ee1c],["meter squared per second","m?/s",null,"kinematic_viscosity",!0,!1,1],["metre","m",null,"length",!0,!0,1],["miles per hour","mph",null,"speed",!1,!0,.44704],["millimetre of mercury","mmHg",null,"pressure",!1,!1,133.322],["minute","?",null,"angle",!1,!1,.000290888208665722],["minute","min",["mn"],"time",!1,!0,60],["modern teaspoon","tspm",null,"volume",!1,!0,5e-6],["mole","mol",null,"amount_of_substance",!0,!1,1],["morgen","Morgen",null,"area",!1,!0,2500],["n.u. of action","?",null,"action",!1,!1,1.05457168181818e-34],["n.u. of mass","m?",null,"mass",!1,!1,9.10938261616162e-31],["n.u. of speed","c?",null,"speed",!1,!1,299792458],["n.u. of time","?/(me?c??)",null,"time",!1,!1,1.28808866778687e-21],["nautical mile","M",["Nmi"],"length",!1,!0,1852],["newton","N",null,"force",!0,!0,1],["\u0153rsted","Oe ",null,"magnetic_field_intensity",!1,!1,79.5774715459477],["ohm","\u03a9",null,"electric_resistance",!0,!1,1],["ounce mass","ozm",null,"mass",!1,!0,.028349523125],["pascal","Pa",null,"pressure",!0,!1,1],["pascal second","Pa?s",null,"dynamic_viscosity",!0,!1,1],["pferdest\xe4rke","PS",null,"power",!1,!0,735.49875],["phot","ph",null,"illuminance",!1,!1,1e-4],["pica (1/6 inch)","pica",null,"length",!1,!0,.00035277777777778],["pica (1/72 inch)","Pica",["Picapt"],"length",!1,!0,.00423333333333333],["poise","P",null,"dynamic_viscosity",!1,!1,.1],["pond","pond",null,"force",!1,!0,.00980665],["pound force","lbf",null,"force",!1,!0,4.4482216152605],["pound mass","lbm",null,"mass",!1,!0,.45359237],["quart","qt",null,"volume",!1,!0,.000946352946],["radian","rad",null,"angle",!0,!1,1],["second","?",null,"angle",!1,!1,484813681109536e-20],["second","s",["sec"],"time",!0,!0,1],["short hundredweight","cwt",["shweight"],"mass",!1,!0,45.359237],["siemens","S",null,"electrical_conductance",!0,!1,1],["sievert","Sv",null,"equivalent_dose",!0,!1,1],["slug","sg",null,"mass",!1,!0,14.59390294],["square \xe5ngstr\xf6m","ang2",["ang^2"],"area",!1,!0,1e-20],["square foot","ft2",["ft^2"],"area",!1,!0,.09290304],["square inch","in2",["in^2"],"area",!1,!0,64516e-8],["square light-year","ly2",["ly^2"],"area",!1,!0,8.95054210748189e31],["square meter","m?",null,"area",!0,!0,1],["square mile","mi2",["mi^2"],"area",!1,!0,2589988.110336],["square nautical mile","Nmi2",["Nmi^2"],"area",!1,!0,3429904],["square Pica","Pica2",["Picapt2","Pica^2","Picapt^2"],"area",!1,!0,1792111111111e-17],["square yard","yd2",["yd^2"],"area",!1,!0,.83612736],["statute mile","mi",null,"length",!1,!0,1609.344],["steradian","sr",null,"solid_angle",!0,!1,1],["stilb","sb",null,"luminance",!1,!1,1e-4],["stokes","St",null,"kinematic_viscosity",!1,!1,1e-4],["stone","stone",null,"mass",!1,!0,6.35029318],["tablespoon","tbs",null,"volume",!1,!0,147868e-10],["teaspoon","tsp",null,"volume",!1,!0,492892e-11],["tesla","T",null,"magnetic_flux_density",!0,!0,1],["thermodynamic calorie","c",null,"energy",!1,!0,4.184],["ton","ton",null,"mass",!1,!0,907.18474],["tonne","t",null,"mass",!1,!1,1e3],["U.K. pint","uk_pt",null,"volume",!1,!0,.00056826125],["U.S. bushel","bushel",null,"volume",!1,!0,.03523907],["U.S. oil barrel","barrel",null,"volume",!1,!0,.158987295],["U.S. pint","pt",["us_pt"],"volume",!1,!0,.000473176473],["U.S. survey mile","survey_mi",null,"length",!1,!0,1609.347219],["U.S. survey/statute acre","us_acre",null,"area",!1,!0,4046.87261],["volt","V",null,"voltage",!0,!1,1],["watt","W",null,"power",!0,!0,1],["watt-hour","Wh",["wh"],"energy",!1,!0,3600],["weber","Wb",null,"magnetic_flux",!0,!1,1],["yard","yd",null,"length",!1,!0,.9144],["year","yr",null,"time",!1,!0,31557600]],s={Yi:["yobi",80,1.2089258196146292e24,"Yi","yotta"],Zi:["zebi",70,0x400000000000000000,"Zi","zetta"],Ei:["exbi",60,0x1000000000000000,"Ei","exa"],Pi:["pebi",50,0x4000000000000,"Pi","peta"],Ti:["tebi",40,1099511627776,"Ti","tera"],Gi:["gibi",30,1073741824,"Gi","giga"],Mi:["mebi",20,1048576,"Mi","mega"],ki:["kibi",10,1024,"ki","kilo"]},l={Y:["yotta",1e24,"Y"],Z:["zetta",1e21,"Z"],E:["exa",1e18,"E"],P:["peta",1e15,"P"],T:["tera",1e12,"T"],G:["giga",1e9,"G"],M:["mega",1e6,"M"],k:["kilo",1e3,"k"],h:["hecto",100,"h"],e:["dekao",10,"e"],d:["deci",.1,"d"],c:["centi",.01,"c"],m:["milli",.001,"m"],u:["micro",1e-6,"u"],n:["nano",1e-9,"n"],p:["pico",1e-12,"p"],f:["femto",1e-15,"f"],a:["atto",1e-18,"a"],z:["zepto",1e-21,"z"],y:["yocto",1e-24,"y"]},u=null,c=null,h=e,f=n,d=1,p=1,g=0;g<i.length;g++)o=null===i[g][2]?[]:i[g][2],(i[g][1]===h||o.indexOf(h)>=0)&&(u=i[g]),(i[g][1]===f||o.indexOf(f)>=0)&&(c=i[g]);if(null===u){var m=s[e.substring(0,2)],v=l[e.substring(0,1)];"da"===e.substring(0,2)&&(v=["dekao",10,"da"]),m?(d=m[2],h=e.substring(2)):v&&(d=v[1],h=e.substring(v[2].length));for(var y=0;y<i.length;y++)o=null===i[y][2]?[]:i[y][2],(i[y][1]===h||o.indexOf(h)>=0)&&(u=i[y])}if(null===c){var b=s[n.substring(0,2)],w=l[n.substring(0,1)];"da"===n.substring(0,2)&&(w=["dekao",10,"da"]),b?(p=b[2],f=n.substring(2)):w&&(p=w[1],f=n.substring(w[2].length));for(var C=0;C<i.length;C++)o=null===i[C][2]?[]:i[C][2],(i[C][1]===f||o.indexOf(f)>=0)&&(c=i[C])}return null===u||null===c?r.na:u[3]!==c[3]?r.na:t*u[6]*d/(c[6]*p)},e.DEC2BIN=function(t,e){if((t=a.parseNumber(t))instanceof Error)return t;if(!/^-?[0-9]{1,3}$/.test(t)||t<-512||t>511)return r.num;if(t<0)return"1"+i.REPT("0",9-(512+t).toString(2).length)+(512+t).toString(2);var n=parseInt(t,10).toString(2);return"undefined"===typeof e?n:isNaN(e)?r.value:e<0?r.num:(e=Math.floor(e))>=n.length?i.REPT("0",e-n.length)+n:r.num},e.DEC2HEX=function(t,e){if((t=a.parseNumber(t))instanceof Error)return t;if(!/^-?[0-9]{1,12}$/.test(t)||t<-549755813888||t>549755813887)return r.num;if(t<0)return(1099511627776+t).toString(16);var n=parseInt(t,10).toString(16);return"undefined"===typeof e?n:isNaN(e)?r.value:e<0?r.num:(e=Math.floor(e))>=n.length?i.REPT("0",e-n.length)+n:r.num},e.DEC2OCT=function(t,e){if((t=a.parseNumber(t))instanceof Error)return t;if(!/^-?[0-9]{1,9}$/.test(t)||t<-536870912||t>536870911)return r.num;if(t<0)return(1073741824+t).toString(8);var n=parseInt(t,10).toString(8);return"undefined"===typeof e?n:isNaN(e)?r.value:e<0?r.num:(e=Math.floor(e))>=n.length?i.REPT("0",e-n.length)+n:r.num},e.DELTA=function(t,e){return e=void 0===e?0:e,t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?r.value:t===e?1:0},e.ERF=function(t,e){return e=void 0===e?0:e,t=a.parseNumber(t),e=a.parseNumber(e),a.anyIsError(t,e)?r.value:o.erf(t)},e.ERF.PRECISE=function(){throw new Error("ERF.PRECISE is not implemented")},e.ERFC=function(t){return isNaN(t)?r.value:o.erfc(t)},e.ERFC.PRECISE=function(){throw new Error("ERFC.PRECISE is not implemented")},e.GESTEP=function(t,e){return e=e||0,t=a.parseNumber(t),a.anyIsError(e,t)?t:t>=e?1:0},e.HEX2BIN=function(t,e){if(!/^[0-9A-Fa-f]{1,10}$/.test(t))return r.num;var n=10===t.length&&"f"===t.substring(0,1).toLowerCase(),o=n?parseInt(t,16)-1099511627776:parseInt(t,16);if(o<-512||o>511)return r.num;if(n)return"1"+i.REPT("0",9-(512+o).toString(2).length)+(512+o).toString(2);var a=o.toString(2);return void 0===e?a:isNaN(e)?r.value:e<0?r.num:(e=Math.floor(e))>=a.length?i.REPT("0",e-a.length)+a:r.num},e.HEX2DEC=function(t){if(!/^[0-9A-Fa-f]{1,10}$/.test(t))return r.num;var e=parseInt(t,16);return e>=549755813888?e-1099511627776:e},e.HEX2OCT=function(t,e){if(!/^[0-9A-Fa-f]{1,10}$/.test(t))return r.num;var n=parseInt(t,16);if(n>536870911&&n<0xffe0000000)return r.num;if(n>=0xffe0000000)return(n-0xffc0000000).toString(8);var o=n.toString(8);return void 0===e?o:isNaN(e)?r.value:e<0?r.num:(e=Math.floor(e))>=o.length?i.REPT("0",e-o.length)+o:r.num},e.IMABS=function(t){var n=e.IMREAL(t),o=e.IMAGINARY(t);return a.anyIsError(n,o)?r.value:Math.sqrt(Math.pow(n,2)+Math.pow(o,2))},e.IMAGINARY=function(t){if(void 0===t||!0===t||!1===t)return r.value;if(0===t||"0"===t)return 0;if(["i","j"].indexOf(t)>=0)return 1;var e=(t=t.replace("+i","+1i").replace("-i","-1i").replace("+j","+1j").replace("-j","-1j")).indexOf("+"),n=t.indexOf("-");0===e&&(e=t.indexOf("+",1)),0===n&&(n=t.indexOf("-",1));var o=t.substring(t.length-1,t.length),i="i"===o||"j"===o;return e>=0||n>=0?i?e>=0?isNaN(t.substring(0,e))||isNaN(t.substring(e+1,t.length-1))?r.num:Number(t.substring(e+1,t.length-1)):isNaN(t.substring(0,n))||isNaN(t.substring(n+1,t.length-1))?r.num:-Number(t.substring(n+1,t.length-1)):r.num:i?isNaN(t.substring(0,t.length-1))?r.num:t.substring(0,t.length-1):isNaN(t)?r.num:0},e.IMARGUMENT=function(t){var n=e.IMREAL(t),o=e.IMAGINARY(t);return a.anyIsError(n,o)?r.value:0===n&&0===o?r.div0:0===n&&o>0?Math.PI/2:0===n&&o<0?-Math.PI/2:0===o&&n>0?0:0===o&&n<0?-Math.PI:n>0?Math.atan(o/n):n<0&&o>=0?Math.atan(o/n)+Math.PI:Math.atan(o/n)-Math.PI},e.IMCONJUGATE=function(t){var n=e.IMREAL(t),o=e.IMAGINARY(t);if(a.anyIsError(n,o))return r.value;var i=t.substring(t.length-1);return i="i"===i||"j"===i?i:"i",0!==o?e.COMPLEX(n,-o,i):t},e.IMCOS=function(t){var n=e.IMREAL(t),o=e.IMAGINARY(t);if(a.anyIsError(n,o))return r.value;var i=t.substring(t.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.cos(n)*(Math.exp(o)+Math.exp(-o))/2,-Math.sin(n)*(Math.exp(o)-Math.exp(-o))/2,i)},e.IMCOSH=function(t){var n=e.IMREAL(t),o=e.IMAGINARY(t);if(a.anyIsError(n,o))return r.value;var i=t.substring(t.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.cos(o)*(Math.exp(n)+Math.exp(-n))/2,Math.sin(o)*(Math.exp(n)-Math.exp(-n))/2,i)},e.IMCOT=function(t){var n=e.IMREAL(t),o=e.IMAGINARY(t);return a.anyIsError(n,o)?r.value:e.IMDIV(e.IMCOS(t),e.IMSIN(t))},e.IMDIV=function(t,n){var o=e.IMREAL(t),i=e.IMAGINARY(t),s=e.IMREAL(n),l=e.IMAGINARY(n);if(a.anyIsError(o,i,s,l))return r.value;var u=t.substring(t.length-1),c=n.substring(n.length-1),h="i";if("j"===u?h="j":"j"===c&&(h="j"),0===s&&0===l)return r.num;var f=s*s+l*l;return e.COMPLEX((o*s+i*l)/f,(i*s-o*l)/f,h)},e.IMEXP=function(t){var n=e.IMREAL(t),o=e.IMAGINARY(t);if(a.anyIsError(n,o))return r.value;var i=t.substring(t.length-1);i="i"===i||"j"===i?i:"i";var s=Math.exp(n);return e.COMPLEX(s*Math.cos(o),s*Math.sin(o),i)},e.IMLN=function(t){var n=e.IMREAL(t),o=e.IMAGINARY(t);if(a.anyIsError(n,o))return r.value;var i=t.substring(t.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.log(Math.sqrt(n*n+o*o)),Math.atan(o/n),i)},e.IMLOG10=function(t){var n=e.IMREAL(t),o=e.IMAGINARY(t);if(a.anyIsError(n,o))return r.value;var i=t.substring(t.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.log(Math.sqrt(n*n+o*o))/Math.log(10),Math.atan(o/n)/Math.log(10),i)},e.IMLOG2=function(t){var n=e.IMREAL(t),o=e.IMAGINARY(t);if(a.anyIsError(n,o))return r.value;var i=t.substring(t.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.log(Math.sqrt(n*n+o*o))/Math.log(2),Math.atan(o/n)/Math.log(2),i)},e.IMPOWER=function(t,n){n=a.parseNumber(n);var o=e.IMREAL(t),i=e.IMAGINARY(t);if(a.anyIsError(n,o,i))return r.value;var s=t.substring(t.length-1);s="i"===s||"j"===s?s:"i";var l=Math.pow(e.IMABS(t),n),u=e.IMARGUMENT(t);return e.COMPLEX(l*Math.cos(n*u),l*Math.sin(n*u),s)},e.IMPRODUCT=function(){var t=arguments[0];if(!arguments.length)return r.value;for(var n=1;n<arguments.length;n++){var o=e.IMREAL(t),i=e.IMAGINARY(t),s=e.IMREAL(arguments[n]),l=e.IMAGINARY(arguments[n]);if(a.anyIsError(o,i,s,l))return r.value;t=e.COMPLEX(o*s-i*l,o*l+i*s)}return t},e.IMREAL=function(t){if(void 0===t||!0===t||!1===t)return r.value;if(0===t||"0"===t)return 0;if(["i","+i","1i","+1i","-i","-1i","j","+j","1j","+1j","-j","-1j"].indexOf(t)>=0)return 0;var e=t.indexOf("+"),n=t.indexOf("-");0===e&&(e=t.indexOf("+",1)),0===n&&(n=t.indexOf("-",1));var o=t.substring(t.length-1,t.length),i="i"===o||"j"===o;return e>=0||n>=0?i?e>=0?isNaN(t.substring(0,e))||isNaN(t.substring(e+1,t.length-1))?r.num:Number(t.substring(0,e)):isNaN(t.substring(0,n))||isNaN(t.substring(n+1,t.length-1))?r.num:Number(t.substring(0,n)):r.num:i?isNaN(t.substring(0,t.length-1))?r.num:0:isNaN(t)?r.num:t},e.IMSEC=function(t){if(!0===t||!1===t)return r.value;var n=e.IMREAL(t),o=e.IMAGINARY(t);return a.anyIsError(n,o)?r.value:e.IMDIV("1",e.IMCOS(t))},e.IMSECH=function(t){var n=e.IMREAL(t),o=e.IMAGINARY(t);return a.anyIsError(n,o)?r.value:e.IMDIV("1",e.IMCOSH(t))},e.IMSIN=function(t){var n=e.IMREAL(t),o=e.IMAGINARY(t);if(a.anyIsError(n,o))return r.value;var i=t.substring(t.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.sin(n)*(Math.exp(o)+Math.exp(-o))/2,Math.cos(n)*(Math.exp(o)-Math.exp(-o))/2,i)},e.IMSINH=function(t){var n=e.IMREAL(t),o=e.IMAGINARY(t);if(a.anyIsError(n,o))return r.value;var i=t.substring(t.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.cos(o)*(Math.exp(n)-Math.exp(-n))/2,Math.sin(o)*(Math.exp(n)+Math.exp(-n))/2,i)},e.IMSQRT=function(t){var n=e.IMREAL(t),o=e.IMAGINARY(t);if(a.anyIsError(n,o))return r.value;var i=t.substring(t.length-1);i="i"===i||"j"===i?i:"i";var s=Math.sqrt(e.IMABS(t)),l=e.IMARGUMENT(t);return e.COMPLEX(s*Math.cos(l/2),s*Math.sin(l/2),i)},e.IMCSC=function(t){if(!0===t||!1===t)return r.value;var n=e.IMREAL(t),o=e.IMAGINARY(t);return a.anyIsError(n,o)?r.num:e.IMDIV("1",e.IMSIN(t))},e.IMCSCH=function(t){if(!0===t||!1===t)return r.value;var n=e.IMREAL(t),o=e.IMAGINARY(t);return a.anyIsError(n,o)?r.num:e.IMDIV("1",e.IMSINH(t))},e.IMSUB=function(t,e){var n=this.IMREAL(t),o=this.IMAGINARY(t),i=this.IMREAL(e),s=this.IMAGINARY(e);if(a.anyIsError(n,o,i,s))return r.value;var l=t.substring(t.length-1),u=e.substring(e.length-1),c="i";return"j"===l?c="j":"j"===u&&(c="j"),this.COMPLEX(n-i,o-s,c)},e.IMSUM=function(){if(!arguments.length)return r.value;for(var t=a.flatten(arguments),e=t[0],n=1;n<t.length;n++){var o=this.IMREAL(e),i=this.IMAGINARY(e),s=this.IMREAL(t[n]),l=this.IMAGINARY(t[n]);if(a.anyIsError(o,i,s,l))return r.value;e=this.COMPLEX(o+s,i+l)}return e},e.IMTAN=function(t){if(!0===t||!1===t)return r.value;var n=e.IMREAL(t),o=e.IMAGINARY(t);return a.anyIsError(n,o)?r.value:this.IMDIV(this.IMSIN(t),this.IMCOS(t))},e.OCT2BIN=function(t,e){if(!/^[0-7]{1,10}$/.test(t))return r.num;var n=10===t.length&&"7"===t.substring(0,1),o=n?parseInt(t,8)-1073741824:parseInt(t,8);if(o<-512||o>511)return r.num;if(n)return"1"+i.REPT("0",9-(512+o).toString(2).length)+(512+o).toString(2);var a=o.toString(2);return"undefined"===typeof e?a:isNaN(e)?r.value:e<0?r.num:(e=Math.floor(e))>=a.length?i.REPT("0",e-a.length)+a:r.num},e.OCT2DEC=function(t){if(!/^[0-7]{1,10}$/.test(t))return r.num;var e=parseInt(t,8);return e>=536870912?e-1073741824:e},e.OCT2HEX=function(t,e){if(!/^[0-7]{1,10}$/.test(t))return r.num;var n=parseInt(t,8);if(n>=536870912)return"ff"+(n+3221225472).toString(16);var o=n.toString(16);return void 0===e?o:isNaN(e)?r.value:e<0?r.num:(e=Math.floor(e))>=o.length?i.REPT("0",e-o.length)+o:r.num}},function(t,e,n){"use strict";e.__esModule=!0;e.default=["ABS","ACCRINT","ACOS","ACOSH","ACOT","ACOTH","ADD","AGGREGATE","AND","ARABIC","ARGS2ARRAY","ASIN","ASINH","ATAN","ATAN2","ATANH","AVEDEV","AVERAGE","AVERAGEA","AVERAGEIF","AVERAGEIFS","BASE","BESSELI","BESSELJ","BESSELK","BESSELY","BETA.DIST","BETA.INV","BETADIST","BETAINV","BIN2DEC","BIN2HEX","BIN2OCT","BINOM.DIST","BINOM.DIST.RANGE","BINOM.INV","BINOMDIST","BITAND","BITLSHIFT","BITOR","BITRSHIFT","BITXOR","CEILING","CEILINGMATH","CEILINGPRECISE","CHAR","CHISQ.DIST","CHISQ.DIST.RT","CHISQ.INV","CHISQ.INV.RT","CHOOSE","CHOOSE","CLEAN","CODE","COLUMN","COLUMNS","COMBIN","COMBINA","COMPLEX","CONCATENATE","CONFIDENCE","CONFIDENCE.NORM","CONFIDENCE.T","CONVERT","CORREL","COS","COSH","COT","COTH","COUNT","COUNTA","COUNTBLANK","COUNTIF","COUNTIFS","COUNTIN","COUNTUNIQUE","COVARIANCE.P","COVARIANCE.S","CSC","CSCH","CUMIPMT","CUMPRINC","DATE","DATEVALUE","DAY","DAYS","DAYS360","DB","DDB","DEC2BIN","DEC2HEX","DEC2OCT","DECIMAL","DEGREES","DELTA","DEVSQ","DIVIDE","DOLLARDE","DOLLARFR","E","EDATE","EFFECT","EOMONTH","EQ","ERF","ERFC","EVEN","EXACT","EXP","EXPON.DIST","EXPONDIST","F.DIST","F.DIST.RT","F.INV","F.INV.RT","FACT","FACTDOUBLE","FALSE","FDIST","FDISTRT","FIND","FINV","FINVRT","FISHER","FISHERINV","FLATTEN","FLOOR","FORECAST","FREQUENCY","FV","FVSCHEDULE","GAMMA","GAMMA.DIST","GAMMA.INV","GAMMADIST","GAMMAINV","GAMMALN","GAMMALN.PRECISE","GAUSS","GCD","GEOMEAN","GESTEP","GROWTH","GTE","HARMEAN","HEX2BIN","HEX2DEC","HEX2OCT","HOUR","HTML2TEXT","HYPGEOM.DIST","HYPGEOMDIST","IF","IMABS","IMAGINARY","IMARGUMENT","IMCONJUGATE","IMCOS","IMCOSH","IMCOT","IMCSC","IMCSCH","IMDIV","IMEXP","IMLN","IMLOG10","IMLOG2","IMPOWER","IMPRODUCT","IMREAL","IMSEC","IMSECH","IMSIN","IMSINH","IMSQRT","IMSUB","IMSUM","IMTAN","INT","INTERCEPT","INTERVAL","IPMT","IRR","ISBINARY","ISBLANK","ISEVEN","ISLOGICAL","ISNONTEXT","ISNUMBER","ISODD","ISODD","ISOWEEKNUM","ISPMT","ISTEXT","JOIN","KURT","LARGE","LCM","LEFT","LEN","LINEST","LN","LOG","LOG10","LOGEST","LOGNORM.DIST","LOGNORM.INV","LOGNORMDIST","LOGNORMINV","LOWER","LT","LTE","MATCH","MAX","MAXA","MEDIAN","MID","MIN","MINA","MINUS","MINUTE","MIRR","MOD","MODE.MULT","MODE.SNGL","MODEMULT","MODESNGL","MONTH","MROUND","MULTINOMIAL","MULTIPLY","NE","NEGBINOM.DIST","NEGBINOMDIST","NETWORKDAYS","NOMINAL","NORM.DIST","NORM.INV","NORM.S.DIST","NORM.S.INV","NORMDIST","NORMINV","NORMSDIST","NORMSINV","NOT","NOW","NPER","NPV","NUMBERS","OCT2BIN","OCT2DEC","OCT2HEX","ODD","OR","PDURATION","PEARSON","PERCENTILEEXC","PERCENTILEINC","PERCENTRANKEXC","PERCENTRANKINC","PERMUT","PERMUTATIONA","PHI","PI","PMT","POISSON.DIST","POISSONDIST","POW","POWER","PPMT","PROB","PRODUCT","PROPER","PV","QUARTILE.EXC","QUARTILE.INC","QUARTILEEXC","QUARTILEINC","QUOTIENT","RADIANS","RAND","RANDBETWEEN","RANK.AVG","RANK.EQ","RANKAVG","RANKEQ","RATE","REFERENCE","REGEXEXTRACT","REGEXMATCH","REGEXREPLACE","REPLACE","REPT","RIGHT","ROMAN","ROUND","ROUNDDOWN","ROUNDUP","ROW","ROWS","RRI","RSQ","SEARCH","SEC","SECH","SECOND","SERIESSUM","SIGN","SIN","SINH","SKEW","SKEW.P","SKEWP","SLN","SLOPE","SMALL","SPLIT","SPLIT","SQRT","SQRTPI","STANDARDIZE","STDEV.P","STDEV.S","STDEVA","STDEVP","STDEVPA","STDEVS","STEYX","SUBSTITUTE","SUBTOTAL","SUM","SUMIF","SUMIFS","SUMPRODUCT","SUMSQ","SUMX2MY2","SUMX2PY2","SUMXMY2","SWITCH","SYD","T","T.DIST","T.DIST.2T","T.DIST.RT","T.INV","T.INV.2T","TAN","TANH","TBILLEQ","TBILLPRICE","TBILLYIELD","TDIST","TDIST2T","TDISTRT","TIME","TIMEVALUE","TINV","TINV2T","TODAY","TRANSPOSE","TREND","TRIM","TRIMMEAN","TRUE","TRUNC","UNICHAR","UNICODE","UNIQUE","UPPER","VAR.P","VAR.S","VARA","VARP","VARPA","VARS","WEEKDAY","WEEKNUM","WEIBULL.DIST","WEIBULLDIST","WORKDAY","XIRR","XNPV","XOR","YEAR","YEARFRAC"]},function(t,e,n){"use strict";function r(t){var e=parseInt(t,10);return e=isNaN(e)?-1:Math.max(e-1,-1)}function o(t){var e="";return t>=0&&(e=""+(t+1)),e}e.__esModule=!0,e.rowLabelToIndex=r,e.rowIndexToLabel=o,e.columnLabelToIndex=s,e.columnIndexToLabel=l,e.extractLabel=function(t){if("string"!==typeof t||!u.test(t))return[];var e=t.toUpperCase().match(u),n=e[1],o=e[2],i=e[3],a=e[4];return[{index:r(a),label:a,isAbsolute:"$"===i},{index:s(o),label:o,isAbsolute:"$"===n}]},e.toLabel=function(t,e){var n=(t.isAbsolute?"$":"")+o(t.index);return(e.isAbsolute?"$":"")+l(e.index)+n};var i="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a=i.length;function s(t){var e=0;if("string"===typeof t)for(var n=0,r=(t=t.toUpperCase()).length-1;n<t.length;n+=1,r-=1)e+=Math.pow(a,r)*(i.indexOf(t[n])+1);return--e}function l(t){for(var e="";t>=0;)e=String.fromCharCode(t%a+97)+e,t=Math.floor(t/a)-1;return e.toUpperCase()}var u=/^([$])?([A-Za-z]+)([$])?([0-9]+)$/},function(t,e,n){"use strict";e.__esModule=!0,e.rowLabelToIndex=e.rowIndexToLabel=e.columnLabelToIndex=e.columnIndexToLabel=e.toLabel=e.extractLabel=e.error=e.Parser=e.ERROR_VALUE=e.ERROR_REF=e.ERROR_NUM=e.ERROR_NULL=e.ERROR_NOT_AVAILABLE=e.ERROR_NAME=e.ERROR_DIV_ZERO=e.ERROR=e.SUPPORTED_FORMULAS=void 0;var r=l(n(16)),o=l(n(13)),i=n(2),a=l(i),s=n(14);function l(t){return t&&t.__esModule?t:{default:t}}e.SUPPORTED_FORMULAS=o.default,e.ERROR=i.ERROR,e.ERROR_DIV_ZERO=i.ERROR_DIV_ZERO,e.ERROR_NAME=i.ERROR_NAME,e.ERROR_NOT_AVAILABLE=i.ERROR_NOT_AVAILABLE,e.ERROR_NULL=i.ERROR_NULL,e.ERROR_NUM=i.ERROR_NUM,e.ERROR_REF=i.ERROR_REF,e.ERROR_VALUE=i.ERROR_VALUE,e.Parser=r.default,e.error=a.default,e.extractLabel=s.extractLabel,e.toLabel=s.toLabel,e.columnIndexToLabel=s.columnIndexToLabel,e.columnLabelToIndex=s.columnLabelToIndex,e.rowIndexToLabel=s.rowIndexToLabel,e.rowLabelToIndex=s.rowLabelToIndex},function(t,e,n){"use strict";e.__esModule=!0;var r=h(n(17)),o=h(n(18)),i=n(39),a=n(40),s=n(3),l=n(2),u=h(l),c=n(14);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this));return n.parser=new i.Parser,n.parser.yy={toNumber:s.toNumber,trimEdges:a.trimEdges,invertNumber:s.invertNumber,throwError:function(t){return n._throwError(t)},callVariable:function(t){return n._callVariable(t)},evaluateByOperator:o.default,callFunction:function(t,e){return n._callFunction(t,e)},cellValue:function(t){return n._callCellValue(t)},rangeValue:function(t,e){return n._callRangeValue(t,e)}},n.variables=Object.create(null),n.functions=Object.create(null),n.setVariable("TRUE",!0).setVariable("FALSE",!1).setVariable("NULL",null),n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.parse=function(t){var e=null,n=null;try{e=""===t?"":this.parser.parse(t)}catch(o){var r=(0,u.default)(o.message);n=r||(0,u.default)(l.ERROR)}return e instanceof Error&&(n=(0,u.default)(e.message)||(0,u.default)(l.ERROR),e=null),{error:n,result:e}},e.prototype.setVariable=function(t,e){return this.variables[t]=e,this},e.prototype.getVariable=function(t){return this.variables[t]},e.prototype._callVariable=function(t){var e=this.getVariable(t);if(this.emit("callVariable",t,function(t){void 0!==t&&(e=t)}),void 0===e)throw Error(l.ERROR_NAME);return e},e.prototype.setFunction=function(t,e){return this.functions[t]=e,this},e.prototype.getFunction=function(t){return this.functions[t]},e.prototype._callFunction=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.getFunction(t),r=void 0;return n&&(r=n(e)),this.emit("callFunction",t,e,function(t){void 0!==t&&(r=t)}),void 0===r?(0,o.default)(t,e):r},e.prototype._callCellValue=function(t){t=t.toUpperCase();var e=(0,c.extractLabel)(t),n=e[0],r=e[1],o=void 0;return this.emit("callCellValue",{label:t,row:n,column:r},function(t){o=t}),o},e.prototype._callRangeValue=function(t,e){t=t.toUpperCase(),e=e.toUpperCase();var n=(0,c.extractLabel)(t),r=n[0],o=n[1],i=(0,c.extractLabel)(e),a=i[0],s=i[1],l={},u={};r.index<=a.index?(l.row=r,u.row=a):(l.row=a,u.row=r),o.index<=s.index?(l.column=o,u.column=s):(l.column=s,u.column=o),l.label=(0,c.toLabel)(l.row,l.column),u.label=(0,c.toLabel)(u.row,u.column);var h=[];return this.emit("callRangeValue",l,u,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h=t}),h},e.prototype._throwError=function(t){if((0,l.isValidStrict)(t))throw Error(t);throw Error(l.ERROR)},e}(r.default);e.default=f},function(t,e){function n(){}n.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function o(){r.off(t,o),e.apply(n,arguments)}return o._=e,this.on(t,o,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],o=[];if(r&&e)for(var i=0,a=r.length;i<a;i++)r[i].fn!==e&&r[i].fn._!==e&&o.push(r[i]);return o.length?n[t]=o:delete n[t],this}},t.exports=n},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t=t.toUpperCase(),!y[t])throw Error(m.ERROR_NAME);return y[t].apply(y,e)},e.registerOperation=b;var r=v(n(19)),o=v(n(20)),i=v(n(21)),a=v(n(22)),s=v(n(23)),l=v(n(31)),u=v(n(32)),c=v(n(33)),h=v(n(34)),f=v(n(35)),d=v(n(36)),p=v(n(37)),g=v(n(38)),m=n(2);function v(t){return t&&t.__esModule?t:{default:t}}var y=Object.create(null);function b(t,e){Array.isArray(t)||(t=[t.toUpperCase()]),t.forEach(function(t){e.isFactory?y[t]=e(t):y[t]=e})}b(r.default.SYMBOL,r.default),b(o.default.SYMBOL,o.default),b(i.default.SYMBOL,i.default),b(a.default.SYMBOL,a.default),b(g.default.SYMBOL,g.default),b(s.default.SYMBOL,s.default),b(l.default.SYMBOL,l.default),b(u.default.SYMBOL,u.default),b(c.default.SYMBOL,c.default),b(h.default.SYMBOL,h.default),b(d.default.SYMBOL,d.default),b(p.default.SYMBOL,p.default),b(f.default.SYMBOL,f.default)},function(t,e,n){"use strict";e.__esModule=!0,e.SYMBOL=void 0,e.default=a;var r=n(3),o=n(2),i=e.SYMBOL="+";function a(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var a=n.reduce(function(t,e){return t+(0,r.toNumber)(e)},(0,r.toNumber)(t));if(isNaN(a))throw Error(o.ERROR_VALUE);return a}a.SYMBOL=i},function(t,e,n){"use strict";e.__esModule=!0,e.default=o;var r=e.SYMBOL="&";function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(t,e){return t+e.toString()},"")}o.SYMBOL=r},function(t,e,n){"use strict";e.__esModule=!0,e.SYMBOL=void 0,e.default=a;var r=n(3),o=n(2),i=e.SYMBOL="/";function a(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var a=n.reduce(function(t,e){return t/(0,r.toNumber)(e)},(0,r.toNumber)(t));if(a===1/0)throw Error(o.ERROR_DIV_ZERO);if(isNaN(a))throw Error(o.ERROR_VALUE);return a}a.SYMBOL=i},function(t,e,n){"use strict";e.__esModule=!0,e.default=o;var r=e.SYMBOL="=";function o(t,e){return t===e}o.SYMBOL=r},function(t,e,n){"use strict";e.__esModule=!0,e.SYMBOL=void 0,e.default=u;var r,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(24)),i=n(13),a=(r=i)&&r.__esModule?r:{default:r},s=n(2);var l=e.SYMBOL=a.default;function u(t){return function(){var e=(t=t.toUpperCase()).split("."),n=!1,r=void 0;if(1===e.length)o[e[0]]&&(n=!0,r=o[e[0]].apply(o,arguments));else{for(var i=e.length,a=0,l=o;a<i;)if(l=l[e[a]],a++,!l){l=null;break}l&&(n=!0,r=l.apply(void 0,arguments))}if(!n)throw Error(s.ERROR_NAME);return r}}u.isFactory=!0,u.SYMBOL=l},function(t,e,n){var r=[n(25),n(27),n(12),n(28),n(4),n(6),n(9),n(29),n(8),n(30),n(5),n(11)];for(var o in r){var i=r[o];for(var a in i)e[a]=e[a]||i[a]}},function(t,e,n){var r=n(4),o=n(5),i=n(12),a=n(9);function s(t,e){if(e)for(var n in e)t[n]=e[n];return t}e.BETADIST=o.BETA.DIST,e.BETAINV=o.BETA.INV,e.BINOMDIST=o.BINOM.DIST,e.CEILING=e.ISOCEILING=s(r.CEILING.MATH,r.CEILING),e.CEILINGMATH=r.CEILING.MATH,e.CEILINGPRECISE=r.CEILING.PRECISE,e.CHIDIST=o.CHISQ.DIST,e.CHIDISTRT=o.CHISQ.DIST.RT,e.CHIINV=o.CHISQ.INV,e.CHIINVRT=o.CHISQ.INV.RT,e.CHITEST=o.CHISQ.TEST,e.CONFIDENCE=s(o.CONFIDENCE.NORM,o.CONFIDENCE),e.COVAR=o.COVARIANCE.P,e.COVARIANCEP=o.COVARIANCE.P,e.COVARIANCES=o.COVARIANCE.S,e.CRITBINOM=o.BINOM.INV,e.EXPONDIST=o.EXPON.DIST,e.ERFCPRECISE=i.ERFC.PRECISE,e.ERFPRECISE=i.ERF.PRECISE,e.FDIST=o.F.DIST,e.FDISTRT=o.F.DIST.RT,e.FINVRT=o.F.INV.RT,e.FINV=o.F.INV,e.FLOOR=s(r.FLOOR.MATH,r.FLOOR),e.FLOORMATH=r.FLOOR.MATH,e.FLOORPRECISE=r.FLOOR.PRECISE,e.FTEST=o.F.TEST,e.GAMMADIST=o.GAMMA.DIST,e.GAMMAINV=o.GAMMA.INV,e.GAMMALNPRECISE=o.GAMMALN.PRECISE,e.HYPGEOMDIST=o.HYPGEOM.DIST,e.LOGINV=o.LOGNORM.INV,e.LOGNORMINV=o.LOGNORM.INV,e.LOGNORMDIST=o.LOGNORM.DIST,e.MODE=s(o.MODE.SNGL,o.MODE),e.MODEMULT=o.MODE.MULT,e.MODESNGL=o.MODE.SNGL,e.NEGBINOMDIST=o.NEGBINOM.DIST,e.NETWORKDAYSINTL=a.NETWORKDAYS.INTL,e.NORMDIST=o.NORM.DIST,e.NORMINV=o.NORM.INV,e.NORMSDIST=o.NORM.S.DIST,e.NORMSINV=o.NORM.S.INV,e.PERCENTILE=s(o.PERCENTILE.EXC,o.PERCENTILE),e.PERCENTILEEXC=o.PERCENTILE.EXC,e.PERCENTILEINC=o.PERCENTILE.INC,e.PERCENTRANK=s(o.PERCENTRANK.INC,o.PERCENTRANK),e.PERCENTRANKEXC=o.PERCENTRANK.EXC,e.PERCENTRANKINC=o.PERCENTRANK.INC,e.POISSON=s(o.POISSON.DIST,o.POISSON),e.POISSONDIST=o.POISSON.DIST,e.QUARTILE=s(o.QUARTILE.INC,o.QUARTILE),e.QUARTILEEXC=o.QUARTILE.EXC,e.QUARTILEINC=o.QUARTILE.INC,e.RANK=s(o.RANK.EQ,o.RANK),e.RANKAVG=o.RANK.AVG,e.RANKEQ=o.RANK.EQ,e.SKEWP=o.SKEW.P,e.STDEV=s(o.STDEV.S,o.STDEV),e.STDEVP=o.STDEV.P,e.STDEVS=o.STDEV.S,e.TDIST=o.T.DIST,e.TDISTRT=o.T.DIST.RT,e.TINV=o.T.INV,e.TTEST=o.T.TEST,e.VAR=s(o.VAR.S,o.VAR),e.VARP=o.VAR.P,e.VARS=o.VAR.S,e.WEIBULL=s(o.WEIBULL.DIST,o.WEIBULL),e.WEIBULLDIST=o.WEIBULL.DIST,e.WORKDAYINTL=a.WORKDAY.INTL,e.ZTEST=o.Z.TEST},function(t,e,n){var r=Math;function o(t,e){return t.reduce(function(t,n){return e*t+n},0)}function i(t,e,n,r,o){o||(o=-1);var i,a=2/t;if(0===e)return n;if(1===e)return r;for(var s=1;s!=e;++s)i=r*s*a+o*n,n=r,r=i;return r}function a(t,e,n,r,o){return function(a,s){if(0===s)return t(a);if(1===s)return e(a);if(s<0)throw n+": Order ("+s+") must be nonnegative";if(1==r&&0===a)throw n+": Undefined when x == 0";if(2==r&&a<=0)throw n+": Undefined when x <= 0";return i(a,s,t(a),e(a),o)}}var s=function(){var t=[57568490574,-13362590354,651619640.7,-11214424.18,77392.33017,-184.9052456].reverse(),e=[57568490411,1029532985,9494680.718,59272.64853,267.8532712,1].reverse(),n=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),a=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34935152e-8].reverse(),s=.636619772;function l(i){var l,u,c,h=i*i,f=r.abs(i)-.785398164;return r.abs(i)<8?l=(u=o(t,h))/(c=o(e,h)):(u=o(n,h=64/h),c=o(a,h),l=r.sqrt(s/r.abs(i))*(r.cos(f)*u-r.sin(f)*c*8/r.abs(i))),l}var u=[72362614232,-7895059235,242396853.1,-2972611.439,15704.4826,-30.16036606].reverse(),c=[144725228442,2300535178,18583304.74,99447.43394,376.9991397,1].reverse(),h=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),f=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse();function d(t){var e,n,i,a=t*t,l=r.abs(t)-2.356194491;return Math.abs(t)<8?e=(n=t*o(u,a))/(i=o(c,a)):(n=o(h,a=64/a),i=o(f,a),e=r.sqrt(s/r.abs(t))*(r.cos(l)*n-r.sin(l)*i*8/r.abs(t)),t<0&&(e=-e)),e}return function(t,e){if(0===(e=Math.round(e)))return l(r.abs(t));if(1===e)return d(r.abs(t));if(e<0)throw"BESSELJ: Order ("+e+") must be nonnegative";if(0===r.abs(t))return 0;var n,o,a,s,u,c,h,f=2/r.abs(t);if(r.abs(t)>e)n=i(t,e,l(r.abs(t)),d(r.abs(t)),-1);else{for(a=0,u=n=s=0,c=1,o=2*r.floor((e+r.floor(r.sqrt(40*e)))/2);o>0;o--)h=o*f*c-u,u=c,c=h,r.abs(c)>1e10&&(c*=1e-10,u*=1e-10,n*=1e-10,s*=1e-10),a&&(s+=c),a=!a,o==e&&(n=u);n/=s=2*s-c}return t<0&&e%2?-n:n}}(),l=function(){var t=[-2957821389,7062834065,-512359803.6,10879881.29,-86327.92757,228.4622733].reverse(),e=[40076544269,745249964.8,7189466.438,47447.2647,226.1030244,1].reverse(),n=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),i=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34945152e-8].reverse(),l=.636619772;var u=[-4900604943e3,127527439e4,-51534381390,734926455.1,-4237922.726,8511.937935].reverse(),c=[249958057e5,424441966400,3733650367,22459040.02,102042.605,354.9632885,1].reverse(),h=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),f=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse();return a(function(a){var u,c,h,f=a*a,d=a-.785398164;return a<8?u=(c=o(t,f))/(h=o(e,f))+l*s(a,0)*r.log(a):(c=o(n,f=64/f),h=o(i,f),u=r.sqrt(l/a)*(r.sin(d)*c+r.cos(d)*h*8/a)),u},function(t){var e,n,i,a=t*t,d=t-2.356194491;return t<8?e=(n=t*o(u,a))/(i=o(c,a))+l*(s(t,1)*r.log(t)-1/t):(n=o(h,a=64/a),i=o(f,a),e=r.sqrt(l/t)*(r.sin(d)*n+r.cos(d)*i*8/t)),e},"BESSELY",1,-1)}(),u=function(){var t=[1,3.5156229,3.0899424,1.2067492,.2659732,.0360768,.0045813].reverse(),e=[.39894228,.01328592,.00225319,-.00157565,.00916281,-.02057706,.02635537,-.01647633,.00392377].reverse();var n=[.5,.87890594,.51498869,.15084934,.02658733,.00301532,32411e-8].reverse(),i=[.39894228,-.03988024,-.00362018,.00163801,-.01031555,.02282967,-.02895312,.01787654,-.00420059].reverse();return function a(s,l){if(0===(l=Math.round(l)))return function(n){return n<=3.75?o(t,n*n/14.0625):r.exp(r.abs(n))/r.sqrt(r.abs(n))*o(e,3.75/r.abs(n))}(s);if(1==l)return function(t){return t<3.75?t*o(n,t*t/14.0625):(t<0?-1:1)*r.exp(r.abs(t))/r.sqrt(r.abs(t))*o(i,3.75/r.abs(t))}(s);if(l<0)throw"BESSELI Order ("+l+") must be nonnegative";if(0===r.abs(s))return 0;var u,c,h,f,d,p=2/r.abs(s);for(h=u=0,f=1,c=2*r.round((l+r.round(r.sqrt(40*l)))/2);c>0;c--)d=c*p*f+h,h=f,f=d,r.abs(f)>1e10&&(f*=1e-10,h*=1e-10,u*=1e-10),c==l&&(u=h);return u*=a(s,0)/f,s<0&&l%2?-u:u}}(),c=function(){var t=[-.57721566,.4227842,.23069756,.0348859,.00262698,1075e-7,74e-7].reverse(),e=[1.25331414,-.07832358,.02189568,-.01062446,.00587872,-.0025154,53208e-8].reverse();var n=[1,.15443144,-.67278579,-.18156897,-.01919402,-.00110404,-4686e-8].reverse(),i=[1.25331414,.23498619,-.0365562,.01504268,-.00780353,.00325614,-68245e-8].reverse();return a(function(n){return n<=2?-r.log(n/2)*u(n,0)+o(t,n*n/4):r.exp(-n)/r.sqrt(n)*o(e,2/n)},function(t){return t<=2?r.log(t/2)*u(t,1)+1/t*o(n,t*t/4):r.exp(-t)/r.sqrt(t)*o(i,2/t)},"BESSELK",2,1)}();e.besselj=s,e.bessely=l,e.besseli=u,e.besselk=c},function(t,e,n){var r=n(0),o=n(5),i=n(4),a=n(1),s=n(7);function l(t){var e=[];return a.arrayEach(t,function(t){t&&e.push(t)}),e}function u(t,e){for(var n={},r=1;r<t[0].length;++r)n[r]=!0;var o=e[0].length;for(r=1;r<e.length;++r)e[r].length>o&&(o=e[r].length);for(var i=1;i<t.length;++i)for(var a=1;a<t[i].length;++a){for(var l=!1,u=!1,c=0;c<e.length;++c){var h=e[c];if(!(h.length<o)){var f=h[0];if(t[i][0]===f){u=!0;for(var d=1;d<h.length;++d){if(!l)if(void 0===h[d]||"*"===h[d])l=!0;else{var p=s.parse(h[d]+""),g=[s.createToken(t[i][a],s.TOKEN_TYPE_LITERAL)].concat(p);l=s.compute(g)}}}}}u&&(n[a]=n[a]&&l)}for(var m=[],v=0;v<t[0].length;++v)n[v]&&m.push(v-1);return m}e.FINDFIELD=function(t,e){var n=null;return a.arrayEach(t,function(t,r){if(t[0]===e)return n=r,!1}),null==n?r.value:n},e.DAVERAGE=function(t,n,o){if(isNaN(n)&&"string"!==typeof n)return r.value;var i=u(t,o),s=[];if("string"===typeof n){var l=e.FINDFIELD(t,n);s=a.rest(t[l])}else s=a.rest(t[n]);var c=0;return a.arrayEach(i,function(t){c+=s[t]}),0===i.length?r.div0:c/i.length},e.DCOUNT=function(t,n,i){if(isNaN(n)&&"string"!==typeof n)return r.value;var s=u(t,i),l=[];if("string"===typeof n){var c=e.FINDFIELD(t,n);l=a.rest(t[c])}else l=a.rest(t[n]);var h=[];return a.arrayEach(s,function(t){h.push(l[t])}),o.COUNT(h)},e.DCOUNTA=function(t,n,i){if(isNaN(n)&&"string"!==typeof n)return r.value;var s=u(t,i),l=[];if("string"===typeof n){var c=e.FINDFIELD(t,n);l=a.rest(t[c])}else l=a.rest(t[n]);var h=[];return a.arrayEach(s,function(t){h.push(l[t])}),o.COUNTA(h)},e.DGET=function(t,n,o){if(isNaN(n)&&"string"!==typeof n)return r.value;var i=u(t,o),s=[];if("string"===typeof n){var l=e.FINDFIELD(t,n);s=a.rest(t[l])}else s=a.rest(t[n]);return 0===i.length?r.value:i.length>1?r.num:s[i[0]]},e.DMAX=function(t,n,o){if(isNaN(n)&&"string"!==typeof n)return r.value;var i=u(t,o),s=[];if("string"===typeof n){var l=e.FINDFIELD(t,n);s=a.rest(t[l])}else s=a.rest(t[n]);var c=s[i[0]];return a.arrayEach(i,function(t){c<s[t]&&(c=s[t])}),c},e.DMIN=function(t,n,o){if(isNaN(n)&&"string"!==typeof n)return r.value;var i=u(t,o),s=[];if("string"===typeof n){var l=e.FINDFIELD(t,n);s=a.rest(t[l])}else s=a.rest(t[n]);var c=s[i[0]];return a.arrayEach(i,function(t){c>s[t]&&(c=s[t])}),c},e.DPRODUCT=function(t,n,o){if(isNaN(n)&&"string"!==typeof n)return r.value;var i=u(t,o),s=[];if("string"===typeof n){var c=e.FINDFIELD(t,n);s=a.rest(t[c])}else s=a.rest(t[n]);var h=[];a.arrayEach(i,function(t){h.push(s[t])}),h=l(h);var f=1;return a.arrayEach(h,function(t){f*=t}),f},e.DSTDEV=function(t,n,i){if(isNaN(n)&&"string"!==typeof n)return r.value;var s=u(t,i),c=[];if("string"===typeof n){var h=e.FINDFIELD(t,n);c=a.rest(t[h])}else c=a.rest(t[n]);var f=[];return a.arrayEach(s,function(t){f.push(c[t])}),f=l(f),o.STDEV.S(f)},e.DSTDEVP=function(t,n,i){if(isNaN(n)&&"string"!==typeof n)return r.value;var s=u(t,i),c=[];if("string"===typeof n){var h=e.FINDFIELD(t,n);c=a.rest(t[h])}else c=a.rest(t[n]);var f=[];return a.arrayEach(s,function(t){f.push(c[t])}),f=l(f),o.STDEV.P(f)},e.DSUM=function(t,n,o){if(isNaN(n)&&"string"!==typeof n)return r.value;var s=u(t,o),l=[];if("string"===typeof n){var c=e.FINDFIELD(t,n);l=a.rest(t[c])}else l=a.rest(t[n]);var h=[];return a.arrayEach(s,function(t){h.push(l[t])}),i.SUM(h)},e.DVAR=function(t,n,i){if(isNaN(n)&&"string"!==typeof n)return r.value;var s=u(t,i),l=[];if("string"===typeof n){var c=e.FINDFIELD(t,n);l=a.rest(t[c])}else l=a.rest(t[n]);var h=[];return a.arrayEach(s,function(t){h.push(l[t])}),o.VAR.S(h)},e.DVARP=function(t,n,i){if(isNaN(n)&&"string"!==typeof n)return r.value;var s=u(t,i),l=[];if("string"===typeof n){var c=e.FINDFIELD(t,n);l=a.rest(t[c])}else l=a.rest(t[n]);var h=[];return a.arrayEach(s,function(t){h.push(l[t])}),o.VAR.P(h)}},function(t,e,n){var r=n(0),o=n(1),i=n(8);e.AND=function(){for(var t=o.flatten(arguments),e=!0,n=0;n<t.length;n++)t[n]||(e=!1);return e},e.CHOOSE=function(){if(arguments.length<2)return r.na;var t=arguments[0];return t<1||t>254?r.value:arguments.length<t+1?r.value:arguments[t]},e.FALSE=function(){return!1},e.IF=function(t,e,n){return t?e:n},e.IFERROR=function(t,e){return i.ISERROR(t)?e:t},e.IFNA=function(t,e){return t===r.na?e:t},e.NOT=function(t){return!t},e.OR=function(){for(var t=o.flatten(arguments),e=!1,n=0;n<t.length;n++)t[n]&&(e=!0);return e},e.TRUE=function(){return!0},e.XOR=function(){for(var t=o.flatten(arguments),e=0,n=0;n<t.length;n++)t[n]&&e++;return!!(1&Math.floor(Math.abs(e)))},e.SWITCH=function(){var t;if(arguments.length>0){var e=arguments[0],n=arguments.length-1,o=Math.floor(n/2),i=!1,a=n%2!==0,s=n%2===0?null:arguments[arguments.length-1];if(o)for(var l=0;l<o;l++)if(e===arguments[2*l+1]){t=arguments[2*l+2],i=!0;break}i||(t=a?s:r.na)}else t=r.value;return t}},function(t,e,n){var r=n(0),o=n(9),i=n(1);function a(t){return t&&t.getTime&&!isNaN(t.getTime())}function s(t){return t instanceof Date?t:new Date(t)}e.ACCRINT=function(t,e,n,i,l,u,c){return t=s(t),e=s(e),n=s(n),a(t)&&a(e)&&a(n)?i<=0||l<=0?r.num:-1===[1,2,4].indexOf(u)?r.num:-1===[0,1,2,3,4].indexOf(c)?r.num:n<=t?r.num:(c=c||0,(l=l||0)*i*o.YEARFRAC(t,n,c)):r.value},e.ACCRINTM=function(){throw new Error("ACCRINTM is not implemented")},e.AMORDEGRC=function(){throw new Error("AMORDEGRC is not implemented")},e.AMORLINC=function(){throw new Error("AMORLINC is not implemented")},e.COUPDAYBS=function(){throw new Error("COUPDAYBS is not implemented")},e.COUPDAYS=function(){throw new Error("COUPDAYS is not implemented")},e.COUPDAYSNC=function(){throw new Error("COUPDAYSNC is not implemented")},e.COUPNCD=function(){throw new Error("COUPNCD is not implemented")},e.COUPNUM=function(){throw new Error("COUPNUM is not implemented")},e.COUPPCD=function(){throw new Error("COUPPCD is not implemented")},e.CUMIPMT=function(t,n,o,a,s,l){if(t=i.parseNumber(t),n=i.parseNumber(n),o=i.parseNumber(o),i.anyIsError(t,n,o))return r.value;if(t<=0||n<=0||o<=0)return r.num;if(a<1||s<1||a>s)return r.num;if(0!==l&&1!==l)return r.num;var u=e.PMT(t,n,o,0,l),c=0;1===a&&0===l&&(c=-o,a++);for(var h=a;h<=s;h++)c+=1===l?e.FV(t,h-2,u,o,1)-u:e.FV(t,h-1,u,o,0);return c*=t},e.CUMPRINC=function(t,n,o,a,s,l){if(t=i.parseNumber(t),n=i.parseNumber(n),o=i.parseNumber(o),i.anyIsError(t,n,o))return r.value;if(t<=0||n<=0||o<=0)return r.num;if(a<1||s<1||a>s)return r.num;if(0!==l&&1!==l)return r.num;var u=e.PMT(t,n,o,0,l),c=0;1===a&&(c=0===l?u+o*t:u,a++);for(var h=a;h<=s;h++)c+=l>0?u-(e.FV(t,h-2,u,o,1)-u)*t:u-e.FV(t,h-1,u,o,0)*t;return c},e.DB=function(t,e,n,o,a){if(a=void 0===a?12:a,t=i.parseNumber(t),e=i.parseNumber(e),n=i.parseNumber(n),o=i.parseNumber(o),a=i.parseNumber(a),i.anyIsError(t,e,n,o,a))return r.value;if(t<0||e<0||n<0||o<0)return r.num;if(-1===[1,2,3,4,5,6,7,8,9,10,11,12].indexOf(a))return r.num;if(o>n)return r.num;if(e>=t)return 0;for(var s=(1-Math.pow(e/t,1/n)).toFixed(3),l=t*s*a/12,u=l,c=0,h=o===n?n-1:o,f=2;f<=h;f++)u+=c=(t-u)*s;return 1===o?l:o===n?(t-u)*s:c},e.DDB=function(t,e,n,o,a){if(a=void 0===a?2:a,t=i.parseNumber(t),e=i.parseNumber(e),n=i.parseNumber(n),o=i.parseNumber(o),a=i.parseNumber(a),i.anyIsError(t,e,n,o,a))return r.value;if(t<0||e<0||n<0||o<0||a<=0)return r.num;if(o>n)return r.num;if(e>=t)return 0;for(var s=0,l=0,u=1;u<=o;u++)s+=l=Math.min(a/n*(t-s),t-e-s);return l},e.DISC=function(){throw new Error("DISC is not implemented")},e.DOLLARDE=function(t,e){if(t=i.parseNumber(t),e=i.parseNumber(e),i.anyIsError(t,e))return r.value;if(e<0)return r.num;if(e>=0&&e<1)return r.div0;e=parseInt(e,10);var n=parseInt(t,10);n+=t%1*Math.pow(10,Math.ceil(Math.log(e)/Math.LN10))/e;var o=Math.pow(10,Math.ceil(Math.log(e)/Math.LN2)+1);return n=Math.round(n*o)/o},e.DOLLARFR=function(t,e){if(t=i.parseNumber(t),e=i.parseNumber(e),i.anyIsError(t,e))return r.value;if(e<0)return r.num;if(e>=0&&e<1)return r.div0;e=parseInt(e,10);var n=parseInt(t,10);return n+=t%1*Math.pow(10,-Math.ceil(Math.log(e)/Math.LN10))*e},e.DURATION=function(){throw new Error("DURATION is not implemented")},e.EFFECT=function(t,e){return t=i.parseNumber(t),e=i.parseNumber(e),i.anyIsError(t,e)?r.value:t<=0||e<1?r.num:(e=parseInt(e,10),Math.pow(1+t/e,e)-1)},e.FV=function(t,e,n,o,a){if(o=o||0,a=a||0,t=i.parseNumber(t),e=i.parseNumber(e),n=i.parseNumber(n),o=i.parseNumber(o),a=i.parseNumber(a),i.anyIsError(t,e,n,o,a))return r.value;var s;if(0===t)s=o+n*e;else{var l=Math.pow(1+t,e);s=1===a?o*l+n*(1+t)*(l-1)/t:o*l+n*(l-1)/t}return-s},e.FVSCHEDULE=function(t,e){if(t=i.parseNumber(t),e=i.parseNumberArray(i.flatten(e)),i.anyIsError(t,e))return r.value;for(var n=e.length,o=t,a=0;a<n;a++)o*=1+e[a];return o},e.INTRATE=function(){throw new Error("INTRATE is not implemented")},e.IPMT=function(t,n,o,a,s,l){if(s=s||0,l=l||0,t=i.parseNumber(t),n=i.parseNumber(n),o=i.parseNumber(o),a=i.parseNumber(a),s=i.parseNumber(s),l=i.parseNumber(l),i.anyIsError(t,n,o,a,s,l))return r.value;var u=e.PMT(t,o,a,s,l);return(1===n?1===l?0:-a:1===l?e.FV(t,n-2,u,a,1)-u:e.FV(t,n-1,u,a,0))*t},e.IRR=function(t,e){if(e=e||0,t=i.parseNumberArray(i.flatten(t)),e=i.parseNumber(e),i.anyIsError(t,e))return r.value;for(var n=function(t,e,n){for(var r=n+1,o=t[0],i=1;i<t.length;i++)o+=t[i]/Math.pow(r,(e[i]-e[0])/365);return o},o=function(t,e,n){for(var r=n+1,o=0,i=1;i<t.length;i++){var a=(e[i]-e[0])/365;o-=a*t[i]/Math.pow(r,a+1)}return o},a=[],s=!1,l=!1,u=0;u<t.length;u++)a[u]=0===u?0:a[u-1]+365,t[u]>0&&(s=!0),t[u]<0&&(l=!0);if(!s||!l)return r.num;var c,h,f,d=e=void 0===e?.1:e,p=!0;do{c=d-(f=n(t,a,d))/o(t,a,d),h=Math.abs(c-d),d=c,p=h>1e-10&&Math.abs(f)>1e-10}while(p);return d},e.ISPMT=function(t,e,n,o){return t=i.parseNumber(t),e=i.parseNumber(e),n=i.parseNumber(n),o=i.parseNumber(o),i.anyIsError(t,e,n,o)?r.value:o*t*(e/n-1)},e.MDURATION=function(){throw new Error("MDURATION is not implemented")},e.MIRR=function(t,n,o){if(t=i.parseNumberArray(i.flatten(t)),n=i.parseNumber(n),o=i.parseNumber(o),i.anyIsError(t,n,o))return r.value;for(var a=t.length,s=[],l=[],u=0;u<a;u++)t[u]<0?s.push(t[u]):l.push(t[u]);var c=-e.NPV(o,l)*Math.pow(1+o,a-1),h=e.NPV(n,s)*(1+n);return Math.pow(c/h,1/(a-1))-1},e.NOMINAL=function(t,e){return t=i.parseNumber(t),e=i.parseNumber(e),i.anyIsError(t,e)?r.value:t<=0||e<1?r.num:(e=parseInt(e,10),(Math.pow(t+1,1/e)-1)*e)},e.NPER=function(t,e,n,o,a){if(a=void 0===a?0:a,o=void 0===o?0:o,t=i.parseNumber(t),e=i.parseNumber(e),n=i.parseNumber(n),o=i.parseNumber(o),a=i.parseNumber(a),i.anyIsError(t,e,n,o,a))return r.value;var s=e*(1+t*a)-o*t,l=n*t+e*(1+t*a);return Math.log(s/l)/Math.log(1+t)},e.NPV=function(){var t=i.parseNumberArray(i.flatten(arguments));if(t instanceof Error)return t;for(var e=t[0],n=0,r=1;r<t.length;r++)n+=t[r]/Math.pow(1+e,r);return n},e.ODDFPRICE=function(){throw new Error("ODDFPRICE is not implemented")},e.ODDFYIELD=function(){throw new Error("ODDFYIELD is not implemented")},e.ODDLPRICE=function(){throw new Error("ODDLPRICE is not implemented")},e.ODDLYIELD=function(){throw new Error("ODDLYIELD is not implemented")},e.PDURATION=function(t,e,n){return t=i.parseNumber(t),e=i.parseNumber(e),n=i.parseNumber(n),i.anyIsError(t,e,n)?r.value:t<=0?r.num:(Math.log(n)-Math.log(e))/Math.log(1+t)},e.PMT=function(t,e,n,o,a){if(o=o||0,a=a||0,t=i.parseNumber(t),e=i.parseNumber(e),n=i.parseNumber(n),o=i.parseNumber(o),a=i.parseNumber(a),i.anyIsError(t,e,n,o,a))return r.value;var s;if(0===t)s=(n+o)/e;else{var l=Math.pow(1+t,e);s=1===a?(o*t/(l-1)+n*t/(1-1/l))/(1+t):o*t/(l-1)+n*t/(1-1/l)}return-s},e.PPMT=function(t,n,o,a,s,l){return s=s||0,l=l||0,t=i.parseNumber(t),o=i.parseNumber(o),a=i.parseNumber(a),s=i.parseNumber(s),l=i.parseNumber(l),i.anyIsError(t,o,a,s,l)?r.value:e.PMT(t,o,a,s,l)-e.IPMT(t,n,o,a,s,l)},e.PRICE=function(){throw new Error("PRICE is not implemented")},e.PRICEDISC=function(){throw new Error("PRICEDISC is not implemented")},e.PRICEMAT=function(){throw new Error("PRICEMAT is not implemented")},e.PV=function(t,e,n,o,a){return o=o||0,a=a||0,t=i.parseNumber(t),e=i.parseNumber(e),n=i.parseNumber(n),o=i.parseNumber(o),a=i.parseNumber(a),i.anyIsError(t,e,n,o,a)?r.value:0===t?-n*e-o:((1-Math.pow(1+t,e))/t*n*(1+t*a)-o)/Math.pow(1+t,e)},e.RATE=function(t,e,n,o,a,s){if(s=void 0===s?.01:s,o=void 0===o?0:o,a=void 0===a?0:a,t=i.parseNumber(t),e=i.parseNumber(e),n=i.parseNumber(n),o=i.parseNumber(o),a=i.parseNumber(a),s=i.parseNumber(s),i.anyIsError(t,e,n,o,a,s))return r.value;var l,u,c,h=0,f=0,d=0,p=s;for(Math.abs(p)<1e-10?n*(1+t*p)+e*(1+p*a)*t+o:n*(f=Math.exp(t*Math.log(1+p)))+e*(1/p+a)*(f-1)+o,l=n+e*t+o,u=n*f+e*(1/p+a)*(f-1)+o,d=c=0,h=p;Math.abs(l-u)>1e-10&&d<50;)p=(u*c-l*h)/(u-l),c=h,h=p,l=u,u=Math.abs(p)<1e-10?n*(1+t*p)+e*(1+p*a)*t+o:n*(f=Math.exp(t*Math.log(1+p)))+e*(1/p+a)*(f-1)+o,++d;return p},e.RECEIVED=function(){throw new Error("RECEIVED is not implemented")},e.RRI=function(t,e,n){return t=i.parseNumber(t),e=i.parseNumber(e),n=i.parseNumber(n),i.anyIsError(t,e,n)?r.value:0===t||0===e?r.num:Math.pow(n/e,1/t)-1},e.SLN=function(t,e,n){return t=i.parseNumber(t),e=i.parseNumber(e),n=i.parseNumber(n),i.anyIsError(t,e,n)?r.value:0===n?r.num:(t-e)/n},e.SYD=function(t,e,n,o){return t=i.parseNumber(t),e=i.parseNumber(e),n=i.parseNumber(n),o=i.parseNumber(o),i.anyIsError(t,e,n,o)?r.value:0===n?r.num:o<1||o>n?r.num:(t-e)*(n-(o=parseInt(o,10))+1)*2/(n*(n+1))},e.TBILLEQ=function(t,e,n){return t=i.parseDate(t),e=i.parseDate(e),n=i.parseNumber(n),i.anyIsError(t,e,n)?r.value:n<=0?r.num:t>e?r.num:e-t>31536e6?r.num:365*n/(360-n*o.DAYS360(t,e,!1))},e.TBILLPRICE=function(t,e,n){return t=i.parseDate(t),e=i.parseDate(e),n=i.parseNumber(n),i.anyIsError(t,e,n)?r.value:n<=0?r.num:t>e?r.num:e-t>31536e6?r.num:100*(1-n*o.DAYS360(t,e,!1)/360)},e.TBILLYIELD=function(t,e,n){return t=i.parseDate(t),e=i.parseDate(e),n=i.parseNumber(n),i.anyIsError(t,e,n)?r.value:n<=0?r.num:t>e?r.num:e-t>31536e6?r.num:360*(100-n)/(n*o.DAYS360(t,e,!1))},e.VDB=function(){throw new Error("VDB is not implemented")},e.XNPV=function(t,e,n){if(t=i.parseNumber(t),e=i.parseNumberArray(i.flatten(e)),n=i.parseDateArray(i.flatten(n)),i.anyIsError(t,e,n))return r.value;for(var a=0,s=0;s<e.length;s++)a+=e[s]/Math.pow(1+t,o.DAYS(n[s],n[0])/365);return a},e.YIELD=function(){throw new Error("YIELD is not implemented")},e.YIELDDISC=function(){throw new Error("YIELDDISC is not implemented")},e.YIELDMAT=function(){throw new Error("YIELDMAT is not implemented")}},function(t,e,n){var r=n(0),o=n(1);e.MATCH=function(t,e,n){if(!t&&!e)return r.na;if(2===arguments.length&&(n=1),!(e instanceof Array))return r.na;if(-1!==n&&0!==n&&1!==n)return r.na;for(var o,i,a=0;a<e.length;a++)if(1===n){if(e[a]===t)return a+1;e[a]<t&&(i?e[a]>i&&(o=a+1,i=e[a]):(o=a+1,i=e[a]))}else if(0===n){if("string"===typeof t){if(t=t.replace(/\?/g,"."),e[a].toLowerCase().match(t.toLowerCase()))return a+1}else if(e[a]===t)return a+1}else if(-1===n){if(e[a]===t)return a+1;e[a]>t&&(i?e[a]<i&&(o=a+1,i=e[a]):(o=a+1,i=e[a]))}return o||r.na},e.VLOOKUP=function(t,e,n,o){if(!t||!e||!n)return r.na;o=o||!1;for(var i=0;i<e.length;i++){var a=e[i];if(!o&&a[0]===t||a[0]===t||o&&"string"===typeof a[0]&&-1!==a[0].toLowerCase().indexOf(t.toLowerCase()))return n<a.length+1?a[n-1]:r.ref}return r.na},e.HLOOKUP=function(t,e,n,i){if(!t||!e||!n)return r.na;i=i||!1;for(var a=o.transpose(e),s=0;s<a.length;s++){var l=a[s];if(!i&&l[0]===t||l[0]===t||i&&"string"===typeof l[0]&&-1!==l[0].toLowerCase().indexOf(t.toLowerCase()))return n<l.length+1?l[n-1]:r.ref}return r.na}},function(t,e,n){"use strict";e.__esModule=!0,e.default=o;var r=e.SYMBOL=">";function o(t,e){return t>e}o.SYMBOL=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=o;var r=e.SYMBOL=">=";function o(t,e){return t>=e}o.SYMBOL=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=o;var r=e.SYMBOL="<";function o(t,e){return t<e}o.SYMBOL=r},function(t,e,n){"use strict";e.__esModule=!0,e.default=o;var r=e.SYMBOL="<=";function o(t,e){return t<=e}o.SYMBOL=r},function(t,e,n){"use strict";e.__esModule=!0,e.SYMBOL=void 0,e.default=a;var r=n(3),o=n(2),i=e.SYMBOL="-";function a(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var a=n.reduce(function(t,e){return t-(0,r.toNumber)(e)},(0,r.toNumber)(t));if(isNaN(a))throw Error(o.ERROR_VALUE);return a}a.SYMBOL=i},function(t,e,n){"use strict";e.__esModule=!0,e.SYMBOL=void 0,e.default=a;var r=n(3),o=n(2),i=e.SYMBOL="*";function a(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var a=n.reduce(function(t,e){return t*(0,r.toNumber)(e)},(0,r.toNumber)(t));if(isNaN(a))throw Error(o.ERROR_VALUE);return a}a.SYMBOL=i},function(t,e,n){"use strict";e.__esModule=!0,e.default=o;var r=e.SYMBOL="<>";function o(t,e){return t!==e}o.SYMBOL=r},function(t,e,n){"use strict";e.__esModule=!0,e.SYMBOL=void 0,e.default=a;var r=n(3),o=n(2),i=e.SYMBOL="^";function a(t,e){var n=Math.pow((0,r.toNumber)(t),(0,r.toNumber)(e));if(isNaN(n))throw Error(o.ERROR_VALUE);return n}a.SYMBOL=i},function(t,e,n){var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,5],n=[1,8],r=[1,6],o=[1,7],i=[1,9],a=[1,14],s=[1,15],l=[1,16],u=[1,12],c=[1,13],h=[1,17],f=[1,19],d=[1,20],p=[1,21],g=[1,22],m=[1,23],v=[1,24],y=[1,25],b=[1,26],w=[1,27],C=[1,28],O=[5,9,10,11,13,14,15,16,17,18,19,20,29,30],S=[5,9,10,11,13,14,15,16,17,18,19,20,29,30,32],E=[5,9,10,11,13,14,15,16,17,18,19,20,29,30,34],k=[5,10,11,13,14,15,16,17,29,30],T=[5,10,13,14,15,16,29,30],R=[5,10,11,13,14,15,16,17,18,19,29,30],x=[13,29,30],M={trace:function(){},yy:{},symbols_:{error:2,expressions:3,expression:4,EOF:5,variableSequence:6,number:7,STRING:8,"&":9,"=":10,"+":11,"(":12,")":13,"<":14,">":15,NOT:16,"-":17,"*":18,"/":19,"^":20,FUNCTION:21,expseq:22,cell:23,ABSOLUTE_CELL:24,RELATIVE_CELL:25,MIXED_CELL:26,":":27,ARRAY:28,";":29,",":30,VARIABLE:31,DECIMAL:32,NUMBER:33,"%":34,ERROR:35,$accept:0,$end:1},terminals_:{5:"EOF",8:"STRING",9:"&",10:"=",11:"+",12:"(",13:")",14:"<",15:">",16:"NOT",17:"-",18:"*",19:"/",20:"^",21:"FUNCTION",24:"ABSOLUTE_CELL",25:"RELATIVE_CELL",26:"MIXED_CELL",27:":",28:"ARRAY",29:";",30:",",31:"VARIABLE",32:"DECIMAL",33:"NUMBER",34:"%",35:"ERROR"},productions_:[0,[3,2],[4,1],[4,1],[4,1],[4,3],[4,3],[4,3],[4,3],[4,4],[4,4],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,2],[4,3],[4,4],[4,1],[4,1],[4,2],[23,1],[23,1],[23,1],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[22,1],[22,1],[22,3],[22,3],[6,1],[6,3],[7,1],[7,3],[7,2],[2,1]],performAction:function(t,e,n,r,o,i,a){var s=i.length-1;switch(o){case 1:return i[s-1];case 2:this.$=r.callVariable(i[s][0]);break;case 3:this.$=r.toNumber(i[s]);break;case 4:this.$=r.trimEdges(i[s]);break;case 5:this.$=r.evaluateByOperator("&",[i[s-2],i[s]]);break;case 6:this.$=r.evaluateByOperator("=",[i[s-2],i[s]]);break;case 7:this.$=r.evaluateByOperator("+",[i[s-2],i[s]]);break;case 8:this.$=i[s-1];break;case 9:this.$=r.evaluateByOperator("<=",[i[s-3],i[s]]);break;case 10:this.$=r.evaluateByOperator(">=",[i[s-3],i[s]]);break;case 11:this.$=r.evaluateByOperator("<>",[i[s-3],i[s]]);break;case 12:this.$=r.evaluateByOperator("NOT",[i[s-2],i[s]]);break;case 13:this.$=r.evaluateByOperator(">",[i[s-2],i[s]]);break;case 14:this.$=r.evaluateByOperator("<",[i[s-2],i[s]]);break;case 15:this.$=r.evaluateByOperator("-",[i[s-2],i[s]]);break;case 16:this.$=r.evaluateByOperator("*",[i[s-2],i[s]]);break;case 17:this.$=r.evaluateByOperator("/",[i[s-2],i[s]]);break;case 18:this.$=r.evaluateByOperator("^",[i[s-2],i[s]]);break;case 19:var l=r.invertNumber(i[s]);this.$=l,isNaN(this.$)&&(this.$=0);break;case 20:l=r.toNumber(i[s]);this.$=l,isNaN(this.$)&&(this.$=0);break;case 21:this.$=r.callFunction(i[s-2]);break;case 22:this.$=r.callFunction(i[s-3],i[s-1]);break;case 26:case 27:case 28:this.$=r.cellValue(i[s]);break;case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:this.$=r.rangeValue(i[s-2],i[s]);break;case 38:case 42:this.$=[i[s]];break;case 39:this.$=r.trimEdges(t).split(",");break;case 40:case 41:i[s-2].push(i[s]),this.$=i[s-2];break;case 43:this.$=Array.isArray(i[s-2])?i[s-2]:[i[s-2]],this.$.push(i[s]);break;case 44:this.$=i[s];break;case 45:this.$=1*(i[s-2]+"."+i[s]);break;case 46:this.$=.01*i[s-1];break;case 47:this.$=r.throwError(i[s])}},table:[{2:11,3:1,4:2,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{1:[3]},{5:[1,18],9:f,10:d,11:p,14:g,15:m,16:v,17:y,18:b,19:w,20:C},t(O,[2,2],{32:[1,29]}),t(O,[2,3],{34:[1,30]}),t(O,[2,4]),{2:11,4:31,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{2:11,4:32,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{2:11,4:33,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{12:[1,34]},t(O,[2,23]),t(O,[2,24],{2:35,35:h}),t(S,[2,42]),t(E,[2,44],{32:[1,36]}),t(O,[2,26],{27:[1,37]}),t(O,[2,27],{27:[1,38]}),t(O,[2,28],{27:[1,39]}),t([5,9,10,11,13,14,15,16,17,18,19,20,29,30,35],[2,47]),{1:[2,1]},{2:11,4:40,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{2:11,4:41,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{2:11,4:42,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{2:11,4:45,6:3,7:4,8:e,10:[1,43],11:n,12:r,15:[1,44],17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{2:11,4:47,6:3,7:4,8:e,10:[1,46],11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{2:11,4:48,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{2:11,4:49,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{2:11,4:50,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{2:11,4:51,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{2:11,4:52,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{31:[1,53]},t(E,[2,46]),{9:f,10:d,11:p,13:[1,54],14:g,15:m,16:v,17:y,18:b,19:w,20:C},t(k,[2,19],{9:f,18:b,19:w,20:C}),t(k,[2,20],{9:f,18:b,19:w,20:C}),{2:11,4:57,6:3,7:4,8:e,11:n,12:r,13:[1,55],17:o,21:i,22:56,23:10,24:a,25:s,26:l,28:[1,58],31:u,33:c,35:h},t(O,[2,25]),{33:[1,59]},{24:[1,60],25:[1,61],26:[1,62]},{24:[1,63],25:[1,64],26:[1,65]},{24:[1,66],25:[1,67],26:[1,68]},t(O,[2,5]),t([5,10,13,29,30],[2,6],{9:f,11:p,14:g,15:m,16:v,17:y,18:b,19:w,20:C}),t(k,[2,7],{9:f,18:b,19:w,20:C}),{2:11,4:69,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{2:11,4:70,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},t(T,[2,14],{9:f,11:p,17:y,18:b,19:w,20:C}),{2:11,4:71,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},t(T,[2,13],{9:f,11:p,17:y,18:b,19:w,20:C}),t([5,10,13,16,29,30],[2,12],{9:f,11:p,14:g,15:m,17:y,18:b,19:w,20:C}),t(k,[2,15],{9:f,18:b,19:w,20:C}),t(R,[2,16],{9:f,20:C}),t(R,[2,17],{9:f,20:C}),t([5,10,11,13,14,15,16,17,18,19,20,29,30],[2,18],{9:f}),t(S,[2,43]),t(O,[2,8]),t(O,[2,21]),{13:[1,72],29:[1,73],30:[1,74]},t(x,[2,38],{9:f,10:d,11:p,14:g,15:m,16:v,17:y,18:b,19:w,20:C}),t(x,[2,39]),t(E,[2,45]),t(O,[2,29]),t(O,[2,30]),t(O,[2,31]),t(O,[2,32]),t(O,[2,33]),t(O,[2,34]),t(O,[2,35]),t(O,[2,36]),t(O,[2,37]),t(T,[2,9],{9:f,11:p,17:y,18:b,19:w,20:C}),t(T,[2,11],{9:f,11:p,17:y,18:b,19:w,20:C}),t(T,[2,10],{9:f,11:p,17:y,18:b,19:w,20:C}),t(O,[2,22]),{2:11,4:75,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},{2:11,4:76,6:3,7:4,8:e,11:n,12:r,17:o,21:i,23:10,24:a,25:s,26:l,31:u,33:c,35:h},t(x,[2,40],{9:f,10:d,11:p,14:g,15:m,16:v,17:y,18:b,19:w,20:C}),t(x,[2,41],{9:f,10:d,11:p,14:g,15:m,16:v,17:y,18:b,19:w,20:C})],defaultActions:{18:[2,1]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],o=[],i=this.table,a="",s=0,l=0,u=0,c=o.slice.call(arguments,1),h=Object.create(this.lexer),f={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(f.yy[d]=this.yy[d]);h.setInput(t,f.yy),f.yy.lexer=h,f.yy.parser=this,"undefined"==typeof h.yylloc&&(h.yylloc={});var p=h.yylloc;o.push(p);var g=h.options&&h.options.ranges;"function"===typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,v,y,b,w,C,O,S,E,k,T=function(){var t;return"number"!==typeof(t=h.lex()||1)&&(t=e.symbols_[t]||t),t},R={};;){if(y=n[n.length-1],this.defaultActions[y]?b=this.defaultActions[y]:(null!==m&&"undefined"!=typeof m||(m=T()),b=i[y]&&i[y][m]),"undefined"===typeof b||!b.length||!b[0]){var x,M=function(t){for(var e=n.length-1,r=0;;){if(2..toString()in i[t])return r;if(0===t||e<2)return!1;t=n[e-=2],++r}},A="";if(u)1!==v&&(x=M(y));else{for(C in x=M(y),E=[],i[y])this.terminals_[C]&&C>2&&E.push("'"+this.terminals_[C]+"'");A=h.showPosition?"Parse error on line "+(s+1)+":\n"+h.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(A,{text:h.match,token:this.terminals_[m]||m,line:h.yylineno,loc:p,expected:E,recoverable:!1!==x})}if(3==u){if(1===m||1===v)throw new Error(A||"Parsing halted while starting to recover from another error.");l=h.yyleng,a=h.yytext,s=h.yylineno,p=h.yylloc,m=T()}if(!1===x)throw new Error(A||"Parsing halted. No suitable error recovery rule available.");k=x,n.length=n.length-2*k,r.length=r.length-k,o.length=o.length-k,v=2==m?null:m,m=2,y=n[n.length-1],b=i[y]&&i[y][2],u=3}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+m);switch(b[0]){case 1:n.push(m),r.push(h.yytext),o.push(h.yylloc),n.push(b[1]),m=null,v?(m=v,v=null):(l=h.yyleng,a=h.yytext,s=h.yylineno,p=h.yylloc,u>0&&u--);break;case 2:if(O=this.productions_[b[1]][1],R.$=r[r.length-O],R._$={first_line:o[o.length-(O||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(O||1)].first_column,last_column:o[o.length-1].last_column},g&&(R._$.range=[o[o.length-(O||1)].range[0],o[o.length-1].range[1]]),"undefined"!==typeof(w=this.performAction.apply(R,[a,l,s,f.yy,b[1],r,o].concat(c))))return w;O&&(n=n.slice(0,-1*O*2),r=r.slice(0,-1*O),o=o.slice(0,-1*O)),n.push(this.productions_[b[1]][0]),r.push(R.$),o.push(R._$),S=i[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},A={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var i in o)this[i]=o[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length;i++)if((n=this._input.match(this.rules[o[i]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=i,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,o[i])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,o[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:break;case 1:case 2:return 8;case 3:return 21;case 4:return 35;case 5:return 24;case 6:case 7:return 26;case 8:return 25;case 9:return 21;case 10:case 11:return 31;case 12:return 33;case 13:return 28;case 14:return 9;case 15:return" ";case 16:return 32;case 17:return 27;case 18:return 29;case 19:return 30;case 20:return 18;case 21:return 19;case 22:return 17;case 23:return 11;case 24:return 20;case 25:return 12;case 26:return 13;case 27:return 15;case 28:return 14;case 29:return 16;case 30:return'"';case 31:return"'";case 32:return"!";case 33:return 10;case 34:return 34;case 35:return"#";case 36:return 5}},rules:[/^(?:\s+)/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:[A-Za-z]{1,}[A-Za-z_0-9\.]+(?=[(]))/,/^(?:#[A-Z0-9\/]+(!|\?)?)/,/^(?:\$[A-Za-z]+\$[0-9]+)/,/^(?:\$[A-Za-z]+[0-9]+)/,/^(?:[A-Za-z]+\$[0-9]+)/,/^(?:[A-Za-z]+[0-9]+)/,/^(?:[A-Za-z\.]+(?=[(]))/,/^(?:[A-Za-z]{1,}[A-Za-z_0-9]+)/,/^(?:[A-Za-z_]+)/,/^(?:[0-9]+)/,/^(?:\[(.*)?\])/,/^(?:&)/,/^(?: )/,/^(?:[.])/,/^(?::)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\/)/,/^(?:-)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\))/,/^(?:>)/,/^(?:<)/,/^(?:NOT\b)/,/^(?:")/,/^(?:')/,/^(?:!)/,/^(?:=)/,/^(?:%)/,/^(?:[#])/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],inclusive:!0}}};function N(){this.yy={}}return M.lexer=A,N.prototype=M,M.Parser=N,new N}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)}},function(t,e,n){"use strict";e.__esModule=!0,e.trimEdges=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t=t.substring(e,t.length-e)}}])},t.exports=o()},function(t,e,n){"use strict";var r=n(152),o=n(153)("includes");n(28)({target:"String",proto:!0,forced:!o},{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u}),n.d(e,"c",function(){return m}),n.d(e,"e",function(){return v}),n.d(e,"f",function(){return y}),n.d(e,"g",function(){return b}),n.d(e,"d",function(){return w});n(10),n(11),n(12),n(30),n(41),n(7),n(75),n(6),n(81),n(47),n(8),n(9);var r=n(5),o=n(1),i=n(13);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(t){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=0,u=1,c=2,h=3,f=[h,c],d=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],p=Symbol("root"),g=Symbol("child");function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;if(e!==p&&e!==g)throw new Error("The second argument is used internally only and cannot be overwritten.");var n=Array.isArray(t),o=e===p,i=l;if(n){var a=t[0];if(0===t.length)i=u;else if(o&&a instanceof r.b)i=h;else if(o&&Array.isArray(a))i=m(a,g);else if(t.length>=2&&t.length<=4){!t.some(function(t,e){return!d[e].includes(s(t))})&&(i=c)}}return i}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.keepDirection,r=void 0!==n&&n,o=e.propToCol;if(!f.includes(t))throw new Error("Unsupported selection ranges schema type was provided.");return function(e){var n=t===h,a=n?e.from.row:e[0],s=n?e.from.col:e[1],l=n?e.to.row:e[2],u=n?e.to.col:e[3];if("function"===typeof o&&("string"===typeof s&&(s=o(s)),"string"===typeof u&&(u=o(u))),Object(i.isUndefined)(l)&&(l=a),Object(i.isUndefined)(u)&&(u=s),!r){var c=a,f=s,d=l,p=u;a=Math.min(c,d),s=Math.min(f,p),l=Math.max(c,d),u=Math.max(f,p)}return[a,s,l,u]}}function y(t){var e=m(t);if(e===l||e===u)return[];var n=v(e),r=new Set;Object(o.arrayEach)(t,function(t){var e=a(n(t),4),i=e[1],s=e[3]-i+1;Object(o.arrayEach)(Array.from(new Array(s),function(t,e){return i+e}),function(t){r.has(t)||r.add(t)})});var i=Array.from(r).sort(function(t,e){return t-e});return Object(o.arrayReduce)(i,function(t,e,n,r){return 0!==n&&e===r[n-1]+1?t[t.length-1][1]+=1:t.push([e,1]),t},[])}function b(t){var e=m(t);if(e===l||e===u)return[];var n=v(e),r=new Set;Object(o.arrayEach)(t,function(t){var e=a(n(t),3),i=e[0],s=e[2]-i+1;Object(o.arrayEach)(Array.from(new Array(s),function(t,e){return i+e}),function(t){r.has(t)||r.add(t)})});var i=Array.from(r).sort(function(t,e){return t-e});return Object(o.arrayReduce)(i,function(t,e,n,r){return 0!==n&&e===r[n-1]+1?t[t.length-1][1]+=1:t.push([e,1]),t},[])}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return"number"===typeof t&&t>=0&&t<e}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,n){"use strict";var r=n(53);function o(t,e){var n=t;return function(t){for(var r=!1,o=0,i=t.length;o<i;o++)if(n===t[o]){r=!0;break}e(r)}}n(186);var i=n(27),a=n.n(i),s=n(129),l=n(33);var u=n(4);var c=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"];n.d(e,"c",function(){return f}),n.d(e,"b",function(){return m}),n.d(e,"a",function(){return g});var h=Object(r.a)("validators"),f=h.register,d=h.getItem,p=h.hasItem,g=h.getNames;h.getValues;function m(t){if("function"===typeof t)return t;if(!p(t))throw Error('No registered validator found under "'.concat(t,'" name'));return d(t)}f("autocomplete",function(t,e){var n=t;null!==n&&void 0!==n||(n=""),this.allowEmpty&&""===n?e(!0):this.strict&&this.source?"function"===typeof this.source?this.source(n,o(n,e)):o(n,e)(this.source):e(!0)}),f("date",function(t,e){var n=Object(l.b)("date",this.instance),r=t,o=!0;null!==r&&void 0!==r||(r="");var i=a()(new Date(r)).isValid()||a()(r,this.dateFormat||n.defaultDateFormat,!0).isValid(),u=a()(r,this.dateFormat||n.defaultDateFormat,!0).isValid();if(this.allowEmpty&&""===r&&(i=!0,u=!0),i||(o=!1),!i&&u&&(o=!0),i&&!u)if(!0===this.correctFormat){var c=function(t,e){var n=a()(Object(s.getNormalizedDate)(t)),r=a()(t,e),o=t.search(/[A-z]/g)>-1;return(n.isValid()&&n.format("x")===r.format("x")||!r.isValid()||o?n:r).format(e)}(r,this.dateFormat),h=this.instance.runHooks("unmodifyRow",this.row),f=this.instance.runHooks("unmodifyCol",this.col);this.instance.setDataAtCell(h,f,c,"dateValidator"),o=!0}else o=!1;e(o)}),f("numeric",function(t,e){var n=t;null!==n&&void 0!==n||(n=""),this.allowEmpty&&""===n?e(!0):e(""!==n&&Object(u.isNumeric)(t))}),f("time",function(t,e){var n=this.timeFormat||"h:mm:ss a",r=!0,o=t;null===o&&(o=""),o=/^\d{3,}$/.test(o)?parseInt(o,10):o;var i=/^\d{1,2}$/.test(o);i&&(o+=":00");var s=a()(o,c,!0).isValid()?a()(o):a()(o,n),l=s.isValid(),u=a()(o,n,!0).isValid()&&!i;if(this.allowEmpty&&""===o&&(l=!0,u=!0),l||(r=!1),!l&&u&&(r=!0),l&&!u)if(!0===this.correctFormat){var h=s.format(n),f=this.instance.runHooks("unmodifyRow",this.row),d=this.instance.runHooks("unmodifyCol",this.col);this.instance.setDataAtCell(f,d,h,"timeValidator"),r=!0}else r=!1;e(r)})},function(t,e,n){"use strict";var r=n(52),o=n(67),i=n(56),a=n(85),s=n(63),l=n(150),u=n(122),c=Math.max,h=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(123)("replace",2,function(t,e,n){return[function(n,r){var o=s(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,o){var s=n(e,t,this,o);if(s.done)return s.value;var f=r(t),d=String(this),p="function"===typeof o;p||(o=String(o));var m=f.global;if(m){var v=f.unicode;f.lastIndex=0}for(var y=[];;){var b=u(f,d);if(null===b)break;if(y.push(b),!m)break;""===String(b[0])&&(f.lastIndex=l(d,i(f.lastIndex),v))}for(var w,C="",O=0,S=0;S<y.length;S++){b=y[S];for(var E=String(b[0]),k=c(h(a(b.index),d.length),0),T=[],R=1;R<b.length;R++)T.push(void 0===(w=b[R])?w:String(w));var x=b.groups;if(p){var M=[E].concat(T,k,d);void 0!==x&&M.push(x);var A=String(o.apply(void 0,M))}else A=g(E,d,k,T,x,o);k>=O&&(C+=d.slice(O,k)+A,O=k+E.length)}return C+d.slice(O)}];function g(t,n,r,i,a,s){var l=r+t.length,u=i.length,c=p;return void 0!==a&&(a=o(a),c=d),e.call(s,c,function(e,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(l);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return e;if(c>u){var h=f(c/10);return 0===h?e:h<=u?void 0===i[h-1]?o.charAt(1):i[h-1]+o.charAt(1):e}s=i[c-1]}return void 0===s?"":s})}})},function(t,e,n){var r=n(49);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});n(10),n(11),n(12),n(30),n(7),n(74),n(6),n(26),n(8),n(9);function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=new Map;function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common";o.has(t)||o.set(t,new Map);var e=o.get(t);return{register:function(t,n){e.set(t,n)},getItem:function(t){return e.get(t)},hasItem:function(t){return e.has(t)},getNames:function(){return r(e.keys())},getValues:function(){return r(e.values())}}}},function(t,e,n){"use strict";var r=n(92)(2),o=n(106)("filter");n(28)({target:"Array",proto:!0,forced:!o},{filter:function(t){return r(this,t,arguments[1])}})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(85),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){t.exports=!n(38)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(57),o=n(161),i=n(52),a=n(99),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";n(10),n(11),n(12),n(7),n(18),n(19),n(6),n(8),n(124),n(9);var r=n(5),o=n(13),i=n(2),a=n(1),s={_hooksStorage:Object.create(null),addHook:function(t,e){return this._hooksStorage[t]||(this._hooksStorage[t]=[]),this.hot.addHook(t,e),this._hooksStorage[t].push(e),this},removeHooksByKey:function(t){var e=this;Object(a.arrayEach)(this._hooksStorage[t]||[],function(n){e.hot.removeHook(t,n)})},clearHooks:function(){var t=this;Object(i.objectEach)(this._hooksStorage,function(e,n){return t.removeHooksByKey(n)}),this._hooksStorage={}}};Object(i.defineGetter)(s,"MIXIN_NAME","hooksRefRegisterer",{writable:!1,enumerable:!1});var l=s;function u(t){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",function(){return g});var g={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"},m=function(){function t(e){d(this,t),this.hot=e,this.instance=e,this.state=g.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.TD=null,this.row=null,this.col=null,this.prop=null,this.originalValue=null,this.cellProperties=null,this.init()}var e,n,i;return e=t,(n=[{key:"_fireCallbacks",value:function(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)}},{key:"init",value:function(){}},{key:"getValue",value:function(){throw Error("Editor getValue() method unimplemented")}},{key:"setValue",value:function(){throw Error("Editor setValue() method unimplemented")}},{key:"open",value:function(){throw Error("Editor open() method unimplemented")}},{key:"close",value:function(){throw Error("Editor close() method unimplemented")}},{key:"prepare",value:function(t,e,n,r,o,i){this.TD=r,this.row=t,this.col=e,this.prop=n,this.originalValue=o,this.cellProperties=i,this.state=g.VIRGIN}},{key:"extend",value:function(){return function(t){function e(){return d(this,e),c(this,h(e).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),e}(this.constructor)}},{key:"saveValue",value:function(t,e){var n,r;e?((n=this.hot.getSelectedLast())[0]>n[2]&&(r=n[0],n[0]=n[2],n[2]=r),n[1]>n[3]&&(r=n[1],n[1]=n[3],n[3]=r)):n=[this.row,this.col,null,null],this.hot.populateFromArray(n[0],n[1],t,n[2],n[3],"edit")}},{key:"beginEditing",value:function(t,e){if(this.state===g.VIRGIN){if(this.hot.view.scrollViewport(new r.a(this.row,this.col)),this.state=g.EDITING,this.isInFullEditMode()){var n="string"===typeof t?t:Object(o.stringify)(this.originalValue);this.setValue(n)}this.open(e),this._opened=!0,this.focus(),this.hot.view.render(),this.hot.runHooks("afterBeginEditing",this.row,this.col)}}},{key:"finishEditing",value:function(t,e,n){var r,o=this;if(n){var i=this._closeCallback;this._closeCallback=function(t){i&&i(t),n(t),o.hot.view.render()}}if(!this.isWaiting())if(this.state!==g.VIRGIN){if(this.state===g.EDITING){if(t)return this.cancelChanges(),void this.hot.view.render();var a=this.getValue();r=this.hot.getSettings().trimWhitespace?[["string"===typeof a?String.prototype.trim.call(a||""):a]]:[[a]],this.state=g.WAITING,this.saveValue(r,e),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",function(t){o.state=g.FINISHED,o.discardEditor(t)}):(this.state=g.FINISHED,this.discardEditor(!0))}}else this.hot._registerTimeout(function(){o._fireCallbacks(!0)})}},{key:"cancelChanges",value:function(){this.state=g.FINISHED,this.discardEditor()}},{key:"discardEditor",value:function(t){this.state===g.FINISHED&&(!1===t&&!0!==this.cellProperties.allowInvalid?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=g.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=g.VIRGIN,this._fireCallbacks(!0)))}},{key:"enableFullEditMode",value:function(){this._fullEditMode=!0}},{key:"isInFullEditMode",value:function(){return this._fullEditMode}},{key:"isOpened",value:function(){return this._opened}},{key:"isWaiting",value:function(){return this.state===g.WAITING}},{key:"checkEditorSection",value:function(){var t=this.hot.countRows(),e="";return this.row<this.hot.getSettings().fixedRowsTop?e=this.col<this.hot.getSettings().fixedColumnsLeft?"top-left-corner":"top":this.hot.getSettings().fixedRowsBottom&&this.row>=t-this.hot.getSettings().fixedRowsBottom?e=this.col<this.hot.getSettings().fixedColumnsLeft?"bottom-left-corner":"bottom":this.col<this.hot.getSettings().fixedColumnsLeft&&(e="left"),e}}])&&p(e.prototype,n),i&&p(e,i),t}();Object(i.mixin)(m,l);e.b=m},function(t,e,n){"use strict";var r=n(149),o=n(52),i=n(63),a=n(222),s=n(150),l=n(56),u=n(122),c=n(151),h=n(38),f=[].push,d=Math.min,p=!h(function(){return!RegExp(4294967295,"y")});n(123)("split",2,function(t,e,n){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var o=String(i(this)),a=void 0===n?4294967295:n>>>0;if(0===a)return[];if(void 0===t)return[o];if(!r(t))return e.call(o,t,a);for(var s,l,u,h=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,d+"g");(s=c.call(g,o))&&!((l=g.lastIndex)>p&&(h.push(o.slice(p,s.index)),s.length>1&&s.index<o.length&&f.apply(h,s.slice(1)),u=s[0].length,p=l,h.length>=a));)g.lastIndex===s.index&&g.lastIndex++;return p===o.length?!u&&g.test("")||h.push(""):h.push(o.slice(p)),h.length>a?h.slice(0,a):h}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=i(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,r,n):h.call(String(r),e,n)},function(t,r){var i=n(h,t,this,r,h!==e);if(i.done)return i.value;var c=o(t),f=String(this),g=a(c,RegExp),m=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(p?"y":"g"),y=new g(p?c:"^(?:"+c.source+")",v),b=void 0===r?4294967295:r>>>0;if(0===b)return[];if(0===f.length)return null===u(y,f)?[f]:[];for(var w=0,C=0,O=[];C<f.length;){y.lastIndex=p?C:0;var S,E=u(y,p?f:f.slice(C));if(null===E||(S=d(l(y.lastIndex+(p?0:C)),f.length))===w)C=s(f,C,m);else{if(O.push(f.slice(w,C)),O.length===b)return O;for(var k=1;k<=E.length-1;k++)if(O.push(E[k]),O.length===b)return O;C=w=S}}return O.push(f.slice(w)),O}]},!p)},function(t,e,n){"use strict";var r=n(69),o=[].join,i=n(109)!=Object,a=n(121)("join",",");n(28)({target:"Array",proto:!0,forced:i||a},{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,n){var r=n(57),o=n(58).f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/;!r||"name"in i||o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});n(7),n(6),n(8),n(32),n(9);var r=n(87),o=n(2);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e}var e,n,r;return e=t,(n=[{key:"toVisualRow",value:function(t){return this.hot.runHooks("unmodifyRow",t)}},{key:"toVisualColumn",value:function(t){return this.hot.runHooks("unmodifyCol",t)}},{key:"toVisual",value:function(t,e){return Object(o.isObject)(t)?{row:this.toVisualRow(t.row),column:this.toVisualColumn(t.column)}:[this.toVisualRow(t),this.toVisualColumn(e)]}},{key:"toPhysicalRow",value:function(t){return this.hot.runHooks("modifyRow",t)}},{key:"toPhysicalColumn",value:function(t){return this.hot.runHooks("modifyCol",t)}},{key:"toPhysical",value:function(t,e){return Object(o.isObject)(t)?{row:this.toPhysicalRow(t.row),column:this.toPhysicalColumn(t.column)}:[this.toPhysicalRow(t),this.toPhysicalColumn(e)]}}])&&i(e.prototype,n),r&&i(e,r),t}(),s=new WeakMap,l=new WeakMap;function u(t){var e,n=t instanceof r.a?t:function(t){if(!s.has(t))throw Error("Record translator was not registered for this object identity");return s.get(t)}(t);return l.has(n)?e=l.get(n):(e=new a(n),l.set(n,e)),e}},function(t,e,n){"use strict";n.r(e),n.d(e,"spreadsheetColumnLabel",function(){return s}),n.d(e,"spreadsheetColumnIndex",function(){return l}),n.d(e,"createSpreadsheetData",function(){return u}),n.d(e,"createSpreadsheetObjectData",function(){return c}),n.d(e,"createEmptySpreadsheetData",function(){return h}),n.d(e,"translateRowsToColumns",function(){return f}),n.d(e,"cellMethodLookupFactory",function(){return d});n(18);var r=n(77),o=n(2),i="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a=i.length;function s(t){for(var e,n=t+1,r="";n>0;)e=(n-1)%a,r=String.fromCharCode(65+e)+r,n=parseInt((n-e)/a,10);return r}function l(t){var e=0;if(t)for(var n=0,r=t.length-1;n<t.length;n+=1,r-=1)e+=Math.pow(a,r)*(i.indexOf(t[n])+1);return e-=1}function u(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,o=[];for(t=0;t<n;t++){var i=[];for(e=0;e<r;e++)i.push(s(e)+(t+1));o.push(i)}return o}function c(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,o=[];for(t=0;t<n;t++){var i={};for(e=0;e<r;e++)i["prop".concat(e)]=s(e)+(t+1);o.push(i)}return o}function h(t,e){for(var n,r=[],o=0;o<t;o++){n=[];for(var i=0;i<e;i++)n.push("");r.push(n)}return r}function f(t){var e,n,r,o,i=[],a=0;for(e=0,n=t.length;e<n;e++)for(r=0,o=t[e].length;r<o;r++)r===a&&(i.push([]),a+=1),i[r].push(t[e][r]);return i}function d(t,e){var n="undefined"===typeof e||e;return function(e,i){return function e(i){if(i){if(Object(o.hasOwnProperty)(i,t)&&void 0!==i[t])return i[t];if(Object(o.hasOwnProperty)(i,"type")&&i.type){if("string"!==typeof i.type)throw new Error("Cell type must be a string ");var a=Object(r.a)(i.type);if(Object(o.hasOwnProperty)(a,t))return a[t];if(n)return}return e(Object.getPrototypeOf(i))}}("number"===typeof e?this.getCellMeta(e,i):e)}}},function(t,e,n){var r=n(58),o=n(98);t.exports=n(57)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(63);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r,o=n(2),i=n(93),a=n(53),s=n(3);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=(l(r={languageCode:"en-US"},s.CONTEXTMENU_ITEMS_NO_ITEMS,"No available options"),l(r,s.CONTEXTMENU_ITEMS_ROW_ABOVE,"Insert row above"),l(r,s.CONTEXTMENU_ITEMS_ROW_BELOW,"Insert row below"),l(r,s.CONTEXTMENU_ITEMS_INSERT_LEFT,"Insert column left"),l(r,s.CONTEXTMENU_ITEMS_INSERT_RIGHT,"Insert column right"),l(r,s.CONTEXTMENU_ITEMS_REMOVE_ROW,["Remove row","Remove rows"]),l(r,s.CONTEXTMENU_ITEMS_REMOVE_COLUMN,["Remove column","Remove columns"]),l(r,s.CONTEXTMENU_ITEMS_UNDO,"Undo"),l(r,s.CONTEXTMENU_ITEMS_REDO,"Redo"),l(r,s.CONTEXTMENU_ITEMS_READ_ONLY,"Read only"),l(r,s.CONTEXTMENU_ITEMS_CLEAR_COLUMN,"Clear column"),l(r,s.CONTEXTMENU_ITEMS_ALIGNMENT,"Alignment"),l(r,s.CONTEXTMENU_ITEMS_ALIGNMENT_LEFT,"Left"),l(r,s.CONTEXTMENU_ITEMS_ALIGNMENT_CENTER,"Center"),l(r,s.CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT,"Right"),l(r,s.CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY,"Justify"),l(r,s.CONTEXTMENU_ITEMS_ALIGNMENT_TOP,"Top"),l(r,s.CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE,"Middle"),l(r,s.CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM,"Bottom"),l(r,s.CONTEXTMENU_ITEMS_FREEZE_COLUMN,"Freeze column"),l(r,s.CONTEXTMENU_ITEMS_UNFREEZE_COLUMN,"Unfreeze column"),l(r,s.CONTEXTMENU_ITEMS_BORDERS,"Borders"),l(r,s.CONTEXTMENU_ITEMS_BORDERS_TOP,"Top"),l(r,s.CONTEXTMENU_ITEMS_BORDERS_RIGHT,"Right"),l(r,s.CONTEXTMENU_ITEMS_BORDERS_BOTTOM,"Bottom"),l(r,s.CONTEXTMENU_ITEMS_BORDERS_LEFT,"Left"),l(r,s.CONTEXTMENU_ITEMS_REMOVE_BORDERS,"Remove border(s)"),l(r,s.CONTEXTMENU_ITEMS_ADD_COMMENT,"Add comment"),l(r,s.CONTEXTMENU_ITEMS_EDIT_COMMENT,"Edit comment"),l(r,s.CONTEXTMENU_ITEMS_REMOVE_COMMENT,"Delete comment"),l(r,s.CONTEXTMENU_ITEMS_READ_ONLY_COMMENT,"Read-only comment"),l(r,s.CONTEXTMENU_ITEMS_MERGE_CELLS,"Merge cells"),l(r,s.CONTEXTMENU_ITEMS_UNMERGE_CELLS,"Unmerge cells"),l(r,s.CONTEXTMENU_ITEMS_COPY,"Copy"),l(r,s.CONTEXTMENU_ITEMS_CUT,"Cut"),l(r,s.CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD,"Insert child row"),l(r,s.CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD,"Detach from parent"),l(r,s.CONTEXTMENU_ITEMS_HIDE_COLUMN,["Hide column","Hide columns"]),l(r,s.CONTEXTMENU_ITEMS_SHOW_COLUMN,["Show column","Show columns"]),l(r,s.CONTEXTMENU_ITEMS_HIDE_ROW,["Hide row","Hide rows"]),l(r,s.CONTEXTMENU_ITEMS_SHOW_ROW,["Show row","Show rows"]),l(r,s.FILTERS_CONDITIONS_NONE,"None"),l(r,s.FILTERS_CONDITIONS_EMPTY,"Is empty"),l(r,s.FILTERS_CONDITIONS_NOT_EMPTY,"Is not empty"),l(r,s.FILTERS_CONDITIONS_EQUAL,"Is equal to"),l(r,s.FILTERS_CONDITIONS_NOT_EQUAL,"Is not equal to"),l(r,s.FILTERS_CONDITIONS_BEGINS_WITH,"Begins with"),l(r,s.FILTERS_CONDITIONS_ENDS_WITH,"Ends with"),l(r,s.FILTERS_CONDITIONS_CONTAINS,"Contains"),l(r,s.FILTERS_CONDITIONS_NOT_CONTAIN,"Does not contain"),l(r,s.FILTERS_CONDITIONS_GREATER_THAN,"Greater than"),l(r,s.FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL,"Greater than or equal to"),l(r,s.FILTERS_CONDITIONS_LESS_THAN,"Less than"),l(r,s.FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL,"Less than or equal to"),l(r,s.FILTERS_CONDITIONS_BETWEEN,"Is between"),l(r,s.FILTERS_CONDITIONS_NOT_BETWEEN,"Is not between"),l(r,s.FILTERS_CONDITIONS_AFTER,"After"),l(r,s.FILTERS_CONDITIONS_BEFORE,"Before"),l(r,s.FILTERS_CONDITIONS_TODAY,"Today"),l(r,s.FILTERS_CONDITIONS_TOMORROW,"Tomorrow"),l(r,s.FILTERS_CONDITIONS_YESTERDAY,"Yesterday"),l(r,s.FILTERS_VALUES_BLANK_CELLS,"Blank cells"),l(r,s.FILTERS_DIVS_FILTER_BY_CONDITION,"Filter by condition"),l(r,s.FILTERS_DIVS_FILTER_BY_VALUE,"Filter by value"),l(r,s.FILTERS_LABELS_CONJUNCTION,"And"),l(r,s.FILTERS_LABELS_DISJUNCTION,"Or"),l(r,s.FILTERS_BUTTONS_SELECT_ALL,"Select all"),l(r,s.FILTERS_BUTTONS_CLEAR,"Clear"),l(r,s.FILTERS_BUTTONS_OK,"OK"),l(r,s.FILTERS_BUTTONS_CANCEL,"Cancel"),l(r,s.FILTERS_BUTTONS_PLACEHOLDER_SEARCH,"Search"),l(r,s.FILTERS_BUTTONS_PLACEHOLDER_VALUE,"Value"),l(r,s.FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE,"Second value"),r);n.d(e,"e",function(){return m}),n.d(e,"b",function(){return v}),n.d(e,"d",function(){return y}),n.d(e,"c",function(){return b}),n.d(e,"a",function(){return c});var c=u.languageCode,h=Object(a.a)("languagesDictionaries"),f=h.register,d=h.getItem,p=h.hasItem,g=h.getValues;function m(t,e){var n=t,r=e;return Object(o.isObject)(t)&&(n=(r=t).languageCode),function(t,e){t!==c&&Object(i.b)(e,d(c))}(n,r),f(n,Object(o.deepClone)(r)),Object(o.deepClone)(r)}function v(t){return y(t)?Object(o.deepClone)(d(t)):null}function y(t){return p(t)}function b(){return g()}m(u)},function(t,e,n){var r=n(109),o=n(63);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(44),o=n(66),i=n(55),a=n(138),s=n(162),l=n(86),u=l.get,c=l.enforce,h=String(s).split("toString");n(100)("inspectSource",function(t){return s.call(t)}),(t.exports=function(t,e,n,s){var l=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),c(n).source=h.join("string"==typeof e?e:"")),t!==r?(l?!f&&t[e]&&(u=!0):delete t[e],u?t[e]=n:o(t,e,n)):u?t[e]=n:a(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&u(this).source||s.call(this)})},function(t,e,n){var r=n(49),o=n(104).onFreeze,i=Object.freeze,a=n(170),s=n(38)(function(){i(1)});n(28)({target:"Object",stat:!0,forced:s,sham:!a},{freeze:function(t){return i&&r(t)?i(o(t)):t}})},function(t,e,n){var r=n(67),o=n(91),i=n(38)(function(){o(1)});n(28)({target:"Object",stat:!0,forced:i},{keys:function(t){return o(r(t))}})},function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return u});n(30),n(7),n(6),n(81),n(8),n(9);var r=n(20),o=n(17),i=new r.a,a=new Set,s=0;function l(t){0===s&&(i.addEventListener(t,"keydown",function(t){a.has(t.keyCode)||a.add(t.keyCode)}),i.addEventListener(t,"keyup",function(t){a.has(t.keyCode)&&a.delete(t.keyCode)}),i.addEventListener(t,"visibilitychange",function(){t.hidden&&a.clear()}),i.addEventListener(t.defaultView,"blur",function(){a.clear()})),s+=1}function u(){s>0&&(s-=1),0===s&&(i.clearEvents(),a.clear(),s=0)}function c(){return Array.from(a.values()).some(function(t){return Object(o.isCtrlMetaKey)(t)})}},function(t,e,n){"use strict";t.exports=n(119)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},n(180),!0)},function(t,e,n){"use strict";var r=n(145),o=n(67),i=n(38),a=[].sort,s=[1,2,3],l=i(function(){s.sort(void 0)}),u=i(function(){s.sort(null)}),c=n(121)("sort"),h=l||!u||c;n(28)({target:"Array",proto:!0,forced:h},{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},function(t,e,n){"use strict";n.r(e),n.d(e,"instanceToHTML",function(){return i}),n.d(e,"_dataToHTML",function(){return a}),n.d(e,"htmlToGridSettings",function(){return l});n(10),n(11),n(12),n(25),n(54),n(235),n(30),n(41),n(7),n(61),n(43),n(6),n(26),n(47),n(8),n(51),n(9);var r=n(13);function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t){for(var e=t.hasColHeaders(),n=t.hasRowHeaders(),o=[e?-1:0,n?-1:0,t.countRows()-1,t.countCols()-1],i=t.getData.apply(t,o),a=i.length,s=a>0?i[0].length:0,l=["<table>","</table>"],u=e?["<thead>","</thead>"]:[],c=["<tbody>","</tbody>"],h=n?1:0,f=e?1:0,d=0;d<a;d+=1){for(var p=e&&0===d,g=[],m=0;m<s;m+=1){var v=!p&&n&&0===m,y="";if(p)y="<th>".concat(t.getColHeader(m-h),"</th>");else if(v)y="<th>".concat(t.getRowHeader(d-f),"</th>");else{var b=i[d][m],w=t.getCellMeta(d-h,m-f),C=w.hidden,O=w.rowspan,S=w.colspan;if(!C){var E=[];if(O&&E.push('rowspan="'.concat(O,'"')),S&&E.push('colspan="'.concat(S,'"')),Object(r.isEmpty)(b))y="<td ".concat(E.join(" "),"></td>");else{var k=b.toString().replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");y="<td ".concat(E.join(" "),">").concat(k,"</td>")}}}g.push(y)}var T=["<tr>"].concat(g,["</tr>"]).join("");p?u.splice(1,0,T):c.splice(-1,0,T)}return l.splice(1,0,u.join(""),c.join("")),l.join("")}function a(t){for(var e=t.length,n=["<table>"],o=0;o<e;o+=1){var i=t[o],a=i.length,s=[];0===o&&n.push("<tbody>");for(var l=0;l<a;l+=1){var u=i[l],c=Object(r.isEmpty)(u)?"":u.toString().replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");s.push("<td>".concat(c,"</td>"))}n.push.apply(n,["<tr>"].concat(s,["</tr>"])),o+1===e&&n.push("</tbody>")}return n.push("</table>"),n.join("")}function s(t,e){var n;return t.msMatchesSelector?n=t.msMatchesSelector(e):t.matches&&(n=t.matches(e)),n}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n={},r=e.createDocumentFragment(),i=e.createElement("div");r.appendChild(i);var a=t;if("string"===typeof a&&(i.insertAdjacentHTML("afterbegin","".concat(a)),a=i.querySelector("table")),a&&function(t){return"TABLE"===(t&&t.nodeName||"")}(a)){var l=i.querySelector("style"),u=null,c=[];l&&(e.body.appendChild(l),l.disabled=!0,u=l.sheet,c=u?Array.from(u.cssRules):[],e.body.removeChild(l));var h,f=i.querySelector('meta[name$="enerator"]'),d=null!==a.querySelector("tbody th"),p=Array.from(a.querySelector("tr").cells).reduce(function(t,e){return t+e.colSpan},0)-(d?1:0),g=a.tFoot&&Array.from(a.tFoot.rows)||[],m=[],v=!1,y=0;if(a.tHead){var b=Array.from(a.tHead.rows).filter(function(t){var e=null!==t.querySelector("td");return e&&m.push(t),!e});v=(y=b.length)>0,y>1?n.nestedHeaders=Array.from(b).reduce(function(t,e){var n=Array.from(e.cells).reduce(function(t,e,n){if(d&&0===n)return t;var r=e.colSpan,o=e.innerHTML,i=r>1?{label:o,colspan:r}:o;return t.push(i),t},[]);return t.push(n),t},[]):v&&(n.colHeaders=Array.from(b[0].children).reduce(function(t,e,n){return d&&0===n?t:(t.push(e.innerHTML),t)},[]))}m.length&&(n.fixedRowsTop=m.length),g.length&&(n.fixedRowsBottom=g.length);var w=[].concat(m,o(Array.from(a.tBodies).reduce(function(t,e){return t.push.apply(t,o(e.rows)),t},[])),o(g));h=w.length;for(var C=Array(h),O=0;O<h;O++)C[O]=Array(p);for(var S=[],E=[],k=0;k<h;k++)for(var T=w[k],R=Array.from(T.cells),x=R.length,M=function(t){var e=R[t],n=e.nodeName,r=e.innerHTML,o=e.rowSpan,i=e.colSpan,a=C[k].findIndex(function(t){return void 0===t});if("TD"===n){if(o>1||i>1){for(var l=k;l<k+o;l++)if(l<h)for(var u=a;u<a+i;u++)C[l][u]=null;var d=e.getAttribute("style");d&&d.includes("mso-ignore:colspan")||S.push({col:a,row:k,rowspan:o,colspan:i})}"nowrap"===c.reduce(function(t,n){if(n.selectorText&&s(e,n.selectorText)){var r=n.style.whiteSpace;r&&(t.whiteSpace=r)}return t},{}).whiteSpace?C[k][a]=r.replace(/[\r\n][\x20]{0,2}/gim," ").replace(/<br(\s*|\/)>/gim,"\r\n").replace(/(<([^>]+)>)/gi,"").replace(/&nbsp;/gi," "):f&&/excel/gi.test(f.content)?C[k][a]=r.replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,2}/gim,"\r\n").replace(/(<([^>]+)>)/gi,"").replace(/&nbsp;/gi," "):C[k][a]=r.replace(/<br(\s*|\/)>[\r\n]?/gim,"\r\n").replace(/(<([^>]+)>)/gi,"").replace(/&nbsp;/gi," ")}else E.push(r)},A=0;A<x;A++)M(A);return S.length&&(n.mergeCells=S),E.length&&(n.rowHeaders=E),C.length&&(n.data=C),n}}},function(t,e,n){"use strict";var r=n(53),o=n(33),i=n(39),a=n(50),s={editor:Object(o.a)("autocomplete"),renderer:Object(i.b)("autocomplete"),validator:Object(a.b)("autocomplete")},l={editor:Object(o.a)("checkbox"),renderer:Object(i.b)("checkbox")},u={editor:Object(o.a)("date"),renderer:Object(i.b)("autocomplete"),validator:Object(a.b)("date")},c={editor:Object(o.a)("dropdown"),renderer:Object(i.b)("autocomplete"),validator:Object(a.b)("autocomplete")},h={editor:Object(o.a)("handsontable"),renderer:Object(i.b)("autocomplete")},f={editor:Object(o.a)("numeric"),renderer:Object(i.b)("numeric"),validator:Object(a.b)("numeric"),dataType:"number"},d={editor:Object(o.a)("password"),renderer:Object(i.b)("password"),copyable:!1},p={editor:Object(o.a)("text"),renderer:Object(i.b)("text")},g={editor:Object(o.a)("text"),renderer:Object(i.b)("text"),validator:Object(a.b)("time")};n.d(e,"c",function(){return O}),n.d(e,"a",function(){return C}),n.d(e,"b",function(){return w});var m=Object(r.a)("cellTypes"),v=m.register,y=m.getItem,b=m.hasItem,w=m.getNames;m.getValues;function C(t){if(!b(t))throw Error('You declared cell type "'.concat(t,'" as a string that is not mapped to a known object.\n                 Cell type must be an object or a string mapped to an object registered by "Handsontable.cellTypes.registerCellType" method'));return y(t)}function O(t,e){var n=e.editor,r=e.renderer,s=e.validator;n&&Object(o.d)(t,n),r&&Object(i.c)(t,r),s&&Object(a.c)(t,s),v(t,e)}O("autocomplete",s),O("checkbox",l),O("date",u),O("dropdown",c),O("handsontable",h),O("numeric",f),O("password",d),O("text",p),O("time",g)},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(44),o=n(115),i=n(55),a=n(78),s=n(147),l=n(99),u=n(38),c=n(95).f,h=n(90).f,f=n(58).f,d=n(182),p=r.Number,g=p.prototype,m="Number"==a(n(102)(g)),v="trim"in String.prototype,y=function(t){var e,n,r,o,i,a,s,u,c=l(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=v?c.trim():d(c,3)).charCodeAt(0))||45===e){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+c}for(a=(i=c.slice(2)).length,s=0;s<a;s++)if((u=i.charCodeAt(s))<48||u>o)return NaN;return parseInt(i,r)}return+c};if(o("Number",!p(" 0o1")||!p("0b1")||p("+0x1"))){for(var b,w=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof w&&(m?u(function(){g.valueOf.call(n)}):"Number"!=a(n))?s(new p(y(e)),n,w):y(e)},C=n(57)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;C.length>O;O++)i(p,b=C[O])&&!i(w,b)&&f(w,b,h(p,b));w.prototype=g,g.constructor=w,n(70)(r,"Number",w)}},function(t,e,n){n(28)({target:"Number",stat:!0},{isInteger:n(232)})},function(t,e,n){"use strict";t.exports=n(119)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},n(180))},function(t,e,n){"use strict";n.r(e),n.d(e,"columnFactory",function(){return o});var r=n(2);function o(t,e){function n(){}Object(r.inherit)(n,t);for(var o=0,i=e.length;o<i;o++)n.prototype[e[o]]=void 0;return n}},function(t,e,n){!function(t){"use strict";function n(t){return t.split('"').length-1}var r=function(t){var e,r,o,i,a,s,l,u=[],c=0;for((o=t.replace(/\r\n|\r/g,"\n").split("\n")).length>1&&""===o[o.length-1]&&o.pop(),e=0,r=o.length;e<r;e+=1){for(o[e]=o[e].split("\t"),i=0,a=o[e].length;i<a;i+=1)u[c]||(u[c]=[]),s&&0===i?(l=u[c].length-1,u[c][l]=u[c][l]+"\n"+o[e][0],s&&1&n(o[e][0])&&(s=!1,u[c][l]=u[c][l].substring(0,u[c][l].length-1).replace(/""/g,'"'))):i===a-1&&0===o[e][i].indexOf('"')&&1&n(o[e][i])?(u[c].push(o[e][i].substring(1).replace(/""/g,'"')),s=!0):(u[c].push(o[e][i].replace(/""/g,'"')),s=!1);s||(c+=1)}return u},o=function(t){var e,n,r,o,i,a="";for(e=0,n=t.length;e<n;e+=1){for(o=t[e].length,r=0;r<o;r+=1)r>0&&(a+="\t"),"string"===typeof(i=t[e][r])?i.indexOf("\n")>-1?a+='"'+i.replace(/"/g,'""')+'"':a+=i:a+=null===i||void 0===i?"":i;e!==n-1&&(a+="\n")}return a};e.parse=r,e.stringify=o}(window)},function(t,e,n){var r;t.exports=function t(e,n,o){function i(s,l){if(!n[s]){if(!e[s]){var u="function"==typeof r&&r;if(!l&&u)return r(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return i(n||t)},h,h.exports,t,e,n,o)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){!function(t){"use strict";function n(t){var e=0|t;return t>0||t===e?e:e-1}function r(t){for(var e,n,r=1,o=t.length,i=t[0]+"";r<o;){for(e=t[r++]+"",n=w-e.length;n--;e="0"+e);i+=e}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function o(t,e){var n,r,o=t.c,i=e.c,a=t.s,s=e.s,l=t.e,u=e.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=l==u,!o||!i)return r?0:!o^n?1:-1;if(!r)return l>u^n?1:-1;for(s=(l=o.length)<(u=i.length)?l:u,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return l==u?0:l>u^n?1:-1}function i(t,e,n){return(t=c(t))>=e&&t<=n}function a(t){return"[object Array]"==Object.prototype.toString.call(t)}function s(t,e,n){for(var r,o,i=[0],a=0,s=t.length;a<s;){for(o=i.length;o--;i[o]*=e);for(i[r=0]+=y.indexOf(t.charAt(a++));r<i.length;r++)i[r]>n-1&&(null==i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function l(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function u(t,e){var n,r;if(e<0){for(r="0.";++e;r+="0");t=r+t}else if(n=t.length,++e>n){for(r="0",e-=n;--e;r+="0");t+=r}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}function c(t){return(t=parseFloat(t))<0?d(t):p(t)}var h,f=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,d=Math.ceil,p=Math.floor,g=" not a boolean or binary digit",m="rounding mode",v="number type has more than 15 significant digits",y="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",b=1e14,w=14,C=9007199254740991,O=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],S=1e7,E=1e9;(h=function t(e){function h(t,e){var n,r,o,i,a,s,l=this;if(!(l instanceof h))return U&&A(26,"constructor call without new",t),new h(t,e);if(null!=e&&z(e,2,64,I,"base")){if(s=t+"",10==(e|=0))return N(l=new h(t instanceof h?t:s),j+l.e+1,H);if((i="number"==typeof t)&&0*t!=0||!new RegExp("^-?"+(n="["+y.slice(0,e)+"]+")+"(?:\\."+n+")?$",e<37?"i":"").test(s))return P(l,s,i,e);i?(l.s=1/t<0?(s=s.slice(1),-1):1,U&&s.replace(/^0\.0*|\./,"").length>15&&A(I,v,t),i=!1):l.s=45===s.charCodeAt(0)?(s=s.slice(1),-1):1,s=k(s,10,e,l.s)}else{if(t instanceof h)return l.s=t.s,l.e=t.e,l.c=(t=t.c)?t.slice():t,void(I=0);if((i="number"==typeof t)&&0*t==0){if(l.s=1/t<0?(t=-t,-1):1,t===~~t){for(r=0,o=t;o>=10;o/=10,r++);return l.e=r,l.c=[t],void(I=0)}s=t+""}else{if(!f.test(s=t+""))return P(l,s,i);l.s=45===s.charCodeAt(0)?(s=s.slice(1),-1):1}}for((r=s.indexOf("."))>-1&&(s=s.replace(".","")),(o=s.search(/e/i))>0?(r<0&&(r=o),r+=+s.slice(o+1),s=s.substring(0,o)):r<0&&(r=s.length),o=0;48===s.charCodeAt(o);o++);for(a=s.length;48===s.charCodeAt(--a););if(s=s.slice(o,a+1))if(a=s.length,i&&U&&a>15&&(t>C||t!==p(t))&&A(I,v,l.s*t),(r=r-o-1)>V)l.c=l.e=null;else if(r<W)l.c=[l.e=0];else{if(l.e=r,l.c=[],o=(r+1)%w,r<0&&(o+=w),o<a){for(o&&l.c.push(+s.slice(0,o)),a-=w;o<a;)l.c.push(+s.slice(o,o+=w));s=s.slice(o),o=w-s.length}else o-=a;for(;o--;s+="0");l.c.push(+s)}else l.c=[l.e=0];I=0}function k(t,e,n,o){var i,a,l,c,f,d,p,g=t.indexOf("."),m=j,v=H;for(n<37&&(t=t.toLowerCase()),g>=0&&(l=X,X=0,t=t.replace(".",""),f=(p=new h(n)).pow(t.length-g),X=l,p.c=s(u(r(f.c),f.e),10,e),p.e=p.c.length),a=l=(d=s(t,n,e)).length;0==d[--l];d.pop());if(!d[0])return"0";if(g<0?--a:(f.c=d,f.e=a,f.s=o,d=(f=_(f,p,m,v,e)).c,c=f.r,a=f.e),g=d[i=a+m+1],l=e/2,c=c||i<0||null!=d[i+1],c=v<4?(null!=g||c)&&(0==v||v==(f.s<0?3:2)):g>l||g==l&&(4==v||c||6==v&&1&d[i-1]||v==(f.s<0?8:7)),i<1||!d[0])t=c?u("1",-m):"0";else{if(d.length=i,c)for(--e;++d[--i]>e;)d[i]=0,i||(++a,d=[1].concat(d));for(l=d.length;!d[--l];);for(g=0,t="";g<=l;t+=y.charAt(d[g++]));t=u(t,a)}return t}function T(t,e,n,o){var i,a,s,c,f;if(n=null!=n&&z(n,0,8,o,m)?0|n:H,!t.c)return t.toString();if(i=t.c[0],s=t.e,null==e)f=r(t.c),f=19==o||24==o&&s<=B?l(f,s):u(f,s);else if(t=N(new h(t),e,n),a=t.e,f=r(t.c),c=f.length,19==o||24==o&&(e<=a||a<=B)){for(;c<e;f+="0",c++);f=l(f,a)}else if(e-=s,f=u(f,a),a+1>c){if(--e>0)for(f+=".";e--;f+="0");}else if((e+=a-c)>0)for(a+1==c&&(f+=".");e--;f+="0");return t.s<0&&i?"-"+f:f}function R(t,e){var n,r,o=0;for(a(t[0])&&(t=t[0]),n=new h(t[0]);++o<t.length;){if(!(r=new h(t[o])).s){n=r;break}e.call(n,r)&&(n=r)}return n}function x(t,e,n,r,o){return(t<e||t>n||t!=c(t))&&A(r,(o||"decimal places")+(t<e||t>n?" out of range":" not an integer"),t),!0}function M(t,e,n){for(var r=1,o=e.length;!e[--o];e.pop());for(o=e[0];o>=10;o/=10,r++);return(n=r+n*w-1)>V?t.c=t.e=null:n<W?t.c=[t.e=0]:(t.e=n,t.c=e),t}function A(t,e,n){var r=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][t]+"() "+e+": "+n);throw r.name="BigNumber Error",I=0,r}function N(t,e,n,r){var o,i,a,s,l,u,c,h=t.c,f=O;if(h){t:{for(o=1,s=h[0];s>=10;s/=10,o++);if((i=e-o)<0)i+=w,a=e,c=(l=h[u=0])/f[o-a-1]%10|0;else if((u=d((i+1)/w))>=h.length){if(!r)break t;for(;h.length<=u;h.push(0));l=c=0,o=1,a=(i%=w)-w+1}else{for(l=s=h[u],o=1;s>=10;s/=10,o++);c=(a=(i%=w)-w+o)<0?0:l/f[o-a-1]%10|0}if(r=r||e<0||null!=h[u+1]||(a<0?l:l%f[o-a-1]),r=n<4?(c||r)&&(0==n||n==(t.s<0?3:2)):c>5||5==c&&(4==n||r||6==n&&(i>0?a>0?l/f[o-a]:0:h[u-1])%10&1||n==(t.s<0?8:7)),e<1||!h[0])return h.length=0,r?(e-=t.e+1,h[0]=f[(w-e%w)%w],t.e=-e||0):h[0]=t.e=0,t;if(0==i?(h.length=u,s=1,u--):(h.length=u+1,s=f[w-i],h[u]=a>0?p(l/f[o-a]%f[a])*s:0),r)for(;;){if(0==u){for(i=1,a=h[0];a>=10;a/=10,i++);for(a=h[0]+=s,s=1;a>=10;a/=10,s++);i!=s&&(t.e++,h[0]==b&&(h[0]=1));break}if(h[u]+=s,h[u]!=b)break;h[u--]=0,s=1}for(i=h.length;0===h[--i];h.pop());}t.e>V?t.c=t.e=null:t.e<W&&(t.c=[t.e=0])}return t}var _,P,I=0,D=h.prototype,L=new h(1),j=20,H=4,B=-7,F=21,W=-1e7,V=1e7,U=!0,z=x,Y=!1,G=1,X=0,K={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"\xa0",fractionGroupSize:0};return h.another=t,h.ROUND_UP=0,h.ROUND_DOWN=1,h.ROUND_CEIL=2,h.ROUND_FLOOR=3,h.ROUND_HALF_UP=4,h.ROUND_HALF_DOWN=5,h.ROUND_HALF_EVEN=6,h.ROUND_HALF_CEIL=7,h.ROUND_HALF_FLOOR=8,h.EUCLID=9,h.config=h.set=function(){var t,e,n=0,r={},o=arguments,s=o[0],l=s&&"object"==typeof s?function(){if(s.hasOwnProperty(e))return null!=(t=s[e])}:function(){if(o.length>n)return null!=(t=o[n++])};return l(e="DECIMAL_PLACES")&&z(t,0,E,2,e)&&(j=0|t),r[e]=j,l(e="ROUNDING_MODE")&&z(t,0,8,2,e)&&(H=0|t),r[e]=H,l(e="EXPONENTIAL_AT")&&(a(t)?z(t[0],-E,0,2,e)&&z(t[1],0,E,2,e)&&(B=0|t[0],F=0|t[1]):z(t,-E,E,2,e)&&(B=-(F=0|(t<0?-t:t)))),r[e]=[B,F],l(e="RANGE")&&(a(t)?z(t[0],-E,-1,2,e)&&z(t[1],1,E,2,e)&&(W=0|t[0],V=0|t[1]):z(t,-E,E,2,e)&&(0|t?W=-(V=0|(t<0?-t:t)):U&&A(2,e+" cannot be zero",t))),r[e]=[W,V],l(e="ERRORS")&&(t===!!t||1===t||0===t?(I=0,z=(U=!!t)?x:i):U&&A(2,e+g,t)),r[e]=U,l(e="CRYPTO")&&(!0===t||!1===t||1===t||0===t?t?!(t="undefined"==typeof crypto)&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?Y=!0:U?A(2,"crypto unavailable",t?void 0:crypto):Y=!1:Y=!1:U&&A(2,e+g,t)),r[e]=Y,l(e="MODULO_MODE")&&z(t,0,9,2,e)&&(G=0|t),r[e]=G,l(e="POW_PRECISION")&&z(t,0,E,2,e)&&(X=0|t),r[e]=X,l(e="FORMAT")&&("object"==typeof t?K=t:U&&A(2,e+" not an object",t)),r[e]=K,r},h.max=function(){return R(arguments,D.lt)},h.min=function(){return R(arguments,D.gt)},h.random=function(){var t=9007199254740992*Math.random()&2097151?function(){return p(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var n,r,o,i,a,s=0,l=[],u=new h(L);if(e=null!=e&&z(e,0,E,14)?0|e:j,i=d(e/w),Y)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(i*=2));s<i;)(a=131072*n[s]+(n[s+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),n[s]=r[0],n[s+1]=r[1]):(l.push(a%1e14),s+=2);s=i/2}else if(crypto.randomBytes){for(n=crypto.randomBytes(i*=7);s<i;)(a=281474976710656*(31&n[s])+1099511627776*n[s+1]+4294967296*n[s+2]+16777216*n[s+3]+(n[s+4]<<16)+(n[s+5]<<8)+n[s+6])>=9e15?crypto.randomBytes(7).copy(n,s):(l.push(a%1e14),s+=7);s=i/7}else Y=!1,U&&A(14,"crypto unavailable",crypto);if(!Y)for(;s<i;)(a=t())<9e15&&(l[s++]=a%1e14);for(i=l[--s],e%=w,i&&e&&(a=O[w-e],l[s]=p(i/a)*a);0===l[s];l.pop(),s--);if(s<0)l=[o=0];else{for(o=-1;0===l[0];l.splice(0,1),o-=w);for(s=1,a=l[0];a>=10;a/=10,s++);s<w&&(o-=w-s)}return u.e=o,u.c=l,u}}(),_=function(){function t(t,e,n){var r,o,i,a,s=0,l=t.length,u=e%S,c=e/S|0;for(t=t.slice();l--;)s=((o=u*(i=t[l]%S)+(r=c*i+(a=t[l]/S|0)*u)%S*S+s)/n|0)+(r/S|0)+c*a,t[l]=o%n;return s&&(t=[s].concat(t)),t}function e(t,e,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(t[o]!=e[o]){i=t[o]>e[o]?1:-1;break}return i}function r(t,e,n,r){for(var o=0;n--;)t[n]-=o,o=t[n]<e[n]?1:0,t[n]=o*r+t[n]-e[n];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(o,i,a,s,l){var u,c,f,d,g,m,v,y,C,O,S,E,k,T,R,x,M,A=o.s==i.s?1:-1,_=o.c,P=i.c;if(!(_&&_[0]&&P&&P[0]))return new h(o.s&&i.s&&(_?!P||_[0]!=P[0]:P)?_&&0==_[0]||!P?0*A:A/0:NaN);for(C=(y=new h(A)).c=[],A=a+(c=o.e-i.e)+1,l||(l=b,c=n(o.e/w)-n(i.e/w),A=A/w|0),f=0;P[f]==(_[f]||0);f++);if(P[f]>(_[f]||0)&&c--,A<0)C.push(1),d=!0;else{for(T=_.length,x=P.length,f=0,A+=2,(g=p(l/(P[0]+1)))>1&&(P=t(P,g,l),_=t(_,g,l),x=P.length,T=_.length),k=x,S=(O=_.slice(0,x)).length;S<x;O[S++]=0);M=P.slice(),M=[0].concat(M),R=P[0],P[1]>=l/2&&R++;do{if(g=0,(u=e(P,O,x,S))<0){if(E=O[0],x!=S&&(E=E*l+(O[1]||0)),(g=p(E/R))>1)for(g>=l&&(g=l-1),v=(m=t(P,g,l)).length,S=O.length;1==e(m,O,v,S);)g--,r(m,x<v?M:P,v,l),v=m.length,u=1;else 0==g&&(u=g=1),v=(m=P.slice()).length;if(v<S&&(m=[0].concat(m)),r(O,m,S,l),S=O.length,-1==u)for(;e(P,O,x,S)<1;)g++,r(O,x<S?M:P,S,l),S=O.length}else 0===u&&(g++,O=[0]);C[f++]=g,O[0]?O[S++]=_[k]||0:(O=[_[k]],S=1)}while((k++<T||null!=O[0])&&A--);d=null!=O[0],C[0]||C.splice(0,1)}if(l==b){for(f=1,A=C[0];A>=10;A/=10,f++);N(y,a+(y.e=f+c*w-1)+1,s,d)}else y.e=c,y.r=+d;return y}}(),P=function(){var t=/^(-?)0([xbo])(?=\w[\w.]*$)/i,e=/^([^.]+)\.$/,n=/^\.([^.]+)$/,r=/^-?(Infinity|NaN)$/,o=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(i,a,s,l){var u,c=s?a:a.replace(o,"");if(r.test(c))i.s=isNaN(c)?null:c<0?-1:1;else{if(!s&&(c=c.replace(t,function(t,e,n){return u="x"==(n=n.toLowerCase())?16:"b"==n?2:8,l&&l!=u?t:e}),l&&(u=l,c=c.replace(e,"$1").replace(n,"0.$1")),a!=c))return new h(c,u);U&&A(I,"not a"+(l?" base "+l:"")+" number",a),i.s=null}i.c=i.e=null,I=0}}(),D.absoluteValue=D.abs=function(){var t=new h(this);return t.s<0&&(t.s=1),t},D.ceil=function(){return N(new h(this),this.e+1,2)},D.comparedTo=D.cmp=function(t,e){return I=1,o(this,new h(t,e))},D.decimalPlaces=D.dp=function(){var t,e,r=this.c;if(!r)return null;if(t=((e=r.length-1)-n(this.e/w))*w,e=r[e])for(;e%10==0;e/=10,t--);return t<0&&(t=0),t},D.dividedBy=D.div=function(t,e){return I=3,_(this,new h(t,e),j,H)},D.dividedToIntegerBy=D.divToInt=function(t,e){return I=4,_(this,new h(t,e),0,1)},D.equals=D.eq=function(t,e){return I=5,0===o(this,new h(t,e))},D.floor=function(){return N(new h(this),this.e+1,3)},D.greaterThan=D.gt=function(t,e){return I=6,o(this,new h(t,e))>0},D.greaterThanOrEqualTo=D.gte=function(t,e){return I=7,1===(e=o(this,new h(t,e)))||0===e},D.isFinite=function(){return!!this.c},D.isInteger=D.isInt=function(){return!!this.c&&n(this.e/w)>this.c.length-2},D.isNaN=function(){return!this.s},D.isNegative=D.isNeg=function(){return this.s<0},D.isZero=function(){return!!this.c&&0==this.c[0]},D.lessThan=D.lt=function(t,e){return I=8,o(this,new h(t,e))<0},D.lessThanOrEqualTo=D.lte=function(t,e){return I=9,-1===(e=o(this,new h(t,e)))||0===e},D.minus=D.sub=function(t,e){var r,o,i,a,s=this,l=s.s;if(I=10,t=new h(t,e),e=t.s,!l||!e)return new h(NaN);if(l!=e)return t.s=-e,s.plus(t);var u=s.e/w,c=t.e/w,f=s.c,d=t.c;if(!u||!c){if(!f||!d)return f?(t.s=-e,t):new h(d?s:NaN);if(!f[0]||!d[0])return d[0]?(t.s=-e,t):new h(f[0]?s:3==H?-0:0)}if(u=n(u),c=n(c),f=f.slice(),l=u-c){for((a=l<0)?(l=-l,i=f):(c=u,i=d),i.reverse(),e=l;e--;i.push(0));i.reverse()}else for(o=(a=(l=f.length)<(e=d.length))?l:e,l=e=0;e<o;e++)if(f[e]!=d[e]){a=f[e]<d[e];break}if(a&&(i=f,f=d,d=i,t.s=-t.s),(e=(o=d.length)-(r=f.length))>0)for(;e--;f[r++]=0);for(e=b-1;o>l;){if(f[--o]<d[o]){for(r=o;r&&!f[--r];f[r]=e);--f[r],f[o]+=b}f[o]-=d[o]}for(;0==f[0];f.splice(0,1),--c);return f[0]?M(t,f,c):(t.s=3==H?-1:1,t.c=[t.e=0],t)},D.modulo=D.mod=function(t,e){var n,r,o=this;return I=11,t=new h(t,e),!o.c||!t.s||t.c&&!t.c[0]?new h(NaN):!t.c||o.c&&!o.c[0]?new h(o):(9==G?(r=t.s,t.s=1,n=_(o,t,0,3),t.s=r,n.s*=r):n=_(o,t,0,G),o.minus(n.times(t)))},D.negated=D.neg=function(){var t=new h(this);return t.s=-t.s||null,t},D.plus=D.add=function(t,e){var r,o=this,i=o.s;if(I=12,t=new h(t,e),e=t.s,!i||!e)return new h(NaN);if(i!=e)return t.s=-e,o.minus(t);var a=o.e/w,s=t.e/w,l=o.c,u=t.c;if(!a||!s){if(!l||!u)return new h(i/0);if(!l[0]||!u[0])return u[0]?t:new h(l[0]?o:0*i)}if(a=n(a),s=n(s),l=l.slice(),i=a-s){for(i>0?(s=a,r=u):(i=-i,r=l),r.reverse();i--;r.push(0));r.reverse()}for((i=l.length)-(e=u.length)<0&&(r=u,u=l,l=r,e=i),i=0;e;)i=(l[--e]=l[e]+u[e]+i)/b|0,l[e]=b===l[e]?0:l[e]%b;return i&&(l=[i].concat(l),++s),M(t,l,s)},D.precision=D.sd=function(t){var e,n,r=this,o=r.c;if(null!=t&&t!==!!t&&1!==t&&0!==t&&(U&&A(13,"argument"+g,t),t!=!!t&&(t=null)),!o)return null;if(n=o.length-1,e=n*w+1,n=o[n]){for(;n%10==0;n/=10,e--);for(n=o[0];n>=10;n/=10,e++);}return t&&r.e+1>e&&(e=r.e+1),e},D.round=function(t,e){var n=new h(this);return(null==t||z(t,0,E,15))&&N(n,~~t+this.e+1,null!=e&&z(e,0,8,15,m)?0|e:H),n},D.shift=function(t){var e=this;return z(t,-C,C,16,"argument")?e.times("1e"+c(t)):new h(e.c&&e.c[0]&&(t<-C||t>C)?e.s*(t<0?0:1/0):e)},D.squareRoot=D.sqrt=function(){var t,e,o,i,a,s=this,l=s.c,u=s.s,c=s.e,f=j+4,d=new h("0.5");if(1!==u||!l||!l[0])return new h(!u||u<0&&(!l||l[0])?NaN:l?s:1/0);if(0==(u=Math.sqrt(+s))||u==1/0?(((e=r(l)).length+c)%2==0&&(e+="0"),u=Math.sqrt(e),c=n((c+1)/2)-(c<0||c%2),o=new h(e=u==1/0?"1e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):o=new h(u+""),o.c[0])for((u=(c=o.e)+f)<3&&(u=0);;)if(a=o,o=d.times(a.plus(_(s,a,f,1))),r(a.c).slice(0,u)===(e=r(o.c)).slice(0,u)){if(o.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(N(o,o.e+j+2,1),t=!o.times(o).eq(s));break}if(!i&&(N(a,a.e+j+2,0),a.times(a).eq(s))){o=a;break}f+=4,u+=4,i=1}return N(o,o.e+j+1,H,t)},D.times=D.mul=function(t,e){var r,o,i,a,s,l,u,c,f,d,p,g,m,v,y,C=this,O=C.c,E=(I=17,t=new h(t,e)).c;if(!(O&&E&&O[0]&&E[0]))return!C.s||!t.s||O&&!O[0]&&!E||E&&!E[0]&&!O?t.c=t.e=t.s=null:(t.s*=C.s,O&&E?(t.c=[0],t.e=0):t.c=t.e=null),t;for(o=n(C.e/w)+n(t.e/w),t.s*=C.s,(u=O.length)<(d=E.length)&&(m=O,O=E,E=m,i=u,u=d,d=i),i=u+d,m=[];i--;m.push(0));for(v=b,y=S,i=d;--i>=0;){for(r=0,p=E[i]%y,g=E[i]/y|0,a=i+(s=u);a>i;)r=((c=p*(c=O[--s]%y)+(l=g*c+(f=O[s]/y|0)*p)%y*y+m[a]+r)/v|0)+(l/y|0)+g*f,m[a--]=c%v;m[a]=r}return r?++o:m.splice(0,1),M(t,m,o)},D.toDigits=function(t,e){var n=new h(this);return t=null!=t&&z(t,1,E,18,"precision")?0|t:null,e=null!=e&&z(e,0,8,18,m)?0|e:H,t?N(n,t,e):n},D.toExponential=function(t,e){return T(this,null!=t&&z(t,0,E,19)?1+~~t:null,e,19)},D.toFixed=function(t,e){return T(this,null!=t&&z(t,0,E,20)?~~t+this.e+1:null,e,20)},D.toFormat=function(t,e){var n=T(this,null!=t&&z(t,0,E,21)?~~t+this.e+1:null,e,21);if(this.c){var r,o=n.split("."),i=+K.groupSize,a=+K.secondaryGroupSize,s=K.groupSeparator,l=o[0],u=o[1],c=this.s<0,h=c?l.slice(1):l,f=h.length;if(a&&(r=i,i=a,a=r,f-=r),i>0&&f>0){for(r=f%i||i,l=h.substr(0,r);r<f;r+=i)l+=s+h.substr(r,i);a>0&&(l+=s+h.slice(r)),c&&(l="-"+l)}n=u?l+K.decimalSeparator+((a=+K.fractionGroupSize)?u.replace(new RegExp("\\d{"+a+"}\\B","g"),"$&"+K.fractionGroupSeparator):u):l}return n},D.toFraction=function(t){var e,n,o,i,a,s,l,u,c,f=U,d=this,p=d.c,g=new h(L),m=n=new h(L),v=l=new h(L);if(null!=t&&(U=!1,s=new h(t),U=f,(f=s.isInt())&&!s.lt(L)||(U&&A(22,"max denominator "+(f?"out of range":"not an integer"),t),t=!f&&s.c&&N(s,s.e+1,1).gte(L)?s:null)),!p)return d.toString();for(c=r(p),i=g.e=c.length-d.e-1,g.c[0]=O[(a=i%w)<0?w+a:a],t=!t||s.cmp(g)>0?i>0?g:m:s,a=V,V=1/0,s=new h(c),l.c[0]=0;u=_(s,g,0,1),1!=(o=n.plus(u.times(v))).cmp(t);)n=v,v=o,m=l.plus(u.times(o=m)),l=o,g=s.minus(u.times(o=g)),s=o;return o=_(t.minus(n),v,0,1),l=l.plus(o.times(m)),n=n.plus(o.times(v)),l.s=m.s=d.s,e=_(m,v,i*=2,H).minus(d).abs().cmp(_(l,n,i,H).minus(d).abs())<1?[m.toString(),v.toString()]:[l.toString(),n.toString()],V=a,e},D.toNumber=function(){return+this},D.toPower=D.pow=function(t,e){var n,r,o,i=p(t<0?-t:+t),a=this;if(null!=e&&(I=23,e=new h(e)),!z(t,-C,C,23,"exponent")&&(!isFinite(t)||i>C&&(t/=0)||parseFloat(t)!=t&&!(t=NaN))||0==t)return n=Math.pow(+a,t),new h(e?n%e:n);for(e?t>1&&a.gt(L)&&a.isInt()&&e.gt(L)&&e.isInt()?a=a.mod(e):(o=e,e=null):X&&(n=d(X/w+2)),r=new h(L);;){if(i%2){if(!(r=r.times(a)).c)break;n?r.c.length>n&&(r.c.length=n):e&&(r=r.mod(e))}if(!(i=p(i/2)))break;a=a.times(a),n?a.c&&a.c.length>n&&(a.c.length=n):e&&(a=a.mod(e))}return e?r:(t<0&&(r=L.div(r)),o?r.mod(o):n?N(r,X,H):r)},D.toPrecision=function(t,e){return T(this,null!=t&&z(t,1,E,24,"precision")?0|t:null,e,24)},D.toString=function(t){var e,n=this,o=n.s,i=n.e;return null===i?o?(e="Infinity",o<0&&(e="-"+e)):e="NaN":(e=r(n.c),e=null!=t&&z(t,2,64,25,"base")?k(u(e,i),0|t,10,o):i<=B||i>=F?l(e,i):u(e,i),o<0&&n.c[0]&&(e="-"+e)),e},D.truncated=D.trunc=function(){return N(new h(this),this.e+1,1)},D.valueOf=D.toJSON=function(){var t,e=this,n=e.e;return null===n?e.toString():(t=r(e.c),t=n<=B||n>=F?l(t,n):u(t,n),e.s<0?"-"+t:t)},D.isBigNumber=!0,null!=e&&h.config(e),h}()).default=h.BigNumber=h,void 0!==e&&e.exports?e.exports=h:(t||(t="undefined"!=typeof self?self:Function("return this")()),t.BigNumber=h)}(this)},{}],2:[function(t,e,n){"use strict";e.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if("string"==typeof e&&(e=g.parseFormat(e)),!p.validateFormat(e))return"ERROR: invalid format";var r=e.prefix||"",i=e.postfix||"",a=function(t,e,n){switch(e.output){case"currency":return e=h(e,d.currentCurrencyDefaultFormat()),function(t,e,n){var r=n.currentCurrency(),o=Object.assign({},y,e),i=void 0,a="",s=!!o.totalLength||!!o.forceAverage||o.average,l=e.currencyPosition||r.position,u=e.currencySymbol||r.symbol;o.spaceSeparated&&(a=" "),"infix"===l&&(i=a+u+a);var h=c({instance:t,providedFormat:e,state:n,decimalSeparator:i});return"prefix"===l&&(h=t._value<0&&"sign"===o.negative?"-"+a+u+h.slice(1):u+a+h),l&&"postfix"!==l||(h=h+(a=s?"":a)+u),h}(t,e,d);case"percent":return e=h(e,d.currentPercentageDefaultFormat()),function(t,e,n,r){var o=e.prefixSymbol,i=c({instance:r(100*t._value),providedFormat:e,state:n}),a=Object.assign({},y,e);return o?"%"+(a.spaceSeparated?" ":"")+i:i+(a.spaceSeparated?" ":"")+"%"}(t,e,d,n);case"byte":return e=h(e,d.currentByteDefaultFormat()),function(t,e,n,r){var i=e.base||"binary",a=v[i],s=o(t._value,a.suffixes,a.scale),l=s.value,u=s.suffix;return c({instance:r(l),providedFormat:e,state:n,defaults:n.currentByteDefaultFormat()})+(n.currentAbbreviations().spaced?" ":"")+u}(t,e,d,n);case"time":return e=h(e,d.currentTimeDefaultFormat()),function(t){var e=Math.floor(t._value/60/60),n=Math.floor((t._value-60*e*60)/60),r=Math.round(t._value-60*e*60-60*n);return e+":"+(n<10?"0":"")+n+":"+(r<10?"0":"")+r}(t);case"ordinal":return e=h(e,d.currentOrdinalDefaultFormat()),function(t,e,n){var r=n.currentOrdinal(),o=Object.assign({},y,e),i=c({instance:t,providedFormat:e,state:n}),a=r(t._value);return i+(o.spaceSeparated?" ":"")+a}(t,e,d);case"number":default:return c({instance:t,providedFormat:e,numbro:n})}}(t,e,n);return a=function(t,e){return t+e}(a=function(t,e){return e+t}(a,r),i)}function o(t,e,n){var r=e[0],o=Math.abs(t);if(o>=n){for(var i=1;i<e.length;++i){var a=Math.pow(n,i),s=Math.pow(n,i+1);if(o>=a&&o<s){r=e[i],t/=a;break}}r===e[0]&&(t/=Math.pow(n,e.length-1),r=e[e.length-1])}return{value:t,suffix:r}}function i(t){var e=t.value,n=t.characteristicPrecision,r=void 0===n?0:n,o=e.toExponential().split("e"),i=f(o,2),a=i[0],s=i[1],l=+a;return r?(1<r&&(l*=Math.pow(10,r-1),s=(s=+s-(r-1))>=0?"+"+s:s),{value:l,abbreviation:"e"+s}):{value:l,abbreviation:"e"+s}}function a(t){for(var e="",n=0;n<t;n++)e+="0";return e}function s(t,e){return-1!==t.toString().indexOf("e")?function(t,e){var n=t.toString(),r=n.split("e"),o=f(r,2),i=o[0],s=o[1],l=i.split("."),u=f(l,2),c=u[0],h=u[1],d=void 0===h?"":h;if(+s>0)n=c+d+a(s-d.length);else{var p=".";p=+c<0?"-0"+p:"0"+p;var g=(a(-s-1)+Math.abs(c)+d).substr(0,e);g.length<e&&(g+=a(e-g.length)),n=p+g}return+s>0&&e>0&&(n+="."+a(e)),n}(t,e):(Math.round(+(t+"e+"+e))/Math.pow(10,e)).toFixed(e)}function l(t,e,n,r,o){if(-1===r)return t;var i=s(e,r),a=i.toString().split("."),l=f(a,2),u=l[0],c=l[1],h=void 0===c?"":c;if(h.match(/^0+$/)&&(n||o))return u;var d=h.match(/0+$/);return o&&d?u+"."+h.toString().slice(0,d.index):i.toString()}function u(t,e,n,r){var o=t,i=o.toString().split("."),a=f(i,2),s=a[0],l=a[1];if(s.match(/^-?0$/)&&n)return l?s.replace("0","")+"."+l:s.replace("0","");if(s.length<r)for(var u=r-s.length,c=0;c<u;c++)o="0"+o;return o.toString()}function c(t){var e=t.instance,n=t.providedFormat,r=t.state,o=void 0===r?d:r,a=t.decimalSeparator,s=t.defaults,c=void 0===s?o.currentDefaults():s,h=e._value;if(0===h&&o.hasZeroFormat())return o.getZeroFormat();if(!isFinite(h))return h.toString();var f=Object.assign({},y,c,n),p=f.totalLength,g=p?0:f.characteristic,m=f.optionalCharacteristic,v=f.forceAverage,b=!!p||!!v||f.average,w=p?-1:b&&void 0===n.mantissa?0:f.mantissa,C=!p&&(void 0===n.optionalMantissa?-1===w:f.optionalMantissa),O=f.trimMantissa,S=f.thousandSeparated,E=f.spaceSeparated,k=f.negative,T=f.forceSign,R=f.exponential,x="";if(b){var M=function(t){var e=t.value,n=t.forceAverage,r=t.abbreviations,o=t.spaceSeparated,i=void 0!==o&&o,a=t.totalLength,s=void 0===a?0:a,l="",u=Math.abs(e),c=-1;u>=Math.pow(10,12)&&!n||"trillion"===n?(l=r.trillion,e/=Math.pow(10,12)):u<Math.pow(10,12)&&u>=Math.pow(10,9)&&!n||"billion"===n?(l=r.billion,e/=Math.pow(10,9)):u<Math.pow(10,9)&&u>=Math.pow(10,6)&&!n||"million"===n?(l=r.million,e/=Math.pow(10,6)):(u<Math.pow(10,6)&&u>=Math.pow(10,3)&&!n||"thousand"===n)&&(l=r.thousand,e/=Math.pow(10,3));var h=i?" ":"";if(l&&(l=h+l),s){var f=e.toString().split(".")[0];c=Math.max(s-f.length,0)}return{value:e,abbreviation:l,mantissaPrecision:c}}({value:h,forceAverage:v,abbreviations:o.currentAbbreviations(),spaceSeparated:E,totalLength:p});h=M.value,x+=M.abbreviation,p&&(w=M.mantissaPrecision)}if(R){var A=i({value:h,characteristicPrecision:g});h=A.value,x=A.abbreviation+x}var N=l(h.toString(),h,C,w,O);return N=function(t,e,n,r,o){var i=r.currentDelimiters(),a=i.thousands;o=o||i.decimal;var s=i.thousandsSize||3,l=t.toString(),u=l.split(".")[0],c=l.split(".")[1];return n&&(e<0&&(u=u.slice(1)),function(t,e){for(var n=[],r=0,o=t;o>0;o--)r===e&&(n.unshift(o),r=0),r++;return n}(u.length,s).forEach(function(t,e){u=u.slice(0,t+e)+a+u.slice(t+e)}),e<0&&(u="-"+u)),c?u+o+c:u}(N=u(N,0,m,g),h,S,o,a),(b||R)&&(N=function(t,e){return t+e}(N,x)),(T||h<0)&&(N=function(t,e,n){return 0===e?t:0==+t?t.replace("-",""):e>0?"+"+t:"sign"===n?t:"("+t.replace("-","")+")"}(N,h,k)),N}function h(t,e){if(!t)return e;var n=Object.keys(t);return 1===n.length&&"output"===n[0]?e:t}var f=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},d=t("./globalState"),p=t("./validating"),g=t("./parsing"),m=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],v={general:{scale:1024,suffixes:m,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:m,marker:"d"}},y={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};e.exports=function(t){return{format:function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return r.apply(void 0,n.concat([t]))},getByteUnit:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(t){var e=v.general;return o(t._value,e.suffixes,e.scale).suffix}.apply(void 0,n.concat([t]))},getBinaryByteUnit:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(t){var e=v.binary;return o(t._value,e.suffixes,e.scale).suffix}.apply(void 0,n.concat([t]))},getDecimalByteUnit:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(t){var e=v.decimal;return o(t._value,e.suffixes,e.scale).suffix}.apply(void 0,n.concat([t]))},formatOrDefault:h}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(t,e,n){"use strict";function r(t){u=t}function o(){return c[u]}var i=t("./en-US"),a=t("./validating"),s=t("./parsing"),l={},u=void 0,c={},h=null,f={};l.languages=function(){return Object.assign({},c)},l.currentLanguage=function(){return u},l.currentCurrency=function(){return o().currency},l.currentAbbreviations=function(){return o().abbreviations},l.currentDelimiters=function(){return o().delimiters},l.currentOrdinal=function(){return o().ordinal},l.currentDefaults=function(){return Object.assign({},o().defaults,f)},l.currentOrdinalDefaultFormat=function(){return Object.assign({},l.currentDefaults(),o().ordinalFormat)},l.currentByteDefaultFormat=function(){return Object.assign({},l.currentDefaults(),o().byteFormat)},l.currentPercentageDefaultFormat=function(){return Object.assign({},l.currentDefaults(),o().percentageFormat)},l.currentCurrencyDefaultFormat=function(){return Object.assign({},l.currentDefaults(),o().currencyFormat)},l.currentTimeDefaultFormat=function(){return Object.assign({},l.currentDefaults(),o().timeFormat)},l.setDefaults=function(t){t=s.parseFormat(t),a.validateFormat(t)&&(f=t)},l.getZeroFormat=function(){return h},l.setZeroFormat=function(t){return h="string"==typeof t?t:null},l.hasZeroFormat=function(){return null!==h},l.languageData=function(t){if(t){if(c[t])return c[t];throw new Error('Unknown tag "'+t+'"')}return o()},l.registerLanguage=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!a.validateLanguage(t))throw new Error("Invalid language data");c[t.languageTag]=t,e&&r(t.languageTag)},l.setLanguage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.languageTag;if(!c[t]){var n=t.split("-")[0],o=Object.keys(c).find(function(t){return t.split("-")[0]===n});return c[o]?void r(o):void r(e)}r(t)},l.registerLanguage(i),u=i.languageTag,e.exports=l},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(t,e,n){"use strict";function r(e,n){e.forEach(function(e){var r=void 0;try{r=t("../languages/"+e)}catch(t){console.error('Unable to load "'+e+'". No matching language file found.')}r&&n.registerLanguage(r)})}e.exports=function(t){return{loadLanguagesInNode:function(e){return r(e,t)}}}},{}],6:[function(t,e,n){"use strict";function r(t,e,n){var r=new o(t._value),i=e;return n.isNumbro(e)&&(i=e._value),i=new o(i),t._value=r.minus(i).toNumber(),t}var o=t("bignumber.js");e.exports=function(t){return{add:function(e,n){return function(t,e,n){var r=new o(t._value),i=e;return n.isNumbro(e)&&(i=e._value),i=new o(i),t._value=r.add(i).toNumber(),t}(e,n,t)},subtract:function(e,n){return r(e,n,t)},multiply:function(e,n){return function(t,e,n){var r=new o(t._value),i=e;return n.isNumbro(e)&&(i=e._value),i=new o(i),t._value=r.times(i).toNumber(),t}(e,n,t)},divide:function(e,n){return function(t,e,n){var r=new o(t._value),i=e;return n.isNumbro(e)&&(i=e._value),i=new o(i),t._value=r.dividedBy(i).toNumber(),t}(e,n,t)},set:function(e,n){return function(t,e,n){var r=e;return n.isNumbro(e)&&(r=e._value),t._value=r,t}(e,n,t)},difference:function(e,n){return function(t,e,n){var o=n(t._value);return r(o,e,n),Math.abs(o._value)}(e,n,t)}}}},{"bignumber.js":1}],7:[function(t,e,n){"use strict";function r(t){var e=t;return o.isNumbro(t)?e=t._value:"string"==typeof t?e=o.unformat(t):isNaN(t)&&(e=NaN),e}function o(t){return new d(r(t))}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./globalState"),s=t("./validating"),l=t("./loading")(o),u=t("./unformatting"),c=t("./formatting")(o),h=t("./manipulating")(o),f=t("./parsing"),d=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._value=e}return i(t,[{key:"clone",value:function(){return o(this._value)}},{key:"format",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.format(this,t)}},{key:"formatCurrency",value:function(t){return"string"==typeof t&&(t=f.parseFormat(t)),(t=c.formatOrDefault(t,a.currentCurrencyDefaultFormat())).output="currency",c.format(this,t)}},{key:"formatTime",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.output="time",c.format(this,t)}},{key:"binaryByteUnits",value:function(){return c.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return c.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return c.getByteUnit(this)}},{key:"difference",value:function(t){return h.difference(this,t)}},{key:"add",value:function(t){return h.add(this,t)}},{key:"subtract",value:function(t){return h.subtract(this,t)}},{key:"multiply",value:function(t){return h.multiply(this,t)}},{key:"divide",value:function(t){return h.divide(this,t)}},{key:"set",value:function(t){return h.set(this,r(t))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}]),t}();o.version="2.1.1",o.isNumbro=function(t){return t instanceof d},o.language=a.currentLanguage,o.registerLanguage=a.registerLanguage,o.setLanguage=a.setLanguage,o.languages=a.languages,o.languageData=a.languageData,o.zeroFormat=a.setZeroFormat,o.defaultFormat=a.currentDefaults,o.setDefaults=a.setDefaults,o.defaultCurrencyFormat=a.currentCurrencyDefaultFormat,o.validate=s.validate,o.loadLanguagesInNode=l.loadLanguagesInNode,o.unformat=u.unformat,e.exports=o},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(t,e,n){"use strict";e.exports={parseFormat:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"!=typeof t?t:(function(t,e){if(-1===t.indexOf("$")){if(-1===t.indexOf("%"))return-1!==t.indexOf("bd")?(e.output="byte",void(e.base="general")):-1!==t.indexOf("b")?(e.output="byte",void(e.base="binary")):-1!==t.indexOf("d")?(e.output="byte",void(e.base="decimal")):void(-1===t.indexOf(":")?-1!==t.indexOf("o")&&(e.output="ordinal"):e.output="time");e.output="percent"}else e.output="currency"}(t=function(t,e){var n=t.match(/{([^}]*)}$/);return n?(e.postfix=n[1],t.slice(0,-n[0].length)):t}(t=function(t,e){var n=t.match(/^{([^}]*)}/);return n?(e.prefix=n[1],t.slice(n[0].length)):t}(t,e),e),e),function(t,e){var n=t.match(/[1-9]+[0-9]*/);n&&(e.totalLength=+n[0])}(t,e),function(t,e){var n=t.split(".")[0].match(/0+/);n&&(e.characteristic=n[0].length)}(t,e),function(t,e){if(-1!==t.indexOf(".")){var n=t.split(".")[0];e.optionalCharacteristic=-1===n.indexOf("0")}}(t,e),function(t,e){-1!==t.indexOf("a")&&(e.average=!0)}(t,e),function(t,e){-1!==t.indexOf("K")?e.forceAverage="thousand":-1!==t.indexOf("M")?e.forceAverage="million":-1!==t.indexOf("B")?e.forceAverage="billion":-1!==t.indexOf("T")&&(e.forceAverage="trillion")}(t,e),function(t,e){var n=t.split(".")[1];if(n){var r=n.match(/0+/);r&&(e.mantissa=r[0].length)}}(t,e),function(t,e){t.match(/\[\.]/)?e.optionalMantissa=!0:t.match(/\./)&&(e.optionalMantissa=!1)}(t,e),function(t,e){-1!==t.indexOf(",")&&(e.thousandSeparated=!0)}(t,e),function(t,e){-1!==t.indexOf(" ")&&(e.spaceSeparated=!0)}(t,e),function(t,e){t.match(/^\+?\([^)]*\)$/)&&(e.negative="parenthesis"),t.match(/^\+?-/)&&(e.negative="sign")}(t,e),function(t,e){t.match(/^\+/)&&(e.forceSign=!0)}(t,e),e)}}},{}],9:[function(t,e,n){"use strict";function r(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments[3],a=arguments[4],l=arguments[5],u=arguments[6];if(!isNaN(+t))return+t;var c="",h=t.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(h!==t)return-1*o(h,e,n,i,a,l,u);for(var f=0;f<s.length;f++){var d=s[f];if((c=t.replace(d.key,""))!==t)return o(c,e,n,i,a,l,u)*d.factor}if((c=t.replace("%",""))!==t)return o(c,e,n,i,a,l,u)/100;var p=parseFloat(t);if(!isNaN(p)){var g=i(p);if(g&&"."!==g&&(c=t.replace(new RegExp(r(g)+"$"),""))!==t)return o(c,e,n,i,a,l,u);var m={};Object.keys(l).forEach(function(t){m[l[t]]=t});for(var v=Object.keys(m).sort().reverse(),y=v.length,b=0;b<y;b++){var w=v[b],C=m[w];if((c=t.replace(w,""))!==t){var O=void 0;switch(C){case"thousand":O=Math.pow(10,3);break;case"million":O=Math.pow(10,6);break;case"billion":O=Math.pow(10,9);break;case"trillion":O=Math.pow(10,12)}return o(c,e,n,i,a,l,u)*O}}}}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=t.replace(n,"");return o=(o=o.replace(new RegExp("([0-9])"+r(e.thousands)+"([0-9])","g"),"$1$2")).replace(e.decimal,".")}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments[3],a=arguments[4],s=arguments[5],l=arguments[6];if(""!==t)return isNaN(+t)?t===a?0:o(i(t,e,n),e,n,r,a,s,l):+t}var s=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];e.exports={unformat:function(e,n){var r=t("./globalState"),o=r.currentDelimiters(),i=r.currentCurrency().symbol,s=r.currentOrdinal(),l=r.getZeroFormat(),u=r.currentAbbreviations(),c=void 0;if("string"==typeof e)c=function(t,e){if(!t.indexOf(":")||":"===e.thousands)return!1;var n=t.split(":");if(3!==n.length)return!1;var r=+n[0],o=+n[1],i=+n[2];return!isNaN(r)&&!isNaN(o)&&!isNaN(i)}(e,o)?function(t){var e=t.split(":"),n=+e[0],r=+e[1];return+e[2]+60*r+3600*n}(e):a(e,o,i,s,l,u,n);else{if("number"!=typeof e)return;c=e}if(void 0!==c)return c}}},{"./globalState":4}],10:[function(t,e,n){"use strict";function r(t){return!!s.unformat(t)}function o(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Object.keys(t).map(function(r){if(!e[r])return console.error(n+" Invalid key: "+r),!1;var i=t[r],s=e[r];if("string"==typeof s&&(s={type:s}),"format"===s.type){if(!o(i,u,"[Validate "+r+"]",!0))return!1}else if((void 0===i?"undefined":a(i))!==s.type)return console.error(n+" "+r+' type mismatched: "'+s.type+'" expected, "'+(void 0===i?"undefined":a(i))+'" provided'),!1;if(s.restrictions&&s.restrictions.length)for(var l=s.restrictions.length,c=0;c<l;c++){var h=s.restrictions[c],f=h.restriction,d=h.message;if(!f(i,t))return console.error(n+" "+r+" invalid value: "+d),!1}return s.restriction&&!s.restriction(i,t)?(console.error(n+" "+r+" invalid value: "+s.message),!1):s.validValues&&-1===s.validValues.indexOf(i)?(console.error(n+" "+r+" invalid value: must be among "+JSON.stringify(s.validValues)+', "'+i+'" provided'),!1):!(s.children&&!o(i,s.children,"[Validate "+r+"]"))});return r||i.push.apply(i,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(Object.keys(e).map(function(r){var o=e[r];if("string"==typeof o&&(o={type:o}),o.mandatory){var i=o.mandatory;if("function"==typeof i&&(i=i(t)),i&&void 0===t[r])return console.error(n+' Missing mandatory key "'+r+'"'),!1}return!0}))),i.reduce(function(t,e){return t&&e},!0)}function i(t){return o(t,u,"[Validate format]")}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=t("./unformatting"),l=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,u={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(t,e){return"byte"===e.output},message:"`base` must be provided only when the output is `byte`",mandatory:function(t){return"byte"===t.output}},characteristic:{type:"number",restriction:function(t){return t>=0},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(t){return t>=0},message:"value must be positive"},{restriction:function(t,e){return!e.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(t){return t>=0},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(t,e){return"percent"===e.output},message:"`prefixSymbol` can be provided only when the output is `percent`"}},c={languageTag:{type:"string",mandatory:!0,restriction:function(t){return t.match(l)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};e.exports={validate:function(t,e){var n=r(t),o=i(e);return n&&o},validateFormat:i,validateInput:r,validateLanguage:function(t){return o(t,c,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r,o,i,a=n(163),s=n(49),l=n(66),u=n(55),c=n(112),h=n(96),f=n(44).WeakMap;if(a){var d=new f,p=d.get,g=d.has,m=d.set;r=function(t,e){return m.call(d,t,e),e},o=function(t){return p.call(d,t)||{}},i=function(t){return g.call(d,t)}}else{var v=c("state");h[v]=!0,r=function(t,e){return l(t,v,e),e},o=function(t){return u(t,v)?t[v]:{}},i=function(t){return u(t,v)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!s(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){"use strict";(function(t,r){n.d(e,"a",function(){return B});n(10),n(11),n(12),n(25),n(30),n(22),n(7),n(75),n(43),n(79),n(80),n(6),n(26),n(8),n(51),n(9),n(233);var o=n(0),i=n(82),a=n(29),s=n(31),l=n(13),u=n(42),c=n(203),h=n(197),f=n(20),d=n(2),p=n(1),g=n(76),m=n(15),v=n(39),y=n(50),b=n(37),w=n(4),C=n(198),O=n(199),S=n(65),E=n(64),k=n(88),T=n(5),R=n(16),x=n(130),M=n(77),A=n(132),N=n(68),_=n(93),P=n(73),I=n(89);function D(t){return(D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var H=null;function B(e,n){var B,F,W,V,U,z=this,Y=arguments.length>2&&void 0!==arguments[2]&&arguments[2],G=!1,X=this,K=function(){},q=new f.a(X);Object(d.extend)(K.prototype,x.a.prototype),Object(d.extend)(K.prototype,n),Object(d.extend)(K.prototype,ot(n)),Object(_.a)(K.prototype,n.language),Object(k.a)(Y)&&Object(k.c)(this),this.rootElement=e,this.rootDocument=e.ownerDocument,this.rootWindow=this.rootDocument.defaultView,Object(P.b)(this.rootDocument),this.isDestroyed=!1,this.isHotTableEnv=Object(o.isChildOfWebComponentTable)(this.rootElement),f.a.isHotTableEnv=this.isHotTableEnv,this.container=this.rootDocument.createElement("div"),this.renderCall=!1,e.insertBefore(this.container,e.firstChild),Object(k.b)(this)&&Object(l._injectProductInfo)(n.licenseKey,e),this.guid="ht_".concat(Object(b.randomString)());var $=Object(E.a)(X);W=new O.a(X),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid),B={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width","language"],settings:new K,selRange:null,isPopulated:null,scrollable:null,firstRun:!0};var Q=new I.a(B.settings,{countCols:function(){return X.countCols()},countRows:function(){return X.countRows()},propToCol:function(t){return F.propToCol(t)},isEditorOpened:function(){return!!X.getActiveEditor()&&X.getActiveEditor().isOpened()}});function Z(t){var e=Object(_.c)(t);Object(N.d)(e)?(X.runHooks("beforeLanguageChange",e),K.prototype.language=e,X.runHooks("afterLanguageChange",e)):Object(_.d)(t)}function J(){var t=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue+=1,t=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){0===this.validatorsInQueue&&!1===t&&(t=!0,this.onQueueEmpty(this.valid))}}}function tt(t){var e=t.replace(",",".");return!1===isNaN(parseFloat(e))?parseFloat(e):t}function et(t,e,n){if(t.length){var r=X.runHooks("beforeChange",t,e||"edit");if(Object(a.isFunction)(r))Object(s.b)("Your beforeChange callback returns a function. It's not supported since Handsontable 0.12.1 (and the returned function will not be executed).");else if(!1===r){var i=X.getActiveEditor();return void(i&&i.cancelChanges())}var l,u=new J;u.onQueueEmpty=n;for(var c=t.length-1;c>=0;c--)if(null===t[c])t.splice(c,1);else{var h=L(t[c],4),f=h[0],d=h[1],p=h[3],g=F.propToCol(d),m=X.getCellMeta(f,g);"numeric"===m.type&&"string"===typeof p&&((l=p).length>0&&/^\s*[+-.]?\s*(?:(?:\d+(?:(\.|,)\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/.test(l))&&(t[c][3]=tt(p)),X.getCellValidator(m)&&(u.addValidatorToQueue(),X.validateCell(t[c][3],m,function(e,n){return function(r){if("boolean"!==typeof r)throw new Error("Validation error: result is not boolean");if(!1===r&&!1===n.allowInvalid){t.splice(e,1),n.valid=!0;var i=X.getCell(n.visualRow,n.visualCol);null!==i&&Object(o.removeClass)(i,X.getSettings().invalidCellClassName)}u.removeValidatorFormQueue()}}(c,m),e))}u.checkIfQueueIsEmpty()}}function nt(t,e){var n=t.length-1;if(!(n<0)){for(;n>=0;n--){var r=!1;if(null!==t[n]){if(null!==t[n][2]&&void 0!==t[n][2]||null!==t[n][3]&&void 0!==t[n][3]){if(B.settings.allowInsertRow)for(;t[n][0]>X.countRows()-1;){if(0===F.createRow(void 0,void 0,e)){r=!0;break}}if("array"===X.dataType&&(!B.settings.columns||0===B.settings.columns.length)&&B.settings.allowInsertColumn)for(;F.propToCol(t[n][1])>X.countCols()-1;){if(0===F.createCol(void 0,void 0,e)){r=!0;break}}r||F.set(t[n][0],t[n][1],t[n][3])}}else t.splice(n,1)}X.forceFullRender=!0,V.adjustRowsAndCols(),X.runHooks("beforeChangeRender",t,e),U.lockEditor(),X._refreshBorders(null),U.unlockEditor(),X.view.wt.wtOverlays.adjustElementsSize(),X.runHooks("afterChange",t,e||"edit");var o=X.getActiveEditor();o&&Object(l.isDefined)(o.refreshValue)&&o.refreshValue()}}function rt(t,e,n){return"object"===D(t)?t:[[t,e,n]]}function ot(t){if(Object(d.hasOwnProperty)(t,"type")){var e,n={};for(var r in"object"===D(t.type)?e=t.type:"string"===typeof t.type&&(e=Object(M.a)(t.type)),e)Object(d.hasOwnProperty)(e,r)&&!Object(d.hasOwnProperty)(t,r)&&(n[r]=e[r]);return n}}this.selection=Q,this.selection.addLocalHook("beforeSetRangeStart",function(t){z.runHooks("beforeSetRangeStart",t)}),this.selection.addLocalHook("beforeSetRangeStartOnly",function(t){z.runHooks("beforeSetRangeStartOnly",t)}),this.selection.addLocalHook("beforeSetRangeEnd",function(t){z.runHooks("beforeSetRangeEnd",t),t.row<0&&(t.row=z.view.wt.wtTable.getFirstVisibleRow()),t.col<0&&(t.col=z.view.wt.wtTable.getFirstVisibleColumn())}),this.selection.addLocalHook("afterSetRangeEnd",function(t){var e=Object(d.createObjectPropListener)(!1),n=z.selection.getSelectedRange(),r=n.current(),i=r.from,a=r.to,s=n.size()-1;z.runHooks("afterSelection",i.row,i.col,a.row,a.col,e,s),z.runHooks("afterSelectionByProp",i.row,X.colToProp(i.col),a.row,X.colToProp(a.col),e,s);var l=z.selection.isSelectedByAnyHeader(),u=z.selection.selectedRange.current(),c=!0;G&&(c=!1),e.isTouched()&&(c=!e.value);var h=z.selection.isSelectedByRowHeader(),f=z.selection.isSelectedByColumnHeader();!1!==c&&(l?h?z.view.scrollViewportVertically(t.row):f&&z.view.scrollViewportHorizontally(t.col):u&&!z.selection.isMultiple()?z.view.scrollViewport(u.from):z.view.scrollViewport(t)),h&&f?Object(o.addClass)(z.rootElement,["ht__selection--rows","ht__selection--columns"]):h?(Object(o.removeClass)(z.rootElement,"ht__selection--columns"),Object(o.addClass)(z.rootElement,"ht__selection--rows")):f?(Object(o.removeClass)(z.rootElement,"ht__selection--rows"),Object(o.addClass)(z.rootElement,"ht__selection--columns")):Object(o.removeClass)(z.rootElement,["ht__selection--rows","ht__selection--columns"]),z._refreshBorders(null)}),this.selection.addLocalHook("afterSelectionFinished",function(t){var e=t.length-1,n=t[e],r=n.from,o=n.to;z.runHooks("afterSelectionEnd",r.row,r.col,o.row,o.col,e),z.runHooks("afterSelectionEndByProp",r.row,X.colToProp(r.col),o.row,X.colToProp(o.col),e)}),this.selection.addLocalHook("afterIsMultipleSelection",function(t){var e=z.runHooks("afterIsMultipleSelection",t.value);t.value&&(t.value=e)}),this.selection.addLocalHook("beforeModifyTransformStart",function(t){z.runHooks("modifyTransformStart",t)}),this.selection.addLocalHook("afterModifyTransformStart",function(t,e,n){z.runHooks("afterModifyTransformStart",t,e,n)}),this.selection.addLocalHook("beforeModifyTransformEnd",function(t){z.runHooks("modifyTransformEnd",t)}),this.selection.addLocalHook("afterModifyTransformEnd",function(t,e,n){z.runHooks("afterModifyTransformEnd",t,e,n)}),this.selection.addLocalHook("afterDeselect",function(){U.destroyEditor(),z._refreshBorders(),Object(o.removeClass)(z.rootElement,["ht__selection--rows","ht__selection--columns"]),z.runHooks("afterDeselect")}),this.selection.addLocalHook("insertRowRequire",function(t){z.alter("insert_row",t,1,"auto")}),this.selection.addLocalHook("insertColRequire",function(t){z.alter("insert_col",t,1,"auto")}),V={alter:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;function a(t,e,n,r){var o=Object(p.arrayMap)(new Array(n),function(){return function(){var t;return"array"===r?t=[]:"object"===r&&(t={}),t}()});o.unshift(e,0),t.splice.apply(t,j(o))}var s=function(t){if(0===t.length)return[];var e=j(t);return e.sort(function(t,e){var n=L(t,1)[0],r=L(e,1)[0];return n===r?0:n>r?1:-1}),Object(p.arrayReduce)(e,function(t,e){var n=L(e,2),r=n[0],o=n[1],i=t[t.length-1],a=L(i,2),s=a[0]+a[1];if(r<=s){var l=Math.max(o-(s-r),0);i[1]+=l}else t.push([r,o]);return t},[e[0]])};switch(t){case"insert_row":var u=X.countSourceRows();if(X.getSettings().maxRows===u)return;e=Object(l.isDefined)(e)?e:u,n=F.createRow(e,r,o),a(B.cellSettings,e,r,"array"),n&&(Q.isSelected()&&Q.selectedRange.current().from.row>=e?(Q.selectedRange.current().from.row+=n,Q.transformEnd(n,0)):X._refreshBorders());break;case"insert_col":n=F.createCol(e,r,o);for(var c=0,h=X.countSourceRows();c<h;c++)B.cellSettings[c]&&a(B.cellSettings[c],e,r);if(n){if(Array.isArray(X.getSettings().colHeaders)){var f=[e,0];f.length+=n,Array.prototype.splice.apply(X.getSettings().colHeaders,f)}Q.isSelected()&&Q.selectedRange.current().from.col>=e?(Q.selectedRange.current().from.col+=n,Q.transformEnd(0,n)):X._refreshBorders()}break;case"remove_row":var d=function(t){var e=0;Object(p.arrayEach)(t,function(t){var n=L(t,2),i=n[0],a=n[1],s=Object(l.isEmpty)(i)?X.countRows()-1:Math.max(i-e,0);Number.isInteger(i)&&(i=Math.max(i-e,0)),F.removeRow(i,a,o),B.cellSettings.splice(s,r);var u=X.countRows(),c=X.getSettings().fixedRowsTop;c>=s+1&&(X.getSettings().fixedRowsTop-=Math.min(a,c-s));var h=X.getSettings().fixedRowsBottom;h&&s>=u-h&&(X.getSettings().fixedRowsBottom-=Math.min(a,h)),e+=a})};Array.isArray(e)?d(s(e)):d([[e,r]]),V.adjustRowsAndCols(),X._refreshBorders();break;case"remove_col":var g=function(t){var e=0;Object(p.arrayEach)(t,function(t){var n=L(t,2),r=n[0],i=n[1],a=Object(l.isEmpty)(r)?X.countCols()-1:Math.max(r-e,0),s=$.toPhysicalColumn(a);Number.isInteger(r)&&(r=Math.max(r-e,0)),F.removeCol(r,i,o);for(var u=0,c=X.countSourceRows();u<c;u++)B.cellSettings[u]&&B.cellSettings[u].splice(s,i);var h=X.getSettings().fixedColumnsLeft;h>=a+1&&(X.getSettings().fixedColumnsLeft-=Math.min(i,h-a)),Array.isArray(X.getSettings().colHeaders)&&("undefined"===typeof s&&(s=-1),X.getSettings().colHeaders.splice(s,i)),e+=i})};Array.isArray(e)?g(s(e)):g([[e,r]]),V.adjustRowsAndCols(),X._refreshBorders();break;default:throw new Error('There is no such action "'.concat(t,'"'))}i||V.adjustRowsAndCols()},adjustRowsAndCols:function(){if(B.settings.minRows){var t=X.countRows();if(t<B.settings.minRows)for(var e=0,n=B.settings.minRows;e<n-t;e++)F.createRow(X.countRows(),1,"auto")}if(B.settings.minSpareRows){var r=X.countEmptyRows(!0);if(r<B.settings.minSpareRows)for(;r<B.settings.minSpareRows&&X.countSourceRows()<B.settings.maxRows;r++)F.createRow(X.countRows(),1,"auto")}var o;if((B.settings.minCols||B.settings.minSpareCols)&&(o=X.countEmptyCols(!0)),B.settings.minCols&&!B.settings.columns&&X.countCols()<B.settings.minCols)for(;X.countCols()<B.settings.minCols;o++)F.createCol(X.countCols(),1,"auto");if(B.settings.minSpareCols&&!B.settings.columns&&"array"===X.dataType&&o<B.settings.minSpareCols)for(;o<B.settings.minSpareCols&&X.countCols()<B.settings.maxCols;o++)F.createCol(X.countCols(),1,"auto");var i=X.countRows(),a=X.countCols();0!==i&&0!==a||Q.deselect(),Q.isSelected()&&Object(p.arrayEach)(Q.selectedRange,function(t){var e=!1,n=t.from.row,r=t.from.col,o=t.to.row,s=t.to.col;n>i-1?(e=!0,o>(n=i-1)&&(o=n)):o>i-1&&(e=!0,n>(o=i-1)&&(n=o)),r>a-1?(e=!0,s>(r=a-1)&&(s=r)):s>a-1&&(e=!0,r>(s=a-1)&&(r=s)),e&&X.selectCell(n,r,o,s)}),X.view&&X.view.wt.wtOverlays.adjustElementsSize()},populateFromArray:function(t,e,n,r,o,i,a){var s,u,c,h,f,p,g,m,v=[],y={};if(0===(u=e.length))return!1;switch(o){case"shift_down":for(f=n?n.col-t.col+1:0,p=n?n.row-t.row+1:0,c=0,h=(e=Object(S.translateRowsToColumns)(e)).length,g=Math.max(h,f);c<g;c++)if(c<h){var b;for(s=0,u=e[c].length;s<p-u;s++)e[c].push(e[c][s%u]);e[c].unshift(t.col+c,t.row,0),(b=X).spliceCol.apply(b,j(e[c]))}else{var w;e[c%h][0]=t.col+c,(w=X).spliceCol.apply(w,j(e[c%h]))}break;case"shift_right":for(f=n?n.col-t.col+1:0,p=n?n.row-t.row+1:0,s=0,u=e.length,m=Math.max(u,p);s<m;s++)if(s<u){var C;for(c=0,h=e[s].length;c<f-h;c++)e[s].push(e[s][c%h]);e[s].unshift(t.row+s,t.col,0),(C=X).spliceRow.apply(C,j(e[s]))}else{var O;e[s%u][0]=t.row+s,(O=X).spliceRow.apply(O,j(e[s%u]))}break;case"overwrite":default:y.row=t.row,y.col=t.col;var E,k={row:n&&t?n.row-t.row+1:1,col:n&&t?n.col-t.col+1:1},T=0,R=0,x=!0,M=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e[t%e.length];return null!==n?r[n%r.length]:r},A=e.length,N=n?n.row-t.row+1:0;for(u=n?N:Math.max(A,N),s=0;s<u&&!(n&&y.row>n.row&&N>A||!B.settings.allowInsertRow&&y.row>X.countRows()-1||y.row>=B.settings.maxRows);s++){var _=s-T,P=M(_).length,I=n?n.col-t.col+1:0;if(h=n?I:Math.max(P,I),y.col=t.col,E=X.getCellMeta(y.row,y.col),"CopyPaste.paste"!==r&&"Autofill.fill"!==r||!E.skipRowOnPaste){for(R=0,c=0;c<h&&!(n&&y.col>n.col&&I>P||!B.settings.allowInsertColumn&&y.col>X.countCols()-1||y.col>=B.settings.maxCols);c++)if(E=X.getCellMeta(y.row,y.col),"CopyPaste.paste"!==r&&"Autofill.fill"!==r||!E.skipColumnOnPaste)if(E.readOnly)y.col+=1;else{var L=c-R,H=M(_,L),F=X.getDataAtCell(y.row,y.col),W={row:_,col:L};if("Autofill.fill"===r){var V=X.runHooks("beforeAutofillInsidePopulate",W,i,e,a,{},k);V&&(H=Object(l.isUndefined)(V.value)?H:V.value)}if(null!==H&&"object"===D(H))if(Array.isArray(H)&&null===F&&(F=[]),null===F||"object"!==D(F))x=!1;else{var U=Object(d.duckSchema)(Array.isArray(F)?F:F[0]||F),z=Object(d.duckSchema)(Array.isArray(H)?H:H[0]||H);Object(d.isObjectEqual)(U,z)?H=Object(d.deepClone)(H):x=!1}else null!==F&&"object"===D(F)&&(x=!1);x&&v.push([y.row,y.col,H]),x=!0,y.col+=1}else R+=1,y.col+=1,h+=1;y.row+=1}else T+=1,y.row+=1,u+=1}X.setDataAtCell(v,null,null,r||"populateFromArray")}}},this.init=function(){W.setData(B.settings.data),X.runHooks("beforeInit"),Object(u.isMobileBrowser)()&&Object(o.addClass)(X.rootElement,"mobile"),this.updateSettings(B.settings,!0),this.view=new C.a(this),U=h.a.getInstance(X,B,Q,F),this.forceFullRender=!0,X.runHooks("init"),this.view.render(),"object"===D(B.firstRun)&&(X.runHooks("afterChange",B.firstRun[0],B.firstRun[1]),B.firstRun=!1),X.runHooks("afterInit")},this.validateCell=function(t,e,n,r){var o,i=X.getCellValidator(e);function s(t){if((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&!0!==e.hidden){var r=e.visualCol,o=e.visualRow,i=X.getCell(o,r,!0);i&&"TH"!==i.nodeName&&X.view.wt.wtSettings.settings.cellRenderer(o,r,i),n(t)}else n(t)}Object(l.isRegExp)(i)&&(o=i,i=function(t,e){e(o.test(t))}),Object(a.isFunction)(i)?(t=X.runHooks("beforeValidate",t,e.visualRow,e.prop,r),X._registerImmediate(function(){i.call(e,t,function(n){X&&(n=X.runHooks("afterValidate",n,t,e.visualRow,e.prop,r),e.valid=n,s(n),X.runHooks("postAfterValidate",n,t,e.visualRow,e.prop,r))})})):X._registerImmediate(function(){e.valid=!0,s(e.valid,!1)})},this.setDataAtCell=function(t,e,n,r){var o,i,a,s=rt(t,e,n),l=[],u=r;for(o=0,i=s.length;o<i;o++){if("object"!==D(s[o]))throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!==typeof s[o][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");a=F.colToProp(s[o][1]),l.push([s[o][0],a,W.getAtCell($.toPhysicalRow(s[o][0]),s[o][1]),s[o][2]])}u||"object"!==D(t)||(u=e),X.runHooks("afterSetDataAtCell",l,u),et(l,u,function(){nt(l,u)})},this.setDataAtRowProp=function(t,e,n,r){var o,i,a=rt(t,e,n),s=[],l=r;for(o=0,i=a.length;o<i;o++)s.push([a[o][0],a[o][1],W.getAtCell($.toPhysicalRow(a[o][0]),a[o][1]),a[o][2]]);l||"object"!==D(t)||(l=e),X.runHooks("afterSetDataAtRowProp",s,l),et(s,l,function(){nt(s,l)})},this.listen=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=X.rootDocument;if(t){var n=!e.activeElement||e.activeElement&&void 0===e.activeElement.nodeName;e.activeElement&&e.activeElement!==e.body&&!n?e.activeElement.blur():n&&e.body.focus()}X&&!X.isListening()&&(H=X.guid,X.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(H=null,X.runHooks("afterUnlisten"))},this.isListening=function(){return H===X.guid},this.destroyEditor=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];X._refreshBorders(t,e)},this.populateFromArray=function(t,e,n,r,o,i,a,s,l){if("object"!==D(n)||"object"!==D(n[0]))throw new Error("populateFromArray parameter `input` must be an array of arrays");var u="number"===typeof r?new T.a(r,o):null;return V.populateFromArray(new T.a(t,e),n,u,i,a,s,l)},this.spliceCol=function(t,e,n){for(var r,o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];return(r=F).spliceCol.apply(r,[t,e,n].concat(i))},this.spliceRow=function(t,e,n){for(var r,o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];return(r=F).spliceRow.apply(r,[t,e,n].concat(i))},this.getSelected=function(){if(Q.isSelected())return Object(p.arrayMap)(Q.getSelectedRange(),function(t){var e=t.from,n=t.to;return[e.row,e.col,n.row,n.col]})},this.getSelectedLast=function(){var t,e=this.getSelected();return e&&e.length>0&&(t=e[e.length-1]),t},this.getSelectedRange=function(){if(Q.isSelected())return Array.from(Q.getSelectedRange())},this.getSelectedRangeLast=function(){var t,e=this.getSelectedRange();return e&&e.length>0&&(t=e[e.length-1]),t},this.emptySelectedCells=function(){var t=this;if(Q.isSelected()){var e=[];Object(p.arrayEach)(Q.getSelectedRange(),function(n){var r=n.getTopLeftCorner(),o=n.getBottomRightCorner();Object(w.rangeEach)(r.row,o.row,function(n){Object(w.rangeEach)(r.col,o.col,function(r){t.getCellMeta(n,r).readOnly||e.push([n,r,""])})})}),e.length>0&&this.setDataAtCell(e)}},this.render=function(){X.view&&(X.renderCall=!0,X.forceFullRender=!0,U.lockEditor(),X._refreshBorders(null),U.unlockEditor())},this.refreshDimensions=function(){if(X.view){var t=X.view.getLastSize(),e=t.width,n=t.height,r=X.rootElement.getBoundingClientRect(),o=r.width,i=r.height,a=o!==e||i!==n;!1===X.runHooks("beforeRefreshDimensions",{width:e,height:n},{width:o,height:i},a)||((a||X.view.wt.wtOverlays.scrollableElement===X.rootWindow)&&(X.view.setLastSize(o,i),X.render()),X.runHooks("afterRefreshDimensions",{width:e,height:n},{width:o,height:i},a))}},this.loadData=function(t){if(Array.isArray(B.settings.dataSchema)?X.dataType="array":Object(a.isFunction)(B.settings.dataSchema)?X.dataType="function":X.dataType="object",F&&F.destroy(),F=new c.a(X,B,K),"object"===D(t)&&null!==t)t.push&&t.splice||(t=[t]);else{if(null!==t)throw new Error("loadData only accepts array of objects or array of arrays (".concat(D(t)," given)"));var e,n=F.getSchema();t=[];var r,o=0;for(o=0,r=B.settings.startRows;o<r;o++)if("object"!==X.dataType&&"function"!==X.dataType||!B.settings.dataSchema)if("array"===X.dataType)e=Object(d.deepClone)(n[0]),t.push(e);else{e=[];for(var i=0,s=B.settings.startCols;i<s;i++)e.push(null);t.push(e)}else e=Object(d.deepClone)(n),t.push(e)}B.isPopulated=!1,K.prototype.data=t,Array.isArray(t[0])&&(X.dataType="array"),F.dataSource=t,W.data=t,W.dataType=X.dataType,W.colToProp=F.colToProp.bind(F),W.propToCol=F.propToCol.bind(F),B.cellSettings.length=0,V.adjustRowsAndCols(),X.runHooks("afterLoadData",B.firstRun),B.firstRun?B.firstRun=[null,"loadData"]:(X.runHooks("afterChange",null,"loadData"),X.render()),B.isPopulated=!0},this.getData=function(t,e,n,r){return Object(l.isUndefined)(t)?F.getAll():F.getRange(new T.a(t,e),new T.a(n,r),F.DESTINATION_RENDERER)},this.getCopyableText=function(t,e,n,r){return F.getCopyableText(new T.a(t,e),new T.a(n,r))},this.getCopyableData=function(t,e){return F.getCopyable(t,F.colToProp(e))},this.getSchema=function(){return F.getSchema()},this.updateSettings=function(t){var e,n,r,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=!1;if(Object(l.isDefined)(t.rows))throw new Error('"rows" setting is no longer supported. do you mean startRows, minRows or maxRows?');if(Object(l.isDefined)(t.cols))throw new Error('"cols" setting is no longer supported. do you mean startCols, minCols or maxCols?');for(e in t)"data"!==e&&("language"!==e?R.a.getSingleton().getRegistered().indexOf(e)>-1?(Object(a.isFunction)(t[e])||Array.isArray(t[e]))&&(t[e].initialHook=!0,X.addHook(e,t[e])):!s&&Object(d.hasOwnProperty)(t,e)&&(K.prototype[e]=t[e]):Z(t.language));void 0===t.data&&void 0===B.settings.data?X.loadData(null):void 0!==t.data?X.loadData(t.data):void 0!==t.columns&&F.createMap(),r=X.countCols();var c,h,f=t.columns||K.prototype.columns;if(f&&Object(a.isFunction)(f)&&(r=X.countSourceCols(),u=!0),void 0===t.cell&&void 0===t.cells&&void 0===t.columns||(B.cellSettings.length=0),r>0)for(e=0,n=0;e<r;e++)u&&!f(e)||(B.columnSettings[n]=Object(i.columnFactory)(K,B.columnsSettingConflicts),c=B.columnSettings[n].prototype,f&&(h=u?f(e):f[n])&&(Object(d.extend)(c,h),Object(d.extend)(c,ot(h))),n+=1);Object(l.isDefined)(t.cell)&&Object(d.objectEach)(t.cell,function(t){X.setCellMetaObject(t.row,t.col,t)}),X.runHooks("afterCellMetaReset"),Object(l.isDefined)(t.className)&&(K.prototype.className&&Object(o.removeClass)(X.rootElement,K.prototype.className),t.className&&Object(o.addClass)(X.rootElement,t.className));var p=X.rootElement.style.height;""!==p&&(p=parseInt(X.rootElement.style.height,10));var g=t.height;(Object(a.isFunction)(g)&&(g=g()),s)&&(X.rootElement.getAttribute("style")&&X.rootElement.setAttribute("data-initialstyle",X.rootElement.getAttribute("style")));if(null===g){var m=X.rootElement.getAttribute("data-initialstyle");m&&(m.indexOf("height")>-1||m.indexOf("overflow")>-1)?X.rootElement.setAttribute("style",m):(X.rootElement.style.height="",X.rootElement.style.overflow="")}else void 0!==g&&(X.rootElement.style.height=isNaN(g)?"".concat(g):"".concat(g,"px"),X.rootElement.style.overflow="hidden");if("undefined"!==typeof t.width){var v=t.width;Object(a.isFunction)(v)&&(v=v()),X.rootElement.style.width=isNaN(v)?"".concat(v):"".concat(v,"px")}s||(F.clearLengthCache(),X.view&&X.view.wt.wtViewport.resetHasOversizedColumnHeadersMarked(),X.runHooks("afterUpdateSettings",t)),V.adjustRowsAndCols(),X.view&&!B.firstRun&&(X.forceFullRender=!0,U.lockEditor(),X._refreshBorders(null),U.unlockEditor()),s||!X.view||""!==p&&""!==g&&void 0!==g||p===g||X.view.wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){var t=X.getSelectedLast();if(K.prototype.getValue){if(Object(a.isFunction)(K.prototype.getValue))return K.prototype.getValue.call(X);if(t)return X.getData()[t[0][0]][K.prototype.getValue]}else if(t)return X.getDataAtCell(t[0],t[1])},this.getSettings=function(){return B.settings},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(t,e,n,r,o){V.alter(t,e,n,r,o)},this.getCell=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return X.view.getCellAtCoords(new T.a(t,e),n)},this.getCoords=function(t){return this.view.wt.wtTable.getCoords.call(this.view.wt.wtTable,t)},this.colToProp=function(t){return F.colToProp(t)},this.propToCol=function(t){return F.propToCol(t)},this.toVisualRow=function(t){return $.toVisualRow(t)},this.toVisualColumn=function(t){return $.toVisualColumn(t)},this.toPhysicalRow=function(t){return $.toPhysicalRow(t)},this.toPhysicalColumn=function(t){return $.toPhysicalColumn(t)},this.getDataAtCell=function(t,e){return F.get(t,F.colToProp(e))},this.getDataAtRowProp=function(t,e){return F.get(t,e)},this.getDataAtCol=function(t){var e;return(e=[]).concat.apply(e,j(F.getRange(new T.a(0,t),new T.a(B.settings.data.length-1,t),F.DESTINATION_RENDERER)))},this.getDataAtProp=function(t){var e,n=F.getRange(new T.a(0,F.propToCol(t)),new T.a(B.settings.data.length-1,F.propToCol(t)),F.DESTINATION_RENDERER);return(e=[]).concat.apply(e,j(n))},this.getSourceData=function(t,e,n,r){return void 0===t?W.getData():W.getByRange(new T.a(t,e),new T.a(n,r))},this.getSourceDataArray=function(t,e,n,r){return void 0===t?W.getData(!0):W.getByRange(new T.a(t,e),new T.a(n,r),!0)},this.getSourceDataAtCol=function(t){return W.getAtColumn(t)},this.getSourceDataAtRow=function(t){return W.getAtRow(t)},this.getSourceDataAtCell=function(t,e){return W.getAtCell(t,e)},this.getDataAtRow=function(t){return F.getRange(new T.a(t,0),new T.a(t,this.countCols()-1),F.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(t,e,n,r){var o=this,i=void 0===t?[0,0,this.countRows(),this.countCols()]:[t,e,n,r],a=i[0],s=i[1],l=i[2],u=i[3],c=null,h=null;void 0===l&&(l=a),void 0===u&&(u=s);var f="mixed";return Object(w.rangeEach)(Math.min(a,l),Math.max(a,l),function(t){var e=!0;return Object(w.rangeEach)(Math.min(s,u),Math.max(s,u),function(n){var r=o.getCellMeta(t,n);return h=r.type,c?e=c===h:c=h,e}),f=e?h:"mixed",e}),f},this.removeCellMeta=function(t,e,n){var r=L($.toPhysical(t,e),2),o=r[0],i=r[1],a=B.cellSettings[o][i][n];!1!==X.runHooks("beforeRemoveCellMeta",t,e,n,a)&&(delete B.cellSettings[o][i][n],X.runHooks("afterRemoveCellMeta",t,e,n,a)),a=null},this.spliceCellsMeta=function(t,e){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];(n=B.cellSettings).splice.apply(n,[t,e].concat(o))},this.setCellMetaObject=function(t,e,n){var r=this;"object"===D(n)&&Object(d.objectEach)(n,function(n,o){r.setCellMeta(t,e,o,n)})},this.setCellMeta=function(t,e,n,r){var o=L($.toPhysical(t,e),2),a=o[0],s=o[1];B.columnSettings[s]||(B.columnSettings[s]=Object(i.columnFactory)(K,B.columnsSettingConflicts)),B.cellSettings[a]||(B.cellSettings[a]=[]),B.cellSettings[a][s]||(B.cellSettings[a][s]=new B.columnSettings[s]),B.cellSettings[a][s][n]=r,X.runHooks("afterSetCellMeta",t,e,n,r)},this.getCellsMeta=function(){return Object(p.arrayFlatten)(B.cellSettings)},this.getCellMeta=function(t,e){var n=F.colToProp(e),r=L($.toPhysical(t,e),2),o=r[0],a=r[1],s=o;null===s&&(s=t),B.columnSettings[a]||(B.columnSettings[a]=Object(i.columnFactory)(K,B.columnsSettingConflicts)),B.cellSettings[s]||(B.cellSettings[s]=[]),B.cellSettings[s][a]||(B.cellSettings[s][a]=new B.columnSettings[a]);var l=B.cellSettings[s][a];if(l.row=s,l.col=a,l.visualRow=t,l.visualCol=e,l.prop=n,l.instance=X,X.runHooks("beforeGetCellMeta",t,e,l),Object(d.extend)(l,ot(l)),l.cells){var u=l.cells.call(l,s,a,n);u&&(Object(d.extend)(l,u),Object(d.extend)(l,ot(u)))}return X.runHooks("afterGetCellMeta",t,e,l),l},this.getCellMetaAtRow=function(t){return B.cellSettings[t]},this.isColumnModificationAllowed=function(){return!("object"===X.dataType||X.getSettings().columns)};var it=Object(S.cellMethodLookupFactory)("renderer");this.getCellRenderer=function(t,e){return Object(v.b)(it.call(this,t,e))},this.getCellEditor=Object(S.cellMethodLookupFactory)("editor");var at=Object(S.cellMethodLookupFactory)("validator");this.getCellValidator=function(t,e){var n=at.call(this,t,e);return"string"===typeof n&&(n=Object(y.b)(n)),n},this.validateCells=function(t){this._validateCells(t)},this.validateRows=function(t,e){if(!Array.isArray(t))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(e,t)},this.validateColumns=function(t,e){if(!Array.isArray(t))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(e,void 0,t)},this._validateCells=function(t,e,n){var r=new J;t&&(r.onQueueEmpty=t);for(var o=X.countRows()-1;o>=0;)if(void 0===e||-1!==e.indexOf(o)){for(var i=X.countCols()-1;i>=0;)void 0===n||-1!==n.indexOf(i)?(r.addValidatorToQueue(),X.validateCell(X.getDataAtCell(o,i),X.getCellMeta(o,i),function(t){if("boolean"!==typeof t)throw new Error("Validation error: result is not boolean");!1===t&&(r.valid=!1),r.removeValidatorFormQueue()},"validateCells"),i-=1):i-=1;o-=1}else o-=1;r.checkIfQueueIsEmpty()},this.getRowHeader=function(t){var e=B.settings.rowHeaders,n=t;return void 0!==n&&(n=X.runHooks("modifyRowHeader",n)),void 0===n?(e=[],Object(w.rangeEach)(X.countRows()-1,function(t){e.push(X.getRowHeader(t))})):Array.isArray(e)&&void 0!==e[n]?e=e[n]:Object(a.isFunction)(e)?e=e(n):e&&"string"!==typeof e&&"number"!==typeof e&&(e=n+1),e},this.hasRowHeaders=function(){return!!B.settings.rowHeaders},this.hasColHeaders=function(){if(void 0!==B.settings.colHeaders&&null!==B.settings.colHeaders)return!!B.settings.colHeaders;for(var t=0,e=X.countCols();t<e;t++)if(X.getColHeader(t))return!0;return!1},this.getColHeader=function(t){var e=B.settings.columns&&Object(a.isFunction)(B.settings.columns),n=X.runHooks("modifyColHeader",t),r=B.settings.colHeaders;if(void 0===n){for(var o=[],i=e?X.countSourceCols():X.countCols(),s=0;s<i;s++)o.push(X.getColHeader(s));r=o}else{var l=n,u=X.runHooks("modifyCol",l),c=function(t){for(var e=[],n=X.countSourceCols(),r=0;r<n;r++)Object(a.isFunction)(X.getSettings().columns)&&X.getSettings().columns(r)&&e.push(r);return e[t]}(u);!1===B.settings.colHeaders?r=null:B.settings.columns&&Object(a.isFunction)(B.settings.columns)&&B.settings.columns(c)&&B.settings.columns(c).title?r=B.settings.columns(c).title:B.settings.columns&&B.settings.columns[u]&&B.settings.columns[u].title?r=B.settings.columns[u].title:Array.isArray(B.settings.colHeaders)&&void 0!==B.settings.colHeaders[u]?r=B.settings.colHeaders[u]:Object(a.isFunction)(B.settings.colHeaders)?r=B.settings.colHeaders(u):B.settings.colHeaders&&"string"!==typeof B.settings.colHeaders&&"number"!==typeof B.settings.colHeaders&&(r=Object(S.spreadsheetColumnLabel)(l))}return r},this._getColWidthFromSettings=function(t){var e=X.getCellMeta(0,t),n=e.width;if(void 0!==n&&n!==B.settings.width||(n=e.colWidths),void 0!==n&&null!==n){switch(D(n)){case"object":n=n[t];break;case"function":n=n(t)}"string"===typeof n&&(n=parseInt(n,10))}return n},this.getColWidth=function(t){var e=X._getColWidthFromSettings(t);return void 0===(e=X.runHooks("modifyColWidth",e,t))&&(e=T.d.DEFAULT_WIDTH),e},this._getRowHeightFromSettings=function(t){var e=B.settings.rowHeights;if(void 0!==e&&null!==e){switch(D(e)){case"object":e=e[t];break;case"function":e=e(t)}"string"===typeof e&&(e=parseInt(e,10))}return e},this.getRowHeight=function(t){var e=X._getRowHeightFromSettings(t);return e=X.runHooks("modifyRowHeight",e,t)},this.countSourceRows=function(){return X.runHooks("modifySourceLength")||(X.getSourceData()?X.getSourceData().length:0)},this.countSourceCols=function(){var t=X.getSourceData()&&X.getSourceData()[0]?X.getSourceData()[0]:[];return Object(d.isObject)(t)?Object(d.deepObjectSize)(t):t.length||0},this.countRows=function(){return F.getLength()},this.countCols=function(){var t=this.getSettings().maxCols,e=!1,n=0;if("array"===X.dataType&&(e=B.settings.data&&B.settings.data[0]&&B.settings.data[0].length),e&&(n=B.settings.data[0].length),B.settings.columns)if(Object(a.isFunction)(B.settings.columns))if("array"===X.dataType){for(var r=0,o=0;o<n;o++)B.settings.columns(o)&&(r+=1);n=r}else"object"!==X.dataType&&"function"!==X.dataType||(n=F.colToPropCache.length);else n=B.settings.columns.length;else"object"!==X.dataType&&"function"!==X.dataType||(n=F.colToPropCache.length);return Math.min(t,n)},this.rowOffset=function(){return X.view.wt.wtTable.getFirstRenderedRow()},this.colOffset=function(){return X.view.wt.wtTable.getFirstRenderedColumn()},this.countRenderedRows=function(){return X.view.wt.drawn?X.view.wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return X.view.wt.drawn?X.view.wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return X.view.wt.drawn?X.view.wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return X.view.wt.drawn?X.view.wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=0;return Object(w.rangeEachReverse)(X.countRows()-1,function(n){if(X.isEmptyRow(n))e+=1;else if(!0===t)return!1}),e},this.countEmptyCols=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(X.countRows()<1)return 0;var e=0;return Object(w.rangeEachReverse)(X.countCols()-1,function(n){if(X.isEmptyCol(n))e+=1;else if(!0===t)return!1}),e},this.isEmptyRow=function(t){return B.settings.isEmptyRow.call(X,t)},this.isEmptyCol=function(t){return B.settings.isEmptyCol.call(X,t)},this.selectCell=function(t,e,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return!Object(l.isUndefined)(t)&&!Object(l.isUndefined)(e)&&this.selectCells([[t,e,n,r]],o,i)},this.selectCells=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!1===e&&(G=!0);var r=Q.selectCells(t);return r&&n&&X.listen(),G=!1,r},this.selectColumns=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return Q.selectColumns(t,e)},this.selectRows=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return Q.selectRows(t,e)},this.deselectCell=function(){Q.deselect()},this.selectAll=function(){G=!0,Q.selectAll(),G=!1},this.scrollViewportTo=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!n,i=!r,a=!1;return void 0!==t&&void 0!==e&&(a=X.view.scrollViewport(new T.a(t,e),o,r,n,i)),"number"===typeof t&&"number"!==typeof e&&(a=X.view.scrollViewportVertically(t,o,n)),"number"===typeof e&&"number"!==typeof t&&(a=X.view.scrollViewportHorizontally(e,r,i)),a},this.destroy=function(){if(X._clearTimeouts(),X._clearImmediates(),X.view&&X.view.destroy(),W&&W.destroy(),W=null,Object(P.c)(),Object(k.b)(X)){var t=this.rootDocument.querySelector("#hot-display-license-info");t&&t.parentNode.removeChild(t)}Object(o.empty)(X.rootElement),q.destroy(),U&&U.destroy(),X.runHooks("afterDestroy"),R.a.getSingleton().destroy(X),Object(d.objectEach)(X,function(t,e,n){var r;Object(a.isFunction)(t)?n[e]=(r=e,function(){throw new Error('The "'.concat(r,'" method cannot be called because this Handsontable instance has been destroyed'))}):"guid"!==e&&(n[e]=null)}),X.isDestroyed=!0,F&&F.destroy(),F=null,B=null,V=null,Q=null,U=null,X=null,K=null},this.getActiveEditor=function(){return U.getActiveEditor()},this.getPlugin=function(t){return Object(m.a)(this,t)},this.getInstance=function(){return X},this.addHook=function(t,e){R.a.getSingleton().add(t,e,X)},this.hasHook=function(t){return R.a.getSingleton().has(t,X)},this.addHookOnce=function(t,e){R.a.getSingleton().once(t,e,X)},this.removeHook=function(t,e){R.a.getSingleton().remove(t,e,X)},this.runHooks=function(t,e,n,r,o,i,a){return R.a.getSingleton().run(X,t,e,n,r,o,i,a)},this.getTranslatedPhrase=function(t,e){return Object(A.a)(B.settings.language,t,e)},this.toHTML=function(){return Object(g.instanceToHTML)(z)},this.toTableElement=function(){var t=z.rootDocument.createElement("div");return t.insertAdjacentHTML("afterbegin",Object(g.instanceToHTML)(z)),t.firstElementChild},this.timeouts=[],this._registerTimeout=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t;"function"===typeof n&&(n=setTimeout(n,e)),this.timeouts.push(n)},this._clearTimeouts=function(){Object(p.arrayEach)(this.timeouts,function(t){clearTimeout(t)})},this.immediates=[],this._registerImmediate=function(e){this.immediates.push(t(e))},this._clearImmediates=function(){Object(p.arrayEach)(this.immediates,function(t){r(t)})},this._refreshBorders=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];U.destroyEditor(t),X.view.render(),e&&Q.isSelected()&&U.prepareEditor()},R.a.getSingleton().run(X,"construct")}}).call(this,n(187).setImmediate,n(187).clearImmediate)},function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s});n(10),n(11),n(7),n(6),n(8),n(32),n(9);var r=new WeakMap,o=Symbol("rootInstance");function i(t){r.set(t,!0)}function a(t){return t===o}function s(t){return r.has(t)}},function(t,e,n){"use strict";n(10),n(11),n(12),n(25),n(236),n(54),n(30),n(41),n(7),n(74),n(23),n(72),n(6),n(26),n(47),n(8),n(127),n(9);var r=n(53),o=n(5);var i=function(t){var e=t.activeHeaderClassName;return new o.c({highlightHeaderClassName:e})};var a=function(t){var e=t.layerLevel,n=t.areaCornerVisible;return new o.c({className:"area",markIntersections:!0,layerLevel:Math.min(e,7),border:{width:1,color:"#4b89ff",cornerVisible:n}})};var s=function(t){var e=t.cellCornerVisible;return new o.c({className:"current",border:{width:2,color:"#4b89ff",cornerVisible:e}})};var l=function(t){var e=t.border,n=t.cellRange;return new o.c(e,n)};var u=function(){return new o.c({className:"fill",border:{width:1,color:"#ff0000"}})};var c=function(t){var e=t.headerClassName,n=t.rowClassName,r=t.columnClassName;return new o.c({className:"highlight",highlightHeaderClassName:e,highlightRowClassName:n,highlightColumnClassName:r})},h=Object(r.a)("highlight/types"),f=h.register,d=h.getItem;function p(t,e){return d(t)(e)}f("active-header",i),f("area",a),f("cell",s),f("custom-selection",l),f("fill",u),f("header",c);var g=n(1);function m(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){y(t,e,n[e])})}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var w="cell",C="fill",O=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.layerLevel=0,this.cell=p(w,e),this.fill=p(C,e),this.areas=new Map,this.headers=new Map,this.activeHeaders=new Map,this.customSelections=[]}var e,n,r;return e=t,(n=[{key:"isEnabledFor",value:function(t){var e="current"===t?w:t,n=this.options.disableHighlight;return"string"===typeof n&&(n=[n]),!1===n||Array.isArray(n)&&!n.includes(e)}},{key:"useLayerLevel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.layerLevel=t,this}},{key:"getCell",value:function(){return this.cell}},{key:"getFill",value:function(){return this.fill}},{key:"createOrGetArea",value:function(){var t,e=this.layerLevel;return this.areas.has(e)?t=this.areas.get(e):(t=p("area",v({layerLevel:e},this.options)),this.areas.set(e,t)),t}},{key:"getAreas",value:function(){return m(this.areas.values())}},{key:"createOrGetHeader",value:function(){var t,e=this.layerLevel;return this.headers.has(e)?t=this.headers.get(e):(t=p("header",v({},this.options)),this.headers.set(e,t)),t}},{key:"getHeaders",value:function(){return m(this.headers.values())}},{key:"createOrGetActiveHeader",value:function(){var t,e=this.layerLevel;return this.activeHeaders.has(e)?t=this.activeHeaders.get(e):(t=p("active-header",v({},this.options)),this.activeHeaders.set(e,t)),t}},{key:"getActiveHeaders",value:function(){return m(this.activeHeaders.values())}},{key:"getCustomSelections",value:function(){return m(this.customSelections.values())}},{key:"addCustomSelection",value:function(t){this.customSelections.push(p("custom-selection",v({},t)))}},{key:"clear",value:function(){this.cell.clear(),this.fill.clear(),Object(g.arrayEach)(this.areas.values(),function(t){t.clear()}),Object(g.arrayEach)(this.headers.values(),function(t){t.clear()}),Object(g.arrayEach)(this.activeHeaders.values(),function(t){t.clear()})}},{key:Symbol.iterator,value:function(){return[this.cell,this.fill].concat(m(this.areas.values()),m(this.headers.values()),m(this.activeHeaders.values()),m(this.customSelections))[Symbol.iterator]()}}])&&b(e.prototype,n),r&&b(e,r),t}();n(36),n(79),n(80),n(71),n(81);function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var E=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ranges=[]}var e,n,r;return e=t,(n=[{key:"isEmpty",value:function(){return 0===this.size()}},{key:"set",value:function(t){return this.clear(),this.ranges.push(new o.b(t)),this}},{key:"add",value:function(t){return this.ranges.push(new o.b(t)),this}},{key:"current",value:function(){return this.peekByIndex(0)}},{key:"previous",value:function(){return this.peekByIndex(-1)}},{key:"includes",value:function(t){return this.ranges.some(function(e){return e.includes(t)})}},{key:"clear",value:function(){return this.ranges.length=0,this}},{key:"size",value:function(){return this.ranges.length}},{key:"peekByIndex",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.size()+e-1;return n>=0&&(t=this.ranges[n]),t}},{key:Symbol.iterator,value:function(){return this.ranges[Symbol.iterator]()}}])&&S(e.prototype,n),r&&S(e,r),t}(),k=n(73),T=n(2),R=n(13),x=n(40);function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var A=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.range=e,this.options=n}var e,n,r;return e=t,(n=[{key:"transformStart",value:function(t,e,n){var r=new o.a(t,e);this.runLocalHooks("beforeTransformStart",r);var i=this.options.countRows(),a=this.options.countCols(),s=this.options.fixedRowsBottom(),l=this.options.minSpareRows(),u=this.options.minSpareCols(),c=this.options.autoWrapRow(),h=this.options.autoWrapCol(),f=this.range.current().highlight;f.row+t>i-1?n&&l>0&&!(s&&f.row>=i-s-1)?(this.runLocalHooks("insertRowRequire",i),i=this.options.countRows()):h&&(r.row=1-i,r.col=f.col+r.col===a-1?1-a:1):h&&f.row+r.row<0&&f.col+r.col>=0&&(r.row=i-1,r.col=f.col+r.col===0?a-1:-1),f.col+r.col>a-1?n&&u>0?(this.runLocalHooks("insertColRequire",a),a=this.options.countCols()):c&&(r.row=f.row+r.row===i-1?1-i:1,r.col=1-a):c&&f.col+r.col<0&&f.row+r.row>=0&&(r.row=f.row+r.row===0?i-1:-1,r.col=a-1);var d=new o.a(f.row+r.row,f.col+r.col),p=0,g=0;return d.row<0?(p=-1,d.row=0):d.row>0&&d.row>=i&&(p=1,d.row=i-1),d.col<0?(g=-1,d.col=0):d.col>0&&d.col>=a&&(g=1,d.col=a-1),this.runLocalHooks("afterTransformStart",d,p,g),d}},{key:"transformEnd",value:function(t,e){var n=new o.a(t,e);this.runLocalHooks("beforeTransformEnd",n);var r=this.options.countRows(),i=this.options.countCols(),a=this.range.current(),s=new o.a(a.to.row+n.row,a.to.col+n.col),l=0,u=0;return s.row<0?(l=-1,s.row=0):s.row>0&&s.row>=r&&(l=1,s.row=r-1),s.col<0?(u=-1,s.col=0):s.col>0&&s.col>=i&&(u=1,s.col=i-1),this.runLocalHooks("afterTransformEnd",s,l,u),s}}])&&M(e.prototype,n),r&&M(e,r),t}();Object(T.mixin)(A,x.a);var N=A,_=n(48),P=n(34);function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function D(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["Unsupported format of the selection ranges was passed. To select cells pass \n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd, columnEnd/columnPropEnd]]) \n        or as an array of CellRange objects."]);return D=function(){return t},t}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var j=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=e,this.tableProps=n,this.inProgress=!1,this.selectedByCorner=!1,this.selectedByRowHeader=new Set,this.selectedByColumnHeader=new Set,this.selectedRange=new E,this.highlight=new O({headerClassName:e.currentHeaderClassName,activeHeaderClassName:e.activeHeaderClassName,rowClassName:e.currentRowClassName,columnClassName:e.currentColClassName,disableHighlight:this.settings.disableVisualSelection,cellCornerVisible:function(){return r.isCellCornerVisible.apply(r,arguments)},areaCornerVisible:function(){return r.isAreaCornerVisible.apply(r,arguments)}}),this.transformation=new N(this.selectedRange,{countRows:function(){return r.tableProps.countRows()},countCols:function(){return r.tableProps.countCols()},fixedRowsBottom:function(){return e.fixedRowsBottom},minSpareRows:function(){return e.minSpareRows},minSpareCols:function(){return e.minSpareCols},autoWrapRow:function(){return e.autoWrapRow},autoWrapCol:function(){return e.autoWrapCol}}),this.transformation.addLocalHook("beforeTransformStart",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.runLocalHooks.apply(r,["beforeModifyTransformStart"].concat(e))}),this.transformation.addLocalHook("afterTransformStart",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.runLocalHooks.apply(r,["afterModifyTransformStart"].concat(e))}),this.transformation.addLocalHook("beforeTransformEnd",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.runLocalHooks.apply(r,["beforeModifyTransformEnd"].concat(e))}),this.transformation.addLocalHook("afterTransformEnd",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.runLocalHooks.apply(r,["afterModifyTransformEnd"].concat(e))}),this.transformation.addLocalHook("insertRowRequire",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.runLocalHooks.apply(r,["insertRowRequire"].concat(e))}),this.transformation.addLocalHook("insertColRequire",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.runLocalHooks.apply(r,["insertColRequire"].concat(e))})}var e,n,r;return e=t,(n=[{key:"getSelectedRange",value:function(){return this.selectedRange}},{key:"begin",value:function(){this.inProgress=!0}},{key:"finish",value:function(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1}},{key:"isInProgress",value:function(){return this.inProgress}},{key:"setRangeStart",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="multiple"===this.settings.selectionMode,o=Object(R.isUndefined)(e)?Object(k.a)():e,i=t.row<0,a=t.col<0,s=i&&a;i&&(t.row=0),a&&(t.col=0),this.selectedByCorner=s,this.runLocalHooks("beforeSetRangeStart".concat(n?"Only":""),t),(!r||r&&!o&&Object(R.isUndefined)(e))&&this.selectedRange.clear(),this.selectedRange.add(t),0===this.getLayerLevel()&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),!s&&a&&this.selectedByRowHeader.add(this.getLayerLevel()),!s&&i&&this.selectedByColumnHeader.add(this.getLayerLevel()),n||this.setRangeEnd(t)}},{key:"setRangeStartOnly",value:function(t,e){this.setRangeStart(t,e,!0)}},{key:"setRangeEnd",value:function(t){if(!this.selectedRange.isEmpty()){this.runLocalHooks("beforeSetRangeEnd",t),this.begin();var e=this.selectedRange.current();"single"!==this.settings.selectionMode&&e.setTo(new o.a(t.row,t.col)),this.highlight.getCell().clear(),this.highlight.isEnabledFor(w)&&this.highlight.getCell().add(this.selectedRange.current().highlight);var n=this.getLayerLevel();n<this.highlight.layerLevel&&(Object(g.arrayEach)(this.highlight.getAreas(),function(t){t.clear()}),Object(g.arrayEach)(this.highlight.getHeaders(),function(t){t.clear()}),Object(g.arrayEach)(this.highlight.getActiveHeaders(),function(t){t.clear()})),this.highlight.useLayerLevel(n);var r=this.highlight.createOrGetArea(),i=this.highlight.createOrGetHeader(),a=this.highlight.createOrGetActiveHeader();if(r.clear(),i.clear(),a.clear(),this.highlight.isEnabledFor("area")&&(this.isMultiple()||n>=1)&&(r.add(e.from).add(e.to),1===n&&(this.highlight.useLayerLevel(n-1).createOrGetArea().add(this.selectedRange.previous().from),this.highlight.useLayerLevel(n))),this.highlight.isEnabledFor("header")&&("single"===this.settings.selectionMode?i.add(e.highlight):i.add(e.from).add(e.to)),this.isSelectedByRowHeader())this.tableProps.countCols()===e.getWidth()&&a.add(new o.a(e.from.row,-1)).add(new o.a(e.to.row,-1));if(this.isSelectedByColumnHeader())this.tableProps.countRows()===e.getHeight()&&a.add(new o.a(-1,e.from.col)).add(new o.a(-1,e.to.col));this.runLocalHooks("afterSetRangeEnd",t)}}},{key:"isMultiple",value:function(){var t=Object(T.createObjectPropListener)(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",t),t.value}},{key:"transformStart",value:function(t,e,n){this.setRangeStart(this.transformation.transformStart(t,e,n))}},{key:"transformEnd",value:function(t,e){this.setRangeEnd(this.transformation.transformEnd(t,e))}},{key:"getLayerLevel",value:function(){return this.selectedRange.size()-1}},{key:"isSelected",value:function(){return!this.selectedRange.isEmpty()}},{key:"isSelectedByRowHeader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===t?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(t)}},{key:"isSelectedByColumnHeader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===t?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(t)}},{key:"isSelectedByAnyHeader",value:function(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)}},{key:"isSelectedByCorner",value:function(){return this.selectedByCorner}},{key:"inInSelection",value:function(t){return this.selectedRange.includes(t)}},{key:"isCellCornerVisible",value:function(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}},{key:"isAreaCornerVisible",value:function(t){return(!Number.isInteger(t)||t===this.getLayerLevel())&&(this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple())}},{key:"clear",value:function(){this.selectedRange.clear(),this.highlight.clear()}},{key:"deselect",value:function(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}},{key:"selectAll",value:function(){this.clear(),this.setRangeStart(new o.a(-1,-1)),this.selectedByRowHeader.add(this.getLayerLevel()),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(new o.a(this.tableProps.countRows()-1,this.tableProps.countCols()-1))}},{key:"selectCells",value:function(t){var e=this,n=Object(_.c)(t);if(n===_.a)return!1;if(n===_.b)throw new Error(Object(P.a)(D()));var r=Object(_.e)(n,{propToCol:function(t){return e.tableProps.propToCol(t)},keepDirection:!0}),i=this.tableProps.countRows(),a=this.tableProps.countCols(),s=!t.some(function(t){var e=I(r(t),4),n=e[0],o=e[1],s=e[2],l=e[3];return!(Object(_.d)(n,i)&&Object(_.d)(o,a)&&Object(_.d)(s,i)&&Object(_.d)(l,a))});return s&&(this.clear(),Object(g.arrayEach)(t,function(t){var n=I(r(t),4),i=n[0],a=n[1],s=n[2],l=n[3];e.setRangeStartOnly(new o.a(i,a),!1),e.setRangeEnd(new o.a(s,l)),e.finish()})),s}},{key:"selectColumns",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n="string"===typeof t?this.tableProps.propToCol(t):t,r="string"===typeof e?this.tableProps.propToCol(e):e,i=this.tableProps.countCols(),a=Object(_.d)(n,i)&&Object(_.d)(r,i);return a&&(this.setRangeStartOnly(new o.a(-1,n)),this.setRangeEnd(new o.a(this.tableProps.countRows()-1,r)),this.finish()),a}},{key:"selectRows",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.tableProps.countRows(),r=Object(_.d)(t,n)&&Object(_.d)(e,n);return r&&(this.setRangeStartOnly(new o.a(t,-1)),this.setRangeEnd(new o.a(e,this.tableProps.countCols()-1)),this.finish()),r}}])&&L(e.prototype,n),r&&L(e,r),t}();Object(T.mixin)(j,x.a);var H=j;n(107);n.d(e,"a",function(){return H}),n.d(e,"b",function(){return _.c}),n.d(e,"c",function(){return _.e})},function(t,e,n){var r=n(57),o=n(97),i=n(98),a=n(69),s=n(99),l=n(55),u=n(161),c=Object.getOwnPropertyDescriptor;e.f=r?c:function(t,e){if(t=a(t),e=s(e,!0),u)try{return c(t,e)}catch(n){}if(l(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var r=n(160),o=n(136);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(105),o=n(109),i=n(67),a=n(56),s=n(146);t.exports=function(t,e){var n=1==t,l=2==t,u=3==t,c=4==t,h=6==t,f=5==t||h,d=e||s;return function(e,s,p){for(var g,m,v=i(e),y=o(v),b=r(s,p,3),w=a(y.length),C=0,O=n?d(e,w):l?d(e,0):void 0;w>C;C++)if((f||C in y)&&(m=b(g=y[C],C,v),t))if(n)O[C]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return C;case 2:O.push(g)}else if(c)return!1;return h?-1:u||c?c:O}}},function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"a",function(){return h}),n.d(e,"d",function(){return f});n(25),n(36),n(71);var r=n(13),o=n(2),i=n(31),a=n(34),s=n(68);function l(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['Language with code "','" was not found. You should register particular language \n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.']);return l=function(){return t},t}function u(t,e){return Object(o.objectEach)(e,function(e,n){Object(r.isUndefined)(t[n])&&(t[n]=e)}),t}function c(t){var e=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(t);return e?"".concat(e[1].toLowerCase(),"-").concat(e[2].toUpperCase()):t}function h(t,e){var n=c(e);Object(s.d)(n)?t.language=n:(t.language=s.a,f(e))}function f(t){Object(r.isDefined)(t)&&Object(i.a)(Object(a.a)(l(),t))}},function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"Loose",function(){return ys}),n.d(r,"Strict",function(){return Cs});var o={};n.r(o),n.d(o,"OPERATION_NAME",function(){return sf}),n.d(o,"prepare",function(){return lf}),n.d(o,"operate",function(){return uf});var i={};n.r(i),n.d(i,"OPERATION_NAME",function(){return cf}),n.d(i,"operate",function(){return hf});var a={};n.r(a),n.d(a,"OPERATION_NAME",function(){return df}),n.d(a,"operate",function(){return pf});var s={};n.r(s),n.d(s,"OPERATION_NAME",function(){return mf}),n.d(s,"operate",function(){return vf});var l={};n.r(l),n.d(l,"OPERATION_NAME",function(){return bf}),n.d(l,"operate",function(){return wf});var u={};n.r(u),n.d(u,"AutoColumnSize",function(){return ct}),n.d(u,"AutoFill",function(){return wt}),n.d(u,"AutoRowSize",function(){return At}),n.d(u,"Base",function(){return B}),n.d(u,"BindRowsWithHeaders",function(){return _s}),n.d(u,"CollapsibleColumns",function(){return Fs}),n.d(u,"ColumnSorting",function(){return Le}),n.d(u,"ColumnSummary",function(){return Qs}),n.d(u,"Comments",function(){return dn}),n.d(u,"ContextMenu",function(){return er}),n.d(u,"CopyPaste",function(){return Tr}),n.d(u,"CustomBorders",function(){return zr}),n.d(u,"DragToScroll",function(){return Zr}),n.d(u,"DropdownMenu",function(){return al}),n.d(u,"ExportFile",function(){return _l}),n.d(u,"Filters",function(){return Th}),n.d(u,"Formulas",function(){return qf}),n.d(u,"GanttChart",function(){return gd}),n.d(u,"HeaderTooltips",function(){return Sd}),n.d(u,"HiddenColumns",function(){return xp}),n.d(u,"HiddenRows",function(){return Hp}),n.d(u,"ManualColumnFreeze",function(){return uo}),n.d(u,"ManualColumnMove",function(){return Fo}),n.d(u,"ManualColumnResize",function(){return Ko}),n.d(u,"ManualRowMove",function(){return Ei}),n.d(u,"ManualRowResize",function(){return _i}),n.d(u,"MergeCells",function(){return ua}),n.d(u,"MultiColumnSorting",function(){return Yl}),n.d(u,"MultipleSelectionHandles",function(){return va}),n.d(u,"NestedHeaders",function(){return Ld}),n.d(u,"NestedRows",function(){return vp}),n.d(u,"ObserveChanges",function(){return _a}),n.d(u,"PersistentState",function(){return q}),n.d(u,"Search",function(){return za}),n.d(u,"TouchScroll",function(){return Za}),n.d(u,"TrimRows",function(){return qp}),n.d(u,"UndoRedo",function(){return gs});n(213);var c=n(33),h=n(39),f=n(50),d=n(77),p=n(87);n(25);var g=n(20),m=n(16),v=(n(124),n(127),n(0)),y=n(1);function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var w=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null,this.settings={useHeaders:!0}}var e,n,r;return e=t,(n=[{key:"addRow",value:function(t,e){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={row:t};this.rows.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}},{key:"addColumnHeadersRow",value:function(t){var e=this.hot.getColHeader(0);if(null!==e&&void 0!==e){var n={row:-1};this.rows.push(n),this.container=this.createContainer(this.hot.rootElement.className),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tHead.appendChild(this.createColumnHeadersRow()),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}}},{key:"addColumn",value:function(t,e){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={col:t};this.columns.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&null!==this.hot.getColHeader(t)&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}},{key:"getHeights",value:function(t){this.injected||this.injectTable(),Object(y.arrayEach)(this.rows,function(e){t(e.row,Object(v.outerHeight)(e.table)-1)})}},{key:"getWidths",value:function(t){this.injected||this.injectTable(),Object(y.arrayEach)(this.columns,function(e){t(e.col,Object(v.outerWidth)(e.table))})}},{key:"setSettings",value:function(t){this.settings=t}},{key:"setSetting",value:function(t,e){this.settings||(this.settings={}),this.settings[t]=e}},{key:"getSettings",value:function(){return this.settings}},{key:"getSetting",value:function(t){return this.settings?this.settings[t]:null}},{key:"createColGroupsCol",value:function(){var t=this,e=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&e.appendChild(this.createColElement(-1)),this.samples.forEach(function(n){Object(y.arrayEach)(n.strings,function(n){e.appendChild(t.createColElement(n.col))})}),e}},{key:"createRow",value:function(t){var e=this,n=this.hot.rootDocument,r=n.createDocumentFragment(),o=n.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(t,o),r.appendChild(o)),this.samples.forEach(function(o){Object(y.arrayEach)(o.strings,function(o){var i=o.col,a=e.hot.getCellMeta(t,i);a.col=i,a.row=t;var s=e.hot.getCellRenderer(a),l=n.createElement("td");l.setAttribute("ghost-table",1),s(e.hot,l,t,i,e.hot.colToProp(i),o.value,a),r.appendChild(l)})}),r}},{key:"createColumnHeadersRow",value:function(){var t=this,e=this.hot.rootDocument,n=e.createDocumentFragment();if(this.hot.hasRowHeaders()){var r=e.createElement("th");this.hot.view.appendColHeader(-1,r),n.appendChild(r)}return this.samples.forEach(function(r){Object(y.arrayEach)(r.strings,function(r){var o=r.col,i=e.createElement("th");t.hot.view.appendColHeader(o,i),n.appendChild(i)})}),n}},{key:"createCol",value:function(t){var e=this,n=this.hot.rootDocument,r=n.createDocumentFragment();return this.samples.forEach(function(o){Object(y.arrayEach)(o.strings,function(o){var i=o.row,a=e.hot.getCellMeta(i,t);a.col=t,a.row=i;var s=e.hot.getCellRenderer(a),l=n.createElement("td"),u=n.createElement("tr");l.setAttribute("ghost-table",1),s(e.hot,l,i,t,e.hot.colToProp(t),o.value,a),u.appendChild(l),r.appendChild(u)})}),r}},{key:"clean",value:function(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}},{key:"injectTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}},{key:"removeTable",value:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}},{key:"createColElement",value:function(t){var e=this.hot.rootDocument.createElement("col");return e.style.width="".concat(this.hot.view.wt.wtTable.getStretchedColumnWidth(t),"px"),e}},{key:"createTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.hot.rootDocument,n=e.createDocumentFragment(),r=e.createElement("table"),o=e.createElement("thead"),i=e.createElement("tbody"),a=e.createElement("colgroup"),s=e.createElement("tr"),l=e.createElement("th");return this.isVertical()&&r.appendChild(a),this.isHorizontal()&&(s.appendChild(l),o.appendChild(s),r.style.tableLayout="auto",r.style.width="auto"),r.appendChild(o),this.isVertical()&&i.appendChild(s),r.appendChild(i),Object(v.addClass)(r,t),n.appendChild(r),{fragment:n,table:r,tHead:o,tBody:i,colGroup:a,tr:s,th:l}}},{key:"createContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.hot.rootDocument,n=e.createDocumentFragment(),r=e.createElement("div"),o="htGhostTable htAutoSize ".concat(t.trim());return Object(v.addClass)(r,o),n.appendChild(r),{fragment:n,container:r}}},{key:"isVertical",value:function(){return!(!this.rows.length||this.columns.length)}},{key:"isHorizontal",value:function(){return!(!this.columns.length||this.rows.length)}}])&&b(e.prototype,n),r&&b(e,r),t}(),C=n(76),O=n(42),S=n(65),E=n(129),k=n(35),T=n(29),R=n(13),x=n(4),M=n(2),A=n(82),N=n(37),_=n(17),P=n(14),I=(n(10),n(11),n(12),n(7),n(23),n(18),n(19),n(6),n(24),n(8),n(9),n(22),n(43),n(32),n(64)),D=n(15);function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var j=new WeakMap,H=null,B=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(M.defineGetter)(this,"hot",e,{writable:!1}),Object(M.defineGetter)(this,"t",Object(I.a)(e),{writable:!1}),j.set(this,{hooks:{}}),H=null,this.pluginName=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",function(){return n.onAfterPluginsInitialized()}),this.hot.addHook("afterUpdateSettings",function(t){return n.onUpdateSettings(t)}),this.hot.addHook("beforeInit",function(){return n.init()})}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.pluginName=Object(D.b)(this.hot,this),this.isEnabled&&this.isEnabled()&&this.enablePlugin(),H||(H=Object(D.c)(this.hot)),H.indexOf(this.pluginName)>=0&&H.splice(H.indexOf(this.pluginName),1),H.length||this.hot.runHooks("afterPluginsInitialized"),this.initialized=!0}},{key:"enablePlugin",value:function(){this.enabled=!0}},{key:"disablePlugin",value:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1}},{key:"addHook",value:function(t,e){j.get(this).hooks[t]=j.get(this).hooks[t]||[];var n=j.get(this).hooks[t];this.hot.addHook(t,e),n.push(e),j.get(this).hooks[t]=n}},{key:"removeHooks",value:function(t){var e=this;Object(y.arrayEach)(j.get(this).hooks[t]||[],function(n){e.hot.removeHook(t,n)})}},{key:"clearHooks",value:function(){var t=this,e=j.get(this).hooks;Object(M.objectEach)(e,function(e,n){return t.removeHooks(n)}),e.length=0}},{key:"callOnPluginsReady",value:function(t){this.isPluginsReady?t():this.pluginsInitializedCallbacks.push(t)}},{key:"onAfterPluginsInitialized",value:function(){Object(y.arrayEach)(this.pluginsInitializedCallbacks,function(t){return t()}),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}},{key:"onUpdateSettings",value:function(){this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&this.updatePlugin())}},{key:"updatePlugin",value:function(){}},{key:"destroy",value:function(){var t=this;this.eventManager&&this.eventManager.destroy(),this.clearHooks(),Object(M.objectEach)(this,function(e,n){"hot"!==n&&"t"!==n&&(t[n]=null)}),delete this.t,delete this.hot}}])&&L(e.prototype,n),r&&L(e,r),t}();function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var W=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rootWindow=n,this.prefix=e,this.savedKeys=[],this.loadSavedKeys()}var e,n,r;return e=t,(n=[{key:"saveValue",value:function(t,e){this.rootWindow.localStorage.setItem("".concat(this.prefix,"_").concat(t),JSON.stringify(e)),-1===this.savedKeys.indexOf(t)&&(this.savedKeys.push(t),this.saveSavedKeys())}},{key:"loadValue",value:function(t,e){var n="undefined"===typeof t?e:t,r=this.rootWindow.localStorage.getItem("".concat(this.prefix,"_").concat(n));return null===r?void 0:JSON.parse(r)}},{key:"reset",value:function(t){this.rootWindow.localStorage.removeItem("".concat(this.prefix,"_").concat(t))}},{key:"resetAll",value:function(){var t=this;Object(y.arrayEach)(this.savedKeys,function(e,n){t.rootWindow.localStorage.removeItem("".concat(t.prefix,"_").concat(t.savedKeys[n]))}),this.clearSavedKeys()}},{key:"loadSavedKeys",value:function(){var t=this.rootWindow.localStorage.getItem("".concat(this.prefix,"__persistentStateKeys")),e="string"===typeof t?JSON.parse(t):void 0;this.savedKeys=e||[]}},{key:"saveSavedKeys",value:function(){this.rootWindow.localStorage.setItem("".concat(this.prefix,"__persistentStateKeys"),JSON.stringify(this.savedKeys))}},{key:"clearSavedKeys",value:function(){this.savedKeys.length=0,this.saveSavedKeys()}}])&&F(e.prototype,n),r&&F(e,r),t}();function V(t){return(V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z(t,e){return!e||"object"!==V(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t,e,n){return(Y="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=G(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}m.a.getSingleton().register("persistentStateSave"),m.a.getSingleton().register("persistentStateLoad"),m.a.getSingleton().register("persistentStateReset");var K=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=z(this,G(e).call(this,t))).storage=void 0,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().persistentState}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.storage||(this.storage=new W(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",function(e,n){return t.saveValue(e,n)}),this.addHook("persistentStateLoad",function(e,n){return t.loadValue(e,n)}),this.addHook("persistentStateReset",function(){return t.resetValue()}),Y(G(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.storage=void 0,Y(G(e.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Y(G(e.prototype),"updatePlugin",this).call(this)}},{key:"loadValue",value:function(t,e){e.value=this.storage.loadValue(t)}},{key:"saveValue",value:function(t,e){this.storage.saveValue(t,e)}},{key:"resetValue",value:function(t){"undefined"===typeof t?this.storage.resetAll():this.storage.reset(t)}},{key:"destroy",value:function(){Y(G(e.prototype),"destroy",this).call(this)}}])&&U(n.prototype,r),o&&U(n,o),e}();Object(D.d)("persistentState",K);var q=K;n(74),n(72);function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e,n){return e&&$(t.prototype,e),n&&$(t,n),t}var Z=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.samples=null,this.dataFactory=e,this.customSampleCount=null,this.allowDuplicates=!1}return Q(t,null,[{key:"SAMPLE_COUNT",get:function(){return 3}}]),Q(t,[{key:"getSampleCount",value:function(){return this.customSampleCount?this.customSampleCount:t.SAMPLE_COUNT}},{key:"setSampleCount",value:function(t){this.customSampleCount=t}},{key:"setAllowDuplicates",value:function(t){this.allowDuplicates=t}},{key:"generateRowSamples",value:function(t,e){return this.generateSamples("row",e,t)}},{key:"generateColumnSamples",value:function(t,e){return this.generateSamples("col",e,t)}},{key:"generateSamples",value:function(t,e,n){var r=this,o=new Map,i="number"===typeof n?{from:n,to:n}:n,a=i.from,s=i.to;return Object(x.rangeEach)(a,s,function(n){var i=r.generateSample(t,e,n);o.set(n,i)}),o}},{key:"generateSample",value:function(t,e,n){var r=this;if("row"!==t&&"col"!==t)throw new Error("Unsupported sample type");var o=new Map,i="row"===t?"col":"row",a=[];return Object(x.rangeEach)(e.from,e.to,function(e){var s,l="row"===t?r.dataFactory(n,e):r.dataFactory(e,n),u=l.value,c=l.bundleCountSeed,h=c>0;s=Object(M.isObject)(u)?Object.keys(u).length:Array.isArray(u)?u.length:Object(R.stringify)(u).length,h&&(s+=c),o.has(s)||o.set(s,{needed:r.getSampleCount(),strings:[]});var f=o.get(s);f.needed&&((!(a.indexOf(u)>-1)||r.allowDuplicates||h)&&(f.strings.push(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({value:u},i,e)),a.push(u),f.needed-=1))}),o}}]),t}(),J=n(5);function tt(t){return(tt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(t,e,n){return(rt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ot(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function at(t,e,n){return e&&it(t.prototype,e),n&&it(t,n),t}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lt=new WeakMap,ut=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o=ot(e).call(this,t),n=!o||"object"!==tt(o)&&"function"!==typeof o?nt(r):o,lt.set(nt(n),{cachedColumnHeaders:[]}),n.widths=[],n.ghostTable=new w(n.hot),n.samplesGenerator=new Z(function(t,e){var r=n.hot.getCellMeta(t,e),o="";r.spanned||(o=n.hot.getDataAtCell(t,e));var i=0;if(r.label){var a=r.label,s=a.value,l=a.property,u="";s?u="function"===typeof s?s(t,e,n.hot.colToProp(e),o):s:l&&(u=n.hot.getDataAtRowProp(t,l)),i=u.length}return{value:o,bundleCountSeed:i}}),n.firstCalculation=!0,n.inProgress=!1,n.addHook("beforeColumnResize",function(t,e,r){return n.onBeforeColumnResize(t,e,r)}),n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(e,B),at(e,null,[{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 50}}]),at(e,[{key:"isEnabled",value:function(){return!1!==this.hot.getSettings().autoColumnSize&&!this.hot.getSettings().colWidths}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){var n=this.hot.getSettings().autoColumnSize;n&&null!==n.useHeaders&&void 0!==n.useHeaders&&this.ghostTable.setSetting("useHeaders",n.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",function(){return t.onAfterLoadData()}),this.addHook("beforeChange",function(e){return t.onBeforeChange(e)}),this.addHook("beforeRender",function(e){return t.onBeforeRender(e)}),this.addHook("modifyColWidth",function(e,n){return t.getColumnWidth(n,e)}),this.addHook("afterInit",function(){return t.onAfterInit()}),rt(ot(e.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var t=this.findColumnsWhereHeaderWasChanged();t.length&&this.clearCache(t),rt(ot(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){rt(ot(e.prototype),"disablePlugin",this).call(this)}},{key:"calculateColumnsWidth",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="number"===typeof e?{from:e,to:e}:e,i="number"===typeof n?{from:n,to:n}:n;Object(x.rangeEach)(o.from,o.to,function(e){if(r||void 0===t.widths[e]&&!t.hot._getColWidthFromSettings(e)){var n=t.samplesGenerator.generateColumnSamples(e,i);Object(y.arrayEach)(n,function(e){var n=et(e,2),r=n[0],o=n[1];return t.ghostTable.addColumn(r,o)})}}),this.ghostTable.columns.length&&(this.ghostTable.getWidths(function(e,n){t.widths[e]=n}),this.ghostTable.clean())}},{key:"calculateAllColumnsWidth",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},r=0,o=this.hot.countCols()-1,i=null;this.inProgress=!0;var a=this.getSyncCalculationLimit();this.firstCalculation&&a>=0&&(this.calculateColumnsWidth({from:0,to:a},n),this.firstCalculation=!1,r=a+1),r<o?function a(){if(!t.hot)return Object(k.cancelAnimationFrame)(i),void(t.inProgress=!1);t.calculateColumnsWidth({from:r,to:Math.min(r+e.CALCULATION_STEP,o)},n),(r=r+e.CALCULATION_STEP+1)<o?i=Object(k.requestAnimationFrame)(a):(Object(k.cancelAnimationFrame)(i),t.inProgress=!1,t.hot.view.wt.wtOverlays.adjustElementsSize())}():this.inProgress=!1}},{key:"setSamplingOptions",value:function(){var t=this.hot.getSettings().autoColumnSize,e=t&&Object(M.hasOwnProperty)(t,"samplingRatio")?this.hot.getSettings().autoColumnSize.samplingRatio:void 0,n=t&&Object(M.hasOwnProperty)(t,"allowSampleDuplicates")?this.hot.getSettings().autoColumnSize.allowSampleDuplicates:void 0;e&&!isNaN(e)&&this.samplesGenerator.setSampleCount(parseInt(e,10)),n&&this.samplesGenerator.setAllowDuplicates(n)}},{key:"recalculateAllColumnsWidth",value:function(){this.hot.view&&Object(v.isVisible)(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllColumnsWidth())}},{key:"getSyncCalculationLimit",value:function(){var t=e.SYNC_CALCULATION_LIMIT,n=this.hot.countCols()-1;return Object(M.isObject)(this.hot.getSettings().autoColumnSize)&&(t=this.hot.getSettings().autoColumnSize.syncLimit,Object(N.isPercentValue)(t)?t=Object(x.valueAccordingPercent)(n,t):t>>=0),Math.min(t,n)}},{key:"getColumnWidth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e;return void 0===r&&(r=this.widths[t],n&&"number"===typeof r&&(r=Math.max(r,J.d.DEFAULT_WIDTH))),r}},{key:"getFirstVisibleColumn",value:function(){var t=this.hot.view.wt;return t.wtViewport.columnsVisibleCalculator?t.wtTable.getFirstVisibleColumn():t.wtViewport.columnsRenderCalculator?t.wtTable.getFirstRenderedColumn():-1}},{key:"getLastVisibleColumn",value:function(){var t=this.hot.view.wt;return t.wtViewport.columnsVisibleCalculator?t.wtTable.getLastVisibleColumn():t.wtViewport.columnsRenderCalculator?t.wtTable.getLastRenderedColumn():-1}},{key:"findColumnsWhereHeaderWasChanged",value:function(){var t=this.hot.getColHeader(),e=lt.get(this).cachedColumnHeaders;return Object(y.arrayReduce)(t,function(t,n,r){var o=e.length;return(o-1<r||e[r]!==n)&&t.push(r),o-1<r?e.push(n):e[r]=n,t},[])}},{key:"clearCache",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length?Object(y.arrayEach)(e,function(e){t.widths[e]=void 0}):this.widths.length=0}},{key:"isNeedRecalculate",value:function(){return!!Object(y.arrayFilter)(this.widths,function(t){return void 0===t}).length}},{key:"onBeforeRender",value:function(){var t=this.hot.renderCall,e=this.hot.countRows(),n=this.getFirstVisibleColumn(),r=this.getLastVisibleColumn();null!==n&&null!==r&&e&&(this.calculateColumnsWidth({from:n,to:r},void 0,t),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth())}},{key:"onAfterLoadData",value:function(){var t=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){t.hot&&t.recalculateAllColumnsWidth()},0)}},{key:"onBeforeChange",value:function(t){var e=this,n=Object(y.arrayMap)(t,function(t){var n=et(t,2)[1];return e.hot.propToCol(n)});this.clearCache(n)}},{key:"onBeforeColumnResize",value:function(t,e,n){var r=e;return n&&(this.calculateColumnsWidth(t,void 0,!0),r=this.getColumnWidth(t,void 0,!1)),r}},{key:"onAfterInit",value:function(){lt.get(this).cachedColumnHeaders=this.hot.getColHeader()}},{key:"destroy",value:function(){this.ghostTable.clean(),rt(ot(e.prototype),"destroy",this).call(this)}}]),e}();Object(D.d)("autoColumnSize",ut);var ct=ut,ht=(n(30),n(41),n(26),n(47),{horizontal:"horizontal",vertical:"vertical"});function ft(t){return(ft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mt(t,e,n){return(mt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}m.a.getSingleton().register("modifyAutofillRange"),m.a.getSingleton().register("beforeAutofill");var bt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=vt(e).call(this,t))||"object"!==ft(o)&&"function"!==typeof o?gt(r):o).eventManager=new g.a(gt(n)),n.addingStarted=!1,n.mouseDownOnCellCorner=!1,n.mouseDragOutside=!1,n.handleDraggedCells=0,n.directions=[],n.autoInsertRow=!1,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return this.hot.getSettings().fillHandle}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",function(e){return t.onAfterCellCornerMouseDown(e)}),this.addHook("afterOnCellCornerDblClick",function(e){return t.onCellCornerDblClick(e)}),this.addHook("beforeOnCellMouseOver",function(e,n){return t.onBeforeCellMouseOver(n)}),mt(vt(e.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),mt(vt(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.clearMappedSettings(),mt(vt(e.prototype),"disablePlugin",this).call(this)}},{key:"getCopyableRanges",value:function(){var t=this.hot.getSelectedRangeLast(),e=t.getTopLeftCorner(),n=t.getBottomRightCorner(),r=e.row,o=e.col,i=n.row,a=n.col,s=[];return s.push({startRow:r,startCol:o,endRow:i,endCol:a}),s=this.hot.runHooks("modifyCopyableRange",s)}},{key:"getSelectionData",value:function(){var t=this,e=this.getCopyableRanges(),n=[],r=[],o=[];return Object(y.arrayEach)(e,function(t){Object(x.rangeEach)(t.startRow,t.endRow,function(t){-1===n.indexOf(t)&&n.push(t)}),Object(x.rangeEach)(t.startCol,t.endCol,function(t){-1===r.indexOf(t)&&r.push(t)})}),Object(y.arrayEach)(n,function(e){var n=[];Object(y.arrayEach)(r,function(r){n.push(t.hot.getCopyableData(e,r))}),o.push(n)}),o}},{key:"fillIn",value:function(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;var t=this.hot.selection.highlight.getFill().getCorners();this.resetSelectionOfDraggedArea();var e=this.getCornersOfSelectedCells(),n=function(t,e){var n,r,o;return e[0]===t[0]&&e[1]<t[1]?(o="left",n=new J.a(e[0],e[1]),r=new J.a(e[2],t[1]-1)):e[2]===t[2]&&e[0]===t[0]&&e[3]>t[3]?(o="right",n=new J.a(e[0],t[3]+1),r=new J.a(e[2],e[3])):e[0]<t[0]&&e[1]===t[1]?(o="up",n=new J.a(e[0],e[1]),r=new J.a(t[0]-1,e[3])):e[2]>t[2]&&e[1]===t[1]&&(o="down",n=new J.a(t[2]+1,e[1]),r=new J.a(e[2],e[3])),{directionOfDrag:o,startOfDragCoords:n,endOfDragCoords:r}}(e,t=this.hot.runHooks("modifyAutofillRange",t,e)),r=n.directionOfDrag,o=n.startOfDragCoords,i=n.endOfDragCoords;if(o&&o.row>-1&&o.col>-1){var a=this.getSelectionData();this.hot.runHooks("beforeAutofill",o,i,a);var s=function(t,e,n,r){var o=n.length,i=n?n[0].length:0,a=[],s=e.row-t.row,l=e.col-t.col;if(-1!==["down","up"].indexOf(r)){for(var u=[],c=0;c<l;c++){var h=parseInt(n[0][c],10),f=parseInt(n[o-1][c],10),d=("down"===r?f-h:h-f)/(o-1)||0;u.push(d)}a.push(u)}if(-1!==["right","left"].indexOf(r))for(var p=0;p<s;p++){var g=parseInt(n[p][0],10),m=parseInt(n[p][i-1],10),v=("right"===r?m-g:g-m)/(i-1)||0;a.push([v])}return a}(o,i,a,r),l=a;if(["up","left"].indexOf(r)>-1){l=[];var u=null,c=null;if("up"===r){c=(u=i.row-o.row+1)%a.length;for(var h=0;h<u;h++)l.push(a[(h+(a.length-c))%a.length])}else{c=(u=i.col-o.col+1)%a[0].length;for(var f=0;f<a.length;f++){l.push([]);for(var d=0;d<u;d++)l[f].push(a[f][(d+(a[f].length-c))%a[f].length])}}}this.hot.populateFromArray(o.row,o.col,l,i.row,i.col,"".concat(this.pluginName,".fill"),null,r,s),this.setSelection(t)}else this.hot._refreshBorders();return!0}},{key:"reduceSelectionAreaIfNeeded",value:function(t){return t.row<0&&(t.row=0),t.col<0&&(t.col=0),t}},{key:"getCoordsOfDragAndDropBorders",value:function(t){var e,n=this.hot.getSelectedRangeLast().getTopLeftCorner(),r=this.hot.getSelectedRangeLast().getBottomRightCorner();if(this.directions.includes(ht.vertical)&&(r.row<t.row||n.row>t.row))e=new J.a(t.row,r.col);else{if(!this.directions.includes(ht.horizontal))return;e=new J.a(r.row,t.col)}return this.reduceSelectionAreaIfNeeded(e)}},{key:"showBorder",value:function(t){var e=this.getCoordsOfDragAndDropBorders(t);e&&this.redrawBorders(e)}},{key:"addRow",value:function(){var t=this;this.hot._registerTimeout(setTimeout(function(){t.hot.alter("insert_row",void 0,1,"".concat(t.pluginName,".fill")),t.addingStarted=!1},200))}},{key:"addNewRowIfNeeded",value:function(){if(this.hot.selection.highlight.getFill().cellRange&&!1===this.addingStarted&&this.autoInsertRow){var t=this.hot.getSelectedLast(),e=this.hot.selection.highlight.getFill().getCorners(),n=this.hot.countRows();t[2]<n-1&&e[2]===n-1&&(this.addingStarted=!0,this.addRow())}}},{key:"getCornersOfSelectedCells",value:function(){return this.hot.selection.isMultiple()?this.hot.selection.highlight.createOrGetArea().getCorners():this.hot.selection.highlight.getCell().getCorners()}},{key:"getIndexOfLastAdjacentFilledInRow",value:function(t){for(var e,n=this.hot.getData(),r=this.hot.countRows(),o=t[2]+1;o<r;o++){for(var i=t[1];i<=t[3];i++){if(n[o][i])return-1}var a=n[o][t[1]-1],s=n[o][t[3]+1];(a||s)&&(e=o)}return e}},{key:"addSelectionFromStartAreaToSpecificRowIndex",value:function(t,e){this.hot.selection.highlight.getFill().clear().add(new J.a(t[0],t[1])).add(new J.a(e,t[3]))}},{key:"setSelection",value:function(t){var e;(e=this.hot).selectCell.apply(e,dt(t).concat([!1,!1]))}},{key:"selectAdjacent",value:function(){var t=this.getCornersOfSelectedCells(),e=this.getIndexOfLastAdjacentFilledInRow(t);return-1!==e&&void 0!==e&&(this.addSelectionFromStartAreaToSpecificRowIndex(t,e),!0)}},{key:"resetSelectionOfDraggedArea",value:function(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}},{key:"redrawBorders",value:function(t){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(t),this.hot.view.render()}},{key:"getIfMouseWasDraggedOutside",value:function(t){var e=this.hot.rootDocument.documentElement,n=Object(v.offset)(this.hot.table).top-(this.hot.rootWindow.pageYOffset||e.scrollTop)+Object(v.outerHeight)(this.hot.table),r=Object(v.offset)(this.hot.table).left-(this.hot.rootWindow.pageXOffset||e.scrollLeft)+Object(v.outerWidth)(this.hot.table);return t.clientY>n&&t.clientX<=r}},{key:"registerEvents",value:function(){var t=this,e=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(e,"mouseup",function(){return t.onMouseUp()}),this.eventManager.addEventListener(e,"mousemove",function(e){return t.onMouseMove(e)})}},{key:"onCellCornerDblClick",value:function(){this.selectAdjacent()&&this.fillIn()}},{key:"onAfterCellCornerMouseDown",value:function(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}},{key:"onBeforeCellMouseOver",value:function(t){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(t),this.addNewRowIfNeeded())}},{key:"onMouseUp",value:function(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}},{key:"onMouseMove",value:function(t){var e=this.getIfMouseWasDraggedOutside(t);!1===this.addingStarted&&this.handleDraggedCells>0&&e?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}},{key:"clearMappedSettings",value:function(){this.directions.length=0,this.autoInsertRow=!1}},{key:"mapSettings",value:function(){var t=function(t){var e={};return!0===t?(e.directions=Object.keys(ht),e.autoInsertRow=!0):Object(M.isObject)(t)?(Object(R.isDefined)(t.autoInsertRow)?t.direction===ht.horizontal?e.autoInsertRow=!1:e.autoInsertRow=t.autoInsertRow:e.autoInsertRow=!1,Object(R.isDefined)(t.direction)?e.directions=[t.direction]:e.directions=Object.keys(ht)):"string"===typeof t?(e.directions=[t],e.autoInsertRow=!0):(e.directions=[],e.autoInsertRow=!1),e}(this.hot.getSettings().fillHandle);this.directions=t.directions,this.autoInsertRow=t.autoInsertRow}},{key:"destroy",value:function(){mt(vt(e.prototype),"destroy",this).call(this)}}])&&pt(n.prototype,r),o&&pt(n,o),e}();Object(D.d)("autofill",bt);var wt=bt;function Ct(t){return(Ct="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ot(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function St(t,e){return!e||"object"!==Ct(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Et(t,e,n){return(Et="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rt(t,e,n){return e&&Tt(t.prototype,e),n&&Tt(t,n),t}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=St(this,kt(e).call(this,t))).heights=[],n.ghostTable=new w(n.hot),n.samplesGenerator=new Z(function(t,e){var r;return t>=0?r=n.hot.getDataAtCell(t,e):-1===t&&(r=n.hot.getColHeader(e)),{value:r}}),n.firstCalculation=!0,n.inProgress=!1,n.addHook("beforeRowResize",function(t,e,r){return n.onBeforeRowResize(t,e,r)}),n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(e,B),Rt(e,null,[{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 500}}]),Rt(e,[{key:"isEnabled",value:function(){return!0===this.hot.getSettings().autoRowSize||Object(M.isObject)(this.hot.getSettings().autoRowSize)}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){return t.onAfterLoadData()}),this.addHook("beforeChange",function(e){return t.onBeforeChange(e)}),this.addHook("beforeColumnMove",function(){return t.recalculateAllRowsHeight()}),this.addHook("beforeColumnResize",function(){return t.recalculateAllRowsHeight()}),this.addHook("beforeColumnSort",function(){return t.clearCache()}),this.addHook("beforeRender",function(e){return t.onBeforeRender(e)}),this.addHook("beforeRowMove",function(e,n){return t.onBeforeRowMove(e,n)}),this.addHook("modifyRowHeight",function(e,n){return t.getRowHeight(n,e)}),this.addHook("modifyColumnHeaderHeight",function(){return t.getColumnHeaderHeight()}),Et(kt(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){Et(kt(e.prototype),"disablePlugin",this).call(this)}},{key:"calculateRowsHeight",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="number"===typeof e?{from:e,to:e}:e,i="number"===typeof n?{from:n,to:n}:n;if(null!==this.hot.getColHeader(0)){var a=this.samplesGenerator.generateRowSamples(-1,i);this.ghostTable.addColumnHeadersRow(a.get(-1))}Object(x.rangeEach)(o.from,o.to,function(e){if(r||void 0===t.heights[e]){var n=t.samplesGenerator.generateRowSamples(e,i);Object(y.arrayEach)(n,function(e){var n=Ot(e,2),r=n[0],o=n[1];return t.ghostTable.addRow(r,o)})}}),this.ghostTable.rows.length&&(this.ghostTable.getHeights(function(e,n){t.heights[e]=n}),this.ghostTable.clean())}},{key:"calculateAllRowsHeight",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},r=0,o=this.hot.countRows()-1,i=null;this.inProgress=!0;var a=this.getSyncCalculationLimit();this.firstCalculation&&a>=0&&(this.calculateRowsHeight({from:0,to:a},n),this.firstCalculation=!1,r=a+1),r<o?function a(){if(!t.hot)return Object(k.cancelAnimationFrame)(i),void(t.inProgress=!1);t.calculateRowsHeight({from:r,to:Math.min(r+e.CALCULATION_STEP,o)},n),(r=r+e.CALCULATION_STEP+1)<o?i=Object(k.requestAnimationFrame)(a):(Object(k.cancelAnimationFrame)(i),t.inProgress=!1,t.hot.view.wt.wtOverlays.adjustElementsSize(!0),t.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&t.hot.view.wt.wtOverlays.leftOverlay.clone.draw())}():(this.inProgress=!1,this.hot.view.wt.wtOverlays.adjustElementsSize(!1))}},{key:"setSamplingOptions",value:function(){var t=this.hot.getSettings().autoRowSize,e=t&&Object(M.hasOwnProperty)(t,"samplingRatio")?this.hot.getSettings().autoRowSize.samplingRatio:void 0,n=t&&Object(M.hasOwnProperty)(t,"allowSampleDuplicates")?this.hot.getSettings().autoRowSize.allowSampleDuplicates:void 0;e&&!isNaN(e)&&this.samplesGenerator.setSampleCount(parseInt(e,10)),n&&this.samplesGenerator.setAllowDuplicates(n)}},{key:"recalculateAllRowsHeight",value:function(){Object(v.isVisible)(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}},{key:"getSyncCalculationLimit",value:function(){var t=e.SYNC_CALCULATION_LIMIT,n=this.hot.countRows()-1;return Object(M.isObject)(this.hot.getSettings().autoRowSize)&&(t=this.hot.getSettings().autoRowSize.syncLimit,Object(N.isPercentValue)(t)?t=Object(x.valueAccordingPercent)(n,t):t>>=0),Math.min(t,n)}},{key:"getRowHeight",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=e;return void 0!==this.heights[t]&&this.heights[t]>(e||0)&&(n=this.heights[t]),n}},{key:"getColumnHeaderHeight",value:function(){return this.heights[-1]}},{key:"getFirstVisibleRow",value:function(){var t=this.hot.view.wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getFirstVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getFirstRenderedRow():-1}},{key:"getLastVisibleRow",value:function(){var t=this.hot.view.wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getLastVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getLastRenderedRow():-1}},{key:"clearCache",value:function(){this.heights.length=0,this.heights[-1]=void 0}},{key:"clearCacheByRange",value:function(t){var e=this,n="number"===typeof t?{from:t,to:t}:t,r=n.from,o=n.to;Object(x.rangeEach)(Math.min(r,o),Math.max(r,o),function(t){e.heights[t]=void 0})}},{key:"isNeedRecalculate",value:function(){return!!Object(y.arrayFilter)(this.heights,function(t){return void 0===t}).length}},{key:"onBeforeRender",value:function(){var t=this.hot.renderCall,e=this.hot.getSettings().fixedRowsBottom,n=this.getFirstVisibleRow(),r=this.getLastVisibleRow();if(null!==n&&null!==r){if(this.calculateRowsHeight({from:n,to:r},void 0,t),e){var o=this.hot.countRows()-1;this.calculateRowsHeight({from:o-e,to:o})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}}},{key:"onBeforeRowMove",value:function(t,e){this.clearCacheByRange({from:t,to:e}),this.calculateAllRowsHeight()}},{key:"onBeforeRowResize",value:function(t,e,n){var r=e;return n&&(this.calculateRowsHeight(t,void 0,!0),r=this.getRowHeight(t)),r}},{key:"onAfterLoadData",value:function(){var t=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){t.hot&&t.recalculateAllRowsHeight()},0)}},{key:"onBeforeChange",value:function(t){var e=null;1===t.length?e=t[0][0]:t.length>1&&(e={from:t[0][0],to:t[t.length-1][0]}),null!==e&&this.clearCacheByRange(e)}},{key:"destroy",value:function(){this.ghostTable.clean(),Et(kt(e.prototype),"destroy",this).call(this)}}]),e}();Object(D.d)("autoRowSize",Mt);var At=Mt,Nt=(n(54),n(155),n(36),n(75),n(79),n(80),n(188),n(73));n(154);function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Pt=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],It=!1,Dt=!0,Lt=!0,jt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sortedColumnsStates=[],this.sortEmptyCells=It,this.indicator=Dt,this.headerAction=Lt,this.compareFunctionFactory=void 0}var e,n,r;return e=t,(n=[{key:"updateAllColumnsProperties",value:function(t){var e=this;Object(M.isObject)(t)&&Object(M.objectEach)(t,function(t,n){Pt.includes(n)&&(e[n]=t)})}},{key:"getAllColumnsProperties",value:function(){var t={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return"function"===typeof this.compareFunctionFactory&&(t.compareFunctionFactory=this.compareFunctionFactory),t}},{key:"getFirstSortedColumn",value:function(){var t;return this.getNumberOfSortedColumns()>0&&(t=this.sortedColumnsStates[0].column),t}},{key:"getSortOrderOfColumn",value:function(t){var e,n=this.sortedColumnsStates.find(function(e){var n=e.column;return t===n});return Object(M.isObject)(n)&&(e=n.sortOrder),e}},{key:"getSortedColumns",value:function(){return Object(y.arrayMap)(this.sortedColumnsStates,function(t){return t.column})}},{key:"getIndexOfColumnInSortQueue",value:function(t){return this.getSortedColumns().indexOf(t)}},{key:"getNumberOfSortedColumns",value:function(){return this.sortedColumnsStates.length}},{key:"isListOfSortedColumnsEmpty",value:function(){return 0===this.getNumberOfSortedColumns()}},{key:"isColumnSorted",value:function(t){return this.getSortedColumns().includes(t)}},{key:"getSortStates",value:function(){return Object(M.deepClone)(this.sortedColumnsStates)}},{key:"getColumnSortState",value:function(t){if(this.isColumnSorted(t))return Object(M.deepClone)(this.sortedColumnsStates[this.getIndexOfColumnInSortQueue(t)])}},{key:"setSortStates",value:function(t){this.sortedColumnsStates=t}},{key:"destroy",value:function(){this.sortedColumnsStates.length=0,this.sortedColumnsStates=null}}])&&_t(e.prototype,n),r&&_t(e,r),t}(),Ht=(n(81),"asc"),Bt="desc",Ft="colHeader";function Wt(t){if(Object(R.isUndefined)(t))return!1;var e=t.column,n=t.sortOrder;return Number.isInteger(e)&&[Ht,Bt].includes(n)}function Vt(t){if(t!==Bt)return t===Ht?Bt:Ht}function Ut(t){return t.querySelector(".".concat(Ft))}function zt(t,e){if(t<0||!e.parentNode)return!1;var n=e.parentNode.parentNode.childNodes;return-1===Array.from(n).indexOf(e.parentNode)-n.length}function Yt(t,e,n){return-1===t&&e>=0&&!1===Object(P.isRightClick)(n)}var Gt="indicatorDisabled",Xt="columnSorting",Kt="sortAction",qt=new Map([[Ht,"ascending"],[Bt,"descending"]]);function $t(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Qt={_arrayMap:[],getValueByIndex:function(t){var e=null;return t<this._arrayMap.length&&(e=this._arrayMap[t]),e},getIndexByValue:function(t){var e;return-1===(e=this._arrayMap.indexOf(t))?null:e},insertItems:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=Object(y.arrayMax)(this._arrayMap)+1,o=[];return Object(x.rangeEach)(n-1,function(n){o.push(e._arrayMap.splice(t+n,0,r+n))}),o},removeItems:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[];if(Array.isArray(t)){var r=[].concat(this._arrayMap);t.sort(function(t,e){return e-t});for(var o=0,i=t.length;o<i;o++){var a=t[o];this._arrayMap.splice(a,1),n.push(r[a])}}else n=this._arrayMap.splice(t,e);return n},unshiftItems:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.removeItems(t,e);this._arrayMap=Object(y.arrayMap)(this._arrayMap,function(t){var e=t,r=function(t){return Object(y.arrayReduce)(n,function(e,n){var r=e;return t>n&&(r+=1),r},0)}(e);return r&&(e-=r),e})},shiftItems:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._arrayMap=Object(y.arrayMap)(this._arrayMap,function(e){var r=e;return r>=t&&(r+=n),r}),Object(x.rangeEach)(n-1,function(n){e._arrayMap.splice(t+n,0,t+n)})},swapIndexes:function(t,e){var n;(n=this._arrayMap).splice.apply(n,[e,0].concat($t(this._arrayMap.splice(t,1))))},clearMap:function(){this._arrayMap.length=0}};Object(M.defineGetter)(Qt,"MIXIN_NAME","arrayMapper",{writable:!1,enumerable:!1});var Zt=Qt;function Jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var te=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"createMap",value:function(t){var e=this,n=void 0===t?this._arrayMap.length:t;this._arrayMap.length=0,Object(x.rangeEach)(n-1,function(t){e._arrayMap[t]=t})}},{key:"destroy",value:function(){this._arrayMap=null}}])&&Jt(e.prototype,n),r&&Jt(e,r),t}();Object(M.mixin)(te,Zt);var ee=te;var ne="default";var re=n(27),oe=n.n(re);var ie=n(53),ae=Object(ie.a)("sorting.compareFunctionFactory"),se=ae.register,le=ae.getItem,ue=ae.hasItem,ce=Object(ie.a)("sorting.mainSortComparator"),he=ce.register,fe=ce.getItem;function de(t){return ue(t)?le(t):le(ne)}function pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}se("numeric",function(t,e,n){return function(e,r){var o=parseFloat(e),i=parseFloat(r),a=n.sortEmptyCells;if(o===i||isNaN(o)&&isNaN(i))return we;if(a){if(Object(R.isEmpty)(e))return"asc"===t?Ce:Oe;if(Object(R.isEmpty)(r))return"asc"===t?Oe:Ce}return isNaN(o)?Oe:isNaN(i)?Ce:o<i?"asc"===t?Ce:Oe:o>i?"asc"===t?Oe:Ce:we}}),se("date",function(t,e,n){return function(r,o){var i=n.sortEmptyCells;if(r===o)return we;if(Object(R.isEmpty)(r))return Object(R.isEmpty)(o)?we:i&&"asc"===t?Ce:Oe;if(Object(R.isEmpty)(o))return i&&"asc"===t?Oe:Ce;var a=e.dateFormat,s=oe()(r,a),l=oe()(o,a);return s.isValid()?l.isValid()?l.isAfter(s)?"asc"===t?Ce:Oe:l.isBefore(s)?"asc"===t?Oe:Ce:we:Ce:Oe}}),se(ne,function(t,e,n){return function(e,r){var o=n.sortEmptyCells;return"string"===typeof e&&(e=e.toLowerCase()),"string"===typeof r&&(r=r.toLowerCase()),e===r?we:Object(R.isEmpty)(e)?Object(R.isEmpty)(r)?we:o&&"asc"===t?Ce:Oe:Object(R.isEmpty)(r)?o&&"asc"===t?Oe:Ce:isNaN(e)&&!isNaN(r)?"asc"===t?Oe:Ce:!isNaN(e)&&isNaN(r)?"asc"===t?Ce:Oe:(isNaN(e)||isNaN(r)||(e=parseFloat(e),r=parseFloat(r)),e<r?"asc"===t?Ce:Oe:e>r?"asc"===t?Oe:Ce:we)}});var me=function t(e){ge(this,t),this.data=e,this.next=null,this.prev=null},ve=function(){function t(){ge(this,t),this.first=null,this.last=null}var e,n,r;return e=t,(n=[{key:"push",value:function(t){var e=new me(t);if(null===this.first)this.first=e,this.last=e;else{var n=this.last;this.last=e,e.prev=n,n.next=e}}},{key:"unshift",value:function(t){var e=new me(t);if(null===this.first)this.first=e,this.last=e;else{var n=this.first;this.first=e,e.next=n,n.prev=e}}},{key:"inorder",value:function(t){for(var e=this.first;e;)t(e),e=e.next}},{key:"remove",value:function(t){if(null===this.first)return!1;for(var e,n,r=this.first;r;){if(r.data===t)return e=r.next,n=r.prev,e&&(e.prev=n),n&&(n.next=e),r===this.first&&(this.first=e),r===this.last&&(this.last=n),!0;r=r.next}return!1}},{key:"hasCycle",value:function(){for(var t=this.first,e=this.first;;){if(null===t)return!1;if(null===(t=t.next))return!1;if((t=t.next)===(e=e.next))return!0}}},{key:"pop",value:function(){if(null===this.last)return null;var t=this.last;return this.last=this.last.prev,t}},{key:"shift",value:function(){if(null===this.first)return null;var t=this.first;return this.first=this.first.next,t}},{key:"recursiveReverse",value:function(){if(this.first){!function t(e,n){n&&(t(n,n.next),n.next=e)}(this.first,this.first.next),this.first.next=null;var t=this.first;this.first=this.last,this.last=t}}},{key:"reverse",value:function(){if(this.first&&this.first.next){for(var t,e=this.first.next,n=this.first;e;)t=e.next,e.next=n,n.prev=e,n=e,e=t;this.first.next=null,this.last.prev=null,t=this.first,this.first=n,this.last=t}}}])&&pe(e.prototype,n),r&&pe(e,r),t}(),ye=function(t,e){var n=t.toString(),r=e.toString();return n===r?0:n<r?-1:1};function be(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(Math.abs(r-n)<=1)return[];var o=Math.ceil((n+r)/2);return be(t,e,n,o),be(t,e,o,r),function(t,e,n,r,o){for(var i=new ve,a=new ve,s=r-n,l=o-r,u=Math.max(s,l),c=o-n,h=0;h<u;h+=1)h<s&&i.push(t[n+h]),h<l&&a.push(t[r+h]);var f=0;for(;f<c;)i.first&&a.first?e(i.first.data,a.first.data)>0?t[n+f]=a.shift().data:t[n+f]=i.shift().data:i.first?t[n+f]=i.shift().data:t[n+f]=a.shift().data,f+=1;return t}(t,e,n,o,r)}var we=0,Ce=-1,Oe=1;function Se(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ee(t){return(Ee="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ke(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Re(t,e,n[e])})}return t}function Re(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xe(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ae(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ne(t,e,n){return(Ne="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_e(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function _e(t){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pe(t,e){return(Pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ie="columnSorting";he(Ie,function(t,e){return function(n,r){var o=Se(n).slice(1),i=Se(r).slice(1);return function(n){var r=t[n],a=e[n],s=o[n],l=i[n],u=a.columnSorting;return(u.compareFunctionFactory?u.compareFunctionFactory:de(a.type))(r,a,u)(s,l)}(0)}}),m.a.getSingleton().register("beforeColumnSort"),m.a.getSingleton().register("afterColumnSort");var De=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=_e(e).call(this,t))||"object"!==Ee(o)&&"function"!==typeof o?Ae(r):o).columnStatesManager=new jt,n.rowsMapper=new ee(Ae(n)),n.blockPluginTranslation=!0,n.columnMetaCache=new Map,n.pluginKey=Ie,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pe(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings()[this.pluginKey]}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(Object(R.isUndefined)(this.hot.getSettings().observeChanges)&&this.enableObserveChangesPlugin(),this.addHook("afterTrimRow",function(){return t.sortByPresetSortStates()}),this.addHook("afterUntrimRow",function(){return t.sortByPresetSortStates()}),this.addHook("modifyRow",function(e,n){return t.onModifyRow(e,n)}),this.addHook("unmodifyRow",function(e,n){return t.onUnmodifyRow(e,n)}),this.addHook("afterGetColHeader",function(e,n){return t.onAfterGetColHeader(e,n)}),this.addHook("beforeOnCellMouseDown",function(e,n,r,o){return t.onBeforeOnCellMouseDown(e,n,r,o)}),this.addHook("afterOnCellMouseDown",function(e,n){return t.onAfterOnCellMouseDown(e,n)}),this.addHook("afterCreateRow",function(e,n){return t.onAfterCreateRow(e,n)}),this.addHook("afterRemoveRow",function(e,n){return t.onAfterRemoveRow(e,n)}),this.addHook("afterInit",function(){return t.loadOrSortBySettings()}),this.addHook("afterLoadData",function(e){return t.onAfterLoadData(e)}),this.addHook("afterCreateCol",function(){return t.onAfterCreateCol()}),this.addHook("afterRemoveCol",function(){return t.onAfterRemoveCol()}),this.hot.view&&this.loadOrSortBySettings(),Ne(_e(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var t=this,n=function(e,n){var r=Ut(n);!1!==zt(e,n)&&null!==r&&t.updateHeaderClasses(r)};this.hot.addHook("afterGetColHeader",n),this.hot.addHookOnce("afterRender",function(){t.hot.removeHook("afterGetColHeader",n)}),this.rowsMapper.clearMap(),Ne(_e(e.prototype),"disablePlugin",this).call(this)}},{key:"sort",value:function(t){var e=this,n=this.getSortConfig(),r=this.getNormalizedSortConfigs(t),o=this.areValidSortConfigs(r);if(!1!==this.hot.runHooks("beforeColumnSort",n,r,o)){if(o){var i=Object(y.arrayMap)(r,function(t){return function(t){var n=t.column,r=xe(t,["column"]);return Te({column:e.hot.toPhysicalColumn(n)},r)}(t)});this.columnStatesManager.setSortStates(i),this.sortByPresetSortStates(),this.saveAllSortSettings(),this.hot.render(),this.hot.view.wt.draw(!0)}this.hot.runHooks("afterColumnSort",n,this.getSortConfig(),o)}}},{key:"clearSort",value:function(){this.sort([])}},{key:"isSorted",value:function(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}},{key:"getSortConfig",value:function(t){var e=this,n=function(t){var n=t.column,r=xe(t,["column"]);return Te({column:e.hot.toVisualColumn(n)},r)};if(Object(R.isDefined)(t)){var r=this.hot.toPhysicalColumn(t),o=this.columnStatesManager.getColumnSortState(r);return Object(R.isDefined)(o)?n(o):void 0}var i=this.columnStatesManager.getSortStates();return Object(y.arrayMap)(i,function(t){return n(t)})}},{key:"setSortConfig",value:function(t){var e=this,n=this.getNormalizedSortConfigs(t);if(this.areValidSortConfigs(n)){var r=Object(y.arrayMap)(n,function(t){return function(t){var n=t.column,r=xe(t,["column"]);return Te({column:e.hot.toPhysicalColumn(n)},r)}(t)});this.columnStatesManager.setSortStates(r)}}},{key:"getNormalizedSortConfigs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?t.slice(0,1):[t].slice(0,1)}},{key:"areValidSortConfigs",value:function(t){if(!1===Array.isArray(t))return!1;var e=t.map(function(t){return t.column}),n=this.hot.countCols(),r=e.every(function(t){return t<=n&&t>=0});return function(t){if(!1===Array.isArray(t)||!1===t.every(function(t){return Object(M.isObject)(t)}))return!1;var e=t.map(function(t){return t.column});return new Set(e).size===e.length&&t.every(Wt)}(t)&&r}},{key:"saveAllSortSettings",value:function(){var t=this.columnStatesManager.getAllColumnsProperties();t.initialConfig=this.columnStatesManager.getSortStates(),this.hot.runHooks("persistentStateSave","columnSorting",t)}},{key:"getAllSavedSortSettings",value:function(){var t=this,e={};this.hot.runHooks("persistentStateLoad","columnSorting",e);var n=e.value;return Object(R.isDefined)(n)&&Array.isArray(n.initialConfig)&&(n.initialConfig=Object(y.arrayMap)(n.initialConfig,function(e){var n=e.column,r=xe(e,["column"]);return Te({column:t.hot.toVisualColumn(n)},r)})),n}},{key:"getColumnNextConfig",value:function(t){var e=this.hot.toPhysicalColumn(t);if(this.columnStatesManager.isColumnSorted(e)){var n=this.getSortConfig(t),r=Vt(n.sortOrder);return Object(R.isDefined)(r)?(n.sortOrder=r,n):void 0}var o=this.hot.countCols();if(Number.isInteger(t)&&t>=0&&t<o)return{column:t,sortOrder:Vt()}}},{key:"getNextSortConfig",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"append",n=this.hot.toPhysicalColumn(t),r=this.columnStatesManager.getIndexOfColumnInSortQueue(n),o=this.columnStatesManager.isColumnSorted(n),i=this.getSortConfig(),a=this.getColumnNextConfig(t);if(o){if(Object(R.isUndefined)(a))return[].concat(ke(i.slice(0,r)),ke(i.slice(r+1)));if("append"===e)return[].concat(ke(i.slice(0,r)),ke(i.slice(r+1)),[a]);if("replace"===e)return[].concat(ke(i.slice(0,r)),[a],ke(i.slice(r+1)))}return Object(R.isDefined)(a)?i.concat(a):i}},{key:"setMergedPluginSettings",value:function(t){var e=this.hot.toPhysicalColumn(t),n=this.hot.getSettings()[this.pluginKey],r=this.columnStatesManager.getAllColumnsProperties(),o=this.hot.getCellMeta(0,t),i=Object.getPrototypeOf(o),a=Object.hasOwnProperty.call(i,this.pluginKey)?i[this.pluginKey]:{};this.columnMetaCache.set(e,Object.assign(r,n,a))}},{key:"getFirstCellSettings",value:function(t){var e=this.blockPluginTranslation;this.blockPluginTranslation=!0,(0===this.columnMetaCache.size||this.columnMetaCache.size<this.hot.countCols())&&this.rebuildColumnMetaCache();var n=this.hot.getCellMeta(0,t);this.blockPluginTranslation=e;var r=Object.create(n);return r[this.pluginKey]=this.columnMetaCache.get(this.hot.toPhysicalColumn(t)),r}},{key:"rebuildColumnMetaCache",value:function(){var t=this,e=this.hot.countCols();0===e?this.columnMetaCache.clear():Object(x.rangeEach)(e-1,function(e){return t.setMergedPluginSettings(e)})}},{key:"getNumberOfRowsToSort",value:function(t){var e=this.hot.getSettings();return e.maxRows<=t?e.maxRows:t-e.minSpareRows}},{key:"sortByPresetSortStates",value:function(){var t=this;if(this.columnStatesManager.isListOfSortedColumnsEmpty())this.rowsMapper.clearMap();else{var e=[],n=this.columnStatesManager.getSortedColumns(),r=this.hot.countRows();this.blockPluginTranslation=!0;for(var o=function(e){return Object(y.arrayMap)(n,function(n){return t.hot.getDataAtCell(e,t.hot.toVisualColumn(n))})},i=0;i<this.getNumberOfRowsToSort(r);i+=1)e.push([i].concat(o(i)));!function(t,e){for(var n=fe(e),r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];be(t,n.apply(void 0,o))}(e,this.pluginKey,Object(y.arrayMap)(n,function(e){return t.columnStatesManager.getSortOrderOfColumn(e)}),Object(y.arrayMap)(n,function(e){return t.getFirstCellSettings(t.hot.toVisualColumn(e))}));for(var a=e.length;a<r;a+=1)e.push([a].concat(o(a)));this.blockPluginTranslation=!1,this.rowsMapper._arrayMap=Object(y.arrayMap)(e,function(t){return t[0]})}}},{key:"loadOrSortBySettings",value:function(){this.columnMetaCache.clear();var t=this.getAllSavedSortSettings();if(Object(M.isObject)(t))this.sortBySettings(t);else{var e=this.hot.getSettings()[this.pluginKey];this.sortBySettings(e)}}},{key:"sortBySettings",value:function(t){if(Object(M.isObject)(t)){this.columnStatesManager.updateAllColumnsProperties(t);var e=t.initialConfig;(Array.isArray(e)||Object(M.isObject)(e))&&this.sort(e)}else this.hot.render()}},{key:"enableObserveChangesPlugin",value:function(){var t=this;this.hot._registerTimeout(setTimeout(function(){t.hot.updateSettings({observeChanges:!0})},0))}},{key:"onModifyRow",value:function(t,e){if(!1===this.blockPluginTranslation&&e!==this.pluginName&&this.isSorted()){var n=this.rowsMapper.getValueByIndex(t);t=null===n?t:n}return t}},{key:"onUnmodifyRow",value:function(t,e){return!1===this.blockPluginTranslation&&e!==this.pluginName&&this.isSorted()&&(t=this.rowsMapper.getIndexByValue(t)),t}},{key:"onAfterGetColHeader",value:function(t,e){var n=Ut(e);if(!1!==zt(t,e)&&null!==n){var r=this.hot.toPhysicalColumn(t),o=this.getFirstCellSettings(t)[this.pluginKey],i=o.indicator,a=o.headerAction;this.updateHeaderClasses(n,this.columnStatesManager,r,i,a)}}},{key:"updateHeaderClasses",value:function(t){if(Object(v.removeClass)(t,Array.from(qt.values()).concat(Kt,Gt,Xt)),!1!==this.enabled){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];Object(v.addClass)(t,function(t,e,n,r){var o=[Xt];if(r&&o.push(Kt),!1===n)o.push(Gt);else if(t.isColumnSorted(e)){var i=t.getSortOrderOfColumn(e);o.push(qt.get(i))}return o}.apply(void 0,n))}}},{key:"onUpdateSettings",value:function(t){Ne(_e(e.prototype),"onUpdateSettings",this).call(this),this.columnMetaCache.clear(),Object(R.isDefined)(t[this.pluginKey])&&this.sortBySettings(t[this.pluginKey])}},{key:"onAfterLoadData",value:function(t){this.rowsMapper.clearMap(),this.columnMetaCache.clear(),!0===t&&this.hot.view&&this.loadOrSortBySettings()}},{key:"onAfterCreateRow",value:function(t,e){this.rowsMapper.shiftItems(t,e)}},{key:"onAfterRemoveRow",value:function(t,e){this.rowsMapper.unshiftItems(t,e)}},{key:"onAfterCreateCol",value:function(){this.columnMetaCache.clear()}},{key:"onAfterRemoveCol",value:function(){this.columnMetaCache.clear()}},{key:"wasClickableHeaderClicked",value:function(t,e){return this.getFirstCellSettings(e)[this.pluginKey].headerAction&&"SPAN"===t.realTarget.nodeName}},{key:"onBeforeOnCellMouseDown",value:function(t,e,n,r){!1!==Yt(e.row,e.col,t)&&this.wasClickableHeaderClicked(t,e.col)&&Object(Nt.a)()&&(r.column=!0)}},{key:"onAfterOnCellMouseDown",value:function(t,e){!1!==Yt(e.row,e.col,t)&&this.wasClickableHeaderClicked(t,e.col)&&(Object(Nt.a)()&&(this.hot.deselectCell(),this.hot.selectColumns(e.col)),this.sort(this.getColumnNextConfig(e.col)))}},{key:"destroy",value:function(){this.rowsMapper.destroy(),this.columnStatesManager.destroy(),Ne(_e(e.prototype),"destroy",this).call(this)}}])&&Me(n.prototype,r),o&&Me(n,o),e}();Object(D.d)(Ie,De);var Le=De;function je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function He(t,e,n){return e&&je(t.prototype,e),n&&je(t,n),t}var Be=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rootDocument=e,this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hidden=!0,this.hide()}return He(t,null,[{key:"CLASS_EDITOR_CONTAINER",get:function(){return"htCommentsContainer"}},{key:"CLASS_EDITOR",get:function(){return"htComments"}},{key:"CLASS_INPUT",get:function(){return"htCommentTextArea"}},{key:"CLASS_CELL",get:function(){return"htCommentCell"}}]),He(t,[{key:"setPosition",value:function(t,e){this.editorStyle.left="".concat(t,"px"),this.editorStyle.top="".concat(e,"px")}},{key:"setSize",value:function(t,e){if(t&&e){var n=this.getInputElement();n.style.width="".concat(t,"px"),n.style.height="".concat(e,"px")}}},{key:"resetSize",value:function(){var t=this.getInputElement();t.style.width="",t.style.height=""}},{key:"setReadOnlyState",value:function(t){this.getInputElement().readOnly=t}},{key:"show",value:function(){this.editorStyle.display="block",this.hidden=!1}},{key:"hide",value:function(){this.editorStyle.display="none",this.hidden=!0}},{key:"isVisible",value:function(){return"block"===this.editorStyle.display}},{key:"setValue",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||"";this.getInputElement().value=t}},{key:"getValue",value:function(){return this.getInputElement().value}},{key:"isFocused",value:function(){return this.rootDocument.activeElement===this.getInputElement()}},{key:"focus",value:function(){this.getInputElement().focus()}},{key:"createEditor",value:function(){var e=this.rootDocument.createElement("div"),n=this.rootDocument.createElement("textarea"),r=this.rootDocument.querySelector(".".concat(t.CLASS_EDITOR_CONTAINER));return r||(r=this.rootDocument.createElement("div"),Object(v.addClass)(r,t.CLASS_EDITOR_CONTAINER),this.rootDocument.body.appendChild(r)),Object(v.addClass)(e,t.CLASS_EDITOR),Object(v.addClass)(n,t.CLASS_INPUT),e.appendChild(n),r.appendChild(e),e}},{key:"getInputElement",value:function(){return this.editor.querySelector(".".concat(t.CLASS_INPUT))}},{key:"destroy",value:function(){this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null}}]),t}(),Fe=(n(62),n(51),"---------");function We(t){return Object(v.hasClass)(t,"htSeparator")}function Ve(t){return Object(v.hasClass)(t,"htDisabled")}function Ue(t){return Object(v.hasClass)(t,"htSelectionDisabled")}function ze(t){var e=t.getSelected();return e?e[0]<0?null:e:null}function Ye(t,e){var n={};return Object(y.arrayEach)(t,function(t){for(var r=t.from,o=t.to,i=r.row;i<=o.row;i++)for(var a=r.col;a<=o.col;a++)n[i]||(n[i]=[]),n[i][a]=e(i,a)}),n}function Ge(t,e,n,r,o){Object(y.arrayEach)(t,function(t){var i=t.from,a=t.to;if(i.row===a.row&&i.col===a.col)Xe(i.row,i.col,e,n,r,o);else for(var s=i.row;s<=a.row;s++)for(var l=i.col;l<=a.col;l++)Xe(s,l,e,n,r,o)})}function Xe(t,e,n,r,o,i){var a=o(t,e),s=r;a.className&&(s="vertical"===n?function(t,e){if(-1!==t.indexOf(e))return t;var n=t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","");return"".concat(n," ").concat(e)}(a.className,r):function(t,e){if(-1!==t.indexOf(e))return t;var n=t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","");return"".concat(n," ").concat(e)}(a.className,r)),i(t,e,"className",s)}function Ke(t,e){var n=!1;return Array.isArray(t)&&Object(y.arrayEach)(t,function(t){return t.forAll(function(t,r){if(e(t,r))return n=!0,!1}),n}),n}function qe(t){return'<span class="selected">'.concat(String.fromCharCode(10003),"</span>").concat(t)}function $e(t,e){for(var n=t.slice(0);0<n.length&&n[0].name===e;)n.shift();return n}function Qe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe,n=t.slice(0);return n=function(t){var e=[];return Object(y.arrayEach)(t,function(t,n){n>0?e[e.length-1].name!==t.name&&e.push(t):e.push(t)}),e}(n=function(t,e){var n=t.slice(0);return n.reverse(),(n=$e(n,e)).reverse(),n}(n=$e(n,e),e))}var Ze=n(40);function Je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var tn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wasLastActionShow=!0,this.showDebounced=null,this.hidingTimer=null,this.updateDelay(e)}var e,n,r;return e=t,(n=[{key:"hide",value:function(){var t=this;this.wasLastActionShow=!1,this.hidingTimer=setTimeout(function(){!1===t.wasLastActionShow&&t.runLocalHooks("hide")},250)}},{key:"show",value:function(t){this.wasLastActionShow=!0,this.showDebounced(t)}},{key:"cancelHiding",value:function(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}},{key:"updateDelay",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250;this.showDebounced=Object(T.debounce)(function(e){t.wasLastActionShow&&t.runLocalHooks("show",e.from.row,e.from.col)},e)}},{key:"destroy",value:function(){this.clearLocalHooks()}}])&&Je(e.prototype,n),r&&Je(e,r),t}();Object(M.mixin)(tn,Ze.a);var en=tn,nn=n(3);function rn(t){return(rn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function on(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function an(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ln(t,e,n){return(ln="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=un(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function un(t){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cn(t,e){return(cn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hn=new WeakMap,fn=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=un(e).call(this,t))||"object"!==rn(o)&&"function"!==typeof o?sn(r):o).editor=null,n.displaySwitch=null,n.eventManager=null,n.range={},n.mouseDown=!1,n.contextMenuEvent=!1,n.timer=null,hn.set(sn(n),{tempEditorDimensions:{},cellBelowCursor:null}),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cn(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().comments}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.editor||(this.editor=new Be(this.hot.rootDocument)),this.eventManager||(this.eventManager=new g.a(this)),this.displaySwitch||(this.displaySwitch=new en(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",function(e){return t.addToContextMenu(e)}),this.addHook("afterRenderer",function(e,n,r,o,i,a){return t.onAfterRenderer(e,a)}),this.addHook("afterScrollHorizontally",function(){return t.hide()}),this.addHook("afterScrollVertically",function(){return t.hide()}),this.addHook("afterBeginEditing",function(){return t.onAfterBeginEditing()}),this.displaySwitch.addLocalHook("hide",function(){return t.hide()}),this.displaySwitch.addLocalHook("show",function(e,n){return t.showAtCell(e,n)}),this.registerListeners(),ln(un(e.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),ln(un(e.prototype),"updatePlugin",this).call(this),this.displaySwitch.updateDelay(this.getDisplayDelaySetting())}},{key:"disablePlugin",value:function(){ln(un(e.prototype),"disablePlugin",this).call(this)}},{key:"registerListeners",value:function(){var t=this,e=this.hot.rootDocument;this.eventManager.addEventListener(e,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(e,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(e,"mouseup",function(){return t.onMouseUp()}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(){return t.onEditorBlur()}),this.eventManager.addEventListener(this.editor.getInputElement(),"mousedown",function(e){return t.onEditorMouseDown(e)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mouseup",function(e){return t.onEditorMouseUp(e)})}},{key:"setRange",value:function(t){this.range=t}},{key:"clearRange",value:function(){this.range={}}},{key:"targetIsCellWithComment",value:function(t){var e=Object(v.closest)(t.target,"TD","TBODY");return!!(e&&Object(v.hasClass)(e,"htCommentCell")&&Object(v.closest)(e,[this.hot.rootElement]))}},{key:"targetIsCommentTextArea",value:function(t){return this.editor.getInputElement()===t.target}},{key:"setComment",value:function(t){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var e=this.editor.getValue(),n="";null!==t&&void 0!==t?n=t:null!==e&&void 0!==e&&(n=e);var r=this.range.from.row,o=this.range.from.col;this.updateCommentMeta(r,o,on({},"value",n)),this.hot.render()}},{key:"setCommentAtCell",value:function(t,e,n){this.setRange({from:new J.a(t,e)}),this.setComment(n)}},{key:"removeComment",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,"comment",void 0),t&&this.hot.render(),this.hide()}},{key:"removeCommentAtCell",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.setRange({from:new J.a(t,e)}),this.removeComment(n)}},{key:"getComment",value:function(){var t=this.range.from.row,e=this.range.from.col;return this.getCommentMeta(t,e,"value")}},{key:"getCommentAtCell",value:function(t,e){return this.getCommentMeta(t,e,"value")}},{key:"show",value:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var t=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.refreshEditor(!0),this.editor.setValue(t.comment?t.comment.value:""),this.editor.hidden&&this.editor.show(),!0}},{key:"showAtCell",value:function(t,e){return this.setRange({from:new J.a(t,e)}),this.show()}},{key:"hide",value:function(){this.editor.hidden||this.editor.hide()}},{key:"refreshEditor",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.range.from&&this.editor.isVisible()){var t=this.hot.rootWindow,e=this.hot.view.wt,n=e.wtTable,r=e.wtOverlays,o=e.wtViewport,i=r.scrollableElement,a=n.getCell(this.range.from),s=this.range.from.row,l=this.range.from.col,u=Object(v.offset)(a),c=n.getStretchedColumnWidth(l),h=u.top<0?0:u.top,f=u.left;o.hasVerticalScroll()&&i!==t&&(h-=r.topOverlay.getScrollPosition()),o.hasHorizontalScroll()&&i!==t&&(f-=r.leftOverlay.getScrollPosition());var d=f+c,p=h,g=this.getCommentMeta(s,l,"style"),m=this.getCommentMeta(s,l,"readOnly");g?this.editor.setSize(g.width,g.height):this.editor.resetSize(),this.editor.setReadOnlyState(m),this.editor.setPosition(d,p)}}},{key:"checkSelectionCommentsConsistency",value:function(){var t=this.hot.getSelectedRangeLast();if(!t)return!1;var e=!1,n=t.from;return this.getCommentMeta(n.row,n.col,"value")&&(e=!0),e}},{key:"updateCommentMeta",value:function(t,e,n){var r,o=this.hot.getCellMeta(t,e).comment;o?(r=Object(M.deepClone)(o),Object(M.deepExtend)(r,n)):r=n,this.hot.setCellMeta(t,e,"comment",r)}},{key:"getCommentMeta",value:function(t,e,n){var r=this.hot.getCellMeta(t,e);if(r.comment)return r.comment[n]}},{key:"onMouseDown",value:function(t){if(this.mouseDown=!0,this.hot.view&&this.hot.view.wt){if(!this.contextMenuEvent&&!this.targetIsCommentTextArea(t)){var e=Object(v.closest)(t.target,"TD","TBODY"),n=null;e&&(n=this.hot.view.wt.wtTable.getCoords(e)),(!e||this.range.from&&n&&(this.range.from.row!==n.row||this.range.from.col!==n.col))&&this.hide()}this.contextMenuEvent=!1}}},{key:"onMouseOver",value:function(t){var e=hn.get(this),n=this.hot.rootDocument;if(e.cellBelowCursor=n.elementFromPoint(t.clientX,t.clientY),!(this.mouseDown||this.editor.isFocused()||Object(v.hasClass)(t.target,"wtBorder")||e.cellBelowCursor!==t.target)&&this.editor)if(this.targetIsCellWithComment(t)){var r=this.hot.view.wt.wtTable.getCoords(t.target),o={from:new J.a(r.row,r.col)};this.displaySwitch.show(o)}else Object(v.isChildOf)(t.target,n)&&!this.targetIsCommentTextArea(t)&&this.displaySwitch.hide()}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onAfterRenderer",value:function(t,e){e.comment&&e.comment.value&&Object(v.addClass)(t,e.commentedCellClassName)}},{key:"onEditorBlur",value:function(){this.setComment()}},{key:"onEditorMouseDown",value:function(t){hn.get(this).tempEditorDimensions={width:Object(v.outerWidth)(t.target),height:Object(v.outerHeight)(t.target)}}},{key:"onEditorMouseUp",value:function(t){var e=hn.get(this),n=Object(v.outerWidth)(t.target),r=Object(v.outerHeight)(t.target);n===e.tempEditorDimensions.width+1&&r===e.tempEditorDimensions.height+2||this.updateCommentMeta(this.range.from.row,this.range.from.col,on({},"style",{width:n,height:r}))}},{key:"onContextMenuAddComment",value:function(){var t=this;this.displaySwitch.cancelHiding();var e=this.hot.getSelectedRangeLast();this.contextMenuEvent=!0,this.setRange({from:e.from}),this.show(),setTimeout(function(){t.hot&&(t.hot.deselectCell(),t.editor.focus())},10)}},{key:"onContextMenuRemoveComment",value:function(){var t=this.hot.getSelectedRangeLast(),e=t.from,n=t.to;this.contextMenuEvent=!0;for(var r=e.row;r<=n.row;r++)for(var o=e.col;o<=n.col;o++)this.removeCommentAtCell(r,o,!1);this.hot.render()}},{key:"onContextMenuMakeReadOnly",value:function(){var t=this.hot.getSelectedRangeLast(),e=t.from,n=t.to;this.contextMenuEvent=!0;for(var r=e.row;r<=n.row;r++)for(var o=e.col;o<=n.col;o++){var i=!!this.getCommentMeta(r,o,"readOnly");this.updateCommentMeta(r,o,on({},"readOnly",!i))}}},{key:"addToContextMenu",value:function(t){var e=this;t.items.push({name:"---------"},{key:"commentsAddEdit",name:function(){return e.checkSelectionCommentsConsistency()?e.hot.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_EDIT_COMMENT):e.hot.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_ADD_COMMENT)},callback:function(){return e.onContextMenuAddComment()},disabled:function(){return!(this.getSelectedLast()&&!this.selection.isSelectedByCorner())}},{key:"commentsRemove",name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_REMOVE_COMMENT)},callback:function(){return e.onContextMenuRemoveComment()},disabled:function(){return e.hot.selection.isSelectedByCorner()}},{key:"commentsReadOnly",name:function(){var t=this,e=this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_READ_ONLY_COMMENT);return Ke(this.getSelectedRangeLast(),function(e,n){var r=t.getCellMeta(e,n).comment;if(r&&(r=r.readOnly),r)return!0})&&(e=qe(e)),e},callback:function(){return e.onContextMenuMakeReadOnly()},disabled:function(){return e.hot.selection.isSelectedByCorner()||!e.checkSelectionCommentsConsistency()}})}},{key:"getDisplayDelaySetting",value:function(){var t=this.hot.getSettings().comments;if(Object(M.isObject)(t))return t.displayDelay}},{key:"onAfterBeginEditing",value:function(){this.hide()}},{key:"destroy",value:function(){this.editor&&this.editor.destroy(),this.displaySwitch&&this.displaySwitch.destroy(),ln(un(e.prototype),"destroy",this).call(this)}}])&&an(n.prototype,r),o&&an(n,o),e}();Object(D.d)("comments",fn);var dn=fn;n(61),n(60);function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var gn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.commands={},this.commonCallback=null}var e,n,r;return e=t,(n=[{key:"registerCommand",value:function(t,e){this.commands[t]=e}},{key:"setCommonCallback",value:function(t){this.commonCallback=t}},{key:"execute",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=t.split(":"),a=i[0],s=2===i.length?i[1]:null,l=this.commands[a];if(!l)throw new Error("Menu command '".concat(a,"' not exists."));if(s&&l.submenu&&(l=function(t,e){var n;return Object(y.arrayEach)(e,function(e){var r=e.key?e.key.split(":"):null;if(Array.isArray(r)&&r[1]===t)return n=e,!1}),n}(s,l.submenu.items)),!0!==l.disabled&&("function"!==typeof l.disabled||!0!==l.disabled.call(this.hot))&&!Object(M.hasOwnProperty)(l,"submenu")){var u=[];"function"===typeof l.callback&&u.push(l.callback),"function"===typeof this.commonCallback&&u.push(this.commonCallback),r.unshift(i.join(":")),Object(y.arrayEach)(u,function(t){return t.apply(e.hot,r)})}}}])&&pn(e.prototype,n),r&&pn(e,r),t}(),mn="alignment";function vn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var yn="clear_column";function bn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var wn="col_left";function Cn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var On="col_right";var Sn="make_read_only";var En="redo";var kn=n(48);function Tn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Rn="remove_col";function xn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Mn="remove_row";var An="row_above";var Nn="row_below";var _n="no_items";var Pn,In="undo";function Dn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ln=[An,Nn,wn,On,yn,Mn,Rn,In,En,Sn,mn,Fe,_n],jn=(Dn(Pn={},Fe,function(){return{name:Fe}}),Dn(Pn,_n,function(){return{key:_n,name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_NO_ITEMS)},disabled:!0,isCommand:!1}}),Dn(Pn,An,function(){return{key:An,name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_ROW_ABOVE)},callback:function(t,e){var n=e[Math.max(e.length-1,0)];this.alter("insert_row",n.start.row,1,"ContextMenu.rowAbove")},disabled:function(){return!ze(this)||this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden:function(){return!this.getSettings().allowInsertRow}}}),Dn(Pn,Nn,function(){return{key:Nn,name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_ROW_BELOW)},callback:function(t,e){var n=e[Math.max(e.length-1,0)];this.alter("insert_row",n.end.row+1,1,"ContextMenu.rowBelow")},disabled:function(){return!ze(this)||this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden:function(){return!this.getSettings().allowInsertRow}}}),Dn(Pn,wn,function(){return{key:wn,name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_INSERT_LEFT)},callback:function(t,e){var n=e[Math.max(e.length-1,0)];this.alter("insert_col",n.start.col,1,"ContextMenu.columnLeft")},disabled:function(){var t=ze(this);if(!t)return!0;if(!this.isColumnModificationAllowed())return!0;var e=bn(t[0],3),n=e[0],r=e[1],o=[n,0,e[2],this.countCols()-1].join(",")===t.join(","),i=1===this.countCols();return r<0||this.countCols()>=this.getSettings().maxCols||!i&&o},hidden:function(){return!this.getSettings().allowInsertColumn}}}),Dn(Pn,On,function(){return{key:On,name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_INSERT_RIGHT)},callback:function(t,e){var n=e[Math.max(e.length-1,0)];this.alter("insert_col",n.end.col+1,1,"ContextMenu.columnRight")},disabled:function(){var t=ze(this);if(!t)return!0;if(!this.isColumnModificationAllowed())return!0;var e=Cn(t[0],3),n=e[0],r=e[1],o=[n,0,e[2],this.countCols()-1].join(",")===t.join(","),i=1===this.countCols();return r<0||this.countCols()>=this.getSettings().maxCols||!i&&o},hidden:function(){return!this.getSettings().allowInsertColumn}}}),Dn(Pn,yn,function(){return{key:yn,name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_CLEAR_COLUMN)},callback:function(t,e){var n=e[0].start.col;this.countRows()&&this.populateFromArray(0,n,[[null]],Math.max(e[0].start.row,e[0].end.row),n,"ContextMenu.clearColumn")},disabled:function(){var t=ze(this);if(!t)return!0;var e=vn(t[0],3),n=e[0],r=e[1],o=[n,0,e[2],this.countCols()-1].join(",")===t.join(",");return r<0||this.countCols()>=this.getSettings().maxCols||o}}}),Dn(Pn,Mn,function(){return{key:Mn,name:function(){var t=this.getSelected(),e=0;if(t)if(t.length>1)e=1;else{var n=xn(t[0],3);n[0]-n[2]!==0&&(e=1)}return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_REMOVE_ROW,e)},callback:function(){this.alter("remove_row",Object(kn.g)(this.getSelected()),1,"ContextMenu.removeRow")},disabled:function(){var t=ze(this),e=this.countRows();return!t||this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner()||!e},hidden:function(){return!this.getSettings().allowRemoveRow}}}),Dn(Pn,Rn,function(){return{key:Rn,name:function(){var t=this.getSelected(),e=0;if(t)if(t.length>1)e=1;else{var n=Tn(t[0],4);n[1]-n[3]!==0&&(e=1)}return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_REMOVE_COLUMN,e)},callback:function(){this.alter("remove_col",Object(kn.f)(this.getSelected()),null,"ContextMenu.removeColumn")},disabled:function(){var t=ze(this),e=this.countCols();return!t||this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner()||!this.isColumnModificationAllowed()||!e},hidden:function(){return!this.getSettings().allowRemoveColumn}}}),Dn(Pn,In,function(){return{key:In,name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_UNDO)},callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}}}),Dn(Pn,En,function(){return{key:En,name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_REDO)},callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}}}),Dn(Pn,Sn,function(){return{key:Sn,name:function(){var t=this,e=this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_READ_ONLY);return Ke(this.getSelectedRange(),function(e,n){return t.getCellMeta(e,n).readOnly})&&(e=qe(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=Ke(e,function(e,n){return t.getCellMeta(e,n).readOnly});Object(y.arrayEach)(e,function(e){e.forAll(function(e,r){t.setCellMeta(e,r,"readOnly",!n)})}),this.render()},disabled:function(){return!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())}}}),Dn(Pn,mn,function(){return{key:mn,name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_ALIGNMENT)},disabled:function(){return!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:"".concat(mn,":left"),name:function(){var t=this,e=this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_ALIGNMENT_LEFT);return Ke(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;if(r&&-1!==r.indexOf("htLeft"))return!0})&&(e=qe(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=Ye(e,function(e,n){return t.getCellMeta(e,n).className});this.runHooks("beforeCellAlignment",n,e,"horizontal","htLeft"),Ge(e,"horizontal","htLeft",function(e,n){return t.getCellMeta(e,n)},function(e,n,r,o){return t.setCellMeta(e,n,r,o)}),this.render()},disabled:!1},{key:"".concat(mn,":center"),name:function(){var t=this,e=this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_ALIGNMENT_CENTER);return Ke(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;if(r&&-1!==r.indexOf("htCenter"))return!0})&&(e=qe(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=Ye(e,function(e,n){return t.getCellMeta(e,n).className});this.runHooks("beforeCellAlignment",n,e,"horizontal","htCenter"),Ge(e,"horizontal","htCenter",function(e,n){return t.getCellMeta(e,n)},function(e,n,r,o){return t.setCellMeta(e,n,r,o)}),this.render()},disabled:!1},{key:"".concat(mn,":right"),name:function(){var t=this,e=this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT);return Ke(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;if(r&&-1!==r.indexOf("htRight"))return!0})&&(e=qe(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=Ye(e,function(e,n){return t.getCellMeta(e,n).className});this.runHooks("beforeCellAlignment",n,e,"horizontal","htRight"),Ge(e,"horizontal","htRight",function(e,n){return t.getCellMeta(e,n)},function(e,n,r,o){return t.setCellMeta(e,n,r,o)}),this.render()},disabled:!1},{key:"".concat(mn,":justify"),name:function(){var t=this,e=this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY);return Ke(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;if(r&&-1!==r.indexOf("htJustify"))return!0})&&(e=qe(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=Ye(e,function(e,n){return t.getCellMeta(e,n).className});this.runHooks("beforeCellAlignment",n,e,"horizontal","htJustify"),Ge(e,"horizontal","htJustify",function(e,n){return t.getCellMeta(e,n)},function(e,n,r,o){return t.setCellMeta(e,n,r,o)}),this.render()},disabled:!1},{name:Fe},{key:"".concat(mn,":top"),name:function(){var t=this,e=this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_ALIGNMENT_TOP);return Ke(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;if(r&&-1!==r.indexOf("htTop"))return!0})&&(e=qe(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=Ye(e,function(e,n){return t.getCellMeta(e,n).className});this.runHooks("beforeCellAlignment",n,e,"vertical","htTop"),Ge(e,"vertical","htTop",function(e,n){return t.getCellMeta(e,n)},function(e,n,r,o){return t.setCellMeta(e,n,r,o)}),this.render()},disabled:!1},{key:"".concat(mn,":middle"),name:function(){var t=this,e=this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE);return Ke(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;if(r&&-1!==r.indexOf("htMiddle"))return!0})&&(e=qe(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=Ye(e,function(e,n){return t.getCellMeta(e,n).className});this.runHooks("beforeCellAlignment",n,e,"vertical","htMiddle"),Ge(e,"vertical","htMiddle",function(e,n){return t.getCellMeta(e,n)},function(e,n,r,o){return t.setCellMeta(e,n,r,o)}),this.render()},disabled:!1},{key:"".concat(mn,":bottom"),name:function(){var t=this,e=this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM);return Ke(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;if(r&&-1!==r.indexOf("htBottom"))return!0})&&(e=qe(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=Ye(e,function(e,n){return t.getCellMeta(e,n).className});this.runHooks("beforeCellAlignment",n,e,"vertical","htBottom"),Ge(e,"vertical","htBottom",function(e,n){return t.getCellMeta(e,n)},function(e,n,r,o){return t.setCellMeta(e,n,r,o)}),this.render()},disabled:!1}]}}}),Pn);function Hn(){var t={};return Object(M.objectEach)(jn,function(e,n){t[n]=e()}),t}function Bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Fn=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.predefinedItems=Hn(),this.defaultOrderPattern=n}var e,n,r;return e=t,(n=[{key:"setPredefinedItems",value:function(t){var e=this,n={};this.defaultOrderPattern.length=0,Object(M.objectEach)(t,function(t,r){var o="";t.name===Fe?(n[Fe]=t,o=Fe):isNaN(parseInt(r,10))?(t.key=void 0===t.key?r:t.key,n[r]=t,o=t.key):(n[t.key]=t,o=t.key),e.defaultOrderPattern.push(o)}),this.predefinedItems=n}},{key:"getItems",value:function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],o=t;o&&o.items?o=o.items:Array.isArray(o)||(o=e);Object(M.isObject)(o)?Object(M.objectEach)(o,function(t,e){var o=n["string"===typeof t?t:e];o||(o=t),Object(M.isObject)(t)?Object(M.extend)(o,t):"string"===typeof o&&(o={name:o}),void 0===o.key&&(o.key=e),r.push(o)}):Object(y.arrayEach)(o,function(t,e){var o=n[t];!o&&Ln.indexOf(t)>=0||(o||(o={name:t,key:"".concat(e)}),Object(M.isObject)(t)&&Object(M.extend)(o,t),void 0===o.key&&(o.key=e),r.push(o))});return r}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,this.defaultOrderPattern,this.predefinedItems)}}])&&Bn(e.prototype,n),r&&Bn(e,r),t}();n(125);function Wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Vn=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o,i,a,s,l,u=Object(v.getWindowScrollTop)(n),c=Object(v.getWindowScrollLeft)(n);this.rootWindow=n,this.type=this.getSourceType(e),"literal"===this.type?(r=parseInt(e.top,10),i=parseInt(e.left,10),s=e.height||0,l=e.width||0,o=r,a=i,r+=u,i+=c):"event"===this.type&&(r=parseInt(Object(P.pageY)(e),10),i=parseInt(Object(P.pageX)(e),10),s=e.target.clientHeight,l=e.target.clientWidth,o=r-u,a=i-c),this.top=r,this.topRelative=o,this.left=i,this.leftRelative=a,this.scrollTop=u,this.scrollLeft=c,this.cellHeight=s,this.cellWidth=l}var e,n,r;return e=t,(n=[{key:"getSourceType",value:function(t){var e="literal";return t instanceof Event&&(e="event"),e}},{key:"fitsAbove",value:function(t){return this.topRelative>=t.offsetHeight}},{key:"fitsBelow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+t.offsetHeight<=e}},{key:"fitsOnRight",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+t.offsetWidth<=e}},{key:"fitsOnLeft",value:function(t){return this.leftRelative>=t.offsetWidth}}])&&Wn(e.prototype,n),r&&Wn(e,r),t}();function Un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zn=215,Yn=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.options=n||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:zn},this.eventManager=new g.a(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this.origOutsideClickDeselects=null,this.keyEvent=!1,this.offset={above:0,below:0,left:0,right:0},this._afterScrollCallback=null,this.registerEvents()}var e,n,r;return e=t,(n=[{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"mousedown",function(e){return t.onDocumentMouseDown(e)})}},{key:"setMenuItems",value:function(t){this.menuItems=t}},{key:"setOffset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.offset[t]=e}},{key:"isSubMenu",value:function(){return null!==this.parentMenu}},{key:"open",value:function(){var t=this;this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";var e=Object(T.debounce)(function(e){return t.openSubMenu(e)},300),n=this.options.minWidth||zn,r=!1,o=Object(y.arrayFilter)(this.menuItems,function(e){return e.key===_n&&(r=!0),function(t,e){return!t.hidden||!("function"===typeof t.hidden&&t.hidden.call(e))}(e,t.hot)});if(o.length<1&&!r)o.push(Hn()[_n]);else if(0===o.length)return;var i={data:o=Qe(o,Fe),colHeaders:!1,autoColumnSize:!0,modifyColWidth:function(t){return Object(R.isDefined)(t)&&t<n?n:t},autoRowSize:!1,readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:function(e,n,r,o,i,a){return t.menuItemRenderer(e,n,r,o,i,a)}}],renderAllRows:!0,fragmentSelection:"cell",disableVisualSelection:"area",beforeKeyDown:function(e){return t.onBeforeKeyDown(e)},afterOnCellMouseOver:function(n,r){t.isAllSubMenusClosed()?e(r.row):t.openSubMenu(r.row)},rowHeights:function(t){return o[t].name===Fe?1:23}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new p.a(this.container,i),this.hotMenu.addHook("afterInit",function(){return t.onAfterInit()}),this.hotMenu.addHook("afterSelection",function(){return t.onAfterSelection.apply(t,arguments)}),this.hotMenu.init(),this.hotMenu.listen(),this.blockMainTableCallbacks(),this.runLocalHooks("afterOpen")}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isOpened()&&(t&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.parentMenu&&this.parentMenu.hotMenu.listen()))}},{key:"openSubMenu",value:function(e){if(!this.hotMenu)return!1;var n=this.hotMenu.getCell(e,0);if(this.closeAllSubMenus(),!n||!function(t){return Object(v.hasClass)(t,"htSubmenu")}(n))return!1;var r=this.hotMenu.getSourceDataAtRow(e),o=new t(this.hot,{parent:this,name:r.name,className:this.options.className,keepInViewport:!0});return o.setMenuItems(r.submenu.items),o.open(),o.setPosition(n.getBoundingClientRect()),this.hotSubMenus[r.key]=o,o}},{key:"closeSubMenu",value:function(t){var e=this.hotMenu.getSourceDataAtRow(t),n=this.hotSubMenus[e.key];n&&(n.destroy(),delete this.hotSubMenus[e.key])}},{key:"closeAllSubMenus",value:function(){var t=this;Object(y.arrayEach)(this.hotMenu.getData(),function(e,n){return t.closeSubMenu(n)})}},{key:"isAllSubMenusClosed",value:function(){return 0===Object.keys(this.hotSubMenus).length}},{key:"destroy",value:function(){this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy()}},{key:"isOpened",value:function(){return null!==this.hotMenu}},{key:"executeCommand",value:function(t){if(this.isOpened()&&this.hotMenu.getSelectedLast()){var e=this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]);if(this.runLocalHooks("select",e,t),!1!==e.isCommand&&e.name!==Fe){var n=this.hot.getSelectedRange(),r=n?function(t){return Object(y.arrayMap)(t,function(t){return{start:t.getTopLeftCorner(),end:t.getBottomRightCorner()}})}(n):[],o=!0;(!0===e.disabled||"function"===typeof e.disabled&&!0===e.disabled.call(this.hot)||e.submenu)&&(o=!1),this.runLocalHooks("executeCommand",e.key,r,t),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",e.key,r,t),o&&this.close(!0)}}}},{key:"setPosition",value:function(t){var e=new Vn(t,this.hot.rootWindow);this.options.keepInViewport?(e.fitsBelow(this.container)?this.setPositionBelowCursor(e):e.fitsAbove(this.container)?this.setPositionAboveCursor(e):this.setPositionBelowCursor(e),e.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(e):this.setPositionOnLeftOfCursor(e)):(this.setPositionBelowCursor(e),this.setPositionOnRightOfCursor(e))}},{key:"setPositionAboveCursor",value:function(t){var e=this.offset.above+t.top-this.container.offsetHeight;this.isSubMenu()&&(e=t.top+t.cellHeight-this.container.offsetHeight+3),this.container.style.top="".concat(e,"px")}},{key:"setPositionBelowCursor",value:function(t){var e=this.offset.below+t.top;this.isSubMenu()&&(e=t.top-1),this.container.style.top="".concat(e,"px")}},{key:"setPositionOnRightOfCursor",value:function(t){var e;e=this.isSubMenu()?1+t.left+t.cellWidth:this.offset.right+1+t.left,this.container.style.left="".concat(e,"px")}},{key:"setPositionOnLeftOfCursor",value:function(t){var e=this.offset.left+t.left-this.container.offsetWidth+Object(v.getScrollbarWidth)(this.hot.rootDocument)+4;this.container.style.left="".concat(e,"px")}},{key:"selectFirstCell",value:function(){var t=this.hotMenu.getCell(0,0);We(t)||Ve(t)||Ue(t)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)}},{key:"selectLastCell",value:function(){var t=this.hotMenu.countRows()-1,e=this.hotMenu.getCell(t,0);We(e)||Ve(e)||Ue(e)?this.selectPrevCell(t,0):this.hotMenu.selectCell(t,0)}},{key:"selectNextCell",value:function(t,e){var n=t+1,r=n<this.hotMenu.countRows()?this.hotMenu.getCell(n,e):null;r&&(We(r)||Ve(r)||Ue(r)?this.selectNextCell(n,e):this.hotMenu.selectCell(n,e))}},{key:"selectPrevCell",value:function(t,e){var n=t-1,r=n>=0?this.hotMenu.getCell(n,e):null;r&&(We(r)||Ve(r)||Ue(r)?this.selectPrevCell(n,e):this.hotMenu.selectCell(n,e))}},{key:"menuItemRenderer",value:function(t,e,n,r,o,i){var a,s=this,l=t.getSourceDataAtRow(n),u=this.hot.rootDocument.createElement("div"),c=function(t){return t.disableSelection},h=i;"function"===typeof h&&(h=h.call(this.hot)),Object(v.empty)(e),Object(v.addClass)(u,"htItemWrapper"),e.appendChild(u),a=l,new RegExp(Fe,"i").test(a.name)?Object(v.addClass)(e,"htSeparator"):"function"===typeof l.renderer?(Object(v.addClass)(e,"htCustomMenuRenderer"),e.appendChild(l.renderer(t,u,n,r,o,h))):Object(v.fastInnerHTML)(u,h),!function(t){return!0===t.disabled||"function"===typeof t.disabled&&!0===t.disabled.call(s.hot)}(l)?c(l)?(Object(v.addClass)(e,"htSelectionDisabled"),this.eventManager.addEventListener(e,"mouseenter",function(){return t.deselectCell()})):!function(t){return Object(M.hasOwnProperty)(t,"submenu")}(l)?(Object(v.removeClass)(e,"htSubmenu"),Object(v.removeClass)(e,"htDisabled"),c(l)?this.eventManager.addEventListener(e,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(e,"mouseenter",function(){return t.selectCell(n,r,void 0,void 0,!1,!1)})):(Object(v.addClass)(e,"htSubmenu"),c(l)?this.eventManager.addEventListener(e,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(e,"mouseenter",function(){return t.selectCell(n,r,void 0,void 0,!1,!1)})):(Object(v.addClass)(e,"htDisabled"),this.eventManager.addEventListener(e,"mouseenter",function(){return t.deselectCell()}))}},{key:"createContainer",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.hot.rootDocument,r=e;return r?(Object(T.isFunction)(r)&&(r=null===(r=r.call(this.hot))||Object(R.isUndefined)(r)?"":r.toString()),r=r.replace(/[^A-z0-9]/g,"_"),r="".concat(this.options.className,"Sub_").concat(r),t=n.querySelector(".".concat(this.options.className,".").concat(r))):t=n.querySelector(".".concat(this.options.className)),t||(t=n.createElement("div"),Object(v.addClass)(t,"htMenu ".concat(this.options.className)),r&&Object(v.addClass)(t,r),n.getElementsByTagName("body")[0].appendChild(t)),t}},{key:"blockMainTableCallbacks",value:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)}},{key:"releaseMainTableCallbacks",value:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)}},{key:"onBeforeKeyDown",value:function(t){var e=this.hotMenu.getSelectedLast(),n=!1;switch(this.keyEvent=!0,t.keyCode){case _.KEY_CODES.ESCAPE:this.close(),n=!0;break;case _.KEY_CODES.ENTER:e&&(this.hotMenu.getSourceDataAtRow(e[0]).submenu?n=!0:(this.executeCommand(t),this.close(!0)));break;case _.KEY_CODES.ARROW_DOWN:e?this.selectNextCell(e[0],e[1]):this.selectFirstCell(),n=!0;break;case _.KEY_CODES.ARROW_UP:e?this.selectPrevCell(e[0],e[1]):this.selectLastCell(),n=!0;break;case _.KEY_CODES.ARROW_RIGHT:if(e){var r=this.openSubMenu(e[0]);r&&r.selectFirstCell()}n=!0;break;case _.KEY_CODES.ARROW_LEFT:e&&this.isSubMenu()&&(this.close(),this.parentMenu&&this.parentMenu.hotMenu.listen(),n=!0)}n&&(t.preventDefault(),Object(P.stopImmediatePropagation)(t)),this.keyEvent=!1}},{key:"onAfterInit",value:function(){var t=this.hotMenu.view.wt.wtTable,e=this.hotMenu.getSettings().data,n=t.hider.style,r=t.holder.style,o=parseInt(n.width,10),i=Object(y.arrayReduce)(e,function(t,e){return t+(e.name===Fe?1:26)},0);r.width="".concat(o+22,"px"),r.height="".concat(i+4,"px"),n.height=r.height}},{key:"onAfterSelection",value:function(t,e,n,r,o){!1===this.keyEvent&&(o.value=!0)}},{key:"onDocumentMouseDown",value:function(t){this.isOpened()&&(this.container&&Object(v.isChildOf)(t.target,this.container)&&this.executeCommand(t),this.options.standalone&&this.hotMenu&&!Object(v.isChildOf)(t.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!Object(v.isChildOf)(t.target,".htMenu")&&Object(v.isChildOf)(t.target,this.hot.rootDocument)&&this.close(!0))}}])&&Un(e.prototype,n),r&&Un(e,r),t}();Object(M.mixin)(Yn,Ze.a);var Gn=Yn;function Xn(t){return(Xn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qn(t,e,n){return(qn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$n(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function $n(t){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zn(t,e,n){return e&&Qn(t.prototype,e),n&&Qn(t,n),t}function Jn(t,e){return(Jn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}m.a.getSingleton().register("afterContextMenuDefaultOptions"),m.a.getSingleton().register("beforeContextMenuShow"),m.a.getSingleton().register("afterContextMenuShow"),m.a.getSingleton().register("afterContextMenuHide"),m.a.getSingleton().register("afterContextMenuExecute");var tr=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=$n(e).call(this,t))||"object"!==Xn(o)&&"function"!==typeof o?Kn(r):o).eventManager=new g.a(Kn(n)),n.commandExecutor=new gn(n.hot),n.itemsFactory=null,n.menu=null,n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jn(t,e)}(e,B),Zn(e,null,[{key:"DEFAULT_ITEMS",get:function(){return[An,Nn,Fe,wn,On,Fe,Mn,Rn,Fe,In,En,Fe,Sn,Fe,mn]}}]),Zn(e,[{key:"isEnabled",value:function(){return this.hot.getSettings().contextMenu}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){var n=this.hot.getSettings().contextMenu;"function"===typeof n.callback&&this.commandExecutor.setCommonCallback(n.callback),this.menu=new Gn(this.hot,{className:"htContextMenu",keepInViewport:!0}),this.menu.addLocalHook("beforeOpen",function(){return t.onMenuBeforeOpen()}),this.menu.addLocalHook("afterOpen",function(){return t.onMenuAfterOpen()}),this.menu.addLocalHook("afterClose",function(){return t.onMenuAfterClose()}),this.menu.addLocalHook("executeCommand",function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.executeCommand).call.apply(e,[t].concat(r))}),this.addHook("afterOnCellContextMenu",function(e){return t.onAfterOnCellContextMenu(e)}),qn($n(e.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),qn($n(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),qn($n(e.prototype),"disablePlugin",this).call(this)}},{key:"open",value:function(t){this.menu&&(this.prepareMenuItems(),this.menu.open(),this.menu.isOpened()&&(this.menu.setPosition({top:parseInt(Object(P.pageY)(t),10)-Object(v.getWindowScrollTop)(this.hot.rootWindow),left:parseInt(Object(P.pageX)(t),10)-Object(v.getWindowScrollLeft)(this.hot.rootWindow)}),this.menu.hotMenu.isHotTableEnv=this.hot.isHotTableEnv))}},{key:"close",value:function(){this.menu&&(this.menu.close(),this.itemsFactory=null)}},{key:"executeCommand",value:function(t){var e;null===this.itemsFactory&&this.prepareMenuItems();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=this.commandExecutor).execute.apply(e,[t].concat(r))}},{key:"prepareMenuItems",value:function(){var t=this;this.itemsFactory=new Fn(this.hot,e.DEFAULT_ITEMS);var n=this.hot.getSettings().contextMenu,r={items:this.itemsFactory.getItems(n)};this.hot.runHooks("afterContextMenuDefaultOptions",r),this.itemsFactory.setPredefinedItems(r.items);var o=this.itemsFactory.getItems(n);this.hot.runHooks("beforeContextMenuSetItems",o),this.menu.setMenuItems(o),Object(y.arrayEach)(o,function(e){return t.commandExecutor.registerCommand(e.key,e)})}},{key:"onAfterOnCellContextMenu",value:function(t){var e=this.hot.getSettings(),n=e.rowHeaders,r=e.colHeaders;var o=t.realTarget;this.close(),Object(v.hasClass)(o,"handsontableInput")||(t.preventDefault(),Object(P.stopPropagation)(t),(n||r||function(t){return"TD"===t.nodeName||"TD"===t.parentNode.nodeName}(o)||Object(v.hasClass)(o,"current")&&Object(v.hasClass)(o,"wtBorder"))&&this.open(t))}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeContextMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterContextMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),qn($n(e.prototype),"destroy",this).call(this)}}]),e}();tr.SEPARATOR={name:Fe},Object(D.d)("contextMenu",tr);var er=tr,nr=n(83),rr=n.n(nr);function or(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ir=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={}}var e,n,r;return e=t,(n=[{key:"setData",value:function(t,e){this.data[t]=e}},{key:"getData",value:function(t){return this.data[t]||void 0}}])&&or(e.prototype,n),r&&or(e,r),t}();var ar=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.clipboardData=new ir};n(240);function sr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var lr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rootDocument=e,this.mainElement=null,this.eventManager=new g.a(this),this.listenersCount=new WeakSet}var e,n,r;return e=t,(n=[{key:"useSecondaryElement",value:function(){var t=function(t){var e=fr.get(t);if(e)return e.parentElement||this.rootDocument.body.appendChild(e),e;var n=t.createElement("textarea");return fr.set(t,n),n.id="HandsontableCopyPaste",n.className="copyPaste",n.tabIndex=-1,n.autocomplete="off",n.wrap="hard",n.value=" ",t.body.appendChild(n),n}(this.rootDocument);this.listenersCount.has(t)||(this.listenersCount.add(t),hr(this.eventManager,t,this)),this.mainElement=t}},{key:"setFocusableElement",value:function(t){this.listenersCount.has(t)||(this.listenersCount.add(t),hr(this.eventManager,t,this)),this.mainElement=t}},{key:"getFocusableElement",value:function(){return this.mainElement}},{key:"focus",value:function(){this.mainElement.value=" ",Object(O.isMobileBrowser)()||Object(v.selectElementIfAllowed)(this.mainElement)}}])&&sr(e.prototype,n),r&&sr(e,r),t}();Object(M.mixin)(lr,Ze.a);var ur=0;var cr=function(t,e){return function(n){return e.runLocalHooks(t,n)}};function hr(t,e,n){t.addEventListener(e,"copy",cr("copy",n)),t.addEventListener(e,"cut",cr("cut",n)),t.addEventListener(e,"paste",cr("paste",n))}var fr=new WeakMap;function dr(t){if(t instanceof lr&&(ur>0&&(ur-=1),function(t){t.eventManager.clear()}(t),ur<=0)){ur=0;var e=fr.get(t.rootDocument);e&&e.parentNode&&(e.parentNode.removeChild(e),fr.delete(t.rootDocument)),t.mainElement=null}}function pr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function gr(t){return(gr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yr(t,e,n){return(yr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=br(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function br(t){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wr(t,e){return(wr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}m.a.getSingleton().register("afterCopyLimit"),m.a.getSingleton().register("modifyCopyableRange"),m.a.getSingleton().register("beforeCut"),m.a.getSingleton().register("afterCut"),m.a.getSingleton().register("beforePaste"),m.a.getSingleton().register("afterPaste"),m.a.getSingleton().register("beforeCopy"),m.a.getSingleton().register("afterCopy");var Cr=1e3,Or=1e3,Sr=new WeakMap,Er=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join(""),kr=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=br(e).call(this,t))||"object"!==gr(o)&&"function"!==typeof o?vr(r):o).columnsLimit=Or,n.copyableRanges=[],n.pasteMode="overwrite",n.rowsLimit=Cr,Sr.set(vr(n),{isTriggeredByCopy:!1,isTriggeredByCut:!1,isBeginEditing:!1,isFragmentSelectionEnabled:!1}),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wr(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().copyPaste}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){var n=this.hot.getSettings();Sr.get(this).isFragmentSelectionEnabled=n.fragmentSelection,"object"===gr(n.copyPaste)&&(this.pasteMode=n.copyPaste.pasteMode||this.pasteMode,this.rowsLimit=n.copyPaste.rowsLimit||this.rowsLimit,this.columnsLimit=n.copyPaste.columnsLimit||this.columnsLimit),this.addHook("afterContextMenuDefaultOptions",function(e){return t.onAfterContextMenuDefaultOptions(e)}),this.addHook("afterOnCellMouseUp",function(){return t.onAfterOnCellMouseUp()}),this.addHook("afterSelectionEnd",function(){return t.onAfterSelectionEnd()}),this.addHook("beforeKeyDown",function(){return t.onBeforeKeyDown()}),this.focusableElement=function(t){var e=new lr(t);return ur+=1,e}(this.hot.rootDocument),this.focusableElement.addLocalHook("copy",function(e){return t.onCopy(e)}).addLocalHook("cut",function(e){return t.onCut(e)}).addLocalHook("paste",function(e){return t.onPaste(e)}),yr(br(e.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.getOrCreateFocusableElement(),yr(br(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.focusableElement&&dr(this.focusableElement),yr(br(e.prototype),"disablePlugin",this).call(this)}},{key:"copy",value:function(){Sr.get(this).isTriggeredByCopy=!0,this.getOrCreateFocusableElement(),this.focusableElement.focus(),this.hot.rootDocument.execCommand("copy")}},{key:"cut",value:function(){Sr.get(this).isTriggeredByCut=!0,this.getOrCreateFocusableElement(),this.focusableElement.focus(),this.hot.rootDocument.execCommand("cut")}},{key:"getRangedCopyableData",value:function(t){var e=this,n=[],r=[],o=[];return Object(y.arrayEach)(t,function(t){Object(x.rangeEach)(t.startRow,t.endRow,function(t){-1===r.indexOf(t)&&r.push(t)}),Object(x.rangeEach)(t.startCol,t.endCol,function(t){-1===o.indexOf(t)&&o.push(t)})}),Object(y.arrayEach)(r,function(t){var r=[];Object(y.arrayEach)(o,function(n){r.push(e.hot.getCopyableData(t,n))}),n.push(r)}),rr.a.stringify(n)}},{key:"getRangedData",value:function(t){var e=this,n=[],r=[],o=[];return Object(y.arrayEach)(t,function(t){Object(x.rangeEach)(t.startRow,t.endRow,function(t){-1===r.indexOf(t)&&r.push(t)}),Object(x.rangeEach)(t.startCol,t.endCol,function(t){-1===o.indexOf(t)&&o.push(t)})}),Object(y.arrayEach)(r,function(t){var r=[];Object(y.arrayEach)(o,function(n){r.push(e.hot.getCopyableData(t,n))}),n.push(r)}),n}},{key:"paste",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(t||e){var n=new ar;t&&n.clipboardData.setData("text/plain",t),e&&n.clipboardData.setData("text/html",e),this.getOrCreateFocusableElement(),this.onPaste(n)}}},{key:"setCopyableText",value:function(){var t=this.hot.getSelectedRangeLast();if(t){var e=t.getTopLeftCorner(),n=t.getBottomRightCorner(),r=e.row,o=e.col,i=n.row,a=n.col,s=Math.min(i,r+this.rowsLimit-1),l=Math.min(a,o+this.columnsLimit-1);this.copyableRanges.length=0,this.copyableRanges.push({startRow:r,startCol:o,endRow:s,endCol:l}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges),i===s&&a===l||this.hot.runHooks("afterCopyLimit",i-r+1,a-o+1,this.rowsLimit,this.columnsLimit)}}},{key:"getOrCreateFocusableElement",value:function(){var t=this.hot.getActiveEditor(),e=t?t.TEXTAREA:void 0;e?this.focusableElement.setFocusableElement(e):this.focusableElement.useSecondaryElement()}},{key:"isEditorOpened",value:function(){var t=this.hot.getActiveEditor();return t&&t.isOpened()}},{key:"populateValues",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.hot.getSelectedLast();if(t.length){for(var n=t.length-1,r=t[0].length-1,o=Math.min(e[0],e[2]),i=Math.max(e[0],e[2],n+o),a=Math.min(e[1],e[3]),s=Math.max(e[1],e[3],r+a),l=[],u=o,c=0;u<=i;u+=1){for(var h=[],f=a,d=0;f<=s;f+=1)h.push(t[c][d]),d=d===r?0:d+=1;l.push(h),c=c===n?0:c+=1}return this.hot.populateFromArray(o,a,l,void 0,void 0,"CopyPaste.paste",this.pasteMode),[o,a,i,s]}}},{key:"onCopy",value:function(t){var e=Sr.get(this);if((this.hot.isListening()||e.isTriggeredByCopy)&&!this.isEditorOpened()){this.setCopyableText(),e.isTriggeredByCopy=!1;var n=this.getRangedData(this.copyableRanges);if(!!this.hot.runHooks("beforeCopy",n,this.copyableRanges)){var r=rr.a.stringify(n);if(t&&t.clipboardData){var o=Object(C._dataToHTML)(n,this.hot.rootDocument);t.clipboardData.setData("text/plain",r),t.clipboardData.setData("text/html",[Er,o].join(""))}else"undefined"===typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",r);this.hot.runHooks("afterCopy",n,this.copyableRanges)}t.preventDefault()}}},{key:"onCut",value:function(t){var e=Sr.get(this);if((this.hot.isListening()||e.isTriggeredByCut)&&!this.isEditorOpened()){this.setCopyableText(),e.isTriggeredByCut=!1;var n=this.getRangedData(this.copyableRanges);if(!!this.hot.runHooks("beforeCut",n,this.copyableRanges)){var r=rr.a.stringify(n);if(t&&t.clipboardData){var o=Object(C._dataToHTML)(n,this.hot.rootDocument);t.clipboardData.setData("text/plain",r),t.clipboardData.setData("text/html",[Er,o].join(""))}else"undefined"===typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",r);this.hot.emptySelectedCells(),this.hot.runHooks("afterCut",n,this.copyableRanges)}t.preventDefault()}}},{key:"onPaste",value:function(t){if(this.hot.isListening()&&!this.isEditorOpened()){var e;if(t&&t.preventDefault&&t.preventDefault(),t&&"undefined"!==typeof t.clipboardData){var n=t.clipboardData.getData("text/html");if(n&&/(<table)|(<TABLE)/g.test(n))e=Object(C.htmlToGridSettings)(n,this.hot.rootDocument).data;else e=t.clipboardData.getData("text/plain")}else"undefined"===typeof ClipboardEvent&&"undefined"!==typeof this.hot.rootWindow.clipboardData&&(e=this.hot.rootWindow.clipboardData.getData("Text"));if("string"===typeof e&&(e=rr.a.parse(e)),(!e||0!==e.length)&&!1!==this.hot.runHooks("beforePaste",e,this.copyableRanges)){var r=pr(this.populateValues(e),4),o=r[0],i=r[1],a=r[2],s=r[3];this.hot.selectCell(o,i,Math.min(this.hot.countRows()-1,a),Math.min(this.hot.countCols()-1,s)),this.hot.runHooks("afterPaste",e,this.copyableRanges)}}}},{key:"onAfterContextMenuDefaultOptions",value:function(t){var e;t.items.push({name:"---------"},(e=this,{key:"copy",name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_COPY)},callback:function(){e.copy()},disabled:function(){var t=this.getSelected();return!t||t.length>1},hidden:!1}),function(t){return{key:"cut",name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_CUT)},callback:function(){t.cut()},disabled:function(){var t=this.getSelected();return!t||t.length>1},hidden:!1}}(this))}},{key:"onAfterOnCellMouseUp",value:function(){this.hot.isListening()&&!this.isEditorOpened()&&(this.getOrCreateFocusableElement(),this.focusableElement.focus())}},{key:"onAfterSelectionEnd",value:function(){var t=Sr.get(this).isFragmentSelectionEnabled;this.isEditorOpened()||(this.getOrCreateFocusableElement(),t&&this.focusableElement.getFocusableElement()!==this.hot.rootDocument.activeElement&&Object(v.getSelectionText)()||(this.setCopyableText(),this.focusableElement.focus()))}},{key:"onBeforeKeyDown",value:function(){if(this.hot.isListening()&&!this.isEditorOpened()){var t=this.hot.rootDocument.activeElement,e=this.hot.getActiveEditor();!e||t!==this.focusableElement.getFocusableElement()&&t!==e.select||(this.getOrCreateFocusableElement(),this.focusableElement.focus())}}},{key:"destroy",value:function(){this.focusableElement&&(dr(this.focusableElement),this.focusableElement=null),yr(br(e.prototype),"destroy",this).call(this)}}])&&mr(n.prototype,r),o&&mr(n,o),e}();Object(D.d)("CopyPaste",kr);var Tr=kr;n(241);function Rr(t,e){return"border_row".concat(t,"col").concat(e)}function xr(t,e){return{id:Rr(t,e),border:{width:1,color:"#000",cornerVisible:!1},row:t,col:e,top:{hide:!0},right:{hide:!0},bottom:{hide:!0},left:{hide:!0}}}function Mr(t,e){var n=!1;return Object(y.arrayEach)(t.getSelectedRange(),function(r){r.forAll(function(r,o){var i=t.getCellMeta(r,o).borders;if(i){if(!e)return n=!0,!1;if(!Object(M.hasOwnProperty)(i[e],"hide")||!1===i[e].hide)return n=!0,!1}})}),n}function Ar(t){return'<span class="selected">'.concat(String.fromCharCode(10003),"</span>").concat(t)}function Nr(t){return{key:"borders:bottom",name:function(){var t=this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_BORDERS_BOTTOM);return Mr(this,"bottom")&&(t=Ar(t)),t},callback:function(e,n){var r=Mr(this,"bottom");t.prepareBorder(n,"bottom",r)}}}function _r(t){return{key:"borders:left",name:function(){var t=this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_BORDERS_LEFT);return Mr(this,"left")&&(t=Ar(t)),t},callback:function(e,n){var r=Mr(this,"left");t.prepareBorder(n,"left",r)}}}function Pr(t){return{key:"borders:no_borders",name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_REMOVE_BORDERS)},callback:function(e,n){t.prepareBorder(n,"noBorders")},disabled:function(){return!Mr(this)}}}function Ir(t){return{key:"borders:right",name:function(){var t=this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_BORDERS_RIGHT);return Mr(this,"right")&&(t=Ar(t)),t},callback:function(e,n){var r=Mr(this,"right");t.prepareBorder(n,"right",r)}}}var Dr=n(89);function Lr(t){return(Lr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Hr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Br(t,e){return!e||"object"!==Lr(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fr(t,e,n){return(Fr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wr(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Wr(t){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vr(t,e){return(Vr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ur=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Br(this,Wr(e).call(this,t))).savedBorders=[],n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vr(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().customBorders}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(e){return t.onAfterContextMenuDefaultOptions(e)}),this.addHook("afterInit",function(){return t.onAfterInit()}),Fr(Wr(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.hideBorders(),Fr(Wr(e.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),Fr(Wr(e.prototype),"updatePlugin",this).call(this)}},{key:"setBorders",value:function(t,e){var n=this,r=e?Object.keys(e):["top","right","bottom","left"],o=Object(Dr.b)(t),i=Object(Dr.c)(o);Object(y.arrayEach)(t,function(t){for(var o=jr(i(t),4),a=o[0],s=o[1],l=o[2],u=o[3],c=function(t){for(var o=function(o){Object(y.arrayEach)(r,function(r){n.prepareBorderFromCustomAdded(t,o,e,r)})},i=s;i<=u;i+=1)o(i)},h=a;h<=l;h+=1)c(h)})}},{key:"getBorders",value:function(t){var e=this;if(!Array.isArray(t))return this.savedBorders;var n=Object(Dr.b)(t),r=Object(Dr.c)(n),o=[];return Object(y.arrayEach)(t,function(t){for(var n=jr(r(t),4),i=n[0],a=n[1],s=n[2],l=n[3],u=function(t){for(var n=function(n){Object(y.arrayEach)(e.savedBorders,function(e){e.row===t&&e.col===n&&o.push(e)})},r=a;r<=l;r+=1)n(r)},c=i;c<=s;c+=1)u(c)}),o}},{key:"clearBorders",value:function(t){var e=this;t?this.setBorders(t):(Object(y.arrayEach)(this.savedBorders,function(t){e.clearBordersFromSelectionSettings(t.id),e.clearNullCellRange(),e.hot.removeCellMeta(t.row,t.col,"borders")}),this.savedBorders.length=0)}},{key:"insertBorderIntoSettings",value:function(t,e){this.checkSavedBorders(t)||this.savedBorders.push(t);var n={row:t.row,col:t.col},r=new J.b(n,n,n);this.checkCustomSelections(t,r,e)||(this.hot.selection.highlight.addCustomSelection({border:t,cellRange:r}),this.hot.view.wt.draw(!0))}},{key:"prepareBorderFromCustomAdded",value:function(t,e,n,r){var o,i,a=xr(t,e);n&&(o=a,i=n,Object(M.hasOwnProperty)(i,"border")&&(o.border=i.border),Object(M.hasOwnProperty)(i,"top")&&(i.top?(Object(M.isObject)(i.top)||(i.top={width:1,color:"#000"}),o.top=i.top):(i.top={hide:!0},o.top=i.top)),Object(M.hasOwnProperty)(i,"right")&&(i.right?(Object(M.isObject)(i.right)||(i.right={width:1,color:"#000"}),o.right=i.right):(i.right={hide:!0},o.right=i.right)),Object(M.hasOwnProperty)(i,"bottom")&&(i.bottom?(Object(M.isObject)(i.bottom)||(i.bottom={width:1,color:"#000"}),o.bottom=i.bottom):(i.bottom={hide:!0},o.bottom=i.bottom)),Object(M.hasOwnProperty)(i,"left")&&(i.left?(Object(M.isObject)(i.left)||(i.left={width:1,color:"#000"}),o.left=i.left):(i.left={hide:!0},o.left=i.left)),a=o,Object(y.arrayEach)(this.hot.selection.highlight.customSelections,function(t){if(a.id===t.settings.id)return Object.assign(t.settings,n),a=t.settings,!1})),this.hot.setCellMeta(t,e,"borders",a),this.insertBorderIntoSettings(a,r)}},{key:"prepareBorderFromCustomAddedRange",value:function(t){var e=this,n=t.range;Object(x.rangeEach)(n.from.row,n.to.row,function(r){Object(x.rangeEach)(n.from.col,n.to.col,function(o){var i=xr(r,o),a=0;r===n.from.row&&(a+=1,Object(M.hasOwnProperty)(t,"top")&&(i.top=t.top)),r===n.to.row&&(a+=1,Object(M.hasOwnProperty)(t,"bottom")&&(i.bottom=t.bottom)),o===n.from.col&&(a+=1,Object(M.hasOwnProperty)(t,"left")&&(i.left=t.left)),o===n.to.col&&(a+=1,Object(M.hasOwnProperty)(t,"right")&&(i.right=t.right)),a>0&&(e.hot.setCellMeta(r,o,"borders",i),e.insertBorderIntoSettings(i))})})}},{key:"removeAllBorders",value:function(t,e){var n=Rr(t,e);this.spliceBorder(n),this.clearBordersFromSelectionSettings(n),this.clearNullCellRange(),this.hot.removeCellMeta(t,e,"borders")}},{key:"setBorder",value:function(t,e,n,r){var o=this.hot.getCellMeta(t,e).borders;(o&&void 0!==o.border||(o=xr(t,e)),r)?(o[n]={hide:!0},4===this.countHide(o)?this.removeAllBorders(t,e):(this.checkCustomSelectionsFromContextMenu(o,n,r)||this.insertBorderIntoSettings(o),this.hot.setCellMeta(t,e,"borders",o))):(o[n]={width:1,color:"#000"},this.checkCustomSelectionsFromContextMenu(o,n,r)||this.insertBorderIntoSettings(o),this.hot.setCellMeta(t,e,"borders",o))}},{key:"prepareBorder",value:function(t,e,n){var r=this;Object(y.arrayEach)(t,function(t){var o=t.start,i=t.end;if(o.row===i.row&&o.col===i.col)"noBorders"===e?r.removeAllBorders(o.row,o.col):r.setBorder(o.row,o.col,e,n);else switch(e){case"noBorders":Object(x.rangeEach)(o.col,i.col,function(t){Object(x.rangeEach)(o.row,i.row,function(e){r.removeAllBorders(e,t)})});break;case"top":Object(x.rangeEach)(o.col,i.col,function(t){r.setBorder(o.row,t,e,n)});break;case"right":Object(x.rangeEach)(o.row,i.row,function(t){r.setBorder(t,i.col,e,n)});break;case"bottom":Object(x.rangeEach)(o.col,i.col,function(t){r.setBorder(i.row,t,e,n)});break;case"left":Object(x.rangeEach)(o.row,i.row,function(t){r.setBorder(t,o.col,e,n)})}})}},{key:"createCustomBorders",value:function(t){var e=this;Object(y.arrayEach)(t,function(t){t.range?e.prepareBorderFromCustomAddedRange(t):e.prepareBorderFromCustomAdded(t.row,t.col,t)})}},{key:"countHide",value:function(t){var e=Object.values(t);return Object(y.arrayReduce)(e,function(t,e){var n=t;return e.hide&&(n+=1),n},0)}},{key:"clearBordersFromSelectionSettings",value:function(t){var e=Object(y.arrayMap)(this.hot.selection.highlight.customSelections,function(t){return t.settings.id}).indexOf(t);e>-1&&this.hot.selection.highlight.customSelections[e].clear(),this.hot.view.wt.draw(!0)}},{key:"clearNullCellRange",value:function(){var t=this;Object(y.arrayEach)(this.hot.selection.highlight.customSelections,function(e,n){if(null===e.cellRange)return t.hot.selection.highlight.customSelections.splice(n,1),!1})}},{key:"hideBorders",value:function(){var t=this;Object(y.arrayEach)(this.savedBorders,function(e){t.clearBordersFromSelectionSettings(e.id)})}},{key:"spliceBorder",value:function(t){var e=Object(y.arrayMap)(this.savedBorders,function(t){return t.id}).indexOf(t);e>-1&&this.savedBorders.splice(e,1)}},{key:"checkSavedBorders",value:function(t){var e=this,n=!1;return 4===this.countHide(t)?(this.spliceBorder(t.id),n=!0):Object(y.arrayEach)(this.savedBorders,function(r,o){if(t.id===r.id)return e.savedBorders[o]=t,n=!0,!1}),n}},{key:"checkCustomSelectionsFromContextMenu",value:function(t,e,n){var r=!1;return Object(y.arrayEach)(this.hot.selection.highlight.customSelections,function(o){if(t.id===o.settings.id)return Object(M.objectEach)(o.instanceBorders,function(t){t.toggleHiddenClass(e,n)}),r=!0,!1}),r}},{key:"checkCustomSelections",value:function(t,e,n){var r=this.countHide(t),o=!1;return 4===r?(this.removeAllBorders(t.row,t.col),this.clearBordersFromSelectionSettings(t.id),this.clearNullCellRange(),o=!0):Object(y.arrayEach)(this.hot.selection.highlight.customSelections,function(r){if(t.id===r.settings.id)return r.cellRange=e,n&&Object(M.objectEach)(r.instanceBorders,function(e){e.changeBorderStyle(n,t)}),o=!0,!1}),o}},{key:"changeBorderSettings",value:function(){var t=this.hot.getSettings().customBorders;Array.isArray(t)?(t.length||(this.savedBorders=t),this.createCustomBorders(t)):void 0!==t&&this.createCustomBorders(this.savedBorders)}},{key:"onAfterContextMenuDefaultOptions",value:function(t){var e;this.hot.getSettings().customBorders&&t.items.push({name:"---------"},{key:"borders",name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_BORDERS)},disabled:function(){return this.selection.isSelectedByCorner()},submenu:{items:[(e=this,{key:"borders:top",name:function(){var t=this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_BORDERS_TOP);return Mr(this,"top")&&(t=Ar(t)),t},callback:function(t,n){var r=Mr(this,"top");e.prepareBorder(n,"top",r)}}),Ir(this),Nr(this),_r(this),Pr(this)]}})}},{key:"onAfterInit",value:function(){this.changeBorderSettings()}},{key:"destroy",value:function(){Fr(Wr(e.prototype),"destroy",this).call(this)}}])&&Hr(n.prototype,r),o&&Hr(n,o),e}();Object(D.d)("customBorders",Ur);var zr=Ur;function Yr(t){return(Yr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kr(t,e,n){return(Kr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qr(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function qr(t){return(qr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $r(t,e){return($r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qr=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=qr(e).call(this,t))||"object"!==Yr(o)&&"function"!==typeof o?Xr(r):o).eventManager=new g.a(Xr(n)),n.boundaries=null,n.callback=null,n.listening=!1,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$r(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().dragToScroll}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.addHook("afterOnCellMouseDown",function(){return t.setupListening()}),this.addHook("afterOnCellCornerMouseDown",function(){return t.setupListening()}),this.registerEvents(),Kr(qr(e.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Kr(qr(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.unregisterEvents(),Kr(qr(e.prototype),"disablePlugin",this).call(this)}},{key:"setBoundaries",value:function(t){this.boundaries=t}},{key:"setCallback",value:function(t){this.callback=t}},{key:"check",value:function(t,e){var n=0,r=0;e<this.boundaries.top?r=e-this.boundaries.top:e>this.boundaries.bottom&&(r=e-this.boundaries.bottom),t<this.boundaries.left?n=t-this.boundaries.left:t>this.boundaries.right&&(n=t-this.boundaries.right),this.callback(n,r)}},{key:"registerEvents",value:function(){var t=this,e=this.hot.rootDocument;this.eventManager.addEventListener(e,"mouseup",function(){return t.onMouseUp()}),this.eventManager.addEventListener(e,"mousemove",function(e){return t.onMouseMove(e)})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"setupListening",value:function(){var t=this.hot.view.wt.wtTable.holder;t!==this.hot.rootWindow&&(this.setBoundaries(t.getBoundingClientRect()),this.setCallback(function(e,n){e<0?t.scrollLeft-=50:e>0&&(t.scrollLeft+=50),n<0?t.scrollTop-=20:n>0&&(t.scrollTop+=20)}),this.listening=!0)}},{key:"onMouseMove",value:function(t){this.listening&&this.check(t.clientX,t.clientY)}},{key:"onMouseUp",value:function(){this.listening=!1}},{key:"destroy",value:function(){Kr(qr(e.prototype),"destroy",this).call(this)}}])&&Gr(n.prototype,r),o&&Gr(n,o),e}();Object(D.d)("dragToScroll",Qr);var Zr=Qr;function Jr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function to(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function eo(t){return(eo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function no(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ro(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oo(t,e,n){return(oo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=io(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function io(t){return(io=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ao(t,e){return(ao=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var so=new WeakMap,lo=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,n=!(o=io(e).call(this,t))||"object"!==eo(o)&&"function"!==typeof o?ro(r):o,so.set(ro(n),{moveByFreeze:!1,afterFirstUse:!1}),n.frozenColumnsBasePositions=[],n.manualColumnMovePlugin=void 0,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ao(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualColumnFreeze}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(e){return t.addContextMenuEntry(e)}),this.addHook("afterInit",function(){return t.onAfterInit()}),this.addHook("beforeColumnMove",function(e,n){return t.onBeforeColumnMove(e,n)}),oo(io(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var t=so.get(this);t.afterFirstUse=!1,t.moveByFreeze=!1,oo(io(e.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),oo(io(e.prototype),"updatePlugin",this).call(this)}},{key:"freezeColumn",value:function(t){var e=so.get(this),n=this.hot.getSettings();e.afterFirstUse||(e.afterFirstUse=!0),n.fixedColumnsLeft===this.hot.countCols()||t<=n.fixedColumnsLeft-1||(e.moveByFreeze=!0,t!==this.getMovePlugin().columnsMapper.getValueByIndex(t)&&(this.frozenColumnsBasePositions[n.fixedColumnsLeft]=t),this.getMovePlugin().moveColumn(t,n.fixedColumnsLeft),n.fixedColumnsLeft+=1)}},{key:"unfreezeColumn",value:function(t){var e=so.get(this),n=this.hot.getSettings();if(e.afterFirstUse||(e.afterFirstUse=!0),!(n.fixedColumnsLeft<=0||t>n.fixedColumnsLeft-1)){var r=this.getBestColumnReturnPosition(t);e.moveByFreeze=!0,n.fixedColumnsLeft-=1,this.getMovePlugin().moveColumn(t,r+1)}}},{key:"getMovePlugin",value:function(){return this.manualColumnMovePlugin||(this.manualColumnMovePlugin=this.hot.getPlugin("manualColumnMove")),this.manualColumnMovePlugin}},{key:"getBestColumnReturnPosition",value:function(t){var e,n=this.getMovePlugin(),r=this.hot.getSettings().fixedColumnsLeft,o=n.columnsMapper.getValueByIndex(r);if(null===this.frozenColumnsBasePositions[t]||void 0===this.frozenColumnsBasePositions[t])for(e=n.columnsMapper.getValueByIndex(t);null!==o&&o<=e;)r+=1,o=n.columnsMapper.getValueByIndex(r);else{for(e=this.frozenColumnsBasePositions[t],this.frozenColumnsBasePositions[t]=void 0;null!==o&&o<=e;)r+=1,o=n.columnsMapper.getValueByIndex(r);r=o}return r-1}},{key:"addContextMenuEntry",value:function(t){var e;t.items.push({name:"---------"},(e=this,{key:"freeze_column",name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_FREEZE_COLUMN)},callback:function(t,n){var r=Jr(n,1)[0].start.col;e.freezeColumn(r),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),e=!1;return void 0===t?e=!0:t.length>1?e=!0:(t[0].from.col!==t[0].to.col||t[0].from.col<=this.getSettings().fixedColumnsLeft-1)&&(e=!0),e}}),function(t){return{key:"unfreeze_column",name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_UNFREEZE_COLUMN)},callback:function(e,n){var r=to(n,1)[0].start.col;t.unfreezeColumn(r),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),e=!1;return void 0===t?e=!0:t.length>1?e=!0:(t[0].from.col!==t[0].to.col||t[0].from.col>=this.getSettings().fixedColumnsLeft)&&(e=!0),e}}}(this))}},{key:"onAfterInit",value:function(){this.getMovePlugin().isEnabled()||this.getMovePlugin().enablePlugin()}},{key:"onBeforeColumnMove",value:function(t,e){var n=so.get(this);if(n.afterFirstUse&&!n.moveByFreeze){var r=this.hot.getSettings().fixedColumnsLeft,o=e<r;if(o||Object(y.arrayEach)(t,function(t){if(t<r)return o=!0,!1}),o)return!1}n.moveByFreeze&&(n.moveByFreeze=!1)}},{key:"destroy",value:function(){oo(io(e.prototype),"destroy",this).call(this)}}])&&no(n.prototype,r),o&&no(n,o),e}();Object(D.d)("manualColumnFreeze",lo);var uo=lo;function co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ho=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.manualColumnMove=e}var e,n,r;return e=t,(n=[{key:"createMap",value:function(t){var e=this,n=void 0===t?this._arrayMap.length:t;this._arrayMap.length=0,Object(x.rangeEach)(n-1,function(t){e._arrayMap[t]=t})}},{key:"destroy",value:function(){this._arrayMap=null}},{key:"moveColumn",value:function(t,e){var n=this._arrayMap[t];this._arrayMap[t]=null,this._arrayMap.splice(e,0,n)}},{key:"clearNull",value:function(){this._arrayMap=Object(y.arrayFilter)(this._arrayMap,function(t){return null!==t})}}])&&co(e.prototype,n),r&&co(e,r),t}();Object(M.mixin)(ho,Zt);var fo=ho;function po(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var go=0,mo=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this._element=null,this.state=go}var e,n,r;return e=t,(n=[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=2}},{key:"build",value:function(){this._element=this.hot.rootDocument.createElement("div"),this.state=1}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=go}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(t,e){Object(x.isNumeric)(t)&&(this._element.style.top=t+"px"),Object(x.isNumeric)(e)&&(this._element.style.left=e+"px")}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(t,e){Object(x.isNumeric)(t)&&(this._element.style.width=t+"px"),Object(x.isNumeric)(e)&&(this._element.style.height=e+"px")}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,e){Object(x.isNumeric)(t)&&(this._element.style.marginTop=t+"px"),Object(x.isNumeric)(e)&&(this._element.style.marginLeft=e+"px")}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}])&&po(e.prototype,n),r&&po(e,r),t}();function vo(t){return(vo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bo(t,e){return!e||"object"!==vo(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wo(t,e,n){return(wo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Co(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Co(t){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oo(t,e){return(Oo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var So=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),bo(this,Co(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oo(t,e)}(e,mo),n=e,(r=[{key:"build",value:function(){wo(Co(e.prototype),"build",this).call(this),Object(v.addClass)(this._element,"ht__manualColumnMove--backlight")}}])&&yo(n.prototype,r),o&&yo(n,o),e}();function Eo(t){return(Eo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ko(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function To(t,e){return!e||"object"!==Eo(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ro(t,e,n){return(Ro="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xo(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function xo(t){return(xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mo(t,e){return(Mo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ao=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),To(this,xo(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mo(t,e)}(e,mo),n=e,(r=[{key:"build",value:function(){Ro(xo(e.prototype),"build",this).call(this),Object(v.addClass)(this._element,"ht__manualColumnMove--guideline")}}])&&ko(n.prototype,r),o&&ko(n,o),e}();function No(t){return(No="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Po(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Io(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Do(t,e,n){return(Do="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lo(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Lo(t){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jo(t,e){return(jo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}m.a.getSingleton().register("beforeColumnMove"),m.a.getSingleton().register("afterColumnMove"),m.a.getSingleton().register("unmodifyCol");var Ho=new WeakMap,Bo=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,n=!(o=Lo(e).call(this,t))||"object"!==No(o)&&"function"!==typeof o?Io(r):o,Ho.set(Io(n),{columnsToMove:[],countCols:0,fixedColumns:0,pressed:void 0,disallowMoving:void 0,target:{eventPageX:void 0,coords:void 0,TD:void 0,col:void 0}}),n.removedColumns=[],n.columnsMapper=new fo(Io(n)),n.eventManager=new g.a(Io(n)),n.backlight=new So(t),n.guideline=new Ao(t),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jo(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualColumnMove}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(e,n,r,o){return t.onBeforeOnCellMouseDown(e,n,r,o)}),this.addHook("beforeOnCellMouseOver",function(e,n,r,o){return t.onBeforeOnCellMouseOver(e,n,r,o)}),this.addHook("afterScrollVertically",function(){return t.onAfterScrollVertically()}),this.addHook("modifyCol",function(e,n){return t.onModifyCol(e,n)}),this.addHook("beforeRemoveCol",function(e,n){return t.onBeforeRemoveCol(e,n)}),this.addHook("afterRemoveCol",function(){return t.onAfterRemoveCol()}),this.addHook("afterCreateCol",function(e,n){return t.onAfterCreateCol(e,n)}),this.addHook("afterLoadData",function(){return t.onAfterLoadData()}),this.addHook("unmodifyCol",function(e){return t.onUnmodifyCol(e)}),this.registerEvents(),Object(v.addClass)(this.hot.rootElement,"ht__manualColumnMove"),Do(Lo(e.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.onAfterPluginsInitialized(),Do(Lo(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var t=this.hot.getSettings().manualColumnMove;Array.isArray(t)&&this.columnsMapper.clearMap(),Object(v.removeClass)(this.hot.rootElement,"ht__manualColumnMove"),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),Do(Lo(e.prototype),"disablePlugin",this).call(this)}},{key:"moveColumn",value:function(t,e){this.moveColumns([t],e)}},{key:"moveColumns",value:function(t,e){var n=this,r=_o(t),o=Ho.get(this),i=this.hot.runHooks("beforeColumnMove",r,e);o.disallowMoving=!i,!1!==i&&(Object(y.arrayEach)(t,function(t,e,r){r[e]=n.columnsMapper.getValueByIndex(t)}),Object(y.arrayEach)(t,function(t,r){var o=n.columnsMapper.getIndexByValue(t);o!==e&&n.columnsMapper.moveColumn(o,e+r)}),this.columnsMapper.clearNull()),this.hot.runHooks("afterColumnMove",r,e)}},{key:"changeSelection",value:function(t,e){this.hot.selectColumns(t,e)}},{key:"getColumnsWidth",value:function(t,e){for(var n=0,r=t;r<e;r++){n+=r<0?this.hot.view.wt.wtViewport.getRowHeaderWidth()||0:this.hot.view.wt.wtTable.getStretchedColumnWidth(r)||0}return n}},{key:"initialSettings",value:function(){var t=this.hot.getSettings().manualColumnMove;Array.isArray(t)?this.moveColumns(t,0):void 0!==t&&this.persistentStateLoad()}},{key:"isFixedColumnsLeft",value:function(t){return t<this.hot.getSettings().fixedColumnsLeft}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.columnsMapper._arrayMap)}},{key:"persistentStateLoad",value:function(){var t={};this.hot.runHooks("persistentStateLoad","manualColumnMove",t),t.value&&(this.columnsMapper._arrayMap=t.value)}},{key:"prepareColumnsToMoving",value:function(t,e){var n=[];return Object(x.rangeEach)(t,e,function(t){n.push(t)}),n}},{key:"refreshPositions",value:function(){var t=Ho.get(this),e=this.hot.view.wt.wtTable.getFirstVisibleColumn(),n=this.hot.view.wt.wtTable.getLastVisibleColumn(),r=this.hot.view.wt.wtTable,o=this.hot.view.wt.wtOverlays.scrollableElement,i="number"===typeof o.scrollX?o.scrollX:o.scrollLeft,a=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,t.coordsColumn),s=t.target.eventPageX-(t.rootElementOffset-(void 0===o.scrollX?i:0)),l=r.hider.offsetWidth,u=r.TBODY.offsetLeft,c=this.backlight.getOffset().left,h=this.backlight.getSize().width,f=0;if(t.rootElementOffset+r.holder.offsetWidth+i<t.target.eventPageX&&t.coordsColumn<t.countCols&&(t.coordsColumn+=1),t.hasRowHeaders&&(f=this.hot.view.wt.wtOverlays.leftOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsLeft(t.coordsColumn)&&(a+=i),a+=f,t.coordsColumn<0)t.fixedColumns>0?t.target.col=0:t.target.col=e>0?e-1:e;else if(t.target.TD.offsetWidth/2+a<=s){var d=t.coordsColumn>=t.countCols?t.countCols-1:t.coordsColumn;t.target.col=d+1,a+=t.target.TD.offsetWidth,t.target.col>n&&n<t.countCols&&this.hot.scrollViewportTo(void 0,n+1,void 0,!0)}else t.target.col=t.coordsColumn,t.target.col<=e&&t.target.col>=t.fixedColumns&&e>0&&this.hot.scrollViewportTo(void 0,e-1);t.target.col<=e&&t.target.col>=t.fixedColumns&&e>0&&this.hot.scrollViewportTo(void 0,e-1);var p=s,g=a;s+h+c>=l?p=l-h-c:s+c<u+f&&(p=u+f+Math.abs(c)),a>=l-1?g=l-1:0===g?g=1:void 0!==o.scrollX&&t.coordsColumn<t.fixedColumns&&(g-=t.rootElementOffset<=o.scrollX?t.rootElementOffset:0),this.backlight.setPosition(null,p),this.guideline.setPosition(null,g)}},{key:"updateColumnsMapper",value:function(){var t=this.hot.countSourceCols(),e=this.columnsMapper._arrayMap.length;if(0===e)this.columnsMapper.createMap(t||this.hot.getSettings().startCols);else if(e<t){var n=t-e;this.columnsMapper.insertItems(e,n)}else if(e>t){var r=t-1,o=[];Object(y.arrayEach)(this.columnsMapper._arrayMap,function(t,e){t>r&&o.push(e)}),this.columnsMapper.removeItems(o)}}},{key:"registerEvents",value:function(){var t=this,e=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(e,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(e,"mouseup",function(){return t.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(t,e,n,r){var o=this.hot.view.wt.wtTable,i=this.hot.selection.isSelectedByColumnHeader(),a=this.hot.getSelectedRangeLast(),s=Ho.get(this),l=Object(v.hasClass)(t.realTarget,"sortAction");if(!a||!i||s.pressed||0!==t.button||l)return s.pressed=!1,s.columnsToMove.length=0,void Object(v.removeClass)(this.hot.rootElement,["on-moving--columns","show-ui"]);var u=this.guideline.isBuilt()&&!this.guideline.isAppended(),c=this.backlight.isBuilt()&&!this.backlight.isAppended();u&&c&&(this.guideline.appendTo(o.hider),this.backlight.appendTo(o.hider));var h=a.from,f=a.to,d=Math.min(h.col,f.col),p=Math.max(h.col,f.col);if(e.row<0&&e.col>=d&&e.col<=p){r.column=!0,s.pressed=!0,s.target.eventPageX=t.pageX,s.coordsColumn=e.col,s.target.TD=n,s.target.col=e.col,s.columnsToMove=this.prepareColumnsToMoving(d,p),s.hasRowHeaders=!!this.hot.getSettings().rowHeaders,s.countCols=this.hot.countCols(),s.fixedColumns=this.hot.getSettings().fixedColumnsLeft,s.rootElementOffset=Object(v.offset)(this.hot.rootElement).left;var g=s.hasRowHeaders?-1:0,m=o.holder.scrollTop+o.getColumnHeaderHeight(0)+1,y=e.col<s.fixedColumns,b=this.hot.view.wt.wtOverlays.scrollableElement,w=b.scrollX?b.scrollX-s.rootElementOffset:0,C=t.layerX-(y?w:0),O=Math.abs(this.getColumnsWidth(d,e.col)+C);this.backlight.setPosition(m,this.getColumnsWidth(g,d)+O),this.backlight.setSize(this.getColumnsWidth(d,p+1),o.hider.offsetHeight-m),this.backlight.setOffset(null,-1*O),Object(v.addClass)(this.hot.rootElement,"on-moving--columns")}else Object(v.removeClass)(this.hot.rootElement,"after-selection--columns"),s.pressed=!1,s.columnsToMove.length=0}},{key:"onMouseMove",value:function(t){var e=Ho.get(this);if(e.pressed){if(t.realTarget===this.backlight.element){var n=this.backlight.getSize().width;this.backlight.setSize(0),setTimeout(function(){this.backlight.setPosition(n)})}e.target.eventPageX=t.pageX,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(t,e,n,r){var o=this.hot.getSelectedRangeLast(),i=Ho.get(this);o&&i.pressed&&(i.columnsToMove.indexOf(e.col)>-1?Object(v.removeClass)(this.hot.rootElement,"show-ui"):Object(v.addClass)(this.hot.rootElement,"show-ui"),r.row=!0,r.column=!0,r.cell=!0,i.coordsColumn=e.col,i.target.TD=n)}},{key:"onMouseUp",value:function(){var t=Ho.get(this);if(t.coordsColumn=void 0,t.pressed=!1,t.backlightWidth=0,Object(v.removeClass)(this.hot.rootElement,["on-moving--columns","show-ui","after-selection--columns"]),this.hot.selection.isSelectedByColumnHeader()&&Object(v.addClass)(this.hot.rootElement,"after-selection--columns"),!(t.columnsToMove.length<1||void 0===t.target.col||t.columnsToMove.indexOf(t.target.col)>-1)){if(this.moveColumns(t.columnsToMove,t.target.col),this.persistentStateSave(),this.hot.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0),!t.disallowMoving){var e=this.columnsMapper.getIndexByValue(t.columnsToMove[0]),n=this.columnsMapper.getIndexByValue(t.columnsToMove[t.columnsToMove.length-1]);this.changeSelection(e,n)}t.columnsToMove.length=0}}},{key:"onAfterScrollVertically",value:function(){var t=this.hot.view.wt.wtTable,e=t.getColumnHeaderHeight(0)+1+t.holder.scrollTop;this.backlight.setPosition(e),this.backlight.setSize(null,t.hider.offsetHeight-e)}},{key:"onAfterCreateCol",value:function(t,e){this.columnsMapper.shiftItems(t,e)}},{key:"onBeforeRemoveCol",value:function(t,e){var n=this;this.removedColumns.length=0,!1!==t&&Object(x.rangeEach)(t,t+e-1,function(t){n.removedColumns.push(n.hot.runHooks("modifyCol",t,n.pluginName))})}},{key:"onAfterRemoveCol",value:function(){this.columnsMapper.unshiftItems(this.removedColumns)}},{key:"onAfterLoadData",value:function(){this.updateColumnsMapper()}},{key:"onModifyCol",value:function(t,e){var n=t;if(e!==this.pluginName){var r=this.columnsMapper.getValueByIndex(n);n=null===r?n:r}return n}},{key:"onUnmodifyCol",value:function(t){var e=this.columnsMapper.getIndexByValue(t);return null===e?t:e}},{key:"onAfterPluginsInitialized",value:function(){this.updateColumnsMapper(),this.initialSettings(),this.backlight.build(),this.guideline.build()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),Do(Lo(e.prototype),"destroy",this).call(this)}}])&&Po(n.prototype,r),o&&Po(n,o),e}();Object(D.d)("ManualColumnMove",Bo);var Fo=Bo;function Wo(t){return(Wo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zo(t,e,n){return(zo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yo(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Yo(t){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Go(t,e){return(Go=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xo=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this;var i=(n=!(o=Yo(e).call(this,t))||"object"!==Wo(o)&&"function"!==typeof o?Uo(r):o).hot.rootDocument;return n.currentTH=null,n.currentCol=null,n.selectedCols=[],n.currentWidth=null,n.newSize=null,n.startY=null,n.startWidth=null,n.startOffset=null,n.handle=i.createElement("DIV"),n.guide=i.createElement("DIV"),n.eventManager=new g.a(Uo(n)),n.pressed=null,n.dblclick=0,n.autoresizeTimeout=null,n.manualColumnWidths=[],Object(v.addClass)(n.handle,"manualColumnResizer"),Object(v.addClass)(n.guide,"manualColumnResizerGuide"),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Go(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return this.hot.getSettings().manualColumnResize}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){this.manualColumnWidths=[];var n=this.hot.getSettings().manualColumnResize,r=this.loadManualColumnWidths();this.addHook("modifyColWidth",function(e,n){return t.onModifyColWidth(e,n)}),this.addHook("beforeStretchingColumnWidth",function(e,n){return t.onBeforeStretchingColumnWidth(e,n)}),this.addHook("beforeColumnResize",function(e,n,r){return t.onBeforeColumnResize(e,n,r)}),"undefined"!==typeof r?this.manualColumnWidths=r:Array.isArray(n)?this.manualColumnWidths=n:this.manualColumnWidths=[],this.bindEvents(),zo(Yo(e.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var t=this.hot.getSettings().manualColumnResize;Array.isArray(t)?this.manualColumnWidths=t:t||(this.manualColumnWidths=[])}},{key:"disablePlugin",value:function(){zo(Yo(e.prototype),"disablePlugin",this).call(this)}},{key:"saveManualColumnWidths",value:function(){this.hot.runHooks("persistentStateSave","manualColumnWidths",this.manualColumnWidths)}},{key:"loadManualColumnWidths",value:function(){var t={};return this.hot.runHooks("persistentStateLoad","manualColumnWidths",t),t.value}},{key:"setupHandlePosition",value:function(t){var e=this;if(!t.parentNode)return!1;this.currentTH=t;var n=this.hot.view.wt.wtTable.getCoords(this.currentTH),r=n.col,o=Object(v.outerHeight)(this.currentTH);if(r>=0){var i=this.currentTH.getBoundingClientRect(),a=r<this.hot.getSettings().fixedColumnsLeft?this.hot.view.wt.wtOverlays.topLeftCornerOverlay:this.hot.view.wt.wtOverlays.topOverlay,s=a.getRelativeCellPosition(this.currentTH,n.row,n.col);if(!s){var l=a.clone.wtTable.THEAD.lastChild.children[+!!this.hot.getSettings().rowHeaders+r];s=a.getRelativeCellPosition(l,n.row,n.col)}if(this.currentCol=r,this.selectedCols=[],this.hot.selection.isSelected()&&this.hot.selection.isSelectedByColumnHeader()){var u=this.hot.getSelectedRangeLast(),c=u.from,h=u.to,f=c.col,d=h.col;f>=d&&(f=h.col,d=c.col),this.currentCol>=f&&this.currentCol<=d?Object(x.rangeEach)(f,d,function(t){return e.selectedCols.push(t)}):this.selectedCols.push(this.currentCol)}else this.selectedCols.push(this.currentCol);this.startOffset=s.left-6,this.startWidth=parseInt(i.width,10),this.handle.style.top="".concat(s.top,"px"),this.handle.style.left="".concat(this.startOffset+this.startWidth,"px"),this.handle.style.height="".concat(o,"px"),this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.left="".concat(this.startOffset+this.currentWidth,"px")}},{key:"setupGuidePosition",value:function(){var t=parseInt(Object(v.outerHeight)(this.handle),10),e=parseInt(this.handle.style.top,10)+t,n=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);Object(v.addClass)(this.handle,"active"),Object(v.addClass)(this.guide,"active"),this.guide.style.top="".concat(e,"px"),this.guide.style.left=this.handle.style.left,this.guide.style.height="".concat(n-t,"px"),this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.left=this.handle.style.left}},{key:"hideHandleAndGuide",value:function(){Object(v.removeClass)(this.handle,"active"),Object(v.removeClass)(this.guide,"active")}},{key:"checkIfColumnHeader",value:function(t){if(t!==this.hot.rootElement){var e=t.parentNode;return"THEAD"===e.tagName||this.checkIfColumnHeader(e)}return!1}},{key:"getTHFromTargetElement",value:function(t){return"TABLE"!==t.tagName?"TH"===t.tagName?t:this.getTHFromTargetElement(t.parentNode):null}},{key:"onMouseOver",value:function(t){if(this.checkIfColumnHeader(t.target)){var e=this.getTHFromTargetElement(t.target);if(!e)return;var n=e.getAttribute("colspan");!e||null!==n&&1!==n||this.pressed||this.setupHandlePosition(e)}}},{key:"afterMouseDownTimeout",value:function(){var t=this,e=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},n=function(n,r){var o=t.hot.runHooks("beforeColumnResize",n,t.newSize,!0);void 0!==o&&(t.newSize=o),"all"===t.hot.getSettings().stretchH?t.clearManualSize(n):t.setManualSize(n,t.newSize),r&&e(),t.saveManualColumnWidths(),t.hot.runHooks("afterColumnResize",n,t.newSize,!0)};this.dblclick>=2&&(this.selectedCols.length>1?(Object(y.arrayEach)(this.selectedCols,function(t){n(t)}),e()):Object(y.arrayEach)(this.selectedCols,function(t){n(t,!0)}));this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(t){var e=this;Object(v.hasClass)(t.target,"manualColumnResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return e.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startX=Object(P.pageX)(t),this.newSize=this.startWidth)}},{key:"onMouseMove",value:function(t){var e=this;this.pressed&&(this.currentWidth=this.startWidth+(Object(P.pageX)(t)-this.startX),Object(y.arrayEach)(this.selectedCols,function(t){e.newSize=e.setManualSize(t,e.currentWidth)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(){var t=this,e=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},n=function(n,r){t.hot.runHooks("beforeColumnResize",n,t.newSize,!1),r&&e(),t.saveManualColumnWidths(),t.hot.runHooks("afterColumnResize",n,t.newSize)};if(this.pressed){if(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!==this.startWidth)this.selectedCols.length>1?(Object(y.arrayEach)(this.selectedCols,function(t){n(t)}),e()):Object(y.arrayEach)(this.selectedCols,function(t){n(t,!0)});this.setupHandlePosition(this.currentTH)}}},{key:"bindEvents",value:function(){var t=this,e=this.hot,n=e.rootWindow,r=e.rootElement;this.eventManager.addEventListener(r,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(r,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(n,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(n,"mouseup",function(){return t.onMouseUp()})}},{key:"setManualSize",value:function(t,e){var n=Math.max(e,20),r=this.hot.runHooks("modifyCol",t);return this.manualColumnWidths[r]=n,n}},{key:"clearManualSize",value:function(t){var e=this.hot.runHooks("modifyCol",t);this.manualColumnWidths[e]=void 0}},{key:"onModifyColWidth",value:function(t,e){var n=t;if(this.enabled){var r=this.hot.runHooks("modifyCol",e),o=this.manualColumnWidths[r];this.hot.getSettings().manualColumnResize&&o&&(n=o)}return n}},{key:"onBeforeStretchingColumnWidth",value:function(t,e){var n=this.manualColumnWidths[e];return void 0===n&&(n=t),n}},{key:"onBeforeColumnResize",value:function(){this.hot.view.wt.wtViewport.hasOversizedColumnHeadersMarked={}}}])&&Vo(n.prototype,r),o&&Vo(n,o),e}();Object(D.d)("manualColumnResize",Xo);var Ko=Xo;function qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.manualRowMove=e}var e,n,r;return e=t,(n=[{key:"createMap",value:function(t){var e=this,n=void 0===t?this._arrayMap.length:t;this._arrayMap.length=0,Object(x.rangeEach)(n-1,function(t){e._arrayMap[t]=t})}},{key:"destroy",value:function(){this._arrayMap=null}},{key:"moveRow",value:function(t,e){var n=this._arrayMap[t];this._arrayMap[t]=null,this._arrayMap.splice(e,0,n)}},{key:"clearNull",value:function(){this._arrayMap=Object(y.arrayFilter)(this._arrayMap,function(t){return null!==t})}}])&&qo(e.prototype,n),r&&qo(e,r),t}();Object(M.mixin)($o,Zt);var Qo=$o;function Zo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Jo=0,ti=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this._element=null,this.state=Jo}var e,n,r;return e=t,(n=[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=2}},{key:"build",value:function(){this._element=this.hot.rootDocument.createElement("div"),this.state=1}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=Jo}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(t,e){void 0!==t&&(this._element.style.top=t+"px"),void 0!==e&&(this._element.style.left=e+"px")}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(t,e){t&&(this._element.style.width=t+"px"),e&&(this._element.style.height=e+"px")}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,e){t&&(this._element.style.marginTop=t+"px"),e&&(this._element.style.marginLeft=e+"px")}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}])&&Zo(e.prototype,n),r&&Zo(e,r),t}();function ei(t){return(ei="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ni(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ri(t,e){return!e||"object"!==ei(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oi(t,e,n){return(oi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ii(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ii(t){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ai(t,e){return(ai=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var si=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ri(this,ii(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ai(t,e)}(e,ti),n=e,(r=[{key:"build",value:function(){oi(ii(e.prototype),"build",this).call(this),Object(v.addClass)(this._element,"ht__manualRowMove--backlight")}}])&&ni(n.prototype,r),o&&ni(n,o),e}();function li(t){return(li="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ui(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ci(t,e){return!e||"object"!==li(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hi(t,e,n){return(hi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fi(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function fi(t){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function di(t,e){return(di=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pi=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ci(this,fi(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&di(t,e)}(e,ti),n=e,(r=[{key:"build",value:function(){hi(fi(e.prototype),"build",this).call(this),Object(v.addClass)(this._element,"ht__manualRowMove--guideline")}}])&&ui(n.prototype,r),o&&ui(n,o),e}();function gi(t){return(gi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mi(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function vi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bi(t,e,n){return(bi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wi(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function wi(t){return(wi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ci(t,e){return(Ci=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}m.a.getSingleton().register("beforeRowMove"),m.a.getSingleton().register("afterRowMove"),m.a.getSingleton().register("unmodifyRow");var Oi=new WeakMap,Si=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,n=!(o=wi(e).call(this,t))||"object"!==gi(o)&&"function"!==typeof o?yi(r):o,Oi.set(yi(n),{rowsToMove:[],pressed:void 0,disallowMoving:void 0,target:{eventPageY:void 0,coords:void 0,TD:void 0,row:void 0}}),n.removedRows=[],n.rowsMapper=new Qo(yi(n)),n.eventManager=new g.a(yi(n)),n.backlight=new si(t),n.guideline=new pi(t),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ci(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualRowMove}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(e,n,r,o){return t.onBeforeOnCellMouseDown(e,n,r,o)}),this.addHook("beforeOnCellMouseOver",function(e,n,r,o){return t.onBeforeOnCellMouseOver(e,n,r,o)}),this.addHook("afterScrollHorizontally",function(){return t.onAfterScrollHorizontally()}),this.addHook("modifyRow",function(e,n){return t.onModifyRow(e,n)}),this.addHook("beforeRemoveRow",function(e,n){return t.onBeforeRemoveRow(e,n)}),this.addHook("afterRemoveRow",function(){return t.onAfterRemoveRow()}),this.addHook("afterCreateRow",function(e,n){return t.onAfterCreateRow(e,n)}),this.addHook("afterLoadData",function(){return t.onAfterLoadData()}),this.addHook("beforeColumnSort",function(e,n){return t.onBeforeColumnSort(e,n)}),this.addHook("unmodifyRow",function(e){return t.onUnmodifyRow(e)}),this.registerEvents(),Object(v.addClass)(this.hot.rootElement,"ht__manualRowMove"),bi(wi(e.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.onAfterPluginsInitialized(),bi(wi(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var t=this.hot.getSettings().manualRowMove;Array.isArray(t)&&this.rowsMapper.clearMap(),Object(v.removeClass)(this.hot.rootElement,"ht__manualRowMove"),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),bi(wi(e.prototype),"disablePlugin",this).call(this)}},{key:"moveRow",value:function(t,e){this.moveRows([t],e)}},{key:"moveRows",value:function(t,e){var n=this,r=mi(t),o=Oi.get(this),i=this.hot.runHooks("beforeRowMove",r,e);o.disallowMoving=!1===i,o.disallowMoving||(Object(y.arrayEach)(t,function(t,e,r){r[e]=n.rowsMapper.getValueByIndex(t)}),Object(y.arrayEach)(t,function(t,r){var o=n.rowsMapper.getIndexByValue(t);o!==e&&n.rowsMapper.moveRow(o,e+r)}),this.rowsMapper.clearNull()),this.hot.runHooks("afterRowMove",r,e)}},{key:"changeSelection",value:function(t,e){this.hot.selectRows(t,e)}},{key:"getRowsHeight",value:function(t,e){for(var n=0,r=t;r<e;r++){n+=this.hot.view.wt.wtTable.getRowHeight(r)||23}return n}},{key:"initialSettings",value:function(){var t=this.hot.getSettings().manualRowMove;if(Array.isArray(t))this.moveRows(t,0);else if(void 0!==t){var e=this.persistentStateLoad();e.length&&this.moveRows(e,0)}}},{key:"isFixedRowTop",value:function(t){return t<this.hot.getSettings().fixedRowsTop}},{key:"isFixedRowBottom",value:function(t){return t>this.hot.getSettings().fixedRowsBottom}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualRowMove",this.rowsMapper._arrayMap)}},{key:"persistentStateLoad",value:function(){var t={};return this.hot.runHooks("persistentStateLoad","manualRowMove",t),t.value?t.value:[]}},{key:"prepareRowsToMoving",value:function(){var t=this.hot.getSelectedRangeLast(),e=[];if(!t)return e;var n=t.from,r=t.to,o=Math.min(n.row,r.row),i=Math.max(n.row,r.row);return Object(x.rangeEach)(o,i,function(t){e.push(t)}),e}},{key:"refreshPositions",value:function(){var t=Oi.get(this),e=t.target.coords,n=this.hot.view.wt.wtTable.getFirstVisibleRow(),r=this.hot.view.wt.wtTable.getLastVisibleRow(),o=this.hot.getSettings().fixedRowsTop,i=this.hot.countRows();e.row<o&&n>0&&this.hot.scrollViewportTo(n-1),e.row>=r&&r<i&&this.hot.scrollViewportTo(r+1,void 0,!0);var a=this.hot.view.wt.wtTable,s=t.target.TD,l=Object(v.offset)(this.hot.rootElement),u=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,e.row),c=t.target.eventPageY-l.top+a.holder.scrollTop,h=a.hider.offsetHeight,f=a.TBODY.offsetTop,d=this.backlight.getOffset().top,p=this.backlight.getSize().height;this.isFixedRowTop(e.row)&&(u+=a.holder.scrollTop),e.row<0?t.target.row=n>0?n-1:n:s.offsetHeight/2+u<=c?(t.target.row=e.row+1,u+=0===e.row?s.offsetHeight-1:s.offsetHeight):t.target.row=e.row;var g=c,m=u;c+p+d>=h?g=h-p-d:c+d<f&&(g=f+Math.abs(d)),u>=h-1&&(m=h-1);var y=0;this.hot.view.wt.wtOverlays.topOverlay&&(y=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.TABLE.offsetHeight),e.row>=o&&m-a.holder.scrollTop<y&&this.hot.scrollViewportTo(e.row),this.backlight.setPosition(g),this.guideline.setPosition(m)}},{key:"updateRowsMapper",value:function(){var t=this.hot.countSourceRows(),e=this.rowsMapper._arrayMap.length;if(0===e)this.rowsMapper.createMap(t||this.hot.getSettings().startRows);else if(e<t){var n=t-e;this.rowsMapper.insertItems(e,n)}else if(e>t){var r=t-1,o=[];Object(y.arrayEach)(this.rowsMapper._arrayMap,function(t,e){t>r&&o.push(e)}),this.rowsMapper.removeItems(o)}}},{key:"registerEvents",value:function(){var t=this,e=this.hot.rootDocument.documentElement;this.eventManager.addEventListener(e,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(e,"mouseup",function(){return t.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeColumnSort",value:function(t,e){Oi.get(this).disallowMoving=void 0!==e}},{key:"onBeforeOnCellMouseDown",value:function(t,e,n,r){var o=this.hot.view.wt,i=o.wtTable,a=o.wtViewport,s=this.hot.selection.isSelectedByRowHeader(),l=this.hot.getSelectedRangeLast(),u=Oi.get(this);if(!l||!s||u.pressed||0!==t.button)return u.pressed=!1,u.rowsToMove.length=0,void Object(v.removeClass)(this.hot.rootElement,["on-moving--rows","show-ui"]);var c=this.guideline.isBuilt()&&!this.guideline.isAppended(),h=this.backlight.isBuilt()&&!this.backlight.isAppended();c&&h&&(this.guideline.appendTo(i.hider),this.backlight.appendTo(i.hider));var f=l.from,d=l.to,p=Math.min(f.row,d.row),g=Math.max(f.row,d.row);if(e.col<0&&e.row>=p&&e.row<=g){r.row=!0,u.pressed=!0,u.target.eventPageY=t.pageY,u.target.coords=e,u.target.TD=n,u.rowsToMove=this.prepareRowsToMoving();var m=i.holder.scrollLeft+a.getRowHeaderWidth();this.backlight.setPosition(null,m),this.backlight.setSize(i.hider.offsetWidth-m,this.getRowsHeight(p,g+1)),this.backlight.setOffset(-1*(this.getRowsHeight(p,e.row)+t.layerY),null),Object(v.addClass)(this.hot.rootElement,"on-moving--rows"),this.refreshPositions()}else Object(v.removeClass)(this.hot.rootElement,"after-selection--rows"),u.pressed=!1,u.rowsToMove.length=0}},{key:"onMouseMove",value:function(t){var e=Oi.get(this);if(e.pressed){if(t.realTarget===this.backlight.element){var n=this.backlight.getSize().height;this.backlight.setSize(null,0),setTimeout(function(){this.backlight.setPosition(null,n)})}e.target.eventPageY=t.pageY,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(t,e,n,r){var o=this.hot.getSelectedRangeLast(),i=Oi.get(this);o&&i.pressed&&(i.rowsToMove.indexOf(e.row)>-1?Object(v.removeClass)(this.hot.rootElement,"show-ui"):Object(v.addClass)(this.hot.rootElement,"show-ui"),r.row=!0,r.column=!0,r.cell=!0,i.target.coords=e,i.target.TD=n)}},{key:"onMouseUp",value:function(){var t=Oi.get(this),e=t.target.row,n=t.rowsToMove.length;if(t.pressed=!1,t.backlightHeight=0,Object(v.removeClass)(this.hot.rootElement,["on-moving--rows","show-ui","after-selection--rows"]),this.hot.selection.isSelectedByRowHeader()&&Object(v.addClass)(this.hot.rootElement,"after-selection--rows"),!(n<1||void 0===e||t.rowsToMove.indexOf(e)>-1||t.rowsToMove[n-1]===e-1)){if(this.moveRows(t.rowsToMove,e),this.persistentStateSave(),this.hot.render(),!t.disallowMoving){var r=this.rowsMapper.getIndexByValue(t.rowsToMove[0]),o=this.rowsMapper.getIndexByValue(t.rowsToMove[n-1]);this.changeSelection(r,o)}t.rowsToMove.length=0}}},{key:"onAfterScrollHorizontally",value:function(){var t=this.hot.view.wt.wtTable,e=this.hot.view.wt.wtViewport.getRowHeaderWidth()+t.holder.scrollLeft;this.backlight.setPosition(null,e),this.backlight.setSize(t.hider.offsetWidth-e)}},{key:"onAfterCreateRow",value:function(t,e){this.rowsMapper.shiftItems(t,e)}},{key:"onBeforeRemoveRow",value:function(t,e){var n=this;this.removedRows.length=0,!1!==t&&Object(x.rangeEach)(t,t+e-1,function(t){n.removedRows.push(n.hot.runHooks("modifyRow",t,n.pluginName))})}},{key:"onAfterRemoveRow",value:function(){this.rowsMapper.unshiftItems(this.removedRows)}},{key:"onAfterLoadData",value:function(){this.updateRowsMapper()}},{key:"onModifyRow",value:function(t,e){var n=t;if(e!==this.pluginName){var r=this.rowsMapper.getValueByIndex(n);n=null===r?n:r}return n}},{key:"onUnmodifyRow",value:function(t){var e=this.rowsMapper.getIndexByValue(t);return null===e?t:e}},{key:"onAfterPluginsInitialized",value:function(){this.updateRowsMapper(),this.initialSettings(),this.backlight.build(),this.guideline.build()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),this.rowsMapper.destroy(),bi(wi(e.prototype),"destroy",this).call(this)}}])&&vi(n.prototype,r),o&&vi(n,o),e}();Object(D.d)("ManualRowMove",Si);var Ei=Si;function ki(t){return(ki="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ti(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ri(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xi(t,e,n){return(xi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mi(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Mi(t){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ai(t,e){return(Ai=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ni=function(t){function e(t){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this;var i=(n=!(o=Mi(e).call(this,t))||"object"!==ki(o)&&"function"!==typeof o?Ri(r):o).hot.rootDocument;return n.currentTH=null,n.currentRow=null,n.selectedRows=[],n.currentHeight=null,n.newSize=null,n.startY=null,n.startHeight=null,n.startOffset=null,n.handle=i.createElement("DIV"),n.guide=i.createElement("DIV"),n.eventManager=new g.a(Ri(n)),n.pressed=null,n.dblclick=0,n.autoresizeTimeout=null,n.manualRowHeights=[],Object(v.addClass)(n.handle,"manualRowResizer"),Object(v.addClass)(n.guide,"manualRowResizerGuide"),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ai(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return this.hot.getSettings().manualRowResize}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){this.manualRowHeights=[];var n=this.hot.getSettings().manualRowResize,r=this.loadManualRowHeights();"undefined"!==typeof r?this.manualRowHeights=r:Array.isArray(n)?this.manualRowHeights=n:this.manualRowHeights=[],this.addHook("modifyRowHeight",function(e,n){return t.onModifyRowHeight(e,n)}),this.bindEvents(),xi(Mi(e.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var t=this.hot.getSettings().manualRowResize;Array.isArray(t)?this.manualRowHeights=t:t||(this.manualRowHeights=[])}},{key:"disablePlugin",value:function(){xi(Mi(e.prototype),"disablePlugin",this).call(this)}},{key:"saveManualRowHeights",value:function(){this.hot.runHooks("persistentStateSave","manualRowHeights",this.manualRowHeights)}},{key:"loadManualRowHeights",value:function(){var t={};return this.hot.runHooks("persistentStateLoad","manualRowHeights",t),t.value}},{key:"setupHandlePosition",value:function(t){var e=this;this.currentTH=t;var n=this.hot.getCoords(this.currentTH),r=n.row,o=Object(v.outerWidth)(this.currentTH);if(r>=0){var i=this.currentTH.getBoundingClientRect(),a=r<this.hot.getSettings().fixedRowsTop,s=r>=this.hot.countRows()-this.hot.getSettings().fixedRowsBottom,l=this.hot.view.wt.wtOverlays.leftOverlay;a?l=this.hot.view.wt.wtOverlays.topLeftCornerOverlay:s&&(l=this.hot.view.wt.wtOverlays.bottomLeftCornerOverlay);var u=l.getRelativeCellPosition(this.currentTH,n.row,n.col);if(!u){var c=l.clone.wtTable.TBODY.children[+!!this.hot.getSettings().colHeaders+r].firstChild;u=l.getRelativeCellPosition(c,n.row,n.col)}if(this.currentRow=r,this.selectedRows=[],this.hot.selection.isSelected()&&this.hot.selection.isSelectedByRowHeader()){var h=this.hot.getSelectedRangeLast(),f=h.from,d=h.to,p=f.row,g=d.row;p>=g&&(p=d.row,g=f.row),this.currentRow>=p&&this.currentRow<=g?Object(x.rangeEach)(p,g,function(t){return e.selectedRows.push(t)}):this.selectedRows.push(this.currentRow)}else this.selectedRows.push(this.currentRow);this.startOffset=u.top-6,this.startHeight=parseInt(i.height,10),this.handle.style.top="".concat(this.startOffset+this.startHeight,"px"),this.handle.style.left="".concat(u.left,"px"),this.handle.style.width="".concat(o,"px"),this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.top="".concat(this.startOffset+this.currentHeight,"px")}},{key:"setupGuidePosition",value:function(){var t=parseInt(Object(v.outerWidth)(this.handle),10),e=parseInt(this.handle.style.left,10)+t,n=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);Object(v.addClass)(this.handle,"active"),Object(v.addClass)(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style.left="".concat(e,"px"),this.guide.style.width="".concat(n-t,"px"),this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.top=this.handle.style.top}},{key:"hideHandleAndGuide",value:function(){Object(v.removeClass)(this.handle,"active"),Object(v.removeClass)(this.guide,"active")}},{key:"checkIfRowHeader",value:function(t){if(t!==this.hot.rootElement){var e=t.parentNode;return"TBODY"===e.tagName||this.checkIfRowHeader(e)}return!1}},{key:"getTHFromTargetElement",value:function(t){return"TABLE"!==t.tagName?"TH"===t.tagName?t:this.getTHFromTargetElement(t.parentNode):null}},{key:"onMouseOver",value:function(t){if(this.checkIfRowHeader(t.target)){var e=this.getTHFromTargetElement(t.target);e&&(this.pressed||this.setupHandlePosition(e))}}},{key:"afterMouseDownTimeout",value:function(){var t=this,e=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},n=function(n,r){var o=t.hot.runHooks("beforeRowResize",n,t.newSize,!0);void 0!==o&&(t.newSize=o),t.setManualSize(n,t.newSize),r&&e(),t.hot.runHooks("afterRowResize",n,t.newSize,!0)};this.dblclick>=2&&(this.selectedRows.length>1?(Object(y.arrayEach)(this.selectedRows,function(t){n(t)}),e()):Object(y.arrayEach)(this.selectedRows,function(t){n(t,!0)}));this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(t){var e=this;Object(v.hasClass)(t.target,"manualRowResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return e.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick+=1,this.startY=Object(P.pageY)(t),this.newSize=this.startHeight)}},{key:"onMouseMove",value:function(t){var e=this;this.pressed&&(this.currentHeight=this.startHeight+(Object(P.pageY)(t)-this.startY),Object(y.arrayEach)(this.selectedRows,function(t){e.newSize=e.setManualSize(t,e.currentHeight)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(){var t=this,e=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},n=function(n,r){t.hot.runHooks("beforeRowResize",n,t.newSize),r&&e(),t.saveManualRowHeights(),t.hot.runHooks("afterRowResize",n,t.newSize,!1)};if(this.pressed){if(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!==this.startHeight)this.selectedRows.length>1?(Object(y.arrayEach)(this.selectedRows,function(t){n(t)}),e()):Object(y.arrayEach)(this.selectedRows,function(t){n(t,!0)});this.setupHandlePosition(this.currentTH)}}},{key:"bindEvents",value:function(){var t=this,e=this.hot,n=e.rootElement,r=e.rootWindow;this.eventManager.addEventListener(n,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(n,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(r,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(r,"mouseup",function(){return t.onMouseUp()})}},{key:"setManualSize",value:function(t,e){var n=this.hot.runHooks("modifyRow",t);return this.manualRowHeights[n]=e,e}},{key:"onModifyRowHeight",value:function(t,e){if(this.enabled){var n=this.hot.getPlugin("autoRowSize"),r=n?n.heights[e]:null,o=this.hot.runHooks("modifyRow",e),i=this.manualRowHeights[o];if(void 0!==i&&(i===r||i>(t||0)))return i}return t}}])&&Ti(n.prototype,r),o&&Ti(n,o),e}();Object(D.d)("manualRowResize",Ni);var _i=Ni,Pi=(n(71),n(34));function Ii(){var t=Hi(["The merged cell declared at [",", ",'] has "rowspan" or "colspan" declared as \n      "0", which is not supported. It cannot be added to the collection.']);return Ii=function(){return t},t}function Di(){var t=Hi(["The merged cell declared at [",", ",'] has both "rowspan" \n     and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.']);return Di=function(){return t},t}function Li(){var t=Hi(["The merged cell declared at [",", ","] is positioned (or positioned partially) \n       outside of the table range. It was not added to the table, please fix your setup."]);return Li=function(){return t},t}function ji(){var t=Hi(["The merged cell declared with {row: ",", col: ",", rowspan: \n    ",", colspan: ","} contains negative values, which is not supported. It \n    will not be added to the collection."]);return ji=function(){return t},t}function Hi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Bi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Fi=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.row=e,this.col=n,this.rowspan=r,this.colspan=o,this.removed=!1}var e,n,r;return e=t,r=[{key:"NEGATIVE_VALUES_WARNING",value:function(t){return Object(Pi.a)(ji(),t.row,t.col,t.rowspan,t.colspan)}},{key:"IS_OUT_OF_BOUNDS_WARNING",value:function(t){return Object(Pi.a)(Li(),t.row,t.col)}},{key:"IS_SINGLE_CELL",value:function(t){return Object(Pi.a)(Di(),t.row,t.col)}},{key:"ZERO_SPAN_WARNING",value:function(t){return Object(Pi.a)(Ii(),t.row,t.col)}},{key:"containsNegativeValues",value:function(t){return t.row<0||t.col<0||t.rowspan<0||t.colspan<0}},{key:"isSingleCell",value:function(t){return 1===t.colspan&&1===t.rowspan}},{key:"containsZeroSpan",value:function(t){return 0===t.colspan||0===t.rowspan}},{key:"isOutOfBounds",value:function(t,e,n){return t.row<0||t.col<0||t.row>=e||t.row+t.rowspan-1>=e||t.col>=n||t.col+t.colspan-1>=n}}],(n=[{key:"normalize",value:function(t){var e=t.countRows(),n=t.countCols();this.row<0?this.row=0:this.row>e-1&&(this.row=e-1),this.col<0?this.col=0:this.col>n-1&&(this.col=n-1),this.row+this.rowspan>e-1&&(this.rowspan=e-this.row),this.col+this.colspan>n-1&&(this.colspan=n-this.col)}},{key:"includes",value:function(t,e){return this.row<=t&&this.col<=e&&this.row+this.rowspan-1>=t&&this.col+this.colspan-1>=e}},{key:"includesHorizontally",value:function(t){return this.col<=t&&this.col+this.colspan-1>=t}},{key:"includesVertically",value:function(t){return this.row<=t&&this.row+this.rowspan-1>=t}},{key:"shift",value:function(t,e){var n=t[0]||t[1],r=e+Math.abs(t[0]||t[1])-1,o=t[0]?"colspan":"rowspan",i=t[0]?"col":"row",a=Math.min(e,r),s=Math.max(e,r),l=this[i],u=this[i]+this[o]-1;if(l>=e&&(this[i]+=n),n>0)e<=u&&e>l&&(this[o]+=n);else if(n<0){if(a<=l&&s>=u)return this.removed=!0,!1;if(l>=a&&l<=s){var c=s-l+1,h=Math.abs(n)-c;this[i]-=h+n,this[o]-=c}else if(l<=a&&u>=s)this[o]+=n;else if(l<=a&&u>=a&&u<s){var f=u-a+1;this[o]-=f}}return!0}},{key:"isFarther",value:function(t,e){return!t||("down"===e?t.row+t.rowspan-1<this.row+this.rowspan-1:"up"===e?t.row>this.row:"right"===e?t.col+t.colspan-1<this.col+this.colspan-1:"left"===e?t.col>this.col:null)}},{key:"getLastRow",value:function(){return this.row+this.rowspan-1}},{key:"getLastColumn",value:function(){return this.col+this.colspan-1}},{key:"getRange",value:function(){return new J.b(new J.a(this.row,this.col),new J.a(this.row,this.col),new J.a(this.getLastRow(),this.getLastColumn()))}}])&&Bi(e.prototype,n),r&&Bi(e,r),t}(),Wi=n(31);function Vi(t,e,n,r){e?e.row===n&&e.col===r?(t.setAttribute("rowspan",e.rowspan.toString()),t.setAttribute("colspan",e.colspan.toString())):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="none"):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="")}function Ui(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["The merged cell declared at [",", ","], overlaps with the other declared merged \n    cell. The overlapping merged cell was not added to the table, please fix your setup."]);return Ui=function(){return t},t}function zi(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Gi=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.plugin=e,this.mergedCells=[],this.hot=e.hot}var e,n,r;return e=t,r=[{key:"IS_OVERLAPPING_WARNING",value:function(t){return Object(Pi.a)(Ui(),t.row,t.col)}}],(n=[{key:"get",value:function(t,e){var n=this.mergedCells,r=!1;return Object(y.arrayEach)(n,function(n){return!(n.row<=t&&n.row+n.rowspan-1>=t&&n.col<=e&&n.col+n.colspan-1>=e)||(r=n,!1)}),r}},{key:"getByRange",value:function(t){var e=this.mergedCells,n=!1;return Object(y.arrayEach)(e,function(e){return!(e.row<=t.from.row&&e.row+e.rowspan-1>=t.to.row&&e.col<=t.from.col&&e.col+e.colspan-1>=t.to.col)||(n=e)}),n}},{key:"getWithinRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.mergedCells,r=[],o=t;if(!o.includesRange){var i=new J.a(o.from.row,o.from.col),a=new J.a(o.to.row,o.to.col);o=new J.b(i,i,a)}return Object(y.arrayEach)(n,function(t){var n=new J.a(t.row,t.col),i=new J.a(t.row+t.rowspan-1,t.col+t.colspan-1),a=new J.b(n,n,i);e?o.overlaps(a)&&r.push(t):o.includesRange(a)&&r.push(t)}),!!r.length&&r}},{key:"add",value:function(e){var n=this.mergedCells,r=e.row,o=e.col,i=e.rowspan,a=e.colspan,s=new Fi(r,o,i,a),l=this.get(r,o),u=this.isOverlapping(s);return l||u?(Object(Wi.b)(t.IS_OVERLAPPING_WARNING(s)),!1):(this.hot&&s.normalize(this.hot),n.push(s),s)}},{key:"remove",value:function(t,e){var n=this.mergedCells,r=this.get(t,e),o=r?this.mergedCells.indexOf(r):null;return!(!r||!1===o)&&(n.splice(o,1),r)}},{key:"clear",value:function(){var t=this,e=this.mergedCells,n=[],r=[];Object(y.arrayEach)(e,function(e){var r=t.hot.getCell(e.row,e.col);r&&n.push([r,t.get(e.row,e.col),e.row,e.col])}),this.mergedCells.length=0,Object(y.arrayEach)(n,function(e,o){Object(x.rangeEach)(0,e.rowspan-1,function(n){Object(x.rangeEach)(0,e.colspan-1,function(o){if(0!==o||0!==n){var i=t.hot.getCell(e.row+n,e.col+o);i&&r.push([i,null,null,null])}})}),n[o][1]=null}),Object(y.arrayEach)(n,function(t){Vi.apply(void 0,zi(t))}),Object(y.arrayEach)(r,function(t){Vi.apply(void 0,zi(t))})}},{key:"isOverlapping",value:function(t){var e=new J.b(null,new J.a(t.row,t.col),new J.a(t.row+t.rowspan-1,t.col+t.colspan-1)),n=!1;return Object(y.arrayEach)(this.mergedCells,function(t){return!new J.b(null,new J.a(t.row,t.col),new J.a(t.row+t.rowspan-1,t.col+t.colspan-1)).overlaps(e)||(n=!0,!1)}),n}},{key:"isMergedParent",value:function(t,e){var n=this.mergedCells,r=!1;return Object(y.arrayEach)(n,function(n){return n.row!==t||n.col!==e||(r=!0,!1)}),r}},{key:"shiftCollections",value:function(t,e,n){var r=this,o=[0,0];switch(t){case"right":o[0]+=n;break;case"left":o[0]-=n;break;case"down":o[1]+=n;break;case"up":o[1]-=n}Object(y.arrayEach)(this.mergedCells,function(t){t.shift(o,e)}),Object(x.rangeEachReverse)(this.mergedCells.length-1,0,function(t){var e=r.mergedCells[t];e&&e.removed&&r.mergedCells.splice(r.mergedCells.indexOf(e),1)})}}])&&Yi(e.prototype,n),r&&Yi(e,r),t}();function Xi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ki(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var qi=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.plugin=e,this.mergedCellsCollection=this.plugin.mergedCellsCollection,this.currentFillData=null}var e,n,r;return e=t,(n=[{key:"correctSelectionAreaSize",value:function(t){if(t[0]===t[2]&&t[1]===t[3]){var e=this.mergedCellsCollection.get(t[0],t[1]);e&&(t[2]=t[0]+e.rowspan-1,t[3]=t[1]+e.colspan-1)}}},{key:"getDirection",value:function(t,e){return e[0]===t[0]&&e[1]===t[1]&&e[3]===t[3]?"down":e[2]===t[2]&&e[1]===t[1]&&e[3]===t[3]?"up":e[1]===t[1]&&e[2]===t[2]?"right":"left"}},{key:"snapDragArea",value:function(t,e,n,r){var o=e.slice(0),i=this.getAutofillSize(t,e,n),a=Xi(t,4),s=a[0],l=a[1],u=a[2],c=a[3],h=["up","down"].indexOf(n)>-1?u-s+1:c-l+1,f=i-Math.floor(i/h)*h,d=this.getFarthestCollection(t,e,n,r);if(d)if("down"===n){var p=d.row+d.rowspan-s-f;o[2]+p>=this.plugin.hot.countRows()?o[2]-=f:o[2]+=f?p:0}else if("right"===n){var g=d.col+d.colspan-l-f;o[3]+g>=this.plugin.hot.countCols()?o[3]-=f:o[3]+=f?g:0}else if("up"===n){var m=u-f-d.row+1;o[0]+m<0?o[0]+=f:o[0]-=f?m:0}else if("left"===n){var v=c-f-d.col+1;o[1]+v<0?o[1]+=f:o[1]-=f?v:0}return this.updateCurrentFillCache({baseArea:t,dragDirection:n,foundMergedCells:r,fillSize:i,dragArea:o,cycleLength:h}),o}},{key:"updateCurrentFillCache",value:function(t){this.currentFillData||(this.currentFillData={}),Object(M.extend)(this.currentFillData,t)}},{key:"getAutofillSize",value:function(t,e,n){var r=Xi(t,4),o=r[0],i=r[1],a=r[2],s=r[3],l=Xi(e,4),u=l[0],c=l[1],h=l[2],f=l[3];switch(n){case"up":return o-u;case"down":return h-a;case"left":return i-c;case"right":return f-s;default:return null}}},{key:"getDragArea",value:function(t,e,n){var r=Xi(t,4),o=r[0],i=r[1],a=r[2],s=r[3],l=Xi(e,4),u=l[0],c=l[1],h=l[2],f=l[3];switch(n){case"up":return[u,c,o-1,s];case"down":return[a+1,i,h,s];case"left":return[u,c,a,i-1];case"right":return[o,s+1,h,f];default:return null}}},{key:"getFarthestCollection",value:function(t,e,n,r){var o=Xi(t,4),i=o[0],a=o[1],s=o[2],l=o[3],u=["up","down"].indexOf(n)>-1,c=u?s:l,h=u?i:a,f=this.getAutofillSize(t,e,n),d=u?s-i+1:l-a+1,p=f-Math.floor(f/d)*d,g=null,m=null,v=null;switch(n){case"up":g="includesVertically",v=c-p+1;break;case"left":g="includesHorizontally",v=c-p+1;break;case"down":g="includesVertically",v=h+p-1;break;case"right":g="includesHorizontally",v=h+p-1}return Object(y.arrayEach)(r,function(t){t[g](v)&&t.isFarther(m,n)&&(m=t)}),m}},{key:"recreateAfterDataPopulation",value:function(t){if(this.currentFillData){var e=this.getRangeFromChanges(t),n=this.currentFillData.foundMergedCells,r=this.currentFillData.dragDirection,o=function(t,n){switch(r){case"up":return t.row-n>=e.from.row;case"down":return t.row+t.rowspan-1+n<=e.to.row;case"left":return t.col-n>=e.from.column;case"right":return t.col+t.colspan-1+n<=e.to.column;default:return null}},i=0,a=null,s=1;do{for(var l=0;l<n.length;l+=1){if(o(a=n[l],i=s*this.currentFillData.cycleLength))switch(r){case"up":this.plugin.mergedCellsCollection.add({row:a.row-i,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:a.row+i,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col-i,colspan:a.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col+i,colspan:a.colspan})}l===n.length-1&&(s+=1)}}while(o(a,i));this.currentFillData=null,this.plugin.hot.render()}}},{key:"getRangeFromChanges",value:function(t){var e=this,n={min:null,max:null},r={min:null,max:null};return Object(y.arrayEach)(t,function(t){var o=t[0],i=e.plugin.hot.propToCol(t[1]);(null===n.min||o<n.min)&&(n.min=o),(null===n.max||o>n.max)&&(n.max=o),(null===r.min||i<r.min)&&(r.min=i),(null===r.max||i>r.max)&&(r.max=i)}),{from:{row:n.min,column:r.min},to:{row:n.max,column:r.max}}}},{key:"dragAreaOverlapsCollections",value:function(t,e,n){var r=Xi(this.getDragArea(t,e,n),4),o=r[0],i=r[1],a=r[2],s=r[3],l=new J.a(o,i),u=new J.a(a,s),c=new J.b(l,l,u);return!!this.mergedCellsCollection.getWithinRange(c,!0)}}])&&Ki(e.prototype,n),r&&Ki(e,r),t}();function $i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Qi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Zi=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.plugin=e,this.fullySelectedMergedCellClassName="fullySelectedMergedCell"}var e,n,r;return e=t,(n=[{key:"snapDelta",value:function(t,e,n){var r=e.to,o=r.row+t.row,i=r.col+t.col;t.row?this.jumpOverMergedCell(t,n,o):t.col&&this.jumpOverMergedCell(t,n,i)}},{key:"jumpOverMergedCell",value:function(t,e,n){var r=t.row||t.col,o=null,i=null,a=null;t.row?(o=e.includesVertically(n),i=e.row,a=e.getLastRow()):t.col&&(o=e.includesHorizontally(n),i=e.col,a=e.getLastColumn()),0!==r&&(r>0?o&&n!==i&&(r+=a-n+1):o&&n!==a&&(r-=n-i+1),t.row?t.row=r:t.col&&(t.col=r))}},{key:"getUpdatedSelectionRange",value:function(t,e){return new J.b(t.highlight,t.from,new J.a(t.to.row+e.row,t.to.col+e.col))}},{key:"getSelectedMergedCellClassName",value:function(t,e,n,r){var o=$i(n,4),i=o[0],a=o[1],s=o[2],l=o[3];if(void 0!==r&&t>=i&&t<=s&&e>=a&&e<=l){if(!this.plugin.mergedCellsCollection.isMergedParent(t,e))return;var u=this.plugin.mergedCellsCollection.get(t,e);if(!u)return;if(u.row+u.rowspan-1<=s&&u.col+u.colspan-1<=l)return"".concat(this.fullySelectedMergedCellClassName,"-").concat(r);if(this.plugin.selectionCalculations.isMergeCellFullySelected(u,this.plugin.hot.getSelectedRange()))return"".concat(this.fullySelectedMergedCellClassName,"-multiple")}}},{key:"isMergeCellFullySelected",value:function(t,e){var n=[];if(!e||!t)return!1;for(var r=0;r<t.rowspan;r+=1)for(var o=0;o<t.colspan;o+=1)n.push(new J.a(t.row+r,t.col+o));for(var i=0;i<n.length;i+=1){for(var a=[],s=0;s<e.length;s+=1)a[s]=e[s].includes(n[i]);if(!a.includes(!0))return!1}return!0}},{key:"getSelectedMergedCellClassNameToRemove",value:function(){for(var t=[],e=0;e<=7;e+=1)t.push("".concat(this.fullySelectedMergedCellClassName,"-").concat(e));return t.push("".concat(this.fullySelectedMergedCellClassName,"-multiple")),t}}])&&Qi(e.prototype,n),r&&Qi(e,r),t}();function Ji(t){return(Ji="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ta(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ea(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function na(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ra(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oa(t,e,n){return(oa="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ia(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ia(t){return(ia=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function aa(t,e){return(aa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}m.a.getSingleton().register("beforeMergeCells"),m.a.getSingleton().register("afterMergeCells"),m.a.getSingleton().register("beforeUnmergeCells"),m.a.getSingleton().register("afterUnmergeCells");var sa=new WeakMap,la=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,n=!(o=ia(e).call(this,t))||"object"!==Ji(o)&&"function"!==typeof o?ra(r):o,sa.set(ra(n),{lastDesiredCoords:null}),n.mergedCellsCollection=null,n.autofillCalculations=null,n.selectionCalculations=null,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aa(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().mergeCells}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.mergedCellsCollection=new Gi(this),this.autofillCalculations=new qi(this),this.selectionCalculations=new Zi(this),this.addHook("afterInit",function(){return t.onAfterInit.apply(t,arguments)}),this.addHook("beforeKeyDown",function(){return t.onBeforeKeyDown.apply(t,arguments)}),this.addHook("modifyTransformStart",function(){return t.onModifyTransformStart.apply(t,arguments)}),this.addHook("afterModifyTransformStart",function(){return t.onAfterModifyTransformStart.apply(t,arguments)}),this.addHook("modifyTransformEnd",function(){return t.onModifyTransformEnd.apply(t,arguments)}),this.addHook("modifyGetCellCoords",function(){return t.onModifyGetCellCoords.apply(t,arguments)}),this.addHook("beforeSetRangeEnd",function(){return t.onBeforeSetRangeEnd.apply(t,arguments)}),this.addHook("afterIsMultipleSelection",function(){return t.onAfterIsMultipleSelection.apply(t,arguments)}),this.addHook("afterRenderer",function(){return t.onAfterRenderer.apply(t,arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){return t.addMergeActionsToContextMenu.apply(t,arguments)}),this.addHook("afterGetCellMeta",function(){return t.onAfterGetCellMeta.apply(t,arguments)}),this.addHook("afterViewportRowCalculatorOverride",function(){return t.onAfterViewportRowCalculatorOverride.apply(t,arguments)}),this.addHook("afterViewportColumnCalculatorOverride",function(){return t.onAfterViewportColumnCalculatorOverride.apply(t,arguments)}),this.addHook("modifyAutofillRange",function(){return t.onModifyAutofillRange.apply(t,arguments)}),this.addHook("afterCreateCol",function(){return t.onAfterCreateCol.apply(t,arguments)}),this.addHook("afterRemoveCol",function(){return t.onAfterRemoveCol.apply(t,arguments)}),this.addHook("afterCreateRow",function(){return t.onAfterCreateRow.apply(t,arguments)}),this.addHook("afterRemoveRow",function(){return t.onAfterRemoveRow.apply(t,arguments)}),this.addHook("afterChange",function(){return t.onAfterChange.apply(t,arguments)}),this.addHook("beforeDrawBorders",function(){return t.onBeforeDrawAreaBorders.apply(t,arguments)}),this.addHook("afterDrawSelection",function(){return t.onAfterDrawSelection.apply(t,arguments)}),this.addHook("beforeRemoveCellClassNames",function(){return t.onBeforeRemoveCellClassNames.apply(t,arguments)}),oa(ia(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.clearCollections(),this.hot.render(),oa(ia(e.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){var t=this.hot.getSettings().mergeCells;this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(t),oa(ia(e.prototype),"updatePlugin",this).call(this)}},{key:"validateSetting",value:function(t){var e=!0;return!!t&&(Fi.containsNegativeValues(t)?(Object(Wi.b)(Fi.NEGATIVE_VALUES_WARNING(t)),e=!1):Fi.isOutOfBounds(t,this.hot.countRows(),this.hot.countCols())?(Object(Wi.b)(Fi.IS_OUT_OF_BOUNDS_WARNING(t)),e=!1):Fi.isSingleCell(t)?(Object(Wi.b)(Fi.IS_SINGLE_CELL(t)),e=!1):Fi.containsZeroSpan(t)&&(Object(Wi.b)(Fi.ZERO_SPAN_WARNING(t)),e=!1),e)}},{key:"generateFromSettings",value:function(t){var e=this;if(Array.isArray(t)){var n,r=[];Object(y.arrayEach)(t,function(t){if(e.validateSetting(t)){var n=new J.a(t.row,t.col),o=new J.a(t.row+t.rowspan-1,t.col+t.colspan-1),i=new J.b(n,n,o);r.push(e.mergeRange(i,!0,!0))}}),r=r.filter(function(t){return!0!==t});var o=this.getBulkCollectionData(r);(n=this.hot).populateFromArray.apply(n,ea(o))}}},{key:"getBulkCollectionData",value:function(t){var e,n=this.getBulkCollectionDataRange(t),r=(e=this.hot).getData.apply(e,ea(n)).splice(0);return Object(y.arrayEach)(t,function(t){var e=ta(t,3),o=e[0],i=e[1],a=e[2];Object(y.arrayEach)(a,function(t,e){Object(y.arrayEach)(t,function(t,a){r[o-n[0]+e][i-n[1]+a]=t})})}),[n[0],n[1],r]}},{key:"getBulkCollectionDataRange",value:function(t){var e=[0,0],n=[0,0],r=null,o=null,i=null;return Object(y.arrayEach)(t,function(t){r=t[0],o=t[1],i=t[2],e[0]=Math.min(r,e[0]),e[1]=Math.min(o,e[1]),n[0]=Math.max(r+i.length-1,n[0]),n[1]=Math.max(o+i[0].length-1,n[1])}),[].concat(e,n)}},{key:"clearCollections",value:function(){this.mergedCellsCollection.clear()}},{key:"canMergeRange",value:function(t){return!!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])||this.validateSetting(t)}},{key:"toggleMergeOnSelection",value:function(){var t=this.hot.getSelectedRangeLast();if(t){t.setDirection("NW-SE");var e=t.from,n=t.to;this.toggleMerge(t),this.hot.selectCell(e.row,e.col,n.row,n.col,!1)}}},{key:"mergeSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(t){t.setDirection("NW-SE");var e=t.from,n=t.to;this.unmergeRange(t,!0),this.mergeRange(t),this.hot.selectCell(e.row,e.col,n.row,n.col,!1)}}},{key:"unmergeSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(t){var e=t.from,n=t.to;this.unmergeRange(t,!0),this.hot.selectCell(e.row,e.col,n.row,n.col,!1)}}},{key:"mergeRange",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.getTopLeftCorner(),i=t.getBottomRightCorner(),a={row:o.row,col:o.col,rowspan:i.row-o.row+1,colspan:i.col-o.col+1},s=[],l=null;return!!this.canMergeRange(a,n)&&(this.hot.runHooks("beforeMergeCells",t,n),Object(x.rangeEach)(0,a.rowspan-1,function(t){Object(x.rangeEach)(0,a.colspan-1,function(n){var r=null;s[t]||(s[t]=[]),0===t&&0===n?r=e.hot.getDataAtCell(a.row,a.col):e.hot.setCellMeta(a.row+t,a.col+n,"hidden",!0),s[t][n]=r})}),this.hot.setCellMeta(a.row,a.col,"spanned",!0),!this.mergedCellsCollection.add(a)||(r?l=[a.row,a.col,s]:this.hot.populateFromArray(a.row,a.col,s,void 0,void 0,this.pluginName),this.hot.runHooks("afterMergeCells",t,a,n),l))}},{key:"unmergeRange",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.mergedCellsCollection.getWithinRange(t);r&&(this.hot.runHooks("beforeUnmergeCells",t,n),Object(y.arrayEach)(r,function(t){e.mergedCellsCollection.remove(t.row,t.col),Object(x.rangeEach)(0,t.rowspan-1,function(n){Object(x.rangeEach)(0,t.colspan-1,function(r){e.hot.removeCellMeta(t.row+n,t.col+r,"hidden")})}),e.hot.removeCellMeta(t.row,t.col,"spanned")}),this.hot.render(),this.hot.runHooks("afterUnmergeCells",t,n))}},{key:"toggleMerge",value:function(t){var e=this.mergedCellsCollection.get(t.from.row,t.from.col);e.row===t.from.row&&e.col===t.from.col&&e.row+e.rowspan-1===t.to.row&&e.col+e.colspan-1===t.to.col?this.unmergeRange(t):this.mergeSelection(t)}},{key:"merge",value:function(t,e,n,r){var o=new J.a(t,e),i=new J.a(n,r);this.mergeRange(new J.b(o,o,i))}},{key:"unmerge",value:function(t,e,n,r){var o=new J.a(t,e),i=new J.a(n,r);this.unmergeRange(new J.b(o,o,i))}},{key:"onAfterInit",value:function(){this.generateFromSettings(this.hot.getSettings().mergeCells),this.hot.render()}},{key:"onBeforeKeyDown",value:function(t){(t.ctrlKey||t.metaKey)&&!t.altKey&&77===t.keyCode&&(this.toggleMerge(this.hot.getSelectedRangeLast()),this.hot.render(),Object(P.stopImmediatePropagation)(t))}},{key:"onAfterIsMultipleSelection",value:function(t){if(t)for(var e=this.mergedCellsCollection.mergedCells,n=this.hot.getSelectedRangeLast(),r=0;r<e.length;r+=1)if(n.highlight.row===e[r].row&&n.highlight.col===e[r].col&&n.to.row===e[r].row+e[r].rowspan-1&&n.to.col===e[r].col+e[r].colspan-1)return!1;return t}},{key:"onModifyTransformStart",value:function(t){var e,n=sa.get(this),r=this.hot.getSelectedRangeLast(),o={row:t.row,col:t.col},i=new J.a(r.highlight.row,r.highlight.col),a=this.mergedCellsCollection.get(i.row,i.col);if(n.lastDesiredCoords||(n.lastDesiredCoords=new J.a(null,null)),a){var s=new J.a(a.row,a.col),l=new J.a(a.row+a.rowspan-1,a.col+a.colspan-1);new J.b(s,s,l).includes(n.lastDesiredCoords)||(n.lastDesiredCoords=new J.a(null,null)),o.row=n.lastDesiredCoords.row?n.lastDesiredCoords.row-i.row:o.row,o.col=n.lastDesiredCoords.col?n.lastDesiredCoords.col-i.col:o.col,t.row>0?o.row=a.row+a.rowspan-1-i.row+t.row:t.row<0&&(o.row=i.row-a.row+t.row),t.col>0?o.col=a.col+a.colspan-1-i.col+t.col:t.col<0&&(o.col=i.col-a.col+t.col)}e=new J.a(r.highlight.row+o.row,r.highlight.col+o.col);var u=this.mergedCellsCollection.get(e.row,e.col);u&&(n.lastDesiredCoords=e,o={row:u.row-i.row,col:u.col-i.col}),0!==o.row&&(t.row=o.row),0!==o.col&&(t.col=o.col)}},{key:"onModifyTransformEnd",value:function(t){var e=this,n=this.hot.getSelectedRangeLast(),r=Object(M.clone)(t),o=this.selectionCalculations.getUpdatedSelectionRange(n,t),i=Object(M.clone)(r),a=this.mergedCellsCollection.getWithinRange(o,!0);do{i=Object(M.clone)(r),this.selectionCalculations.getUpdatedSelectionRange(n,r),Object(y.arrayEach)(a,function(t){e.selectionCalculations.snapDelta(r,n,t)})}while(r.row!==i.row||r.col!==i.col);t.row=r.row,t.col=r.col}},{key:"onModifyGetCellCoords",value:function(t,e){var n=this.mergedCellsCollection.get(t,e);return n?[n.row,n.col,n.row+n.rowspan-1,n.col+n.colspan-1]:void 0}},{key:"addMergeActionsToContextMenu",value:function(t){var e;t.items.push({name:"---------"},(e=this,{key:"mergeCells",name:function(){var t=this.getSelectedLast();if(t){var n=e.mergedCellsCollection.get(t[0],t[1]);if(n.row===t[0]&&n.col===t[1]&&n.row+n.rowspan-1===t[2]&&n.col+n.colspan-1===t[3])return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_UNMERGE_CELLS)}return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_MERGE_CELLS)},callback:function(){e.toggleMergeOnSelection()},disabled:function(){var t=this.getSelectedLast();return!t||Fi.isSingleCell({row:t[0],col:t[1],rowspan:t[2]-t[0]+1,colspan:t[3]-t[1]+1})||this.selection.isSelectedByCorner()},hidden:!1}))}},{key:"onAfterRenderer",value:function(t,e,n){Vi(t,this.mergedCellsCollection.get(e,n),e,n)}},{key:"onBeforeSetRangeEnd",value:function(t){var e=this.hot.getSelectedRangeLast();e.highlight=new J.a(e.highlight.row,e.highlight.col),e.to=t;var n=!1;if(!this.hot.selection.isSelectedByColumnHeader()&&!this.hot.selection.isSelectedByRowHeader())do{n=!1;for(var r=0;r<this.mergedCellsCollection.mergedCells.length;r+=1){var o=this.mergedCellsCollection.mergedCells[r].getRange();e.expandByRange(o)&&(t.row=e.to.row,t.col=e.to.col,n=!0)}}while(n)}},{key:"onAfterGetCellMeta",value:function(t,e,n){var r=this.mergedCellsCollection.get(t,e);r&&(r.row!==t||r.col!==e?n.copyable=!1:(n.rowspan=r.rowspan,n.colspan=r.colspan))}},{key:"onAfterViewportRowCalculatorOverride",value:function(t){var e,n=this,r=this.hot.countCols();Object(x.rangeEach)(0,r-1,function(r){if((e=n.mergedCellsCollection.get(t.startRow,r))&&e.row<t.startRow)return t.startRow=e.row,n.onAfterViewportRowCalculatorOverride.call(n,t);if(e=n.mergedCellsCollection.get(t.endRow,r)){var o=e.row+e.rowspan-1;if(o>t.endRow)return t.endRow=o,n.onAfterViewportRowCalculatorOverride.call(n,t)}return!0})}},{key:"onAfterViewportColumnCalculatorOverride",value:function(t){var e,n=this,r=this.hot.countRows();Object(x.rangeEach)(0,r-1,function(r){if((e=n.mergedCellsCollection.get(r,t.startColumn))&&e.col<t.startColumn)return t.startColumn=e.col,n.onAfterViewportColumnCalculatorOverride.call(n,t);if(e=n.mergedCellsCollection.get(r,t.endColumn)){var o=e.col+e.colspan-1;if(o>t.endColumn)return t.endColumn=o,n.onAfterViewportColumnCalculatorOverride.call(n,t)}return!0})}},{key:"onModifyAutofillRange",value:function(t,e){this.autofillCalculations.correctSelectionAreaSize(e);var n=this.autofillCalculations.getDirection(e,t),r=t;if(this.autofillCalculations.dragAreaOverlapsCollections(e,r,n))return r=e;var o=this.mergedCellsCollection.getWithinRange({from:{row:e[0],col:e[1]},to:{row:e[2],col:e[3]}});return o?r=this.autofillCalculations.snapDragArea(e,r,n,o):r}},{key:"onAfterCreateCol",value:function(t,e){this.mergedCellsCollection.shiftCollections("right",t,e)}},{key:"onAfterRemoveCol",value:function(t,e){this.mergedCellsCollection.shiftCollections("left",t,e)}},{key:"onAfterCreateRow",value:function(t,e,n){"auto"!==n&&this.mergedCellsCollection.shiftCollections("down",t,e)}},{key:"onAfterRemoveRow",value:function(t,e){this.mergedCellsCollection.shiftCollections("up",t,e)}},{key:"onAfterChange",value:function(t,e){"Autofill.fill"===e&&this.autofillCalculations.recreateAfterDataPopulation(t)}},{key:"onBeforeDrawAreaBorders",value:function(t,e){if(e&&"area"===e){var n=this.hot.getSelectedRangeLast(),r=this.mergedCellsCollection.getWithinRange(n);Object(y.arrayEach)(r,function(e){n.getBottomRightCorner().row===e.getLastRow()&&n.getBottomRightCorner().col===e.getLastColumn()&&(t[2]=e.row,t[3]=e.col)})}}},{key:"onAfterModifyTransformStart",value:function(t,e,n){if(this.enabled){var r=this.mergedCellsCollection.get(t.row,t.col);if(r){var o=e>0,i=e<0,a=n<0,s=n>0,l=r.row+r.rowspan-1===this.hot.countRows()-1,u=0===r.row,c=r.col+r.colspan-1===this.hot.countCols()-1,h=0===r.col;(o&&l||i&&u||s&&c||a&&h)&&(t.row=r.row,t.col=r.col)}}}},{key:"onAfterDrawSelection",value:function(t,e,n,r){return this.selectionCalculations.getSelectedMergedCellClassName(t,e,n,r)}},{key:"onBeforeRemoveCellClassNames",value:function(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}}])&&na(n.prototype,r),o&&na(n,o),e}();Object(D.d)("mergeCells",la);var ua=la;function ca(t){return(ca="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ha(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fa(t,e){return!e||"object"!==ca(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function da(t,e,n){return(da="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pa(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function pa(t){return(pa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ga(t,e){return(ga=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ma=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=fa(this,pa(e).call(this,t))).dragged=[],n.eventManager=null,n.lastSetCell=null,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ga(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return Object(O.isMobileBrowser)()}},{key:"enablePlugin",value:function(){this.enabled||(this.eventManager||(this.eventManager=new g.a(this)),this.registerListeners(),da(pa(e.prototype),"enablePlugin",this).call(this))}},{key:"registerListeners",value:function(){var t=this,e=this,n=this.hot.rootElement;function r(t){if(1===e.dragged.length)return e.dragged.splice(0,e.dragged.length),!0;var n=e.dragged.indexOf(t);if(-1===n)return!1;0===n?e.dragged=e.dragged.slice(0,1):1===n&&(e.dragged=e.dragged.slice(-1))}this.eventManager.addEventListener(n,"touchstart",function(t){var n;return Object(v.hasClass)(t.target,"topLeftSelectionHandle-HitArea")?(n=e.hot.getSelectedRangeLast(),e.dragged.push("topLeft"),e.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},t.preventDefault(),!1):Object(v.hasClass)(t.target,"bottomRightSelectionHandle-HitArea")?(n=e.hot.getSelectedRangeLast(),e.dragged.push("bottomRight"),e.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},t.preventDefault(),!1):void 0}),this.eventManager.addEventListener(n,"touchend",function(t){return Object(v.hasClass)(t.target,"topLeftSelectionHandle-HitArea")?(r.call(e,"topLeft"),e.touchStartRange=void 0,t.preventDefault(),!1):Object(v.hasClass)(t.target,"bottomRightSelectionHandle-HitArea")?(r.call(e,"bottomRight"),e.touchStartRange=void 0,t.preventDefault(),!1):void 0}),this.eventManager.addEventListener(n,"touchmove",function(n){var r,o,i,a,s,l,u=t.hot,c=u.rootWindow,h=u.rootDocument,f=Object(v.getWindowScrollTop)(c),d=Object(v.getWindowScrollLeft)(c);if(0!==e.dragged.length){var p=h.elementFromPoint(n.touches[0].screenX-d,n.touches[0].screenY-f);p&&p!==e.lastSetCell&&("TD"!==p.nodeName&&"TH"!==p.nodeName||(-1===(r=e.hot.getCoords(p)).col&&(r.col=0),i=(o=e.hot.getSelectedRangeLast()).getWidth(),a=o.getHeight(),s=o.getDirection(),1===i&&1===a&&e.hot.selection.setRangeEnd(r),null!==(l=e.getCurrentRangeCoords(o,r,e.touchStartRange.direction,s,e.dragged[0])).start&&e.hot.selection.setRangeStart(l.start),e.hot.selection.setRangeEnd(l.end),e.lastSetCell=p),n.preventDefault())}})}},{key:"getCurrentRangeCoords",value:function(t,e,n,r,o){var i=t.getTopLeftCorner(),a=t.getBottomRightCorner(),s=t.getBottomLeftCorner(),l=t.getTopRightCorner(),u={start:null,end:null};switch(n){case"NE-SW":switch(r){case"NE-SW":case"NW-SE":u="topLeft"===o?{start:new J.a(e.row,t.highlight.col),end:new J.a(s.row,e.col)}:{start:new J.a(t.highlight.row,e.col),end:new J.a(e.row,i.col)};break;case"SE-NW":"bottomRight"===o&&(u={start:new J.a(a.row,e.col),end:new J.a(e.row,i.col)})}break;case"NW-SE":switch(r){case"NE-SW":"topLeft"===o?u={start:e,end:s}:u.end=e;break;case"NW-SE":"topLeft"===o?u={start:e,end:a}:u.end=e;break;case"SE-NW":"topLeft"===o?u={start:e,end:i}:u.end=e;break;case"SW-NE":"topLeft"===o?u={start:e,end:l}:u.end=e}break;case"SW-NE":switch(r){case"NW-SE":u="bottomRight"===o?{start:new J.a(e.row,i.col),end:new J.a(s.row,e.col)}:{start:new J.a(i.row,e.col),end:new J.a(e.row,a.col)};break;case"SW-NE":u="topLeft"===o?{start:new J.a(t.highlight.row,e.col),end:new J.a(e.row,a.col)}:{start:new J.a(e.row,i.col),end:new J.a(i.row,e.col)};break;case"SE-NW":"bottomRight"===o?u={start:new J.a(e.row,l.col),end:new J.a(i.row,e.col)}:"topLeft"===o&&(u={start:s,end:e})}break;case"SE-NW":switch(r){case"NW-SE":case"NE-SW":case"SW-NE":"topLeft"===o&&(u.end=e);break;case"SE-NW":"topLeft"===o?u.end=e:u={start:e,end:i}}}return u}},{key:"isDragged",value:function(){return this.dragged.length>0}}])&&ha(n.prototype,r),o&&ha(n,o),e}();Object(D.d)("multipleSelectionHandles",ma);var va=ma,ya=n(133),ba=n.n(ya);n(126);function wa(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ca(t){var e=t.match(/^\/(\d+)\/?(.*)?$/);if(!e)return null;var n=wa(e,3),r=n[1],o=n[2];return{row:parseInt(r,10),col:/^\d*$/.test(o)?parseInt(o,10):o}}function Oa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Sa=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observedData=null,this.observer=null,this.paused=!1,this.setObservedData(e)}var e,n,r;return e=t,(n=[{key:"setObservedData",value:function(t){var e=this;this.observer&&ba.a.unobserve(this.observedData,this.observer),this.observedData=t,this.observer=ba.a.observe(this.observedData,function(t){return e.onChange(t)})}},{key:"isPaused",value:function(){return this.paused}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}},{key:"onChange",value:function(t){this.runLocalHooks("change",function(t){var e=[],n=Object(y.arrayFilter)(t,function(t){return!/[\/]length/gi.test(t.path)&&!!Ca(t.path)});return n=Object(y.arrayMap)(n,function(t){var e=Ca(t.path);return t.row=e.row,t.col=e.col,t}),n=Object(y.arrayFilter)(n,function(t){if(-1!==["add","remove"].indexOf(t.op)&&!isNaN(t.col)){if(-1!==e.indexOf(t.col))return!1;e.push(t.col)}return!0}),e.length=0,n}(t))}},{key:"destroy",value:function(){ba.a.unobserve(this.observedData,this.observer),this.observedData=null,this.observer=null}}])&&Oa(e.prototype,n),r&&Oa(e,r),t}();Object(M.mixin)(Sa,Ze.a);var Ea=Sa;function ka(t){return(ka="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ra(t,e){return!e||"object"!==ka(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xa(t,e,n){return(xa="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ma(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ma(t){return(Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Aa(t,e){return(Aa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Na=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Ra(this,Ma(e).call(this,t))).observer=null,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Aa(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return this.hot.getSettings().observeChanges}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.observer||(this.observer=new Ea(this.hot.getSourceData()),this._exposePublicApi()),this.observer.addLocalHook("change",function(e){return t.onDataChange(e)}),this.addHook("afterCreateRow",function(){return t.onAfterTableAlter()}),this.addHook("afterRemoveRow",function(){return t.onAfterTableAlter()}),this.addHook("afterCreateCol",function(){return t.onAfterTableAlter()}),this.addHook("afterRemoveCol",function(){return t.onAfterTableAlter()}),this.addHook("afterChange",function(e,n){return t.onAfterTableAlter(n)}),this.addHook("afterLoadData",function(e){return t.onAfterLoadData(e)}),xa(Ma(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.observer&&(this.observer.destroy(),this.observer=null,this._deletePublicApi()),xa(Ma(e.prototype),"disablePlugin",this).call(this)}},{key:"onDataChange",value:function(t){var e=this;if(!this.observer.isPaused()){var n="".concat(this.pluginName,".change"),r={add:function(t){isNaN(t.col)?e.hot.runHooks("afterCreateRow",t.row,1,n):e.hot.runHooks("afterCreateCol",t.col,1,n)},remove:function(t){isNaN(t.col)?e.hot.runHooks("afterRemoveRow",t.row,1,n):e.hot.runHooks("afterRemoveCol",t.col,1,n)},replace:function(t){e.hot.runHooks("afterChange",[[t.row,t.col,null,t.value]],n)}};Object(y.arrayEach)(t,function(t){r[t.op]&&r[t.op](t)}),this.hot.render()}this.hot.runHooks("afterChangesObserved")}},{key:"onAfterTableAlter",value:function(t){var e=this;"loadData"!==t&&(this.observer.pause(),this.hot.addHookOnce("afterChangesObserved",function(){return e.observer.resume()}))}},{key:"onAfterLoadData",value:function(t){t||this.observer.setObservedData(this.hot.getSourceData())}},{key:"destroy",value:function(){this.observer&&(this.observer.destroy(),this._deletePublicApi()),xa(Ma(e.prototype),"destroy",this).call(this)}},{key:"_exposePublicApi",value:function(){var t=this,e=this.hot;e.pauseObservingChanges=function(){return t.observer.pause()},e.resumeObservingChanges=function(){return t.observer.resume()},e.isPausedObservingChanges=function(){return t.observer.isPaused()}}},{key:"_deletePublicApi",value:function(){var t=this.hot;delete t.pauseObservingChanges,delete t.resumeObservingChanges,delete t.isPausedObservingChanges}}])&&Ta(n.prototype,r),o&&Ta(n,o),e}(),_a=Na;Object(D.d)("observeChanges",Na);n(186);function Pa(t){return(Pa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ia(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Da(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function La(t,e){return!e||"object"!==Pa(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ja(t,e,n){return(ja="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ha(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ha(t){return(Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ba(t,e){return(Ba=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Fa="htSearchResult",Wa=function(t,e,n,r,o){t.getCellMeta(e,n).isSearchResult=o},Va=function(t,e){return!(Object(R.isUndefined)(t)||null===t||!t.toLowerCase||0===t.length)&&(!Object(R.isUndefined)(e)&&null!==e&&-1!==e.toString().toLowerCase().indexOf(t.toLowerCase()))},Ua=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=La(this,Ha(e).call(this,t))).callback=Wa,n.queryMethod=Va,n.searchResultClass=Fa,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ba(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return this.hot.getSettings().search}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){var n=this.hot.getSettings().search;this.updatePluginSettings(n),this.addHook("beforeRenderer",function(){return t.onBeforeRenderer.apply(t,arguments)}),ja(Ha(e.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var t=this,n=function(){return t.onBeforeRenderer.apply(t,arguments)};this.hot.addHook("beforeRenderer",n),this.hot.addHookOnce("afterRender",function(){t.hot.removeHook("beforeRenderer",n)}),ja(Ha(e.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),ja(Ha(e.prototype),"updatePlugin",this).call(this)}},{key:"query",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCallback(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getQueryMethod(),o=this.hot.countRows(),i=this.hot.countCols(),a=[],s=this.hot;return Object(x.rangeEach)(0,o-1,function(o){Object(x.rangeEach)(0,i-1,function(i){var l=e.hot.getDataAtCell(o,i),u=e.hot.getCellMeta(o,i),c=u.search.callback||n,h=(u.search.queryMethod||r)(t,l);if(h){var f={row:o,col:i,data:l};a.push(f)}c&&c(s,o,i,l,h)})}),a}},{key:"getCallback",value:function(){return this.callback}},{key:"setCallback",value:function(t){this.callback=t}},{key:"getQueryMethod",value:function(){return this.queryMethod}},{key:"setQueryMethod",value:function(t){this.queryMethod=t}},{key:"getSearchResultClass",value:function(){return this.searchResultClass}},{key:"setSearchResultClass",value:function(t){this.searchResultClass=t}},{key:"updatePluginSettings",value:function(t){Object(M.isObject)(t)&&(t.searchResultClass&&this.setSearchResultClass(t.searchResultClass),t.queryMethod&&this.setQueryMethod(t.queryMethod),t.callback&&this.setCallback(t.callback))}},{key:"onBeforeRenderer",value:function(t,e,n,r,o,i){var a,s=i.className||[],l=[];"string"===typeof s?l=s.split(" "):(a=l).push.apply(a,Ia(s));this.isEnabled()&&i.isSearchResult?l.includes(this.searchResultClass)||l.push("".concat(this.searchResultClass)):l.includes(this.searchResultClass)&&l.splice(l.indexOf(this.searchResultClass),1),i.className=l.join(" ")}},{key:"destroy",value:function(){ja(Ha(e.prototype),"destroy",this).call(this)}}])&&Da(n.prototype,r),o&&Da(n,o),e}();Object(D.d)("search",Ua);var za=Ua;function Ya(t){return(Ya="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ga(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xa(t,e){return!e||"object"!==Ya(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ka(t,e,n){return(Ka="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qa(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function qa(t){return(qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $a(t,e){return($a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qa=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Xa(this,qa(e).call(this,t))).scrollbars=[],n.clones=[],n.lockedCollection=!1,n.freezeOverlays=!1,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$a(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return Object(k.isTouchSupported)()}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.addHook("afterRender",function(){return t.onAfterRender()}),this.registerEvents(),Ka(qa(e.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.lockedCollection=!1,Ka(qa(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){Ka(qa(e.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var t=this;this.addHook("beforeTouchScroll",function(){return t.onBeforeTouchScroll()}),this.addHook("afterMomentumScroll",function(){return t.onAfterMomentumScroll()})}},{key:"onAfterRender",value:function(){if(!this.lockedCollection){var t=this.hot.view.wt.wtOverlays,e=t.topOverlay,n=t.bottomOverlay,r=t.leftOverlay,o=t.topLeftCornerOverlay,i=t.bottomLeftCornerOverlay;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(e),n.clone&&this.scrollbars.push(n),this.scrollbars.push(r),o&&this.scrollbars.push(o),i&&i.clone&&this.scrollbars.push(i),this.clones.length=0,e.needFullRender&&this.clones.push(e.clone.wtTable.holder.parentNode),n.needFullRender&&this.clones.push(n.clone.wtTable.holder.parentNode),r.needFullRender&&this.clones.push(r.clone.wtTable.holder.parentNode),o&&this.clones.push(o.clone.wtTable.holder.parentNode),i&&i.clone&&this.clones.push(i.clone.wtTable.holder.parentNode)}}},{key:"onBeforeTouchScroll",value:function(){this.freezeOverlays=!0,Object(y.arrayEach)(this.clones,function(t){Object(v.addClass)(t,"hide-tween")})}},{key:"onAfterMomentumScroll",value:function(){var t=this;this.freezeOverlays=!1,Object(y.arrayEach)(this.clones,function(t){Object(v.removeClass)(t,"hide-tween"),Object(v.addClass)(t,"show-tween")}),setTimeout(function(){Object(y.arrayEach)(t.clones,function(t){Object(v.removeClass)(t,"show-tween")})},400),Object(y.arrayEach)(this.scrollbars,function(t){t.refresh(),t.resetFixedPosition()}),this.hot.view.wt.wtOverlays.syncScrollWithMaster()}}])&&Ga(n.prototype,r),o&&Ga(n,o),e}();Object(D.d)("touchScroll",Qa);var Za=Qa;function Ja(t){return(Ja="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ts(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function es(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ns(t,e,n){return e&&es(t.prototype,e),n&&es(t,n),t}function rs(t,e){return!e||"object"!==Ja(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function os(t){return(os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function is(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&as(t,e)}function as(t,e){return(as=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ss(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ls(t){var e=this;this.instance=t,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,t.addHook("afterChange",function(t,n){var r=t&&t.length;if(r&&!["UndoRedo.undo","UndoRedo.redo","MergeCells"].includes(n)){var o=r>1?this.getSelected():[[t[0][0],t[0][1]]];e.done(new ls.ChangeAction(t,o))}}),t.addHook("afterCreateRow",function(t,n,r){if("UndoRedo.undo"!==r&&"UndoRedo.undo"!==r&&"auto"!==r){var o=new ls.CreateRowAction(t,n);e.done(o)}}),t.addHook("beforeRemoveRow",function(n,r,o,i){if("UndoRedo.undo"!==i&&"UndoRedo.redo"!==i&&"auto"!==i){var a=e.instance.getSourceDataArray(),s=(a.length+n)%a.length,l=t.toPhysicalRow(s),u=Object(M.deepClone)(a.slice(l,l+r));e.done(new ls.RemoveRowAction(s,u))}}),t.addHook("afterCreateCol",function(t,n,r){"UndoRedo.undo"!==r&&"UndoRedo.redo"!==r&&"auto"!==r&&e.done(new ls.CreateColumnAction(t,n))}),t.addHook("beforeRemoveCol",function(n,r,o,i){if("UndoRedo.undo"!==i&&"UndoRedo.redo"!==i&&"auto"!==i){var a=e.instance.getSourceDataArray(),s=(e.instance.countCols()+n)%e.instance.countCols(),l=[],u=[],c=[];Object(x.rangeEach)(a.length-1,function(e){var n=[],o=a[e];Object(x.rangeEach)(s,s+(r-1),function(e){n.push(o[t.runHooks("modifyCol",e)])}),l.push(n)}),Object(x.rangeEach)(r-1,function(e){c.push(t.runHooks("modifyCol",s+e))}),Array.isArray(t.getSettings().colHeaders)&&Object(x.rangeEach)(r-1,function(e){u.push(t.getSettings().colHeaders[t.runHooks("modifyCol",s+e)]||null)});var h=e.instance.getPlugin("manualColumnMove"),f=h.isEnabled()?h.columnsMapper.__arrayMap:[],d=new ls.RemoveColumnAction(s,c,l,u,f);e.done(d)}}),t.addHook("beforeCellAlignment",function(t,n,r,o){var i=new ls.CellAlignmentAction(t,n,r,o);e.done(i)}),t.addHook("beforeFilter",function(t){e.done(new ls.FiltersAction(t))}),t.addHook("beforeRowMove",function(t,n){!1!==t&&e.done(new ls.RowMoveAction(t,n))}),t.addHook("beforeMergeCells",function(n,r){r||e.done(new ls.MergeCellsAction(t,n))}),t.addHook("afterUnmergeCells",function(n,r){r||e.done(new ls.UnmergeCellsAction(t,n))})}ls.prototype.done=function(t){this.ignoreNewActions||(this.doneActions.push(t),this.undoneActions.length=0)},ls.prototype.undo=function(){if(this.isUndoAvailable()){var t=this.doneActions.pop(),e=Object(M.deepClone)(t),n=this.instance;if(!1===n.runHooks("beforeUndo",e))return;this.ignoreNewActions=!0;var r=this;t.undo(this.instance,function(){r.ignoreNewActions=!1,r.undoneActions.push(t)}),n.runHooks("afterUndo",e)}},ls.prototype.redo=function(){if(this.isRedoAvailable()){var t=this.undoneActions.pop(),e=Object(M.deepClone)(t),n=this.instance;if(!1===n.runHooks("beforeRedo",e))return;this.ignoreNewActions=!0;var r=this;t.redo(this.instance,function(){r.ignoreNewActions=!1,r.doneActions.push(t)}),n.runHooks("afterRedo",e)}},ls.prototype.isUndoAvailable=function(){return this.doneActions.length>0},ls.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},ls.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},ls.Action=function(){},ls.Action.prototype.undo=function(){},ls.Action.prototype.redo=function(){},ls.ChangeAction=function(t,e){this.changes=t,this.selected=e,this.actionType="change"},Object(M.inherit)(ls.ChangeAction,ls.Action),ls.ChangeAction.prototype.undo=function(t,e){for(var n=Object(M.deepClone)(this.changes),r=t.countEmptyRows(!0),o=t.countEmptyCols(!0),i=0,a=n.length;i<a;i++)n[i].splice(3,1);t.addHookOnce("afterChange",e),t.setDataAtRowProp(n,null,null,"UndoRedo.undo");for(var s=0,l=n.length;s<l;s++){var u=ss(n[s],2),c=u[0],h=u[1];t.getSettings().minSpareRows&&c+1+t.getSettings().minSpareRows===t.countRows()&&r===t.getSettings().minSpareRows&&(t.alter("remove_row",parseInt(c+1,10),t.getSettings().minSpareRows),t.undoRedo.doneActions.pop()),t.getSettings().minSpareCols&&h+1+t.getSettings().minSpareCols===t.countCols()&&o===t.getSettings().minSpareCols&&(t.alter("remove_col",parseInt(h+1,10),t.getSettings().minSpareCols),t.undoRedo.doneActions.pop())}t.selectCells(this.selected,!1,!1)},ls.ChangeAction.prototype.redo=function(t,e){for(var n=Object(M.deepClone)(this.changes),r=0,o=n.length;r<o;r++)n[r].splice(2,1);t.addHookOnce("afterChange",e),t.setDataAtRowProp(n,null,null,"UndoRedo.redo"),this.selected&&t.selectCells(this.selected,!1,!1)},ls.CreateRowAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_row"},Object(M.inherit)(ls.CreateRowAction,ls.Action),ls.CreateRowAction.prototype.undo=function(t,e){var n=t.countRows(),r=t.getSettings().minSpareRows;this.index>=n&&this.index-r<n&&(this.index-=r),t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},ls.CreateRowAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateRow",e),t.alter("insert_row",this.index,this.amount,"UndoRedo.redo")},ls.RemoveRowAction=function(t,e){this.index=t,this.data=e,this.actionType="remove_row"},Object(M.inherit)(ls.RemoveRowAction,ls.Action),ls.RemoveRowAction.prototype.undo=function(t,e){t.alter("insert_row",this.index,this.data.length,"UndoRedo.undo"),t.addHookOnce("afterRender",e),t.populateFromArray(this.index,0,this.data,void 0,void 0,"UndoRedo.undo")},ls.RemoveRowAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},ls.CreateColumnAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_col"},Object(M.inherit)(ls.CreateColumnAction,ls.Action),ls.CreateColumnAction.prototype.undo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},ls.CreateColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateCol",e),t.alter("insert_col",this.index,this.amount,"UndoRedo.redo")},ls.RemoveColumnAction=function(t,e,n,r,o){this.index=t,this.indexes=e,this.data=n,this.amount=this.data[0].length,this.headers=r,this.columnPositions=o.slice(0),this.actionType="remove_col"},Object(M.inherit)(ls.RemoveColumnAction,ls.Action),ls.RemoveColumnAction.prototype.undo=function(t,e){var n,r=this,o=this.indexes.slice(0).sort(),i=function(t,e,n){return n[r.indexes.indexOf(o[e])]},a=[];Object(x.rangeEach)(this.data.length-1,function(t){a[t]=Object(y.arrayMap)(r.data[t],i)});var s;s=Object(y.arrayMap)(this.headers,i);var l=[];t.runHooks("beforeCreateCol",this.indexes[0],this.indexes.length,"UndoRedo.undo"),Object(x.rangeEach)(this.data.length-1,function(e){n=t.getSourceDataAtRow(e),Object(x.rangeEach)(o.length-1,function(t){n.splice(o[t],0,a[e][t]),l.push([e,o[t],null,a[e][t]])})}),t.getPlugin("formulas")&&t.getPlugin("formulas").onAfterSetDataAtCell(l),"undefined"!==typeof this.headers&&Object(x.rangeEach)(s.length-1,function(e){t.getSettings().colHeaders.splice(o[e],0,s[e])}),t.getPlugin("manualColumnMove")&&(t.getPlugin("manualColumnMove").columnsMapper.__arrayMap=this.columnPositions),t.addHookOnce("afterRender",e),t.runHooks("afterCreateCol",this.indexes[0],this.indexes.length,"UndoRedo.undo"),t.getPlugin("formulas")&&t.getPlugin("formulas").recalculateFull(),t.render()},ls.RemoveColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},ls.CellAlignmentAction=function(t,e,n,r){this.stateBefore=t,this.range=e,this.type=n,this.alignment=r},ls.CellAlignmentAction.prototype.undo=function(t,e){var n=this;Object(y.arrayEach)(this.range,function(e){for(var r=e.from,o=e.to,i=r.row;i<=o.row;i+=1)for(var a=r.col;a<=o.col;a+=1)t.setCellMeta(i,a,"className",n.stateBefore[i][a]||" htLeft")}),t.addHookOnce("afterRender",e),t.render()},ls.CellAlignmentAction.prototype.redo=function(t,e){Ge(this.range,this.type,this.alignment,function(e,n){return t.getCellMeta(e,n)},function(e,n,r,o){return t.setCellMeta(e,n,r,o)}),t.addHookOnce("afterRender",e),t.render()},ls.FiltersAction=function(t){this.conditionsStack=t,this.actionType="filter"},Object(M.inherit)(ls.FiltersAction,ls.Action),ls.FiltersAction.prototype.undo=function(t,e){var n=t.getPlugin("filters");t.addHookOnce("afterRender",e),n.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),n.filter()},ls.FiltersAction.prototype.redo=function(t,e){var n=t.getPlugin("filters");t.addHookOnce("afterRender",e),n.conditionCollection.importAllConditions(this.conditionsStack),n.filter()};var us=function(t){function e(t,n){var r;return ts(this,e),(r=rs(this,os(e).call(this))).cellRange=n,r.rangeData=t.getData(n.from.row,n.from.col,n.to.row,n.to.col),r}return is(e,ls.Action),ns(e,[{key:"undo",value:function(t,e){var n=t.getPlugin("mergeCells");t.addHookOnce("afterRender",e),n.unmergeRange(this.cellRange,!0),t.populateFromArray(this.cellRange.from.row,this.cellRange.from.col,this.rangeData,void 0,void 0,"MergeCells")}},{key:"redo",value:function(t,e){var n=t.getPlugin("mergeCells");t.addHookOnce("afterRender",e),n.mergeRange(this.cellRange)}}]),e}();ls.MergeCellsAction=us;var cs=function(t){function e(t,n){var r;return ts(this,e),(r=rs(this,os(e).call(this))).cellRange=n,r}return is(e,ls.Action),ns(e,[{key:"undo",value:function(t,e){var n=t.getPlugin("mergeCells");t.addHookOnce("afterRender",e),n.mergeRange(this.cellRange,!0)}},{key:"redo",value:function(t,e){var n=t.getPlugin("mergeCells");t.addHookOnce("afterRender",e),n.unmergeRange(this.cellRange,!0),t.render()}}]),e}();function hs(){"undefined"===typeof this.getSettings().undo||this.getSettings().undo?this.undoRedo||(this.undoRedo=new ls(this),function(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}(this),this.addHook("beforeKeyDown",fs),this.addHook("afterChange",ds)):this.undoRedo&&(delete this.undoRedo,function(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}(this),this.removeHook("beforeKeyDown",fs),this.removeHook("afterChange",ds))}function fs(t){if(!Object(P.isImmediatePropagationStopped)(t)){var e=this.getActiveEditor();if(!e||!e.isOpened()){var n=t.altKey,r=t.ctrlKey,o=t.keyCode,i=t.metaKey,a=t.shiftKey;if((r||i)&&!n)89===o||a&&90===o?(this.undoRedo.redo(),Object(P.stopImmediatePropagation)(t)):90===o&&(this.undoRedo.undo(),Object(P.stopImmediatePropagation)(t))}}}function ds(t,e){if("loadData"===e)return this.undoRedo.clear()}ls.UnmergeCellsAction=cs,ls.RowMoveAction=function(t,e){this.rows=t.slice(),this.target=e},Object(M.inherit)(ls.RowMoveAction,ls.Action),ls.RowMoveAction.prototype.undo=function(t,e){var n=t.getPlugin("manualRowMove");t.addHookOnce("afterRender",e);for(var r=this.rows[0]<this.target?-1*this.rows.length:0,o=this.rows[0]>this.target?this.rows[0]+this.rows.length:this.rows[0],i=[],a=this.rows.length+r,s=r;s<a;s+=1)i.push(this.target+s);n.moveRows(i.slice(),o),t.render(),t.selectCell(this.rows[0],0,this.rows[this.rows.length-1],t.countCols()-1,!1,!1)},ls.RowMoveAction.prototype.redo=function(t,e){var n=t.getPlugin("manualRowMove");t.addHookOnce("afterRender",e),n.moveRows(this.rows.slice(),this.target),t.render();var r=this.rows[0]<this.target?this.target-this.rows.length:this.target;t.selectCell(r,0,r+this.rows.length-1,t.countCols()-1,!1,!1)};var ps=m.a.getSingleton();ps.add("afterInit",hs),ps.add("afterUpdateSettings",hs),ps.register("beforeUndo"),ps.register("afterUndo"),ps.register("beforeRedo"),ps.register("afterRedo");var gs=ls;function ms(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var vs=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"STRATEGY_NAME",get:function(){return"loose"}}],(n=[{key:"createRow",value:function(t,e){this.shiftItems(t,e)}},{key:"removeRow",value:function(t,e){this.unshiftItems(t,e)}},{key:"destroy",value:function(){this._arrayMap=null}}])&&ms(e.prototype,n),r&&ms(e,r),t}();Object(M.mixin)(vs,Zt);var ys=vs;function bs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ws=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"STRATEGY_NAME",get:function(){return"strict"}}],(n=[{key:"createRow",value:function(t,e){this.insertItems(t,e)}},{key:"removeRow",value:function(t,e){this.removeItems(t,e)}},{key:"destroy",value:function(){this._arrayMap=null}}])&&bs(e.prototype,n),r&&bs(e,r),t}();Object(M.mixin)(ws,Zt);var Cs=ws;function Os(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ss(t,e,n){return e&&Os(t.prototype,e),n&&Os(t,n),t}var Es=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.strategy=null}return Ss(t,null,[{key:"DEFAULT_STRATEGY",get:function(){return"loose"}}]),Ss(t,[{key:"setStrategy",value:function(t){var e=r[Object(N.toUpperCaseFirst)(t)];if(!e)throw new Error('Bind strategy "'.concat(t,'" does not exist.'));this.strategy=new e}},{key:"createMap",value:function(t){var e=this.strategy,n=void 0===t?e._arrayMap.length:t;e._arrayMap.length=0,Object(x.rangeEach)(n-1,function(t){e._arrayMap.push(t)})}},{key:"createRow",value:function(){var t;(t=this.strategy).createRow.apply(t,arguments)}},{key:"removeRow",value:function(){var t;(t=this.strategy).removeRow.apply(t,arguments)}},{key:"translate",value:function(){var t;return(t=this.strategy).getValueByIndex.apply(t,arguments)}},{key:"clearMap",value:function(){this.strategy.clearMap()}},{key:"destroy",value:function(){this.strategy&&this.strategy.destroy(),this.strategy=null}}]),t}();function ks(t){return(ks="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ts(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rs(t,e){return!e||"object"!==ks(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xs(t,e,n){return(xs="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ms(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ms(t){return(Ms=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function As(t,e){return(As=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ns=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Rs(this,Ms(e).call(this,t))).bindStrategy=new Es,n.removedRows=[],n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&As(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().bindRowsWithHeaders}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){var n=this.hot.getSettings().bindRowsWithHeaders;"string"!==typeof n&&(n=Es.DEFAULT_STRATEGY),this.bindStrategy.setStrategy(n),this.bindStrategy.createMap(this.hot.countSourceRows()),this.addHook("modifyRowHeader",function(e){return t.onModifyRowHeader(e)}),this.addHook("afterCreateRow",function(e,n){return t.onAfterCreateRow(e,n)}),this.addHook("beforeRemoveRow",function(e,n){return t.onBeforeRemoveRow(e,n)}),this.addHook("afterRemoveRow",function(){return t.onAfterRemoveRow()}),this.addHook("afterLoadData",function(e){return t.onAfterLoadData(e)}),xs(Ms(e.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){xs(Ms(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.removedRows.length=0,this.bindStrategy.clearMap(),xs(Ms(e.prototype),"disablePlugin",this).call(this)}},{key:"onModifyRowHeader",value:function(t){return this.bindStrategy.translate(this.hot.runHooks("modifyRow",t))}},{key:"onAfterCreateRow",value:function(t,e){this.bindStrategy.createRow(t,e)}},{key:"onBeforeRemoveRow",value:function(t,e){var n=this;this.removedRows.length=0,!1!==t&&Object(x.rangeEach)(t,t+e-1,function(t){n.removedRows.push(n.hot.runHooks("modifyRow",t))})}},{key:"onAfterRemoveRow",value:function(){this.bindStrategy.removeRow(this.removedRows)}},{key:"onAfterLoadData",value:function(t){t||this.bindStrategy.createMap(this.hot.countSourceRows())}},{key:"destroy",value:function(){this.bindStrategy.destroy(),xs(Ms(e.prototype),"destroy",this).call(this)}}])&&Ts(n.prototype,r),o&&Ts(n,o),e}();Object(D.d)("bindRowsWithHeaders",Ns);var _s=Ns;function Ps(t){return(Ps="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Is(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ds(t,e){return!e||"object"!==Ps(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ls(t,e,n){return(Ls="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=js(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function js(t){return(js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hs(t,e){return(Hs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Bs=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Ds(this,js(e).call(this,t))).settings=null,n.buttonEnabledList={},n.hiddenColumnsPlugin=null,n.nestedHeadersPlugin=null,n.collapsedSections={},n.columnHeaderLevelCount=null,n.eventManager=null,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hs(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().collapsibleColumns}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.settings=this.hot.getSettings().collapsibleColumns,"boolean"!==typeof this.settings&&this.parseSettings(),this.hiddenColumnsPlugin=this.hot.getPlugin("hiddenColumns"),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.checkDependencies(),this.addHook("afterRender",function(){return t.onAfterRender()}),this.addHook("afterInit",function(){return t.onAfterInit()}),this.addHook("afterGetColHeader",function(e,n){return t.onAfterGetColHeader(e,n)}),this.addHook("beforeOnCellMouseDown",function(e,n,r){return t.onBeforeOnCellMouseDown(e,n,r)}),this.eventManager=new g.a(this.hot),Ls(js(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.settings=null,this.buttonEnabledList={},this.hiddenColumnsPlugin=null,this.collapsedSections={},this.clearButtons(),Ls(js(e.prototype),"disablePlugin",this).call(this)}},{key:"clearButtons",value:function(){if(this.hot.view){var t=this.hot.view.wt.getSetting("columnHeaders").length,e=this.hot.view.wt.wtTable.THEAD,n=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.THEAD,r=this.hot.view.wt.wtOverlays.topLeftCornerOverlay?this.hot.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.THEAD:null,o=function(t){t&&t.parentNode.removeChild(t)};Object(x.rangeEach)(0,t-1,function(t){var i=e.childNodes[t],a=n.childNodes[t],s=r?r.childNodes[t]:null;Object(x.rangeEach)(0,i.childNodes.length-1,function(t){var e=i.childNodes[t].querySelector(".collapsibleIndicator");o(e),a&&a.childNodes[t]&&(e=a.childNodes[t].querySelector(".collapsibleIndicator"),o(e)),r&&s&&s.childNodes[t]&&(e=s.childNodes[t].querySelector(".collapsibleIndicator"),o(e))})},!0)}}},{key:"parseSettings",value:function(){var t=this;Object(M.objectEach)(this.settings,function(e){t.buttonEnabledList[e.row]||(t.buttonEnabledList[e.row]={}),t.buttonEnabledList[e.row][e.col]=e.collapsible})}},{key:"meetsDependencies",value:function(){var t=this.hot.getSettings();return t.nestedHeaders&&t.hiddenColumns}},{key:"checkDependencies",value:function(){var t=this.hot.getSettings();this.meetsDependencies()||(t.nestedHeaders||Object(Wi.b)("You need to configure the Nested Headers plugin in order to use collapsible headers."),t.hiddenColumns||Object(Wi.b)("You need to configure the Hidden Columns plugin in order to use collapsible headers."))}},{key:"generateIndicator",value:function(t,e){var n=e.parentNode,r=n.parentNode,o=-1*r.childNodes.length+Array.prototype.indexOf.call(r.childNodes,n);if(Object.keys(this.buttonEnabledList).length>0&&(!this.buttonEnabledList[o]||!this.buttonEnabledList[o][t]))return null;var i=this.hot.rootDocument.createElement("DIV");return Object(v.addClass)(i,"collapsibleIndicator"),this.collapsedSections[o]&&!0===this.collapsedSections[o][t]?(Object(v.addClass)(i,"collapsed"),Object(v.fastInnerText)(i,"+")):(Object(v.addClass)(i,"expanded"),Object(v.fastInnerText)(i,"-")),i}},{key:"markSectionAs",value:function(t,e,n,r){switch(this.collapsedSections[e]||(this.collapsedSections[e]={}),t){case"collapsed":this.collapsedSections[e][n]=!0;break;case"expanded":this.collapsedSections[e][n]=void 0}if(r)for(var o=this.nestedHeadersPlugin.colspanArray,i=this.nestedHeadersPlugin.rowCoordsToLevel(e),a=this.nestedHeadersPlugin.getChildHeaders(e,n),s=o[i+1],l=1;l<a.length;l++)s&&s[a[l]].colspan>1&&this.markSectionAs(t,e+1,a[l],!0)}},{key:"expandSection",value:function(t){this.markSectionAs("expanded",t.row,t.col,!0),this.toggleCollapsibleSection(t,"expand")}},{key:"collapseSection",value:function(t){this.markSectionAs("collapsed",t.row,t.col,!0),this.toggleCollapsibleSection(t,"collapse")}},{key:"toggleAllCollapsibleSections",value:function(t){var e=this,n=this.nestedHeadersPlugin.colspanArray;!0===this.settings?Object(y.arrayEach)(n,function(n,r){Object(y.arrayEach)(n,function(n,o){if(n.colspan>1){var i=e.nestedHeadersPlugin.levelToRowCoords(parseInt(r,10)),a=parseInt(o,10);e.markSectionAs("collapse"===t?"collapsed":"expanded",i,a,!0),e.toggleCollapsibleSection({row:i,col:a},t)}})}):Object(M.objectEach)(this.buttonEnabledList,function(n,r){Object(M.objectEach)(n,function(n,o){var i=parseInt(r,10),a=parseInt(o,10);e.markSectionAs("collapse"===t?"collapsed":"expanded",i,a,!0),e.toggleCollapsibleSection({row:i,col:a},t)})})}},{key:"collapseAll",value:function(){this.toggleAllCollapsibleSections("collapse")}},{key:"expandAll",value:function(){this.toggleAllCollapsibleSections("expand")}},{key:"toggleCollapsibleSection",value:function(t,e){var n=this;t.row&&(t.row=parseInt(t.row,10)),t.col&&(t.col=parseInt(t.col,10));for(var r=this.hiddenColumnsPlugin.hiddenColumns,o=this.nestedHeadersPlugin.colspanArray,i=this.nestedHeadersPlugin.rowCoordsToLevel(t.row),a=o[i][t.col].colspan,s=this.nestedHeadersPlugin.getChildHeaders(t.row,t.col),l=i+1,u=o[l],c=u&&u[s[0]].colspan||1;c===a&&l<this.columnHeaderLevelCount;)c=(u=o[l+=1])&&u[s[0]].colspan||1;Object(x.rangeEach)(c,a-1,function(o){var i=t.col+o;switch(e){case"collapse":n.hiddenColumnsPlugin.isHidden(i)||r.push(i);break;case"expand":n.hiddenColumnsPlugin.isHidden(i)&&r.splice(r.indexOf(i),1)}}),this.hot.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0)}},{key:"onAfterGetColHeader",value:function(t,e){if(e.hasAttribute("colspan")&&e.getAttribute("colspan")>1&&t>=this.hot.getSettings().fixedColumnsLeft){var n=this.generateIndicator(t,e);null!==n&&e.querySelector("div:first-child").appendChild(n)}}},{key:"onBeforeOnCellMouseDown",value:function(t,e){if(Object(v.hasClass)(t.target,"collapsibleIndicator"))return Object(v.hasClass)(t.target,"expanded")?(this.collapsedSections[e.row]||(this.collapsedSections[e.row]=[]),this.markSectionAs("collapsed",e.row,e.col,!0),this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection(e,"collapse")):Object(v.hasClass)(t.target,"collapsed")&&(this.markSectionAs("expanded",e.row,e.col,!0),this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection(e,"expand")),Object(P.stopImmediatePropagation)(t),!1}},{key:"onAfterInit",value:function(){this.columnHeaderLevelCount=this.hot.view.wt.getSetting("columnHeaders").length}},{key:"onAfterRender",value:function(){this.nestedHeadersPlugin.enabled&&this.hiddenColumnsPlugin.enabled||this.disablePlugin()}},{key:"destroy",value:function(){this.settings=null,this.buttonEnabledList=null,this.hiddenColumnsPlugin=null,this.nestedHeadersPlugin=null,this.collapsedSections=null,this.columnHeaderLevelCount=null,Ls(js(e.prototype),"destroy",this).call(this)}}])&&Is(n.prototype,r),o&&Is(n,o),e}();Object(D.d)("collapsibleColumns",Bs);var Fs=Bs;n(243);function Ws(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Vs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Us=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.plugin=e,this.hot=this.plugin.hot,this.endpoints=[],this.settings=n,this.settingsType="array",this.currentEndpoint=null,this.cellsToSetCache=[],this.recordTranslator=Object(I.a)(this.hot)}var e,n,r;return e=t,(n=[{key:"getEndpoint",value:function(t){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings)[t]:this.endpoints[t]}},{key:"getAllEndpoints",value:function(){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings):this.endpoints}},{key:"fillMissingEndpointData",value:function(t){return this.parseSettings(t.call(this))}},{key:"parseSettings",value:function(t){var e=this,n=[],r=t;if(r||"function"!==typeof this.settings)return r||(r=this.settings),Object(y.arrayEach)(r,function(t){var r={};e.assignSetting(t,r,"ranges",[[0,e.hot.countRows()-1]]),e.assignSetting(t,r,"reversedRowCoords",!1),e.assignSetting(t,r,"destinationRow",new Error("\n        You must provide a destination row for the Column Summary plugin in order to work properly!\n      ")),e.assignSetting(t,r,"destinationColumn",new Error("\n        You must provide a destination column for the Column Summary plugin in order to work properly!\n      ")),e.assignSetting(t,r,"sourceColumn",t.destinationColumn),e.assignSetting(t,r,"type","sum"),e.assignSetting(t,r,"forceNumeric",!1),e.assignSetting(t,r,"suppressDataTypeErrors",!0),e.assignSetting(t,r,"suppressDataTypeErrors",!0),e.assignSetting(t,r,"customFunction",null),e.assignSetting(t,r,"readOnly",!0),e.assignSetting(t,r,"roundFloat",!1),n.push(r)}),n;this.settingsType="function"}},{key:"assignSetting",value:function(t,e,n,r){if("ranges"!==n||void 0!==t[n]){if("ranges"!==n||0!==t[n].length)if(void 0===t[n]){if(r instanceof Error)throw r;e[n]=r}else"destinationRow"===n&&e.reversedRowCoords?e[n]=this.hot.countRows()-t[n]-1:e[n]=t[n]}else e[n]=r}},{key:"resetSetupBeforeStructureAlteration",value:function(t,e,n){if("function"===this.settingsType){var r=t.indexOf("row")>-1?"row":"col",o=this.getAllEndpoints();Object(y.arrayEach)(o,function(o){"row"===r&&o.destinationRow>=e&&("insert_row"===t?o.alterRowOffset=n:"remove_row"===t&&(o.alterRowOffset=-1*n)),"col"===r&&o.destinationColumn>=e&&("insert_col"===t?o.alterColumnOffset=n:"remove_col"===t&&(o.alterColumnOffset=-1*n))}),this.resetAllEndpoints(o,!1)}}},{key:"resetSetupAfterStructureAlteration",value:function(t,e,n,r,o){var i=this,a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if("function"!==this.settingsType){var s=t.indexOf("row")>-1?"row":"col",l=t.indexOf("remove")>-1?-1:1,u=this.getAllEndpoints(),c=0===t.indexOf("move_row"),h=e;Object(y.arrayEach)(u,function(t){"row"===s&&t.destinationRow>=h&&(t.alterRowOffset=l*n),"col"===s&&t.destinationColumn>=h&&(t.alterColumnOffset=l*n)}),this.resetAllEndpoints(u,!c),c?Object(y.arrayEach)(u,function(t){i.extendEndpointRanges(t,h,r[0],r.length),i.recreatePhysicalRanges(t),i.clearOffsetInformation(t)}):Object(y.arrayEach)(u,function(t){i.shiftEndpointCoordinates(t,h)}),a&&this.refreshAllEndpoints()}else{this.hot.addHookOnce("beforeRender",function t(){return i.hot.removeHook("beforeRender",t),i.refreshAllEndpoints()})}}},{key:"clearOffsetInformation",value:function(t){t.alterRowOffset=void 0,t.alterColumnOffset=void 0}},{key:"extendEndpointRanges",value:function(t,e,n,r){Object(y.arrayEach)(t.ranges,function(t){t[1]&&(e>=t[0]&&e<=t[1]?n>t[1]?t[1]+=r:n<t[0]&&(t[0]-=r):n>=t[0]&&n<=t[1]&&(t[1]-=r,e<=t[0]&&(t[0]+=1,t[1]+=1)))})}},{key:"recreatePhysicalRanges",value:function(t){var e=this,n=t.ranges,r=[],o=[];Object(y.arrayEach)(n,function(t){var n=[];if(t[1])for(var r=t[0];r<=t[1];r++)n.push(e.recordTranslator.toPhysicalRow(r));else n.push(e.recordTranslator.toPhysicalRow(t[0]));o.push(n)}),Object(y.arrayEach)(o,function(t){var e=[];Object(y.arrayEach)(t,function(n,o){0===o?e.push(n):t[o]!==t[o-1]+1&&(e.push(t[o-1]),r.push(e),(e=[]).push(n)),o===t.length-1&&(e.push(n),r.push(e))})}),t.ranges=r}},{key:"shiftEndpointCoordinates",value:function(t,e){t.alterRowOffset&&0!==t.alterRowOffset?(t.destinationRow+=t.alterRowOffset||0,Object(y.arrayEach)(t.ranges,function(n){Object(y.arrayEach)(n,function(r,o){r>=e&&(n[o]+=t.alterRowOffset||0)})})):t.alterColumnOffset&&0!==t.alterColumnOffset&&(t.destinationColumn+=t.alterColumnOffset||0,t.sourceColumn+=t.alterColumnOffset||0)}},{key:"resetAllEndpoints",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t;this.cellsToSetCache=[],r||(r=this.getAllEndpoints()),Object(y.arrayEach)(r,function(t){e.resetEndpointValue(t,n)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}},{key:"refreshAllEndpoints",value:function(){var t=this;this.cellsToSetCache=[],Object(y.arrayEach)(this.getAllEndpoints(),function(e){t.currentEndpoint=e,t.plugin.calculate(e),t.setEndpointValue(e,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}},{key:"refreshChangedEndpoints",value:function(t){var e=this,n=[];this.cellsToSetCache=[],Object(y.arrayEach)(t,function(t,r,o){"".concat(t[2]||"")!=="".concat(t[3])&&Object(y.arrayEach)(e.getAllEndpoints(),function(t,i){e.hot.propToCol(o[r][1])===t.sourceColumn&&-1===n.indexOf(i)&&n.push(i)})}),Object(y.arrayEach)(n,function(t){e.refreshEndpoint(e.getEndpoint(t))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}},{key:"refreshEndpoint",value:function(t){this.currentEndpoint=t,this.plugin.calculate(t),this.setEndpointValue(t),this.currentEndpoint=null}},{key:"resetEndpointValue",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.alterRowOffset||0,r=t.alterColumnOffset||0,o=Ws(this.recordTranslator.toVisual(t.destinationRow,t.destinationColumn),2),i=o[0],a=o[1],s=this.hot.getCellMeta(i,a);s.readOnly=!1,s.className="",this.cellsToSetCache.push([this.recordTranslator.toVisualRow(t.destinationRow+(e?n:0)),this.recordTranslator.toVisualColumn(t.destinationColumn+(e?r:0)),""])}},{key:"setEndpointValue",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1*t.alterRowOffset||0,o=-1*t.alterColumnOffset||0,i=this.getVisualRowIndex(t.destinationRow),a=this.hot.getCellMeta(this.getVisualRowIndex(t.destinationRow+r),t.destinationColumn+o);i>this.hot.countRows()||t.destinationColumn>this.hot.countCols()?this.throwOutOfBoundsWarning():("init"!==e&&a.readOnly===t.readOnly||(a.readOnly=t.readOnly,a.className="columnSummaryResult"),t.roundFloat&&!isNaN(t.result)&&(t.result=t.result.toFixed(t.roundFloat)),n?this.hot.setDataAtCell(i,t.destinationColumn,t.result,"ColumnSummary.set"):this.cellsToSetCache.push([i,t.destinationColumn,t.result]),t.alterRowOffset=void 0,t.alterColumnOffset=void 0)}},{key:"getVisualRowIndex",value:function(t){return this.hot.runHooks("unmodifyRow",t,"columnSummary")}},{key:"getVisualColumnIndex",value:function(t){return this.hot.runHooks("unmodifyCol",t,"columnSummary")}},{key:"throwOutOfBoundsWarning",value:function(){Object(Wi.b)("One of the  Column Summary plugins' destination points you provided is beyond the table boundaries!")}}])&&Vs(e.prototype,n),r&&Vs(e,r),t}();function zs(t){return(zs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ys(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gs(t,e){return!e||"object"!==zs(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xs(t,e,n){return(Xs="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ks(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ks(t){return(Ks=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qs(t,e){return(qs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $s=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Gs(this,Ks(e).call(this,t))).endpoints=null,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qs(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().columnSummary}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.settings=this.hot.getSettings().columnSummary,this.endpoints=new Us(this,this.settings),this.addHook("afterInit",function(){return t.onAfterInit.apply(t,arguments)}),this.addHook("afterChange",function(){return t.onAfterChange.apply(t,arguments)}),this.addHook("beforeCreateRow",function(e,n,r){return t.endpoints.resetSetupBeforeStructureAlteration("insert_row",e,n,null,r)}),this.addHook("beforeCreateCol",function(e,n,r){return t.endpoints.resetSetupBeforeStructureAlteration("insert_col",e,n,null,r)}),this.addHook("beforeRemoveRow",function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.endpoints).resetSetupBeforeStructureAlteration.apply(e,["remove_row"].concat(r))}),this.addHook("beforeRemoveCol",function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.endpoints).resetSetupBeforeStructureAlteration.apply(e,["remove_col"].concat(r))}),this.addHook("beforeRowMove",function(){return t.onBeforeRowMove.apply(t,arguments)}),this.addHook("afterCreateRow",function(e,n,r){return t.endpoints.resetSetupAfterStructureAlteration("insert_row",e,n,null,r)}),this.addHook("afterCreateCol",function(e,n,r){return t.endpoints.resetSetupAfterStructureAlteration("insert_col",e,n,null,r)}),this.addHook("afterRemoveRow",function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.endpoints).resetSetupAfterStructureAlteration.apply(e,["remove_row"].concat(r))}),this.addHook("afterRemoveCol",function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.endpoints).resetSetupAfterStructureAlteration.apply(e,["remove_col"].concat(r))}),this.addHook("afterRowMove",function(){return t.onAfterRowMove.apply(t,arguments)}),Xs(Ks(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.endpoints=null,this.settings=null,this.currentEndpoint=null}},{key:"calculate",value:function(t){switch(t.type.toLowerCase()){case"sum":t.result=this.calculateSum(t);break;case"min":case"max":t.result=this.calculateMinMax(t,t.type);break;case"count":t.result=this.countEntries(t);break;case"average":t.result=this.calculateAverage(t);break;case"custom":t.result=t.customFunction.call(this,t)}}},{key:"calculateSum",value:function(t){var e=this,n=0;return Object(M.objectEach)(t.ranges,function(r){n+=e.getPartialSum(r,t.sourceColumn)}),n}},{key:"getPartialSum",value:function(t,e){var n=0,r=t[1]||t[0],o=null,i=0;do{o=this.getCellValue(r,e)||0;var a=("".concat(o).split(".")[1]||[]).length||1;a>i&&(i=a),n+=o||0,r-=1}while(r>=t[0]);return Math.round(n*Math.pow(10,i))/Math.pow(10,i)}},{key:"calculateMinMax",value:function(t,e){var n=this,r=null;return Object(M.objectEach)(t.ranges,function(o){var i=n.getPartialMinMax(o,t.sourceColumn,e);if(null===r&&null!==i&&(r=i),null!==i)switch(e){case"min":r=Math.min(r,i);break;case"max":r=Math.max(r,i)}}),null===r?"Not enough data":r}},{key:"getPartialMinMax",value:function(t,e,n){var r,o=null,i=t[1]||t[0];do{if(r=this.getCellValue(i,e)||null,null===o)o=r;else if(null!==r)switch(n){case"min":o=Math.min(o,r);break;case"max":o=Math.max(o,r)}i-=1}while(i>=t[0]);return o}},{key:"countEmpty",value:function(t,e){var n=0,r=t[1]||t[0];do{this.getCellValue(r,e)||(n+=1),r-=1}while(r>=t[0]);return n}},{key:"countEntries",value:function(t){var e=this,n=0,r=t.ranges;return Object(M.objectEach)(r,function(r){var o=void 0===r[1]?1:r[1]-r[0]+1,i=e.countEmpty(r,t.sourceColumn);n+=o,n-=i}),n}},{key:"calculateAverage",value:function(t){return this.calculateSum(t)/this.countEntries(t)}},{key:"getCellValue",value:function(t,e){var n=this.endpoints.getVisualRowIndex(t),r=this.endpoints.getVisualColumnIndex(e),o=this.hot.getSourceDataAtCell(t,e);if((this.hot.getCellMeta(n,r).className||"").indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&("string"===typeof o&&(o=o.replace(/,/,".")),o=parseFloat(o)),isNaN(o)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error("ColumnSummary plugin: cell at (".concat(t,", ").concat(e,") is not in a numeric format. Cannot do the calculation."));return o}},{key:"onAfterInit",value:function(){this.endpoints.endpoints=this.endpoints.parseSettings(),this.endpoints.refreshAllEndpoints(!0)}},{key:"onAfterChange",value:function(t,e){t&&"ColumnSummary.reset"!==e&&"ColumnSummary.set"!==e&&"loadData"!==e&&this.endpoints.refreshChangedEndpoints(t)}},{key:"onBeforeRowMove",value:function(t){this.endpoints.resetSetupBeforeStructureAlteration("move_row",t[0],t.length,t,this.pluginName)}},{key:"onAfterRowMove",value:function(t,e){this.endpoints.resetSetupAfterStructureAlteration("move_row",e,t.length,t,this.pluginName)}}])&&Ys(n.prototype,r),o&&Ys(n,o),e}();Object(D.d)("columnSummary",$s);var Qs=$s;function Zs(t){return(Zs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Js(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tl(t,e,n){return(tl="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=el(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function el(t){return(el=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rl(t,e,n){return e&&nl(t.prototype,e),n&&nl(t,n),t}function ol(t,e){return(ol=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}m.a.getSingleton().register("afterDropdownMenuDefaultOptions"),m.a.getSingleton().register("beforeDropdownMenuShow"),m.a.getSingleton().register("afterDropdownMenuShow"),m.a.getSingleton().register("afterDropdownMenuHide"),m.a.getSingleton().register("afterDropdownMenuExecute");var il=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o=el(e).call(this,t),(n=!o||"object"!==Zs(o)&&"function"!==typeof o?Js(r):o).eventManager=new g.a(Js(n)),n.commandExecutor=new gn(n.hot),n.itemsFactory=null,n.menu=null,n.hot.addHook("afterGetColHeader",function(t,e){return n.onAfterGetColHeader(t,e)}),n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ol(t,e)}(e,B),rl(e,null,[{key:"DEFAULT_ITEMS",get:function(){return[wn,On,Fe,Rn,Fe,yn,Fe,Sn,Fe,mn]}}]),rl(e,[{key:"isEnabled",value:function(){return this.hot.getSettings().dropdownMenu}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){this.itemsFactory=new Fn(this.hot,e.DEFAULT_ITEMS);var n=this.hot.getSettings().dropdownMenu,r={items:this.itemsFactory.getItems(n)};this.registerEvents(),"function"===typeof n.callback&&this.commandExecutor.setCommonCallback(n.callback),tl(el(e.prototype),"enablePlugin",this).call(this),this.callOnPluginsReady(function(){t.hot.runHooks("afterDropdownMenuDefaultOptions",r),t.itemsFactory.setPredefinedItems(r.items);var e=t.itemsFactory.getItems(n);t.menu&&t.menu.destroy(),t.menu=new Gn(t.hot,{className:"htDropdownMenu",keepInViewport:!0}),t.hot.runHooks("beforeDropdownMenuSetItems",e),t.menu.setMenuItems(e),t.menu.addLocalHook("beforeOpen",function(){return t.onMenuBeforeOpen()}),t.menu.addLocalHook("afterOpen",function(){return t.onMenuAfterOpen()}),t.menu.addLocalHook("afterClose",function(){return t.onMenuAfterClose()}),t.menu.addLocalHook("executeCommand",function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.executeCommand).call.apply(e,[t].concat(r))}),Object(y.arrayEach)(e,function(e){return t.commandExecutor.registerCommand(e.key,e)})})}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),tl(el(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&this.menu.destroy(),tl(el(e.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(this.hot.rootElement,"click",function(e){return t.onTableClick(e)})}},{key:"open",value:function(t){this.menu&&(this.menu.open(),t.width&&this.menu.setOffset("left",t.width),this.menu.setPosition(t),this.menu.hotMenu.isHotTableEnv=this.hot.isHotTableEnv)}},{key:"close",value:function(){this.menu&&this.menu.close()}},{key:"executeCommand",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=this.commandExecutor).execute.apply(e,[t].concat(r))}},{key:"setListening",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.menu.isOpened()&&(t?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}},{key:"onTableClick",value:function(t){if(Object(P.stopPropagation)(t),Object(v.hasClass)(t.target,"changeType")&&!this.menu.isOpened()){var e=t.target.getBoundingClientRect();this.open({left:e.left,top:e.top+t.target.offsetHeight+3,width:e.width,height:e.height})}}},{key:"onAfterGetColHeader",value:function(t,e){var n=e.parentNode;if(n){var r=n.parentNode.childNodes,o=Array.prototype.indexOf.call(r,n);if(!(t<0||o!==r.length-1)){var i=e.querySelector(".".concat("changeType"));if(!this.enabled||!i)if(this.enabled){var a=this.hot.rootDocument.createElement("button");a.className="changeType",a.onclick=function(){return!1},e.firstChild.insertBefore(a,e.firstChild.firstChild)}else i&&i.parentNode.removeChild(i)}}}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeDropdownMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterDropdownMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),tl(el(e.prototype),"destroy",this).call(this)}}]),e}();il.SEPARATOR={name:Fe},Object(D.d)("dropdownMenu",il);var al=il;function sl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ll(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ul=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.options={}}var e,n,r;return e=t,(n=[{key:"setOptions",value:function(t){this.options=t}},{key:"getData",value:function(){var t=this,e=this._getDataRange(),n=e.startRow,r=e.startCol,o=e.endRow,i=e.endCol,a=this.options,s=[];return Object(x.rangeEach)(n,o,function(e){var n=[];!a.exportHiddenRows&&t._isHiddenRow(e)||(Object(x.rangeEach)(r,i,function(r){!a.exportHiddenColumns&&t._isHiddenColumn(r)||n.push(t.hot.getDataAtCell(e,r))}),s.push(n))}),s}},{key:"getRowHeaders",value:function(){var t=this,e=[];if(this.options.rowHeaders){var n=this._getDataRange(),r=n.startRow,o=n.endRow,i=this.hot.getRowHeader();Object(x.rangeEach)(r,o,function(n){!t.options.exportHiddenRows&&t._isHiddenRow(n)||e.push(i[n])})}return e}},{key:"getColumnHeaders",value:function(){var t=this,e=[];if(this.options.columnHeaders){var n=this._getDataRange(),r=n.startCol,o=n.endCol,i=this.hot.getColHeader();Object(x.rangeEach)(r,o,function(n){!t.options.exportHiddenColumns&&t._isHiddenColumn(n)||e.push(i[n])})}return e}},{key:"_getDataRange",value:function(){var t=this.hot.countCols()-1,e=this.hot.countRows()-1,n=sl(this.options.range,4),r=n[0],o=void 0===r?0:r,i=n[1],a=void 0===i?0:i,s=n[2],l=void 0===s?e:s,u=n[3],c=void 0===u?t:u;return{startRow:o=Math.max(o,0),startCol:a=Math.max(a,0),endRow:l=Math.min(l,e),endCol:c=Math.min(c,t)}}},{key:"_isHiddenRow",value:function(t){return this.hot.hasHook("hiddenRow")&&this.hot.runHooks("hiddenRow",t)}},{key:"_isHiddenColumn",value:function(t){return this.hot.hasHook("hiddenColumn")&&this.hot.runHooks("hiddenColumn",t)}}])&&ll(e.prototype,n),r&&ll(e,r),t}();n(184);function cl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hl(t,e,n){return e&&cl(t.prototype,e),n&&cl(t,n),t}var fl=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dataProvider=e,this.options=this._mergeOptions(n),this.dataProvider.setOptions(this.options)}return hl(t,null,[{key:"DEFAULT_OPTIONS",get:function(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}}]),hl(t,[{key:"_mergeOptions",value:function(e){var n=Object(M.clone)(this.constructor.DEFAULT_OPTIONS),r=new Date;return n=Object(M.extend)(Object(M.clone)(t.DEFAULT_OPTIONS),n),(n=Object(M.extend)(n,e)).filename=Object(N.substitute)(n.filename,{YYYY:r.getFullYear(),MM:"".concat(r.getMonth()+1).padStart(2,"0"),DD:"".concat(r.getDate()).padStart(2,"0")}),n}}]),t}();function dl(t){return(dl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gl(t,e){return!e||"object"!==dl(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ml(t){return(ml=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vl(t,e){return(vl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yl=String.fromCharCode(13),bl=String.fromCharCode(34),wl=String.fromCharCode(10),Cl=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),gl(this,ml(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vl(t,e)}(e,fl),n=e,o=[{key:"DEFAULT_OPTIONS",get:function(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:"\r\n"}}}],(r=[{key:"export",value:function(){var t=this,e=this.options,n=this.dataProvider.getData(),r=this.dataProvider.getColumnHeaders(),o=r.length>0,i=this.dataProvider.getRowHeaders(),a=i.length>0,s=e.bom?String.fromCharCode(65279):"";return o&&(r=Object(y.arrayMap)(r,function(e){return t._escapeCell(e,!0)}),a&&(s+=e.columnDelimiter),s+=r.join(e.columnDelimiter),s+=e.rowDelimiter),Object(y.arrayEach)(n,function(n,r){r>0&&(s+=e.rowDelimiter),a&&(s+=t._escapeCell(i[r])+e.columnDelimiter),s+=n.map(function(e){return t._escapeCell(e)}).join(e.columnDelimiter)}),s}},{key:"_escapeCell",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(R.stringify)(t);return""!==n&&(e||n.indexOf(yl)>=0||n.indexOf(bl)>=0||n.indexOf(wl)>=0||n.indexOf(this.options.columnDelimiter)>=0)&&(n=n.replace(new RegExp('"',"g"),'""'),n='"'.concat(n,'"')),n}}])&&pl(n.prototype,r),o&&pl(n,o),e}();var Ol,Sl,El,kl=(El=Cl,(Sl="csv")in(Ol={})?Object.defineProperty(Ol,Sl,{value:El,enumerable:!0,configurable:!0,writable:!0}):Ol[Sl]=El,Ol);function Tl(t){return(Tl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xl(t,e){return!e||"object"!==Tl(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ml(t){return(Ml=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Al(t,e){return(Al=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Nl=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),xl(this,Ml(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Al(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!0}},{key:"exportAsString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createTypeFormatter(t,e).export()}},{key:"exportAsBlob",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createBlob(this._createTypeFormatter(t,e))}},{key:"downloadFile",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.hot,r=n.rootDocument,o=n.rootWindow,i=this._createTypeFormatter(t,e),a=this._createBlob(i),s=o.URL||o.webkitURL,l=r.createElement("a"),u="".concat(i.options.filename,".").concat(i.options.fileExtension);if(void 0!==l.download){var c=s.createObjectURL(a);l.style.display="none",l.setAttribute("href",c),l.setAttribute("download",u),r.body.appendChild(l),l.dispatchEvent(new MouseEvent("click")),r.body.removeChild(l),setTimeout(function(){s.revokeObjectURL(c)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(a,u)}},{key:"_createTypeFormatter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!kl[t])throw new Error('Export format type "'.concat(t,'" is not supported.'));return function(t,e,n){return"function"===typeof kl[t]?new kl[t](e,n):null}(t,new ul(this.hot),e)}},{key:"_createBlob",value:function(t){var e=null;return"undefined"!==typeof Blob&&(e=new Blob([t.export()],{type:"".concat(t.options.mimeType,";charset=").concat(t.options.encoding)})),e}}])&&Rl(n.prototype,r),o&&Rl(n,o),e}();Object(D.d)("exportFile",Nl);var _l=Nl;function Pl(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Il(){Object(Wi.b)("Plugins `columnSorting` and `multiColumnSorting` should not be enabled simultaneously.")}var Dl="sort";function Ll(t){return(Ll="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hl(t,e){return!e||"object"!==Ll(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bl(t,e,n){return(Bl="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Fl(t){return(Fl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wl(t,e){return(Wl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Vl="multiColumnSorting";he(Vl,function(t,e){return function(n,r){var o=Pl(n).slice(1),i=Pl(r).slice(1);return function n(r){var a=t[r],s=e[r],l=o[r],u=i[r],c=s.multiColumnSorting,h=(c.compareFunctionFactory?c.compareFunctionFactory:de(s.type))(a,s,c)(l,u);if(h===we){var f=r+1;if("undefined"!==typeof e[f])return n(f)}return h}(0)}});var Ul=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Hl(this,Fl(e).call(this,t))).pluginKey=Vl,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wl(t,e)}(e,Le),n=e,(r=[{key:"isEnabled",value:function(){return Bl(Fl(e.prototype),"isEnabled",this).call(this)}},{key:"enablePlugin",value:function(){return!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings().columnSorting&&Il(),Bl(Fl(e.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){return Bl(Fl(e.prototype),"disablePlugin",this).call(this)}},{key:"sort",value:function(t){return Bl(Fl(e.prototype),"sort",this).call(this,t)}},{key:"clearSort",value:function(){return Bl(Fl(e.prototype),"clearSort",this).call(this)}},{key:"isSorted",value:function(){return Bl(Fl(e.prototype),"isSorted",this).call(this)}},{key:"getSortConfig",value:function(t){return Bl(Fl(e.prototype),"getSortConfig",this).call(this,t)}},{key:"setSortConfig",value:function(t){return Bl(Fl(e.prototype),"setSortConfig",this).call(this,t)}},{key:"getNormalizedSortConfigs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?t:[t]}},{key:"updateHeaderClasses",value:function(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=Bl(Fl(e.prototype),"updateHeaderClasses",this)).call.apply(n,[this,t].concat(o)),Object(v.removeClass)(t,function(t){var e=t.className.split(" "),n=new RegExp("^".concat(Dl,"-[0-9]{1,2}$"));return e.filter(function(t){return n.test(t)})}(t)),!1!==this.enabled&&Object(v.addClass)(t,function(t,e,n){var r=[];return!1===n?r:(t.isColumnSorted(e)&&t.getNumberOfSortedColumns()>1&&r.push("".concat(Dl,"-").concat(t.getIndexOfColumnInSortQueue(e)+1)),r)}.apply(void 0,o))}},{key:"onUpdateSettings",value:function(t){return this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings().columnSorting&&Il(),Bl(Fl(e.prototype),"onUpdateSettings",this).call(this,t)}},{key:"onAfterOnCellMouseDown",value:function(t,e){!1!==Yt(e.row,e.col,t)&&this.wasClickableHeaderClicked(t,e.col)&&(Object(Nt.a)()?(this.hot.deselectCell(),this.hot.selectColumns(e.col),this.sort(this.getNextSortConfig(e.col,"append"))):this.sort(this.getColumnNextConfig(e.col)))}}])&&jl(n.prototype,r),o&&jl(n,o),e}();Object(D.d)(Vl,Ul);var zl,Yl=Ul;n(128);function Gl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xl=function(t,e){return t._states["state_"+e]},Kl=function(t,e,n){t._states["state_"+e]=n},ql=(Gl(zl={},"_states",{}),Gl(zl,"getCachedState",function(t){return Xl(this,t)}),Gl(zl,"setCachedState",function(t,e){Kl(this,t,e)}),Gl(zl,"saveState",function(t){Kl(this,t,this.getState())}),Gl(zl,"restoreState",function(t){this.setState(Xl(this,t))}),Gl(zl,"hasSavedState",function(t){return void 0!==Xl(this,t)}),Gl(zl,"clearState",function(t){Kl(this,t)}),Gl(zl,"clearStates",function(){this._states={}}),zl);Object(M.defineGetter)(ql,"MIXIN_NAME","stateSaver",{writable:!1,enumerable:!1});var $l=ql;function Ql(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Zl=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.elements=[],this.hidden=!1}var e,n,r;return e=t,(n=[{key:"reset",value:function(){Object(y.arrayEach)(this.elements,function(t){return t.reset()})}},{key:"hide",value:function(){this.hidden=!0}},{key:"show",value:function(){this.hidden=!1}},{key:"isHidden",value:function(){return this.hidden}},{key:"destroy",value:function(){this.clearLocalHooks(),Object(y.arrayEach)(this.elements,function(t){return t.destroy()}),this.elements=null,this.hot=null}}])&&Ql(e.prototype,n),r&&Ql(e,r),t}();Object(M.mixin)(Zl,Ze.a),Object(M.mixin)(Zl,$l);var Jl=Zl,tu={};function eu(t,e){if(!tu[t])throw Error('Filter condition "'.concat(t,'" does not exist.'));var n=tu[t],r=n.condition,o=n.descriptor,i=e;return o.inputValuesDecorator&&(i=o.inputValuesDecorator(i)),function(t){return r.apply(t.meta.instance,[].concat([t],[i]))}}function nu(t){if(!tu[t])throw Error('Filter condition "'.concat(t,'" does not exist.'));return tu[t].descriptor}function ru(t,e,n){n.key=t,tu[t]={condition:e,descriptor:n}}ru("none",function(){return!0},{name:nn.FILTERS_CONDITIONS_NONE,inputsCount:0,showOperators:!1});var ou="empty";ru(ou,function(t){return""===t.value||null===t.value||void 0===t.value},{name:nn.FILTERS_CONDITIONS_EMPTY,inputsCount:0,showOperators:!0});function iu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ru("not_empty",function(t,e){return!eu(ou,e)(t)},{name:nn.FILTERS_CONDITIONS_NOT_EMPTY,inputsCount:0,showOperators:!0});var au="eq";ru(au,function(t,e){var n=iu(e,1)[0];return Object(R.stringify)(t.value).toLowerCase()===Object(R.stringify)(n)},{name:nn.FILTERS_CONDITIONS_EQUAL,inputsCount:1,showOperators:!0});function su(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ru("neq",function(t,e){return!eu(au,e)(t)},{name:nn.FILTERS_CONDITIONS_NOT_EQUAL,inputsCount:1,showOperators:!0});function lu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ru("gt",function(t,e){var n=su(e,1)[0];return"numeric"===t.meta.type&&(n=parseFloat(n,10)),t.value>n},{name:nn.FILTERS_CONDITIONS_GREATER_THAN,inputsCount:1,showOperators:!0});function uu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ru("gte",function(t,e){var n=lu(e,1)[0];return"numeric"===t.meta.type&&(n=parseFloat(n,10)),t.value>=n},{name:nn.FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL,inputsCount:1,showOperators:!0});function cu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ru("lt",function(t,e){var n=uu(e,1)[0];return"numeric"===t.meta.type&&(n=parseFloat(n,10)),t.value<n},{name:nn.FILTERS_CONDITIONS_LESS_THAN,inputsCount:1,showOperators:!0});function hu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ru("lte",function(t,e){var n=cu(e,1)[0];return"numeric"===t.meta.type&&(n=parseFloat(n,10)),t.value<=n},{name:nn.FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL,inputsCount:1,showOperators:!0});var fu="date_after";function du(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ru(fu,function(t,e){var n=hu(e,1)[0],r=oe()(t.value,t.meta.dateFormat),o=oe()(n,t.meta.dateFormat);return!(!r.isValid()||!o.isValid())&&r.diff(o)>=0},{name:nn.FILTERS_CONDITIONS_AFTER,inputsCount:1,showOperators:!0});var pu="date_before";function gu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ru(pu,function(t,e){var n=du(e,1)[0],r=oe()(t.value,t.meta.dateFormat),o=oe()(n,t.meta.dateFormat);return!(!r.isValid()||!o.isValid())&&r.diff(o)<=0},{name:nn.FILTERS_CONDITIONS_BEFORE,inputsCount:1,showOperators:!0});var mu="between";ru(mu,function(t,e){var n=gu(e,2),r=n[0],o=n[1];if("numeric"===t.meta.type){var i=parseFloat(r,10),a=parseFloat(o,10);r=Math.min(i,a),o=Math.max(i,a)}else if("date"===t.meta.type){var s=eu(pu,[o]),l=eu(fu,[r]);return s(t)&&l(t)}return t.value>=r&&t.value<=o},{name:nn.FILTERS_CONDITIONS_BETWEEN,inputsCount:2,showOperators:!0});function vu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ru("not_between",function(t,e){return!eu(mu,e)(t)},{name:nn.FILTERS_CONDITIONS_NOT_BETWEEN,inputsCount:2,showOperators:!0});ru("begins_with",function(t,e){var n=vu(e,1)[0];return Object(R.stringify)(t.value).toLowerCase().startsWith(Object(R.stringify)(n))},{name:nn.FILTERS_CONDITIONS_BEGINS_WITH,inputsCount:1,showOperators:!0});n(245);function yu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function bu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ru("ends_with",function(t,e){var n=yu(e,1)[0];return Object(R.stringify)(t.value).toLowerCase().endsWith(Object(R.stringify)(n))},{name:nn.FILTERS_CONDITIONS_ENDS_WITH,inputsCount:1,showOperators:!0});var wu="contains";ru(wu,function(t,e){var n=bu(e,1)[0];return Object(R.stringify)(t.value).toLowerCase().indexOf(Object(R.stringify)(n))>=0},{name:nn.FILTERS_CONDITIONS_CONTAINS,inputsCount:1,showOperators:!0});ru("not_contains",function(t,e){return!eu(wu,e)(t)},{name:nn.FILTERS_CONDITIONS_NOT_CONTAIN,inputsCount:1,showOperators:!0});ru("date_tomorrow",function(t){var e=oe()(t.value,t.meta.dateFormat);return!!e.isValid()&&e.isSame(oe()().subtract(-1,"days").startOf("day"),"d")},{name:nn.FILTERS_CONDITIONS_TOMORROW,inputsCount:0});ru("date_today",function(t){var e=oe()(t.value,t.meta.dateFormat);return!!e.isValid()&&e.isSame(oe()().startOf("day"),"d")},{name:nn.FILTERS_CONDITIONS_TODAY,inputsCount:0});ru("date_yesterday",function(t){var e=oe()(t.value,t.meta.dateFormat);return!!e.isValid()&&e.isSame(oe()().subtract(1,"days").startOf("day"),"d")},{name:nn.FILTERS_CONDITIONS_YESTERDAY,inputsCount:0});Object(k.getComparisonFunction)();function Cu(t,e){var n=t;return""===n&&(n="(".concat(e,")")),n}var Ou=new Set([1]).has(1),Su=Ou&&"function"===typeof Array.from;function Eu(t){var e=t;return Ou&&(e=new Set(e)),function(t){return Ou?e.has(t):!!~e.indexOf(t)}}function ku(t){return null===t||void 0===t?"":t}function Tu(t){var e=t;return e=(e=Su?Array.from(new Set(e)):Object(y.arrayUnique)(e)).sort(function(t,e){return"number"===typeof t&&"number"===typeof e?t-e:t===e?0:t>e?1:-1})}function Ru(t,e,n,r){var o,i=[],a=t===e;return a||(o=Eu(e)),Object(y.arrayEach)(t,function(t){var e=!1;(a||o(t))&&(e=!0);var s={checked:e,value:t,visualValue:Cu(t,n)};r&&r(s),i.push(s)}),i}function xu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ru("by_value",function(t,e){return(0,xu(e,1)[0])(t.value)},{name:"By value",inputsCount:0,inputValuesDecorator:function(t){return[Eu(xu(t,1)[0])]},showOperators:!1});ru("true",function(){return!0},{name:"True"});ru("false",function(){return!1},{name:"False"});var Mu={};function Au(t,e,n){Mu[t]={name:e,func:n}}Au("conjunction",nn.FILTERS_LABELS_CONJUNCTION,function(t,e){return t.every(function(t){return t.func(e)})});Au("disjunction",nn.FILTERS_LABELS_DISJUNCTION,function(t,e){return t.some(function(t){return t.func(e)})});var Nu;function _u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Au("disjunctionWithExtraCondition",nn.FILTERS_LABELS_DISJUNCTION,function(t,e){if(t.length<3)throw Error("Operation doesn't work on less then three conditions.");return t.slice(0,t.length-1).some(function(t){return t.func(e)})&&t[t.length-1].func(e)});var Pu="text",Iu=(_u(Nu={},"numeric",["none",Fe,ou,"not_empty",Fe,au,"neq",Fe,"gt","gte","lt","lte",mu,"not_between"]),_u(Nu,Pu,["none",Fe,ou,"not_empty",Fe,au,"neq",Fe,"begins_with","ends_with",Fe,wu,"not_contains"]),_u(Nu,"date",["none",Fe,ou,"not_empty",Fe,au,"neq",Fe,pu,fu,mu,Fe,"date_tomorrow","date_today","date_yesterday"]),Nu);function Du(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lu(t,e,n){return e&&Du(t.prototype,e),n&&Du(t,n),t}var ju=["click","input","keydown","keypress","keyup","focus","blur","change"],Hu=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.eventManager=new g.a(this),this.options=Object(M.extend)(t.DEFAULTS,n),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName),this.buildState=!1}return Lu(t,null,[{key:"DEFAULTS",get:function(){return Object(M.clone)({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}}]),Lu(t,[{key:"setValue",value:function(t){this.options.value=t,this.update()}},{key:"getValue",value:function(){return this.options.value}},{key:"isBuilt",value:function(){return"built"===this.buildState}},{key:"translateIfPossible",value:function(t){return"string"===typeof t&&t.startsWith(nn.FILTERS_NAMESPACE)?this.hot.getTranslatedPhrase(t):t}},{key:"build",value:function(){var t=this,e=function(e,n){t.eventManager.addEventListener(e,n,function(e){return t.runLocalHooks(n,e,t)})};if(this.buildState||(this.buildState="building"),this.options.className&&Object(v.addClass)(this._element,this.options.className),this.options.children.length)Object(y.arrayEach)(this.options.children,function(e){return t._element.appendChild(e.element)});else if(this.options.wrapIt){var n=this.hot.rootDocument.createElement(this.options.tagName);Object(M.objectEach)(this.options,function(e,r){void 0!==n[r]&&"className"!==r&&"tagName"!==r&&"children"!==r&&(n[r]=t.translateIfPossible(e))}),this._element.appendChild(n),Object(y.arrayEach)(ju,function(t){return e(n,t)})}else Object(y.arrayEach)(ju,function(n){return e(t._element,n)})}},{key:"update",value:function(){}},{key:"reset",value:function(){this.options.value="",this.update()}},{key:"show",value:function(){this.element.style.display=""}},{key:"hide",value:function(){this.element.style.display="none"}},{key:"focus",value:function(){}},{key:"destroy",value:function(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}},{key:"element",get:function(){return"building"===this.buildState?this._element:"built"===this.buildState?(this.update(),this._element):(this.buildState="building",this.build(),this.buildState="built",this._element)}}]),t}();Object(M.mixin)(Hu,Ze.a);var Bu=Hu;function Fu(t){return(Fu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vu(t,e,n){return(Vu="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Uu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Uu(t){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yu(t,e,n){return e&&zu(t.prototype,e),n&&zu(t,n),t}function Gu(t,e){return(Gu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xu=new WeakMap,Ku=function(t){function e(t,n){var r,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,r=!(i=Uu(e).call(this,t,Object(M.extend)(e.DEFAULTS,n)))||"object"!==Fu(i)&&"function"!==typeof i?Wu(o):i,Xu.set(Wu(r),{}),r.registerHooks(),r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gu(t,e)}(e,Bu),Yu(e,null,[{key:"DEFAULTS",get:function(){return Object(M.clone)({placeholder:"",type:"text",tagName:"input"})}}]),Yu(e,[{key:"registerHooks",value:function(){var t=this;this.addLocalHook("click",function(){return t.onClick()}),this.addLocalHook("keyup",function(e){return t.onKeyup(e)})}},{key:"build",value:function(){Vu(Uu(e.prototype),"build",this).call(this);var t=Xu.get(this),n=this.hot.rootDocument.createElement("div");t.input=this._element.firstChild,Object(v.addClass)(this._element,"htUIInput"),Object(v.addClass)(n,"htUIInputIcon"),this._element.appendChild(n),this.update()}},{key:"update",value:function(){if(this.isBuilt()){var t=Xu.get(this).input;t.type=this.options.type,t.placeholder=this.translateIfPossible(this.options.placeholder),t.value=this.translateIfPossible(this.options.value)}}},{key:"focus",value:function(){this.isBuilt()&&Xu.get(this).input.focus()}},{key:"onClick",value:function(){}},{key:"onKeyup",value:function(t){this.options.value=t.target.value}}]),e}();function qu(t){return(qu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qu(t,e,n){return(Qu="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zu(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Zu(t){return(Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ju(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tc(t,e,n){return e&&Ju(t.prototype,e),n&&Ju(t,n),t}function ec(t,e){return(ec=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nc=new WeakMap,rc=function(t){function e(t,n){var r,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,r=!(i=Zu(e).call(this,t,Object(M.extend)(e.DEFAULTS,n)))||"object"!==qu(i)&&"function"!==typeof i?$u(o):i,nc.set($u(r),{}),r.menu=null,r.items=[],r.registerHooks(),r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ec(t,e)}(e,Bu),tc(e,null,[{key:"DEFAULTS",get:function(){return Object(M.clone)({className:"htUISelect",wrapIt:!1})}}]),tc(e,[{key:"registerHooks",value:function(){var t=this;this.addLocalHook("click",function(){return t.onClick()})}},{key:"setItems",value:function(t){this.items=this.translateNames(t),this.menu&&this.menu.setMenuItems(this.items)}},{key:"translateNames",value:function(t){var e=this;return Object(y.arrayEach)(t,function(t){t.name=e.translateIfPossible(t.name)}),t}},{key:"build",value:function(){var t=this;Qu(Zu(e.prototype),"build",this).call(this),this.menu=new Gn(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0}),this.menu.setMenuItems(this.items);var n=new Bu(this.hot,{className:"htUISelectCaption"}),r=new Bu(this.hot,{className:"htUISelectDropdown"}),o=nc.get(this);o.caption=n,o.captionElement=n.element,o.dropdown=r,Object(y.arrayEach)([n,r],function(e){return t._element.appendChild(e.element)}),this.menu.addLocalHook("select",function(e){return t.onMenuSelect(e)}),this.menu.addLocalHook("afterClose",function(){return t.onMenuClosed()}),this.update()}},{key:"update",value:function(){var t;this.isBuilt()&&(t=this.options.value?this.options.value.name:this.menu.hot.getTranslatedPhrase(nn.FILTERS_CONDITIONS_NONE),nc.get(this).captionElement.textContent=t,Qu(Zu(e.prototype),"update",this).call(this))}},{key:"openOptions",value:function(){var t=this.element.getBoundingClientRect();this.menu&&(this.menu.open(),this.menu.setPosition({left:t.left-5,top:t.top,width:t.width,height:t.height}))}},{key:"closeOptions",value:function(){this.menu&&this.menu.close()}},{key:"onMenuSelect",value:function(t){t.name!==Fe&&(this.options.value=t,this.closeOptions(),this.update(),this.runLocalHooks("select",this.options.value))}},{key:"onMenuClosed",value:function(){this.runLocalHooks("afterClose")}},{key:"onClick",value:function(){this.openOptions()}},{key:"destroy",value:function(){this.menu&&(this.menu.destroy(),this.menu=null);var t=nc.get(this),n=t.caption,r=t.dropdown;n&&n.destroy(),r&&r.destroy(),Qu(Zu(e.prototype),"destroy",this).call(this)}}]),e}();function oc(t){return(oc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ic(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ac(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sc(t,e){return!e||"object"!==oc(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lc(t,e,n){return(lc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=uc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function uc(t){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cc(t,e){return(cc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hc=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=sc(this,uc(e).call(this,t))).id=n.id,r.name=n.name,r.addSeparator=n.addSeparator,r.elements.push(new rc(r.hot)),r.elements.push(new Ku(r.hot,{placeholder:nn.FILTERS_BUTTONS_PLACEHOLDER_VALUE})),r.elements.push(new Ku(r.hot,{placeholder:nn.FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE})),r.registerHooks(),r}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cc(t,e)}(e,Jl),n=e,(r=[{key:"registerHooks",value:function(){var t=this;this.getSelectElement().addLocalHook("select",function(e){return t.onConditionSelect(e)}),this.getSelectElement().addLocalHook("afterClose",function(){return t.onSelectUIClosed()}),Object(y.arrayEach)(this.getInputElements(),function(e){e.addLocalHook("keydown",function(e){return t.onInputKeyDown(e)})})}},{key:"setState",value:function(t){var e=this;if(this.reset(),t){var n=Object(M.clone)(t.command);n.name.startsWith(nn.FILTERS_CONDITIONS_NAMESPACE)&&(n.name=this.hot.getTranslatedPhrase(n.name)),this.getSelectElement().setValue(n),Object(y.arrayEach)(t.args,function(t,r){if(r>n.inputsCount-1)return!1;var o=e.getInputElement(r);o.setValue(t),o[n.inputsCount>r?"show":"hide"](),r||setTimeout(function(){return o.focus()},10)})}}},{key:"getState",value:function(){var t=this.getSelectElement().getValue()||nu("none"),e=[];return Object(y.arrayEach)(this.getInputElements(),function(n,r){t.inputsCount>r&&e.push(n.getValue())}),{command:t,args:e}}},{key:"updateState",value:function(t,e){var n=nu(t?t.name:"none");this.setCachedState(e,{command:n,args:t?t.args:[]}),t||Object(y.arrayEach)(this.getInputElements(),function(t){return t.setValue(null)})}},{key:"getSelectElement",value:function(){return this.elements.filter(function(t){return t instanceof rc})[0]}},{key:"getInputElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.getInputElements()[t]}},{key:"getInputElements",value:function(){return this.elements.filter(function(t){return t instanceof Ku})}},{key:"getMenuItemDescriptor",value:function(){var t=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return t.isHidden()},renderer:function(e,n,r,o,i,a){Object(v.addClass)(n.parentNode,"htFiltersMenuCondition"),t.addSeparator&&Object(v.addClass)(n.parentNode,"border");var s=t.hot.rootDocument.createElement("div");return Object(v.addClass)(s,"htFiltersMenuLabel"),s.textContent=a,n.appendChild(s),n.parentNode.hasAttribute("ghost-table")||Object(y.arrayEach)(t.elements,function(t){return n.appendChild(t.element)}),n}}}},{key:"reset",value:function(){var t,n=this.hot.getPlugin("filters").getSelectedColumn(),r=n&&n.visualIndex,o=function(t){var e=[],n=t;return Iu[n]||(n=Pu),Object(y.arrayEach)(Iu[n],function(t){var n;n=t===Fe?{name:Fe}:Object(M.clone)(nu(t)),e.push(n)}),e}((t=this.hot).getDataType.apply(t,ic(this.hot.getSelectedLast()||[0,r])));Object(y.arrayEach)(this.getInputElements(),function(t){return t.hide()}),this.getSelectElement().setItems(o),lc(uc(e.prototype),"reset",this).call(this),this.getSelectElement().setValue(o[0])}},{key:"onConditionSelect",value:function(t){Object(y.arrayEach)(this.getInputElements(),function(e,n){e[t.inputsCount>n?"show":"hide"](),n||setTimeout(function(){return e.focus()},10)}),this.runLocalHooks("change",t)}},{key:"onSelectUIClosed",value:function(){this.runLocalHooks("afterClose")}},{key:"onInputKeyDown",value:function(t){Object(_.isKey)(t.keyCode,"ENTER")?(this.runLocalHooks("accept"),Object(P.stopImmediatePropagation)(t)):Object(_.isKey)(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Object(P.stopImmediatePropagation)(t))}}])&&ac(n.prototype,r),o&&ac(n,o),e}();function fc(t){return(fc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pc(t,e,n){return(pc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function gc(t){return(gc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vc(t,e,n){return e&&mc(t.prototype,e),n&&mc(t,n),t}function yc(t,e){return(yc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bc=new WeakMap,wc=function(t){function e(t,n){var r,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,r=!(i=gc(e).call(this,t,Object(M.extend)(e.DEFAULTS,n)))||"object"!==fc(i)&&"function"!==typeof i?dc(o):i,bc.set(dc(r),{}),r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yc(t,e)}(e,Bu),vc(e,null,[{key:"DEFAULTS",get:function(){return Object(M.clone)({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}}]),vc(e,[{key:"build",value:function(){pc(gc(e.prototype),"build",this).call(this);var t=bc.get(this);t.input=this._element.firstChild;var n=this.hot.rootDocument.createElement("label");n.textContent=this.translateIfPossible(this.options.label.textContent),n.htmlFor=this.translateIfPossible(this.options.label.htmlFor),t.label=n,this._element.appendChild(n),this.update()}},{key:"update",value:function(){if(this.isBuilt()){var t=bc.get(this);t.input.checked=this.options.checked,t.label.textContent=this.translateIfPossible(this.options.label.textContent)}}},{key:"isChecked",value:function(){return this.options.checked}},{key:"setChecked",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.checked=t,this.update()}},{key:"focus",value:function(){this.isBuilt()&&bc.get(this).input.focus()}}]),e}();function Cc(t){return(Cc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oc(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["Radio button with index "," doesn't exist."]);return Oc=function(){return t},t}function Sc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ec(t,e){return!e||"object"!==Cc(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kc(t){return(kc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tc(t,e){return(Tc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rc=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Ec(this,kc(e).call(this,t))).id=n.id,r.name=n.name,r.buildOperatorsElement(),r}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tc(t,e)}(e,Jl),n=e,(r=[{key:"getMenuItemDescriptor",value:function(){var t=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return t.isHidden()},renderer:function(e,n){return Object(v.addClass)(n.parentNode,"htFiltersMenuOperators"),n.parentNode.hasAttribute("ghost-table")||Object(y.arrayEach)(t.elements,function(t){return n.appendChild(t.element)}),n}}}},{key:"buildOperatorsElement",value:function(){var t=this,e=["conjunction","disjunction"];Object(y.arrayEach)(e,function(n){var r,o=new wc(t.hot,{name:"operator",label:{htmlFor:n,textContent:(r=n,Mu[r].name)},value:n,checked:n===e[0],id:n});o.addLocalHook("change",function(e){return t.onRadioInputChange(e)}),t.elements.push(o)})}},{key:"setChecked",value:function(t){if(this.elements.length<t)throw Error(Object(Pi.a)(Oc(),t));Object(y.arrayEach)(this.elements,function(e,n){e.setChecked(n===t)})}},{key:"getActiveOperationId",value:function(){var t=this.elements.find(function(t){return t instanceof wc&&t.isChecked()});return t?t.getValue():"conjunction"}},{key:"getState",value:function(){return this.getActiveOperationId()}},{key:"setState",value:function(t){this.reset(),t&&this.getActiveOperationId()!==t&&Object(y.arrayEach)(this.elements,function(e){e.setChecked(e.getValue()===t)})}},{key:"updateState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"conjunction",e=arguments.length>1?arguments[1]:void 0,n=t;"disjunctionWithExtraCondition"===n&&(n="disjunction"),this.setCachedState(e,n)}},{key:"reset",value:function(){this.setChecked(0)}},{key:"onRadioInputChange",value:function(t){this.setState(t.realTarget.value)}}])&&Sc(n.prototype,r),o&&Sc(n,o),e}();n(246);function xc(t){return(xc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ac(t,e,n){return(Ac="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Nc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Nc(t){return(Nc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pc(t,e,n){return e&&_c(t.prototype,e),n&&_c(t,n),t}function Ic(t,e){return(Ic=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dc=new WeakMap,Lc=function(t){function e(t,n){var r,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,r=!(i=Nc(e).call(this,t,Object(M.extend)(e.DEFAULTS,n)))||"object"!==xc(i)&&"function"!==typeof i?Mc(o):i,Dc.set(Mc(r),{}),r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ic(t,e)}(e,Bu),Pc(e,null,[{key:"DEFAULTS",get:function(){return Object(M.clone)({href:"#",tagName:"a"})}}]),Pc(e,[{key:"build",value:function(){Ac(Nc(e.prototype),"build",this).call(this),Dc.get(this).link=this._element.firstChild}},{key:"update",value:function(){this.isBuilt()&&(Dc.get(this).link.textContent=this.translateIfPossible(this.options.textContent))}}]),e}();function jc(t){return(jc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hc(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Bc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fc(t,e,n){return(Fc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Wc(t){return(Wc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uc(t,e,n){return e&&Vc(t.prototype,e),n&&Vc(t,n),t}function zc(t,e){return(zc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yc=new WeakMap,Gc=function(t){function e(t,n){var r,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,r=!(i=Wc(e).call(this,t,Object(M.extend)(e.DEFAULTS,n)))||"object"!==jc(i)&&"function"!==typeof i?Bc(o):i,Yc.set(Bc(r),{}),r.searchInput=new Ku(r.hot,{placeholder:nn.FILTERS_BUTTONS_PLACEHOLDER_SEARCH,className:"htUIMultipleSelectSearch"}),r.selectAllUI=new Lc(r.hot,{textContent:nn.FILTERS_BUTTONS_SELECT_ALL,className:"htUISelectAll"}),r.clearAllUI=new Lc(r.hot,{textContent:nn.FILTERS_BUTTONS_CLEAR,className:"htUIClearAll"}),r.items=[],r.itemsBox=null,r.registerHooks(),r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zc(t,e)}(e,Bu),Uc(e,null,[{key:"DEFAULTS",get:function(){return Object(M.clone)({className:"htUIMultipleSelect",value:[]})}}]),Uc(e,[{key:"registerHooks",value:function(){var t=this;this.searchInput.addLocalHook("keydown",function(e){return t.onInputKeyDown(e)}),this.searchInput.addLocalHook("input",function(e){return t.onInput(e)}),this.selectAllUI.addLocalHook("click",function(e){return t.onSelectAllClick(e)}),this.clearAllUI.addLocalHook("click",function(e){return t.onClearAllClick(e)})}},{key:"setItems",value:function(t){this.items=t,this.itemsBox&&this.itemsBox.loadData(this.items)}},{key:"getItems",value:function(){return Hc(this.items)}},{key:"getValue",value:function(){return function(t){var e=[];return Object(y.arrayEach)(t,function(t){t.checked&&e.push(t.value)}),e}(this.items)}},{key:"isSelectedAllValues",value:function(){return this.items.length===this.getValue().length}},{key:"build",value:function(){var t=this;Fc(Wc(e.prototype),"build",this).call(this);var n=this.hot.rootDocument,r=n.createElement("div"),o=new Bu(this.hot,{className:"htUISelectionControls",children:[this.selectAllUI,this.clearAllUI]});this._element.appendChild(this.searchInput.element),this._element.appendChild(o.element),this._element.appendChild(r);var i=function(e){t._element&&(t.itemsBox&&t.itemsBox.destroy(),Object(v.addClass)(e,"htUIMultipleSelectHot"),t.itemsBox=new t.hot.constructor(e,{data:t.items,columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:function(t,e,n,r,o,i){t.title=i.instance.getDataAtRowProp(e,i.label.property)},autoWrapCol:!0,height:110,colWidths:function(){return t.itemsBox.container.scrollWidth-Object(v.getScrollbarWidth)(n)},copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},beforeKeyDown:function(e){return t.onItemsBoxBeforeKeyDown(e)}}),t.itemsBox.init())};i(r),setTimeout(function(){return i(r)},100)}},{key:"reset",value:function(){this.searchInput.reset(),this.selectAllUI.reset(),this.clearAllUI.reset()}},{key:"update",value:function(){this.isBuilt()&&(this.itemsBox.loadData(function(t,e){var n=Eu(e);return Object(y.arrayMap)(t,function(t){return t.checked=n(t.value),t})}(this.items,this.options.value)),Fc(Wc(e.prototype),"update",this).call(this))}},{key:"destroy",value:function(){this.itemsBox&&this.itemsBox.destroy(),this.searchInput.destroy(),this.clearAllUI.destroy(),this.selectAllUI.destroy(),this.searchInput=null,this.clearAllUI=null,this.selectAllUI=null,this.itemsBox=null,this.items=null,Fc(Wc(e.prototype),"destroy",this).call(this)}},{key:"onInput",value:function(t){var e,n=t.target.value.toLowerCase();e=""===n?Hc(this.items):Object(y.arrayFilter)(this.items,function(t){return"".concat(t.value).toLowerCase().indexOf(n)>=0}),this.itemsBox.loadData(e)}},{key:"onInputKeyDown",value:function(t){this.runLocalHooks("keydown",t,this),Object(T.partial)(_.isKey,t.keyCode)("ARROW_DOWN|TAB")&&!this.itemsBox.isListening()&&(Object(P.stopImmediatePropagation)(t),this.itemsBox.listen(),this.itemsBox.selectCell(0,0))}},{key:"onItemsBoxBeforeKeyDown",value:function(t){var e=Object(T.partial)(_.isKey,t.keyCode);e("ESCAPE")&&this.runLocalHooks("keydown",t,this),e("ARROW_UP|ARROW_DOWN|ARROW_LEFT|ARROW_RIGHT|TAB|SPACE|ENTER")||(Object(P.stopImmediatePropagation)(t),this.itemsBox.unlisten(),this.itemsBox.deselectCell(),this.searchInput.focus())}},{key:"onSelectAllClick",value:function(t){t.preventDefault(),Object(y.arrayEach)(this.itemsBox.getSourceData(),function(t){t.checked=!0}),this.itemsBox.render()}},{key:"onClearAllClick",value:function(t){t.preventDefault(),Object(y.arrayEach)(this.itemsBox.getSourceData(),function(t){t.checked=!1}),this.itemsBox.render()}}]),e}();function Xc(t){return(Xc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $c(t,e){return!e||"object"!==Xc(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qc(t,e,n){return(Qc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zc(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Zc(t){return(Zc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jc(t,e){return(Jc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var th=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=$c(this,Zc(e).call(this,t))).id=n.id,r.name=n.name,r.elements.push(new Gc(r.hot)),r.registerHooks(),r}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jc(t,e)}(e,Jl),n=e,(r=[{key:"registerHooks",value:function(){var t=this;this.getMultipleSelectElement().addLocalHook("keydown",function(e){return t.onInputKeyDown(e)})}},{key:"setState",value:function(t){if(this.reset(),t&&"by_value"===t.command.key){var e=this.getMultipleSelectElement();e.setItems(t.itemsSnapshot),e.setValue(t.args[0])}}},{key:"getState",value:function(){var t=this.getMultipleSelectElement(),e=t.getItems();return{command:{key:t.isSelectedAllValues()||!e.length?"none":"by_value"},args:[t.getValue()],itemsSnapshot:e}}},{key:"updateState",value:function(t){var e=this,n=function(t,n,r,o,i){var a=Kc(Object(y.arrayFilter)(n,function(t){return"by_value"===t.name}),1)[0],s={},l=e.hot.getTranslatedPhrase(nn.FILTERS_VALUES_BLANK_CELLS);if(a){var u=Object(y.arrayMap)(o(t,i),function(t){return t.value});u=Tu(u),r&&(a.args[0]=r);var c=[],h=Ru(u,a.args[0],l,function(t){t.checked&&c.push(t.value)});s.args=[c],s.command=nu("by_value"),s.itemsSnapshot=h}else s.args=[],s.command=nu("none");e.setCachedState(t,s)};n(t.editedConditionStack.column,t.editedConditionStack.conditions,t.conditionArgsChange,t.filteredRowsFactory),t.dependentConditionStacks.length&&n(t.dependentConditionStacks[0].column,t.dependentConditionStacks[0].conditions,t.conditionArgsChange,t.filteredRowsFactory,t.editedConditionStack)}},{key:"getMultipleSelectElement",value:function(){return this.elements.filter(function(t){return t instanceof Gc})[0]}},{key:"getMenuItemDescriptor",value:function(){var t=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return t.isHidden()},renderer:function(e,n,r,o,i,a){Object(v.addClass)(n.parentNode,"htFiltersMenuValue");var s=t.hot.rootDocument.createElement("div");return Object(v.addClass)(s,"htFiltersMenuLabel"),s.textContent=a,n.appendChild(s),n.parentNode.hasAttribute("ghost-table")||Object(y.arrayEach)(t.elements,function(t){return n.appendChild(t.element)}),n}}}},{key:"reset",value:function(){var t=this.hot.getTranslatedPhrase(nn.FILTERS_VALUES_BLANK_CELLS),n=Tu(this._getColumnVisibleValues()),r=Ru(n,n,t);this.getMultipleSelectElement().setItems(r),Qc(Zc(e.prototype),"reset",this).call(this),this.getMultipleSelectElement().setValue(n)}},{key:"onInputKeyDown",value:function(t){Object(_.isKey)(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Object(P.stopImmediatePropagation)(t))}},{key:"_getColumnVisibleValues",value:function(){var t=this.hot.getPlugin("filters").getSelectedColumn(),e=t&&t.visualIndex;return Object(y.arrayMap)(this.hot.getDataAtCol(e),function(t){return ku(t)})}}])&&qc(n.prototype,r),o&&qc(n,o),e}();function eh(t){return(eh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nh(t,e){return!e||"object"!==eh(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rh(t){return(rh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function oh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ih(t,e,n){return e&&oh(t.prototype,e),n&&oh(t,n),t}function ah(t,e){return(ah=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sh=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=nh(this,rh(e).call(this,t))).id=n.id,r.name=n.name,r.elements.push(new Ku(r.hot,{type:"button",value:nn.FILTERS_BUTTONS_OK,className:"htUIButton htUIButtonOK",identifier:e.BUTTON_OK})),r.elements.push(new Ku(r.hot,{type:"button",value:nn.FILTERS_BUTTONS_CANCEL,className:"htUIButton htUIButtonCancel",identifier:e.BUTTON_CANCEL})),r.registerHooks(),r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ah(t,e)}(e,Jl),ih(e,null,[{key:"BUTTON_OK",get:function(){return"ok"}},{key:"BUTTON_CANCEL",get:function(){return"cancel"}}]),ih(e,[{key:"registerHooks",value:function(){var t=this;Object(y.arrayEach)(this.elements,function(e){e.addLocalHook("click",function(e,n){return t.onButtonClick(e,n)})})}},{key:"getMenuItemDescriptor",value:function(){var t=this;return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:function(){return t.isHidden()},renderer:function(e,n){return Object(v.addClass)(n.parentNode,"htFiltersMenuActionBar"),n.parentNode.hasAttribute("ghost-table")||Object(y.arrayEach)(t.elements,function(t){return n.appendChild(t.element)}),n}}}},{key:"accept",value:function(){this.runLocalHooks("accept")}},{key:"cancel",value:function(){this.runLocalHooks("cancel")}},{key:"onButtonClick",value:function(t,n){n.options.identifier===e.BUTTON_OK?this.accept():this.cancel()}}]),e}();function lh(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["The column of index "," has been already applied with a `","`\n        filter operation. Use `removeConditions` to clear the current conditions and then add new ones.\n        Mind that you cannot mix different types of operations (for instance, if you use `conjunction`,\n        use it consequently for a particular column)."],["The column of index "," has been already applied with a \\`","\\`\n        filter operation. Use \\`removeConditions\\` to clear the current conditions and then add new ones.\n        Mind that you cannot mix different types of operations (for instance, if you use \\`conjunction\\`,\n        use it consequently for a particular column)."]);return lh=function(){return t},t}function uh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ch=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.conditions=this.initConditionsCollection(),this.columnTypes={},this.orderStack=[]}var e,n,r;return e=t,(n=[{key:"isEmpty",value:function(){return!this.orderStack.length}},{key:"isMatch",value:function(t,e){var n=this,r=!0;if(void 0===e)Object(M.objectEach)(this.columnTypes,function(e,o){return r=n.isMatchInConditions(n.conditions[e][o],t,e)});else{var o=this.columnTypes[e];r=this.isMatchInConditions(this.getConditions(e),t,o)}return r}},{key:"isMatchInConditions",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"conjunction";return!t.length||function(t){if(!Mu[t])throw Error('Operation with id "'.concat(t,'" does not exist.'));var e=Mu[t].func;return function(t,n){return e(t,n)}}(n)(t,e)}},{key:"addCondition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"conjunction",r=Object(y.arrayMap)(e.args,function(t){return"string"===typeof t?t.toLowerCase():t}),o=e.name||e.command.key;this.runLocalHooks("beforeAdd",t),-1===this.orderStack.indexOf(t)&&this.orderStack.push(t);var i=this.columnTypes[t];if(i){if(i!==n)throw Error(Object(Pi.a)(lh(),t,i))}else{if(!this.conditions[n])throw new Error("Unexpected operation named `".concat(n,"`. Possible ones are `disjunction` and `conjunction`."));this.columnTypes[t]=n}this.getConditions(t).push({name:o,args:r,func:eu(o,r)}),this.runLocalHooks("afterAdd",t)}},{key:"getConditions",value:function(t){var e=this.columnTypes[t];return e?(this.conditions[e][t]||(this.conditions[e][t]=[]),this.conditions[e][t]):[]}},{key:"exportAllConditions",value:function(){var t=this,e=[];return Object(y.arrayEach)(this.orderStack,function(n){var r=Object(y.arrayMap)(t.getConditions(n),function(t){return{name:t.name,args:t.args}}),o=t.columnTypes[n];e.push({column:n,operation:o,conditions:r})}),e}},{key:"importAllConditions",value:function(t){var e=this;this.clean(),Object(y.arrayEach)(t,function(t){e.orderStack.push(t.column),Object(y.arrayEach)(t.conditions,function(n){return e.addCondition(t.column,n)})})}},{key:"removeConditions",value:function(t){this.runLocalHooks("beforeRemove",t),this.orderStack.indexOf(t)>=0&&this.orderStack.splice(this.orderStack.indexOf(t),1),this.clearConditions(t),this.runLocalHooks("afterRemove",t)}},{key:"clearConditions",value:function(t){this.runLocalHooks("beforeClear",t),this.getConditions(t).length=0,delete this.columnTypes[t],this.runLocalHooks("afterClear",t)}},{key:"hasConditions",value:function(t,e){if(!this.columnTypes[t])return!1;var n=this.getConditions(t);return e?Object(y.arrayFilter)(n,function(t){return t.name===e}).length>0:n.length>0}},{key:"clean",value:function(){this.runLocalHooks("beforeClean"),this.columnTypes=Object.create(null),this.orderStack.length=0,this.conditions=this.initConditionsCollection(),this.runLocalHooks("afterClean")}},{key:"destroy",value:function(){this.clearLocalHooks(),this.conditions=null,this.orderStack=null,this.columnTypes=null}},{key:"initConditionsCollection",value:function(){var t=Object.create(null);return Object(M.objectEach)(Mu,function(e,n){t[n]=Object.create(null)}),t}}])&&uh(e.prototype,n),r&&uh(e,r),t}();Object(M.mixin)(ch,Ze.a);var hh=ch;function fh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var dh=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return[]};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.conditionCollection=e,this.columnDataFactory=n}var e,n,r;return e=t,(n=[{key:"filter",value:function(){var t=this,e=[];return this.conditionCollection.isEmpty()||Object(y.arrayEach)(this.conditionCollection.orderStack,function(n,r){var o=t.columnDataFactory(n);r&&(o=t._getIntersectData(o,e)),e=t.filterByColumn(n,o)}),e}},{key:"filterByColumn",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return Object(y.arrayEach)(n,function(n){void 0!==n&&e.conditionCollection.isMatch(n,t)&&r.push(n)}),r}},{key:"_getIntersectData",value:function(t,e){var n=[];return Object(y.arrayEach)(e,function(e){var r=e.meta.visualRow;void 0!==t[r]&&(n[r]=t[r])}),n}}])&&fh(e.prototype,n),r&&fh(e,r),t}();function ph(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var gh=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return[]};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.conditionCollection=e,this.columnDataFactory=r,this.changes=[],this.grouping=!1,this.latestEditedColumnPosition=-1,this.latestOrderStack=[],this.conditionCollection.addLocalHook("beforeRemove",function(t){return n._onConditionBeforeModify(t)}),this.conditionCollection.addLocalHook("afterAdd",function(t){return n.updateStatesAtColumn(t)}),this.conditionCollection.addLocalHook("afterClear",function(t){return n.updateStatesAtColumn(t)}),this.conditionCollection.addLocalHook("beforeClean",function(){return n._onConditionBeforeClean()}),this.conditionCollection.addLocalHook("afterClean",function(){return n._onConditionAfterClean()})}var e,n,r;return e=t,(n=[{key:"groupChanges",value:function(){this.grouping=!0}},{key:"flush",value:function(){var t=this;this.grouping=!1,Object(y.arrayEach)(this.changes,function(e){t.updateStatesAtColumn(e)}),this.changes.length=0}},{key:"_onConditionBeforeModify",value:function(t){this.latestEditedColumnPosition=this.conditionCollection.orderStack.indexOf(t)}},{key:"updateStatesAtColumn",value:function(t,e){var n=this;if(this.grouping)-1===this.changes.indexOf(t)&&this.changes.push(t);else{var r=this.conditionCollection.exportAllConditions(),o=this.conditionCollection.orderStack.indexOf(t);-1===o&&(o=this.latestEditedColumnPosition);var i=r.slice(0,o),a=r.slice(o);a.length&&a[0].column===t&&a.shift();var s=Object(T.curry)(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=new hh,i=[].concat(t,r);o.importAllConditions(i);var a,s=n.columnDataFactory(e);a=o.isEmpty()?s:new dh(o,function(t){return n.columnDataFactory(t)}).filter();var l=Eu(a=Object(y.arrayMap)(a,function(t){return t.meta.visualRow}));return Object(y.arrayFilter)(s,function(t){return l(t.meta.visualRow)})})(i),l=[].concat(this.conditionCollection.getConditions(t));this.runLocalHooks("update",{editedConditionStack:{column:t,conditions:l},dependentConditionStacks:a,filteredRowsFactory:s,conditionArgsChange:e})}}},{key:"_onConditionBeforeClean",value:function(){this.latestOrderStack=[].concat(this.conditionCollection.orderStack)}},{key:"_onConditionAfterClean",value:function(){var t=this;Object(y.arrayEach)(this.latestOrderStack,function(e){t.updateStatesAtColumn(e)})}},{key:"destroy",value:function(){var t=this;this.clearLocalHooks(),Object(M.objectEach)(this,function(e,n){t[n]=null})}}])&&ph(e.prototype,n),r&&ph(e,r),t}();Object(M.mixin)(gh,Ze.a);var mh=gh;function vh(t){return(vh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yh(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["The filter conditions have been applied properly, but couldn\u2019t be displayed visually.\n        The overall amount of conditions exceed the capability of the dropdown menu.\n        For more details see the documentation."]);return yh=function(){return t},t}function bh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function wh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ch(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oh(t,e,n){return(Oh="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sh(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Sh(t){return(Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Eh(t,e){return(Eh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var kh=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o=Sh(e).call(this,t),(n=!o||"object"!==vh(o)&&"function"!==typeof o?Ch(r):o).eventManager=new g.a(Ch(n)),n.trimRowsPlugin=null,n.dropdownMenuPlugin=null,n.conditionCollection=null,n.conditionUpdateObserver=null,n.components=new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]]),n.lastSelectedColumn=null,n.hiddenRowsCache=new Map,n.hot.addHook("afterGetColHeader",function(t,e){return n.onAfterGetColHeader(t,e)}),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Eh(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().filters}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){this.trimRowsPlugin=this.hot.getPlugin("trimRows"),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");var n=function(e){return e.addLocalHook("accept",function(){return t.onActionBarSubmit("accept")}),e.addLocalHook("cancel",function(){return t.onActionBarSubmit("cancel")}),e.addLocalHook("change",function(n){return t.onComponentChange(e,n)}),e};if(!this.components.get("filter_by_condition")){var r=new hc(this.hot,{id:"filter_by_condition",name:function(){return"".concat(t.hot.getTranslatedPhrase(nn.FILTERS_DIVS_FILTER_BY_CONDITION),":")},addSeparator:!1});r.addLocalHook("afterClose",function(){return t.onSelectUIClosed()}),this.components.set("filter_by_condition",n(r))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new Rc(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){var o=new hc(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0});o.addLocalHook("afterClose",function(){return t.onSelectUIClosed()}),this.components.set("filter_by_condition2",n(o))}this.components.get("filter_by_value")||this.components.set("filter_by_value",n(new th(this.hot,{id:"filter_by_value",name:function(){return"".concat(t.hot.getTranslatedPhrase(nn.FILTERS_DIVS_FILTER_BY_VALUE),":")}}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",n(new sh(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new hh),this.conditionUpdateObserver||(this.conditionUpdateObserver=new mh(this.conditionCollection,function(e){return t.getDataMapAtColumn(e)}),this.conditionUpdateObserver.addLocalHook("update",function(e){return t.updateComponents(e)})),this.components.forEach(function(t){t.show()}),this.registerEvents(),this.addHook("beforeDropdownMenuSetItems",function(e){return t.onBeforeDropdownMenuSetItems(e)}),this.addHook("afterDropdownMenuDefaultOptions",function(e){return t.onAfterDropdownMenuDefaultOptions(e)}),this.addHook("afterDropdownMenuShow",function(){return t.onAfterDropdownMenuShow()}),this.addHook("afterDropdownMenuHide",function(){return t.onAfterDropdownMenuHide()}),this.addHook("afterChange",function(e){return t.onAfterChange(e)}),this.hot.getSettings().trimRows=!0,this.trimRowsPlugin.enablePlugin(),this.hot.getSettings().dropdownMenu&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),Oh(Sh(e.prototype),"enablePlugin",this).call(this)}}},{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(this.hot.rootElement,"click",function(e){return t.onTableClick(e)})}},{key:"disablePlugin",value:function(){this.enabled&&(this.dropdownMenuPlugin.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach(function(t){t.hide()}),this.conditionCollection.clean(),this.trimRowsPlugin.untrimAll()),Oh(Sh(e.prototype),"disablePlugin",this).call(this)}},{key:"addCondition",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"conjunction",o=this.t.toPhysicalColumn(t);this.conditionCollection.addCondition(o,{command:{key:e},args:n},r)}},{key:"removeConditions",value:function(t){var e=this.t.toPhysicalColumn(t);this.conditionCollection.removeConditions(e)}},{key:"clearConditions",value:function(t){if(void 0===t)this.conditionCollection.clean();else{var e=this.t.toPhysicalColumn(t);this.conditionCollection.clearConditions(e)}}},{key:"filter",value:function(){var t=this._createDataFilter(),e=!this.conditionCollection.isEmpty(),n=[],r=this.conditionCollection.exportAllConditions();if(!1!==this.hot.runHooks("beforeFilter",r))if(e){var o=[];this.trimRowsPlugin.trimmedRows.length=0;var i=Eu(n=Object(y.arrayMap)(t.filter(),function(t){return t.meta.visualRow}));Object(x.rangeEach)(this.hot.countSourceRows()-1,function(t){i(t)||o.push(t)}),this.trimRowsPlugin.trimRows(o),n.length||this.hot.deselectCell()}else this.trimRowsPlugin.untrimAll();this.hot.view.wt.wtOverlays.adjustElementsSize(!0),this.hot.render(),this.clearColumnSelection(),this.hot.runHooks("afterFilter",r)}},{key:"getSelectedColumn",value:function(){return this.lastSelectedColumn}},{key:"clearColumnSelection",value:function(){var t=bh(this.hot.getSelectedLast()||[],2),e=t[0],n=t[1];void 0!==e&&void 0!==n&&this.hot.selectCell(e,n)}},{key:"getDataMapAtColumn",value:function(t){var e=this,n=this.t.toVisualColumn(t),r=[];return Object(y.arrayEach)(this.hot.getSourceDataAtCol(n),function(t,o){var i=e.hot.getCellMeta(o,n),a=i.row,s=i.col,l=i.visualCol,u=i.visualRow,c=i.type,h=i.instance,f=i.dateFormat;r.push({meta:{row:a,col:s,visualCol:l,visualRow:u,type:c,instance:h,dateFormat:f},value:ku(t)})}),r}},{key:"onAfterChange",value:function(t){var e=this;t&&Object(y.arrayEach)(t,function(t){var n=bh(t,2)[1],r=e.hot.propToCol(n);e.conditionCollection.hasConditions(r)&&e.updateValueComponentCondition(r)})}},{key:"updateValueComponentCondition",value:function(t){var e=Tu(this.hot.getDataAtCol(t));this.conditionUpdateObserver.updateStatesAtColumn(t,e)}},{key:"restoreComponents",value:function(t){var e=this.getSelectedColumn(),n=e&&e.physicalIndex;t.forEach(function(t){!1===t.isHidden()&&t.restoreState(n)})}},{key:"onAfterDropdownMenuShow",value:function(){this.restoreComponents([this.components.get("filter_by_condition"),this.components.get("filter_operators"),this.components.get("filter_by_condition2"),this.components.get("filter_by_value")])}},{key:"onAfterDropdownMenuHide",value:function(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}},{key:"onBeforeDropdownMenuSetItems",value:function(t){var e=Object(y.arrayMap)(t,function(t){return t.key});this.components.forEach(function(t){t[-1===e.indexOf(t.getMenuItemDescriptor().key)?"hide":"show"]()}),this.initHiddenRowsCache()}},{key:"onAfterDropdownMenuDefaultOptions",value:function(t){t.items.push({name:Fe}),this.components.forEach(function(e){t.items.push(e.getMenuItemDescriptor())})}},{key:"getOperationBasedOnArguments",value:function(t,e,n,r){var o=t;return"disjunction"===o&&"none"!==e.command.key&&"none"!==n.command.key&&"none"!==r.command.key?o="disjunctionWithExtraCondition":"none"!==r.command.key&&("none"!==e.command.key&&"none"!==n.command.key||(o="conjunction")),o}},{key:"onActionBarSubmit",value:function(t){if("accept"===t){var e=this.getSelectedColumn(),n=e&&e.physicalIndex,r=this.components.get("filter_by_condition").getState(),o=this.components.get("filter_by_condition2").getState(),i=this.components.get("filter_by_value").getState(),a=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),r,o,i);this.conditionUpdateObserver.groupChanges(),this.conditionCollection.clearConditions(n),"none"===r.command.key&&"none"===o.command.key&&"none"===i.command.key?this.conditionCollection.removeConditions(n):("none"!==r.command.key&&(this.conditionCollection.addCondition(n,r,a),"none"!==o.command.key&&this.conditionCollection.addCondition(n,o,a)),"none"!==i.command.key&&this.conditionCollection.addCondition(n,i,a)),this.conditionUpdateObserver.flush(),this.components.get("filter_operators").saveState(n),this.components.get("filter_by_value").saveState(n),this.saveHiddenRowsCache(n),this.trimRowsPlugin.trimmedRows.length=0,this.filter()}this.dropdownMenuPlugin.close()}},{key:"onComponentChange",value:function(t,e){t===this.components.get("filter_by_condition")&&(e.showOperators?this.showComponents(this.components.get("filter_by_condition2"),this.components.get("filter_operators")):this.hideComponents(this.components.get("filter_by_condition2"),this.components.get("filter_operators"))),t.constructor!==hc||e.inputsCount||this.setListeningDropdownMenu()}},{key:"onSelectUIClosed",value:function(){this.setListeningDropdownMenu()}},{key:"setListeningDropdownMenu",value:function(){this.dropdownMenuPlugin.setListening()}},{key:"onAfterGetColHeader",value:function(t,e){var n=this.t.toPhysicalColumn(t);this.enabled&&this.conditionCollection.hasConditions(n)?Object(v.addClass)(e,"htFiltersActive"):Object(v.removeClass)(e,"htFiltersActive")}},{key:"onTableClick",value:function(t){var e=Object(v.closest)(t.target,"TH");if(e){var n=this.hot.getCoords(e).col,r=this.t.toPhysicalColumn(n);this.lastSelectedColumn={visualIndex:n,physicalIndex:r}}}},{key:"destroy",value:function(){this.enabled&&(this.components.forEach(function(t){t.destroy()}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hiddenRowsCache.clear(),this.trimRowsPlugin.disablePlugin()),Oh(Sh(e.prototype),"destroy",this).call(this)}},{key:"_createDataFilter",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.conditionCollection;return new dh(e,function(e){return t.getDataMapAtColumn(e)})}},{key:"updateComponents",value:function(t){if(this.dropdownMenuPlugin.enabled){var e=t.editedConditionStack.conditions,n=t.editedConditionStack.column,r=e.filter(function(t){return"by_value"===t.name}),o=e.filter(function(t){return"by_value"!==t.name}),i=this.conditionCollection.columnTypes[n];2===r.length||3===o.length?Object(Wi.b)(Object(Pi.a)(yh())):(o.length>0&&this.showComponentForParticularColumn(this.components.get("filter_operators"),n),this.components.get("filter_by_condition").updateState(o[0],n),this.components.get("filter_by_condition2").updateState(o[1],n),this.components.get("filter_by_value").updateState(t),this.components.get("filter_operators").updateState(i,n))}}},{key:"showComponentForParticularColumn",value:function(t,e){if(this.hiddenRowsCache.has(e)){var n=this.getIndexesOfComponents(t);this.removeIndexesFromHiddenRowsCache(e,n)}else this.hiddenRowsCache.set(e,[])}},{key:"removeIndexesFromHiddenRowsCache",value:function(t,e){var n=this.hiddenRowsCache.get(t);Object(y.arrayEach)(e,function(t){n.includes(t)&&n.splice(n.indexOf(t),1)})}},{key:"getIndexesOfComponents",value:function(){for(var t=this.dropdownMenuPlugin.menu,e=[],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Object(y.arrayEach)(r,function(n){Object(y.arrayEach)(t.menuItems,function(t,r){t.key===n.getMenuItemDescriptor().key&&e.push(r)})}),e}},{key:"changeComponentsVisibility",value:function(){for(var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.dropdownMenuPlugin.menu.hotMenu,n=e.getPlugin("hiddenRows"),r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=this.getIndexesOfComponents.apply(this,o);t?n.showRows(a):n.hideRows(a),e.render()}},{key:"initHiddenRowsCache",value:function(){var t=this;this.dropdownMenuPlugin.menu.addLocalHook("afterOpen",function(){var e=t.lastSelectedColumn.physicalIndex;t.hiddenRowsCache.has(e)||t.hiddenRowsCache.set(e,t.getIndexesOfComponents(t.components.get("filter_operators"),t.components.get("filter_by_condition2"))),t.dropdownMenuPlugin.menu.hotMenu.updateSettings({hiddenRows:{rows:t.hiddenRowsCache.get(e)}})})}},{key:"saveHiddenRowsCache",value:function(t){this.hiddenRowsCache.set(t,this.dropdownMenuPlugin.menu.hotMenu.getPlugin("hiddenRows").hiddenRows)}},{key:"hideComponents",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.changeComponentsVisibility.apply(this,[!1].concat(e))}},{key:"showComponents",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.changeComponentsVisibility.apply(this,[!0].concat(e))}}])&&wh(n.prototype,r),o&&wh(n,o),e}();Object(D.d)("filters",kh);var Th=kh;function Rh(t){return"string"===typeof t&&t.length>=2&&"="===t.charAt(0)}function xh(t){return"string"===typeof t&&"'"===t.charAt(0)&&"="===t.charAt(1)}function Mh(t){var e=/(\\"|"(?:\\"|[^"])*"|(\+))|(\\'|'(?:\\'|[^'])*'|(\+))/g,n=t.match(e)||[],r=-1;return t.toUpperCase().replace(e,function(){return n[r+=1]})}function Ah(t,e){return function(n){return{row:"row"===t?e:n.row,column:"column"===t?e:n.column}}}var Nh=n(46);function _h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ph=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=Object(M.isObject)(e),o=Object(M.isObject)(n);this._row=r?e.index:e,this.rowAbsolute=!r||e.isAbsolute,this._column=o?n.index:n,this.columnAbsolute=!o||n.isAbsolute,this.rowOffset=0,this.columnOffset=0,Object.defineProperty(this,"row",{get:function(){return this.rowOffset+this._row},set:function(t){this._row=t},enumerable:!0,configurable:!0}),Object.defineProperty(this,"column",{get:function(){return this.columnOffset+this._column},set:function(t){this._column=t},enumerable:!0,configurable:!0})}var e,n,r;return e=t,(n=[{key:"translateTo",value:function(t,e){this.row=this.row+t,this.column=this.column+e}},{key:"isEqual",value:function(t){return t.row===this.row&&t.column===this.column}},{key:"toString",value:function(){return Object(Nh.toLabel)({index:this.row,isAbsolute:this.rowAbsolute},{index:this.column,isAbsolute:this.columnAbsolute})}}])&&_h(e.prototype,n),r&&_h(e,r),t}();function Ih(t){return(Ih="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dh(t,e){return!e||"object"!==Ih(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lh(t){return(Lh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hh(t,e,n){return e&&jh(t.prototype,e),n&&jh(t,n),t}function Bh(t,e){return(Bh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Fh=[1,2,3],Wh=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Dh(this,Lh(e).call(this,t,n))).precedents=[],r.value=null,r.error=null,r.state=e.STATE_UP_TO_DATE,r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bh(t,e)}(e,Ph),Hh(e,null,[{key:"STATE_OUT_OFF_DATE",get:function(){return 1}},{key:"STATE_COMPUTING",get:function(){return 2}},{key:"STATE_UP_TO_DATE",get:function(){return 3}}]),Hh(e,[{key:"setValue",value:function(t){this.value=t}},{key:"getValue",value:function(){return this.value}},{key:"setError",value:function(t){this.error=t}},{key:"getError",value:function(){return this.error}},{key:"hasError",value:function(){return null!==this.error}},{key:"setState",value:function(t){if(-1===Fh.indexOf(t))throw Error("Unrecognized state: ".concat(t));this.state=t}},{key:"isState",value:function(t){return this.state===t}},{key:"addPrecedent",value:function(t){if(this.isEqual(t))throw Error(Nh.ERROR_REF);this.hasPrecedent(t)||this.precedents.push(t)}},{key:"removePrecedent",value:function(t){if(this.isEqual(t))throw Error(Nh.ERROR_REF);this.precedents=Object(y.arrayFilter)(this.precedents,function(e){return!e.isEqual(t)})}},{key:"clearPrecedents",value:function(){this.precedents.length=0}},{key:"getPrecedents",value:function(){return this.precedents}},{key:"hasPrecedents",value:function(){return this.precedents.length>0}},{key:"hasPrecedent",value:function(t){return Object(y.arrayFilter)(this.precedents,function(e){return e.isEqual(t)}).length>0}}]),e}();function Vh(t){return(Vh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zh(t,e){return!e||"object"!==Vh(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yh(t){return(Yh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gh(t,e){return(Gh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xh=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),zh(this,Yh(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gh(t,e)}(e,Ph),n=e,(r=[{key:"toString",value:function(){return Object(Nh.toLabel)({index:this.row,isAbsolute:!1},{index:this.column,isAbsolute:!1})}}])&&Uh(n.prototype,r),o&&Uh(n,o),e}();function Kh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var qh=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.t=e,this.data=[],this.cellReferences=[]}var e,n,r;return e=t,(n=[{key:"getCellAt",value:function(t,e){var n=null;return Object(y.arrayEach)(this.data,function(r){if(r.row===t&&r.column===e)return n=r,!1}),n}},{key:"getOutOfDateCells",value:function(){return Object(y.arrayFilter)(this.data,function(t){return t.isState(Wh.STATE_OUT_OFF_DATE)})}},{key:"add",value:function(t){Object(y.arrayFilter)(this.data,function(e){return e.isEqual(t)}).length||this.data.push(t)}},{key:"remove",value:function(t){var e=Array.isArray(t);this.data=Object(y.arrayFilter)(this.data,function(n){return!function(t,n){var r=!1;return e?Object(y.arrayEach)(n,function(e){if(t.isEqual(e))return r=!0,!1}):r=t.isEqual(n),r}(n,t)})}},{key:"getDependencies",value:function(t){var e=this,n=function(t){return Object(y.arrayReduce)(e.data,function(e,n){return n.hasPrecedent(t)&&-1===e.indexOf(n)&&e.push(n),e},[])};return function t(r){var o=n(r);return o.length&&Object(y.arrayEach)(o,function(n){n.hasPrecedents()&&(o=o.concat(t(e.t.toVisual(n))))}),o}(t)}},{key:"registerCellRef",value:function(t){Object(y.arrayFilter)(this.cellReferences,function(e){return e.isEqual(t)}).length||this.cellReferences.push(t)}},{key:"removeCellRefsAtRange",value:function(t,e){var n=t.row,r=t.column,o=e.row,i=e.column,a=[];return this.cellReferences=Object(y.arrayFilter)(this.cellReferences,function(t){return!function(t){return void 0===n||t.row>=n&&t.row<=o}(t)||!function(t){return void 0===r||t.column>=r&&t.column<=i}(t)||(a.push(t),!1)}),a}},{key:"reset",value:function(){this.data.length=0,this.cellReferences.length=0}}])&&Kh(e.prototype,n),r&&Kh(e,r),t}();function $h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Qh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Zh=/^\$?[A-Z]+\$?\d+$/,Jh=/\$?[A-Z]+\$?\d+/,tf=/(?:[^0-9A-Z$: ]|^)\s*(\$?[A-Z]+\$?\d+)\s*(?![0-9A-Z_: ])/g,ef=/\$?[A-Z]+\$?\d+\s*:\s*\$?[A-Z]+\$?\d+/g,nf=/((?:[^0-9A-Z$: ]|^)\s*(\$?[A-Z]+\$?\d+)\s*(?![0-9A-Z_: ]))|(\$?[A-Z]+\$?\d+\s*:\s*\$?[A-Z]+\$?\d+)/g,rf=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.expression="",this.cells=[],this.customModifier=null,"string"===typeof e&&this.setExpression(e)}var e,n,r;return e=t,(n=[{key:"setExpression",value:function(t){return this.cells.length=0,this.expression=Mh(t),this._extractCells(),this._extractCellsRange(),this}},{key:"useCustomModifier",value:function(t){this.customModifier=t}},{key:"translate",value:function(t){var e=this,n=t.row,r=t.column,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(y.arrayEach)(this.cells,function(t){null!==n&&void 0!==n&&e._translateCell(t,"row",n,o.row),null!==r&&void 0!==r&&e._translateCell(t,"column",r,o.column)}),this}},{key:"toString",value:function(){var t=this,e=this.expression.replace(nf,function(e,n,r){var o=-1===e.indexOf(":"),i=e,a=e,s=null;o&&(a=Zh.test(n)?n:r);var l=t._searchCell(a);return l&&(s=l.refError?Object(Nh.error)(Nh.ERROR_REF):l.toLabel(),i=o?e.replace(a,s):s),i});return e.startsWith("=")||(e="=".concat(e)),e}},{key:"_translateCell",value:function(t,e,n,r){var o=t.start,i=t.end,a=o[e].index,s=i[e].index,l=n,u=n,c=!1;if(this.customModifier){var h=$h(this.customModifier(t,e,n,r),3);l=h[0],u=h[1],c=h[2]}else o[e].isAbsolute&&(l=0),i[e].isAbsolute&&(u=0);l&&!c&&(a+l<0&&(c=!0),o[e].index=Math.max(a+l,0)),u&&!c&&(s+u<0&&(c=!0),i[e].index=Math.max(s+u,0)),c&&(t.refError=!0)}},{key:"_extractCells",value:function(){var t=this,e=this.expression.match(tf);e&&Object(y.arrayEach)(e,function(e){var n=e.match(Jh);if(n){var r=$h(Object(Nh.extractLabel)(n[0]),2),o=r[0],i=r[1];t.cells.push(t._createCell({row:o,column:i},{row:o,column:i},n[0]))}})}},{key:"_extractCellsRange",value:function(){var t=this,e=this.expression.match(ef);e&&Object(y.arrayEach)(e,function(e){var n=$h(e.split(":"),2),r=n[0],o=n[1],i=$h(Object(Nh.extractLabel)(r),2),a=i[0],s=i[1],l=$h(Object(Nh.extractLabel)(o),2),u={row:a,column:s},c={row:l[0],column:l[1]};t.cells.push(t._createCell(u,c,e))})}},{key:"_searchCell",value:function(t){return $h(Object(y.arrayFilter)(this.cells,function(e){return e.origLabel===t}),1)[0]||null}},{key:"_createCell",value:function(t,e,n){return{start:t,end:e,origLabel:n,type:-1===n.indexOf(":")?"cell":"range",refError:!1,toLabel:function(){var t=Object(Nh.toLabel)(this.start.row,this.start.column);return"range"===this.type&&(t+=":".concat(Object(Nh.toLabel)(this.end.row,this.end.column))),t}}}}])&&Qh(e.prototype,n),r&&Qh(e,r),t}();Object(M.mixin)(rf,Ze.a);var of,af=rf,sf="column_sorting";function lf(){var t=this.matrix,e=this.dataProvider;of=new WeakMap,Object(y.arrayEach)(t.data,function(t){of.set(t,e.t.toVisualRow(t.row))})}function uf(){var t=this.matrix,e=this.dataProvider;t.cellReferences.length=0,Object(y.arrayEach)(t.data,function(t){t.setState(Wh.STATE_OUT_OFF_DATE),t.clearPrecedents();var n=t.row,r=t.column,o=e.getSourceDataAtCell(n,r);if(Rh(o)){var i=of.get(t),a=new af(o);a.translate({row:e.t.toVisualRow(n)-i}),e.updateSourceData(n,r,a.toString())}}),of=null}var cf="insert_column";function hf(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.matrix,o=this.dataProvider,i=[0,e];Object(y.arrayEach)(r.cellReferences,function(e){e.column>=t&&e.translateTo.apply(e,i)}),Object(y.arrayEach)(r.data,function(r){var a=r.row,s=r.column;if(r.column>=t&&(r.translateTo.apply(r,i),r.setState(Wh.STATE_OUT_OFF_DATE)),n){var l=r.row,u=r.column,c=o.getSourceDataAtCell(l,u);if(Rh(c)){var h=Ah("column",t),f=new af(c);f.useCustomModifier(ff),f.translate({column:e},h({row:a,column:s})),o.updateSourceData(l,u,f.toString())}}})}function ff(t,e,n,r){var o=t.start,i=t.end,a=n,s=n;return r>o[e].index&&(a=0),r>i[e].index&&(s=0),[a,s,!1]}var df="insert_row";function pf(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.matrix,o=this.dataProvider,i=[e,0];Object(y.arrayEach)(r.cellReferences,function(e){e.row>=t&&e.translateTo.apply(e,i)}),Object(y.arrayEach)(r.data,function(r){var a=r.row,s=r.column;if(r.row>=t&&(r.translateTo.apply(r,i),r.setState(Wh.STATE_OUT_OFF_DATE)),n){var l=r.row,u=r.column,c=o.getSourceDataAtCell(l,u);if(Rh(c)){var h=Ah("row",t),f=new af(c);f.useCustomModifier(gf),f.translate({row:e},h({row:a,column:s})),o.updateSourceData(l,u,f.toString())}}})}function gf(t,e,n,r){var o=t.start,i=t.end,a=n,s=n;return r>o[e].index&&(a=0),r>i[e].index&&(s=0),[a,s,!1]}var mf="remove_column";function vf(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=-e,o=this.matrix,i=this.dataProvider,a=this.sheet,s=[0,r],l=Math.abs(r)-1,u=o.removeCellRefsAtRange({column:t},{column:t+l}),c=[];Object(y.arrayEach)(o.data,function(e){Object(y.arrayEach)(u,function(t){e.hasPrecedent(t)&&(e.removePrecedent(t),e.setState(Wh.STATE_OUT_OFF_DATE),Object(y.arrayEach)(a.getCellDependencies(e.row,e.column),function(t){t.setState(Wh.STATE_OUT_OFF_DATE)}))}),e.column>=t&&e.column<=t+l&&c.push(e)}),o.remove(c),Object(y.arrayEach)(o.cellReferences,function(e){e.column>=t&&e.translateTo.apply(e,s)}),Object(y.arrayEach)(o.data,function(e){var o=e.row,a=e.column;if(e.column>=t&&(e.translateTo.apply(e,s),e.setState(Wh.STATE_OUT_OFF_DATE)),n){var l=e.row,u=e.column,c=i.getSourceDataAtCell(l,u);if(Rh(c)){var h=Ah("column",t),f=new af(c);f.useCustomModifier(yf),f.translate({column:r},h({row:o,column:a})),i.updateSourceData(l,u,f.toString())}}})}function yf(t,e,n,r){var o=t.start,i=t.end,a=t.type,s=o[e].index,l=i[e].index,u=Math.abs(n)-1,c=n,h=n,f=!1;return s>=r&&l<=r+u&&(f=!0),f||"cell"!==a||r>=s&&(c=0,h=0),f||"range"!==a||(r>=s&&(c=0),r>l?h=0:l<=r+u&&(h-=Math.min(l-(r+u),0))),s+c<0&&(c-=s+c),[c,h,f]}var bf="remove_row";function wf(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=-e,o=this.matrix,i=this.dataProvider,a=this.sheet,s=[r,0],l=Math.abs(r)-1,u=o.removeCellRefsAtRange({row:t},{row:t+l}),c=[];Object(y.arrayEach)(o.data,function(e){Object(y.arrayEach)(u,function(t){e.hasPrecedent(t)&&(e.removePrecedent(t),e.setState(Wh.STATE_OUT_OFF_DATE),Object(y.arrayEach)(a.getCellDependencies(e.row,e.column),function(t){t.setState(Wh.STATE_OUT_OFF_DATE)}))}),e.row>=t&&e.row<=t+l&&c.push(e)}),o.remove(c),Object(y.arrayEach)(o.cellReferences,function(e){e.row>=t&&e.translateTo.apply(e,s)}),Object(y.arrayEach)(o.data,function(e){var o=e.row,a=e.column;if(e.row>=t&&(e.translateTo.apply(e,s),e.setState(Wh.STATE_OUT_OFF_DATE)),n){var l=e.row,u=e.column,c=i.getSourceDataAtCell(l,u);if(Rh(c)){var h=Ah("row",t),f=new af(c);f.useCustomModifier(Cf),f.translate({row:r},h({row:o,column:a})),i.updateSourceData(l,u,f.toString())}}})}function Cf(t,e,n,r){var o=t.start,i=t.end,a=t.type,s=o[e].index,l=i[e].index,u=Math.abs(n)-1,c=n,h=n,f=!1;return s>=r&&l<=r+u&&(f=!0),f||"cell"!==a||r>=s&&(c=0,h=0),f||"range"!==a||(r>=s&&(c=0),r>l?h=0:l<=r+u&&(h-=Math.min(l-(r+u),0))),s+c<0&&(c-=s+c),[c,h,f]}function Of(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Sf=new Map;Rf(sf,o),Rf(cf,i),Rf(df,a),Rf(mf,s),Rf(bf,l);var Ef=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sheet=e,this.hot=e.hot,this.dataProvider=e.dataProvider,this.matrix=e.matrix}var e,n,r;return e=t,(n=[{key:"prepareAlter",value:function(t){if(!Sf.has(t))throw Error('Alter operation "'.concat(t,'" not exist.'));for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];Sf.get(t).prepare.apply(this,n)}},{key:"triggerAlter",value:function(t){if(!Sf.has(t))throw Error('Alter operation "'.concat(t,'" not exist.'));for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];Sf.get(t).operate.apply(this,n),this.runLocalHooks.apply(this,["afterAlter"].concat(n))}},{key:"destroy",value:function(){this.sheet=null,this.hot=null,this.dataProvider=null,this.matrix=null}}])&&Of(e.prototype,n),r&&Of(e,r),t}();Object(M.mixin)(Ef,Ze.a);var kf=Ef,Tf=function(){};function Rf(t,e){Sf.has(t)||Sf.set(t,{prepare:e.prepare||Tf,operate:e.operate||Tf})}function xf(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Mf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Af=3,Nf=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.t=Object(I.a)(this.hot),this.dataProvider=n,this.parser=new Nh.Parser,this.matrix=new qh(this.t),this.alterManager=new kf(this),this._processingCell=null,this._state=Af,this.parser.on("callCellValue",function(){return r._onCallCellValue.apply(r,arguments)}),this.parser.on("callRangeValue",function(){return r._onCallRangeValue.apply(r,arguments)}),this.alterManager.addLocalHook("afterAlter",function(){return r._onAfterAlter.apply(r,arguments)})}var e,n,r;return e=t,(n=[{key:"recalculate",value:function(){switch(this._state){case Af:this.recalculateFull();break;case 2:this.recalculateOptimized()}}},{key:"recalculateOptimized",value:function(){var t=this,e=this.matrix.getOutOfDateCells();Object(y.arrayEach)(e,function(e){var n=t.dataProvider.getSourceDataAtCell(e.row,e.column);Rh(n)&&t.parseExpression(e,n.substr(1))}),this._state=1,this.runLocalHooks("afterRecalculate",e,"optimized")}},{key:"recalculateFull",value:function(){var t=this,e=this.dataProvider.getSourceDataByRange();this.matrix.reset(),Object(y.arrayEach)(e,function(e,n){Object(y.arrayEach)(e,function(e,r){Rh(e)&&t.parseExpression(new Wh(n,r),e.substr(1))})}),this._state=1,this.runLocalHooks("afterRecalculate",e,"full")}},{key:"setVariable",value:function(t,e){this.parser.setVariable(t,e)}},{key:"getVariable",value:function(t){return this.parser.getVariable(t)}},{key:"applyChanges",value:function(t,e,n){this.matrix.remove({row:t,column:e}),Rh(n)&&this.parseExpression(new Wh(t,e),n.substr(1));var r=this.getCellDependencies.apply(this,xf(this.t.toVisual(t,e)));Object(y.arrayEach)(r,function(t){t.setState(Wh.STATE_OUT_OFF_DATE)}),this._state=2}},{key:"parseExpression",value:function(t,e){t.setState(Wh.STATE_COMPUTING),this._processingCell=t;var n=this.parser.parse(Mh(e)),r=n.error,o=n.result;Rh(o)?this.parseExpression(t,o.substr(1)):(t.setValue(o),t.setError(r),t.setState(Wh.STATE_UP_TO_DATE)),this.matrix.add(t),this._processingCell=null}},{key:"getCellAt",value:function(t,e){return this.matrix.getCellAt(t,e)}},{key:"getCellDependencies",value:function(t,e){return this.matrix.getDependencies({row:t,column:e})}},{key:"_onCallCellValue",value:function(t,e){var n=t.row,r=t.column,o=new Xh(n,r);if(!this.dataProvider.isInDataRange(o.row,o.column))throw Error(Nh.ERROR_REF);this.matrix.registerCellRef(o),this._processingCell.addPrecedent(o);var i=this.dataProvider.getRawDataAtCell(n.index,r.index);if(Object(Nh.error)(i)){var a=this.matrix.getCellAt(n.index,r.index);if(a&&a.hasError())throw Error(i)}if(Rh(i)){var s=this.parser.parse(i.substr(1)),l=s.error,u=s.result;if(l)throw Error(l);e(u)}else e(i)}},{key:"_onCallRangeValue",value:function(t,e,n){var r=this,o=t.row,i=t.column,a=e.row,s=e.column,l=this.dataProvider.getRawDataByRange(o.index,i.index,a.index,s.index);n(Object(y.arrayMap)(l,function(t,e){return function(t,e){return Object(y.arrayMap)(t,function(t,n){var a=o.index+e,s=i.index+n,l=new Xh(a,s);if(!r.dataProvider.isInDataRange(l.row,l.column))throw Error(Nh.ERROR_REF);r.matrix.registerCellRef(l),r._processingCell.addPrecedent(l);var u=t;if(Object(Nh.error)(u)){var c=r.matrix.getCellAt(l.row,l.column);if(c&&c.hasError())throw Error(u)}if(Rh(u)){var h=r.parser.parse(u.substr(1)),f=h.error,d=h.result;if(f)throw Error(f);u=d}return u})}(t,e)}))}},{key:"_onAfterAlter",value:function(){this.recalculateOptimized()}},{key:"destroy",value:function(){this.hot=null,this.t=null,this.dataProvider.destroy(),this.dataProvider=null,this.alterManager.destroy(),this.alterManager=null,this.parser=null,this.matrix.reset(),this.matrix=null}}])&&Mf(e.prototype,n),r&&Mf(e,r),t}();Object(M.mixin)(Nf,Ze.a);var _f=Nf;function Pf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function If(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Df(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Lf=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.changes={},this.t=Object(I.a)(this.hot)}var e,n,r;return e=t,(n=[{key:"collectChanges",value:function(t,e,n){this.changes[this._coordId(t,e)]=n}},{key:"clearChanges",value:function(){this.changes={}}},{key:"isInDataRange",value:function(t,e){return t>=0&&t<this.hot.countRows()&&e>=0&&e<this.hot.countCols()}},{key:"getDataAtCell",value:function(t,e){var n=this._coordId.apply(this,If(this.t.toPhysical(t,e)));return Object(M.hasOwnProperty)(this.changes,n)?this.changes[n]:this.hot.getDataAtCell(t,e)}},{key:"getDataByRange",value:function(t,e,n,r){var o=this,i=this.hot.getData(t,e,n,r);return Object(y.arrayEach)(i,function(n,r){Object(y.arrayEach)(n,function(n,a){var s=o._coordId.apply(o,If(o.t.toPhysical(r+t,a+e)));Object(M.hasOwnProperty)(o.changes,s)&&(i[r][a]=o.changes[s])})}),i}},{key:"getSourceDataAtCell",value:function(t,e){var n=this._coordId(t,e);return Object(M.hasOwnProperty)(this.changes,n)?this.changes[n]:this.hot.getSourceDataAtCell(t,e)}},{key:"getSourceDataByRange",value:function(t,e,n,r){return this.hot.getSourceDataArray(t,e,n,r)}},{key:"getRawDataAtCell",value:function(t,e){return this.getSourceDataAtCell.apply(this,If(this.t.toPhysical(t,e)))}},{key:"getRawDataByRange",value:function(t,e,n,r){var o=this,i=[];return Object(x.rangeEach)(t,n,function(t){var n=[];Object(x.rangeEach)(e,r,function(e){var r=Pf(o.t.toPhysical(t,e),2),i=r[0],a=r[1],s=o._coordId(i,a);Object(M.hasOwnProperty)(o.changes,s)?n.push(o.changes[s]):n.push(o.getSourceDataAtCell(i,a))}),i.push(n)}),i}},{key:"updateSourceData",value:function(t,e,n){this.hot.getSourceData()[t][this.hot.colToProp(e)]=n}},{key:"_coordId",value:function(t,e){return"".concat(t,":").concat(e)}},{key:"destroy",value:function(){this.hot=null,this.changes=null,this.t=null}}])&&Df(e.prototype,n),r&&Df(e,r),t}();function jf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Hf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.items=e}var e,n,r;return e=t,(n=[{key:"push",value:function(){var t;(t=this.items).push.apply(t,arguments)}},{key:"pop",value:function(){return this.items.pop()}},{key:"peek",value:function(){return this.isEmpty()?void 0:this.items[this.items.length-1]}},{key:"isEmpty",value:function(){return!this.size()}},{key:"size",value:function(){return this.items.length}}])&&jf(e.prototype,n),r&&jf(e,r),t}();function Bf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ff=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sheet=e,this.stack=new Hf}var e,n,r;return e=t,(n=[{key:"save",value:function(t,e,n){var r=this.sheet,o=r.matrix,i=r.dataProvider,a=[];Object(y.arrayEach)(o.data,function(r){var o=r.row,s=r.column;if(r[t]<e||r[t]>e+(n-1)){var l=i.getSourceDataAtCell(o,s);a.push({row:o,column:s,value:l})}}),this.stack.push({axis:t,index:e,amount:n,changes:a})}},{key:"restore",value:function(){var t=this.sheet,e=t.matrix,n=t.dataProvider,r=this.stack.pop(),o=r.axis,i=r.index,a=r.amount,s=r.changes;s&&Object(y.arrayEach)(s,function(t){t[o]>i+(a-1)&&(t[o]-=a);var r=t.row,s=t.column,l=t.value;n.getSourceDataAtCell(r,s)!==l&&(n.updateSourceData(r,s,l),e.getCellAt(r,s).setState(Wh.STATE_OUT_OFF_DATE))})}},{key:"destroy",value:function(){this.sheet=null,this.stack=null}}])&&Bf(e.prototype,n),r&&Bf(e,r),t}();function Wf(t){return(Wf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Uf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yf(t,e,n){return(Yf="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gf(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Gf(t){return(Gf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xf(t,e){return(Xf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kf=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Gf(e).call(this,t))||"object"!==Wf(o)&&"function"!==typeof o?zf(r):o).eventManager=new g.a(zf(n)),n.dataProvider=new Lf(n.hot),n.sheet=new _f(n.hot,n.dataProvider),n.undoRedoSnapshot=new Ff(n.sheet),n._skipRendering=!1,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xf(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().formulas}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){var n=this.hot.getSettings().formulas;Object(M.isObject)(n)&&Object(M.isObject)(n.variables)&&Object(M.objectEach)(n.variables,function(e,n){return t.setVariable(n,e)}),this.addHook("afterColumnSort",function(){return t.onAfterColumnSort.apply(t,arguments)}),this.addHook("afterCreateCol",function(){return t.onAfterCreateCol.apply(t,arguments)}),this.addHook("afterCreateRow",function(){return t.onAfterCreateRow.apply(t,arguments)}),this.addHook("afterLoadData",function(){return t.onAfterLoadData()}),this.addHook("afterRemoveCol",function(){return t.onAfterRemoveCol.apply(t,arguments)}),this.addHook("afterRemoveRow",function(){return t.onAfterRemoveRow.apply(t,arguments)}),this.addHook("afterSetDataAtCell",function(){return t.onAfterSetDataAtCell.apply(t,arguments)}),this.addHook("afterSetDataAtRowProp",function(){return t.onAfterSetDataAtCell.apply(t,arguments)}),this.addHook("beforeColumnSort",function(){return t.onBeforeColumnSort.apply(t,arguments)}),this.addHook("beforeCreateCol",function(){return t.onBeforeCreateCol.apply(t,arguments)}),this.addHook("beforeCreateRow",function(){return t.onBeforeCreateRow.apply(t,arguments)}),this.addHook("beforeRemoveCol",function(){return t.onBeforeRemoveCol.apply(t,arguments)}),this.addHook("beforeRemoveRow",function(){return t.onBeforeRemoveRow.apply(t,arguments)}),this.addHook("beforeValidate",function(){return t.onBeforeValidate.apply(t,arguments)}),this.addHook("beforeValueRender",function(){return t.onBeforeValueRender.apply(t,arguments)}),this.addHook("modifyData",function(){return t.onModifyData.apply(t,arguments)}),this.sheet.addLocalHook("afterRecalculate",function(){return t.onSheetAfterRecalculate.apply(t,arguments)}),Yf(Gf(e.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){Yf(Gf(e.prototype),"disablePlugin",this).call(this)}},{key:"getCellValue",value:function(t,e){var n=this.sheet.getCellAt(t,e);return n?n.getError()||n.getValue():void 0}},{key:"hasComputedCellValue",value:function(t,e){return null!==this.sheet.getCellAt(t,e)}},{key:"recalculate",value:function(){this.sheet.recalculate()}},{key:"recalculateFull",value:function(){this.sheet.recalculateFull()}},{key:"recalculateOptimized",value:function(){this.sheet.recalculateOptimized()}},{key:"setVariable",value:function(t,e){this.sheet.setVariable(t,e)}},{key:"getVariable",value:function(t){return this.sheet.getVariable(t)}},{key:"onSheetAfterRecalculate",value:function(t){if(this._skipRendering)this._skipRendering=!1;else{var e=this.hot;Object(y.arrayEach)(t,function(t){var n=t.row,r=t.column;e.validateCell(e.getDataAtCell(n,r),e.getCellMeta(n,r),function(){})}),e.render()}}},{key:"onModifyData",value:function(t,e,n,r){"get"===r&&this.hasComputedCellValue(t,e)?n.value=this.getCellValue(t,e):"set"===r&&Rh(n.value)&&(n.value=Mh(n.value))}},{key:"onBeforeValueRender",value:function(t){var e,n=t;return xh(n)&&(n=xh(e=n)?e.substr(1):e),n}},{key:"onBeforeValidate",value:function(t,e,n){var r=this.hot.propToCol(n),o=t;return this.hasComputedCellValue(e,r)&&(o=this.getCellValue(e,r)),o}},{key:"onAfterSetDataAtCell",value:function(t,e){var n=this;"loadData"!==e&&(this.dataProvider.clearChanges(),Object(y.arrayEach)(t,function(t){var e=Vf(t,4),r=e[0],o=e[1],i=e[2],a=e[3],s=n.hot.propToCol(o),l=n.t.toPhysicalRow(r),u=a;Rh(u)&&(u=Mh(u)),n.dataProvider.collectChanges(l,s,u),i!==u&&n.sheet.applyChanges(l,s,u)}),this.recalculate())}},{key:"onBeforeCreateRow",value:function(t,e,n){"UndoRedo.undo"===n&&this.undoRedoSnapshot.restore()}},{key:"onAfterCreateRow",value:function(t,e,n){this.sheet.alterManager.triggerAlter("insert_row",t,e,"UndoRedo.undo"!==n)}},{key:"onBeforeRemoveRow",value:function(t,e){this.undoRedoSnapshot.save("row",t,e)}},{key:"onAfterRemoveRow",value:function(t,e){this.sheet.alterManager.triggerAlter("remove_row",t,e)}},{key:"onBeforeCreateCol",value:function(t,e,n){"UndoRedo.undo"===n&&this.undoRedoSnapshot.restore()}},{key:"onAfterCreateCol",value:function(t,e,n){this.sheet.alterManager.triggerAlter("insert_column",t,e,"UndoRedo.undo"!==n)}},{key:"onBeforeRemoveCol",value:function(t,e){this.undoRedoSnapshot.save("column",t,e)}},{key:"onAfterRemoveCol",value:function(t,e){this.sheet.alterManager.triggerAlter("remove_column",t,e)}},{key:"onBeforeColumnSort",value:function(t,e){this.sheet.alterManager.prepareAlter("column_sorting",t,e)}},{key:"onAfterColumnSort",value:function(t,e){this.sheet.alterManager.triggerAlter("column_sorting",t,e)}},{key:"onAfterLoadData",value:function(){this._skipRendering=!0,this.recalculateFull()}},{key:"destroy",value:function(){this.dataProvider.destroy(),this.dataProvider=null,this.sheet.destroy(),this.sheet=null,Yf(Gf(e.prototype),"destroy",this).call(this)}}])&&Uf(n.prototype,r),o&&Uf(n,o),e}();Object(D.d)("formulas",Kf);var qf=Kf,$f=7;function Qf(t,e){return{name:t,days:$f,daysBeforeFullWeeks:0,daysAfterFullWeeks:0,fullWeeks:1,index:e}}function Zf(t,e){var n=Jf(e[t].name),r=t>0?Jf(e[t-1].name):null,o=Jf(e[0].name),i=Jf(e[e.length-1].name);return t>0?"".concat(r,"/").concat(n):t===e.length-1?"".concat(n,"/").concat(o):"".concat(i,"/").concat(n)}function Jf(t){return t.substring(0,3)}function td(t){return nd(Array.isArray(t)?t[1]:t.startDate)}function ed(t){return nd(Array.isArray(t)?t[2]:t.endDate)}function nd(t){var e=t;return null===e?null:e instanceof Date||"Invalid Date"!==(e=new Date(e)).toString()?e:null}function rd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function od(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var id=function(){function t(e){var n=e.year,r=e.allowSplitWeeks,o=void 0===r||r,i=e.hideDaysBeforeFullWeeks,a=void 0!==i&&i,s=e.hideDaysAfterFullWeeks,l=void 0!==s&&s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.year=n,this.firstWeekDay="monday",this.allowSplitWeeks=o,this.hideDaysBeforeFullWeeks=a,this.hideDaysAfterFullWeeks=l,this.weekSectionCount=0,this.monthListCache={},this.daysInColumns={},this.calculateWeekStructure()}var e,n,r;return e=t,(n=[{key:"setYear",value:function(t){this.year=t,this.monthListCache[t]=this.calculateMonthData(t),this.calculateWeekStructure(t)}},{key:"setFirstWeekDay",value:function(t){var e=t.toLowerCase();"monday"!==e&&"sunday"!==e&&Object(Wi.b)("First day of the week must be set to either Monday or Sunday"),this.firstWeekDay=e,this.calculateWeekStructure()}},{key:"countWeekSections",value:function(){return this.weekSectionCount}},{key:"getFirstWeekDay",value:function(){return this.firstWeekDay}},{key:"getYear",value:function(){return this.year}},{key:"getMonthList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.year;return this.monthListCache[t]||(this.monthListCache[t]=this.calculateMonthData(t)),this.monthListCache[t]}},{key:"getFullMonthList",value:function(){return this.monthListCache}},{key:"dateToColumn",value:function(t){var e=nd(t);if(!e)return!1;var n=e.getMonth(),r=e.getDate()-1,o=e.getFullYear();return this.getWeekColumn(r,n,o)}},{key:"getWeekColumn",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getYear(),r=null,o=this.getMonthCacheArray(e,n);return Object(y.arrayEach)(o,function(e){if(Object(M.objectEach)(e,function(e,n){if(e.indexOf(t+1)>-1)return r=parseInt(n,10),!1}),r)return!1}),r}},{key:"getMonthCacheArray",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getYear(),r=this.getMonthList(n),o=[];if(this.allowSplitWeeks)o.push(this.daysInColumns[n][t]);else{var i=-1;Object(M.objectEach)(this.daysInColumns[n],function(a,s){var l=r[s];if(Object.keys(a).length>1&&(i+=1),i===t)return l.daysBeforeFullWeeks>0&&o.push(e.daysInColumns[n][parseInt(s,10)-1]),o.push(a),l.daysAfterFullWeeks>0&&o.push(e.daysInColumns[n][parseInt(s,10)+1]),!1})}return o}},{key:"columnToDate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getYear(),n=null;Object(M.objectEach)(this.daysInColumns[e],function(e,r){if(e[t])return n=r,!1});var r=this.daysInColumns[e][n][t];if(1===r.length){var o=new Date(e,n,r[0]);return{start:o,end:o}}return{start:new Date(e,n,r[0]),end:new Date(e,n,r[r.length-1])}}},{key:"isOnTheEdgeOfWeek",value:function(t){var e=this,n=nd(t);if(!n)return null;var r=n.getMonth(),o=n.getDate()-1,i=n.getFullYear(),a=this.getMonthCacheArray(r,i),s=!1;return Object(y.arrayEach)(a,function(t){if(Object(M.objectEach)(t,function(t){if(!e.allowSplitWeeks&&7!==t.length&&(0===o||o===new Date(n.getYear(),n.getMonth()+1,0).getDate()-1))return!0;var r=t.indexOf(o+1);return 0===r?(s=[1,0],!1):r===t.length-1?(s=[0,1],!1):void 0}),s)return!1}),s}},{key:"generateHeaderSet",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.year,o=this.getMonthList(r),i=[];return Object(M.objectEach)(o,function(o,a){var s=o.daysBeforeFullWeeks>0?1:0,l=o.daysAfterFullWeeks>0?1:0,u=n.hideDaysBeforeFullWeeks?0:s,c=n.hideDaysAfterFullWeeks?0:l,h=o.fullWeeks+(n.allowSplitWeeks?u+c:0),f=parseInt(a,10),d="";if("months"===t)i.push({label:o.name,colspan:h});else if("weeks"===t)for(var p=0;p<h;p++){var g=null,m=null;if(n.allowSplitWeeks||1!==o.fullWeeks){var v=rd(n.getWeekColumnRange({monthObject:o,monthNumber:f,headerIndex:p,areDaysBeforeFullWeeksVisible:u,areDaysAfterFullWeeksVisible:c,headerCount:h,year:r}),2);g=v[0],m=v[1]}else{var y=rd(n.getWeekColumnRange({monthObject:o,monthNumber:f,headerIndex:p,headerCount:h,areDaysBeforeFullWeeksVisible:u,areDaysAfterFullWeeksVisible:c,mixedMonth:!0,year:r}),2);g=y[0],m=y[1]}d=g===m?"".concat(g):"".concat(g," -  ").concat(m),i.push(e?e.call(n,g,m):d),n.addDaysToCache(f,i.length-1,g,m,r)}}),i}},{key:"getWeekColumnRange",value:function(t){var e=t.monthObject,n=t.monthNumber,r=t.headerIndex,o=t.headerCount,i=t.areDaysBeforeFullWeeksVisible,a=t.areDaysAfterFullWeeksVisible,s=t.mixedMonth,l=void 0!==s&&s,u=t.year,c=void 0===u?this.year:u,h=this.getMonthList(c),f=this.allowSplitWeeks,d=null,p=null;return l?0===n?(p=h[n+1].daysBeforeFullWeeks,d=31-($f-p)+1):n===h.length-1?(p=$f-h[n-1].daysAfterFullWeeks,d=h[n-1].days-h[n-1].daysAfterFullWeeks+1):(p=h[n+1].daysBeforeFullWeeks,d=h[n-1].days-($f-p)+1):f&&i&&0===r?(d=r+1,p=e.daysBeforeFullWeeks):f&&a&&r===o-1?(d=e.days-e.daysAfterFullWeeks+1,p=e.days):(d=null,p=(d=f?e.daysBeforeFullWeeks+(r-i)*$f+1:e.daysBeforeFullWeeks+r*$f+1)+$f-1),[d,p]}},{key:"addDaysToCache",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getYear();if(this.daysInColumns[o]||(this.daysInColumns[o]={}),this.daysInColumns[o][t]||(this.daysInColumns[o][t]={}),this.daysInColumns[o][t][e]||(this.daysInColumns[o][t][e]=[]),n<=r)for(var i=n;i<=r;i++)this.daysInColumns[o][t][e].push(i);else{for(var a=t-1>=0?this.countMonthDays(t):31,s=n;s<=a;s++)this.daysInColumns[o][t][e].push(s);for(var l=1;l<=r;l++)this.daysInColumns[o][t][e].push(l)}}},{key:"isValidRangeBarData",value:function(t,e){var n=nd(t),r=nd(e);return n&&r&&n.getTime()<=r.getTime()}},{key:"calculateMonthData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.year;return[{name:"January",days:31},{name:"February",days:new Date(t,2,0).getDate()},{name:"March",days:31},{name:"April",days:30},{name:"May",days:31},{name:"June",days:30},{name:"July",days:31},{name:"August",days:31},{name:"September",days:30},{name:"October",days:31},{name:"November",days:30},{name:"December",days:31}].slice(0)}},{key:"countMonths",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getYear();return this.monthListCache[t].length}},{key:"countMonthDays",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getYear();return this.monthListCache[e][t-1].days}},{key:"countMonthFullWeeks",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getYear();return this.monthListCache[e][t-1].fullWeeks}},{key:"calculateWeekStructure",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getYear();this.monthListCache[e]=this.calculateMonthData(e);var n=this.getFirstWeekDay(),r=this.getMonthList(e),o=[],i=this.hideDaysBeforeFullWeeks?0:1,a=this.hideDaysAfterFullWeeks?0:1,s=0,l=0;"monday"===n&&(s=1),Object(y.arrayEach)(r,function(n,u){var c=new Date(e,u,1).getDay(),h=0;if(n.daysBeforeFullWeeks=(7-c+s)%7,!t.allowSplitWeeks&&n.daysBeforeFullWeeks&&(o.push(Qf(Zf(u,r),u)),h+=1),n.fullWeeks=Math.floor((n.days-n.daysBeforeFullWeeks)/7),n.daysAfterFullWeeks=n.days-n.daysBeforeFullWeeks-7*n.fullWeeks,t.allowSplitWeeks){var f=i*(n.daysBeforeFullWeeks?1:0),d=a*(n.daysAfterFullWeeks?1:0);l+=n.fullWeeks+f+d}else u===r.length-1&&n.daysAfterFullWeeks&&(o.push(Qf(Zf(u,r),null)),h+=1),l+=n.fullWeeks+h}),Object(y.arrayEach)(o,function(n,r){var o=n.index;delete n.index,t.addMixedMonth(null===o?o:r+o,n,e)}),e===this.getYear()&&(this.weekSectionCount=l)}},{key:"addMixedMonth",value:function(t,e,n){null===t?this.monthListCache[n].push(e):this.monthListCache[n].splice(t,0,e)}}])&&od(e.prototype,n),r&&od(e,r),t}();function ad(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var sd=function(){function t(e,n,r,o,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=n,this.chartInstance=e,this.chartPlugin=this.chartInstance.getPlugin("ganttChart"),this.hotSource=null,this.sourceHooks={},this.ongoingAsync=!1,this.applyData(n,r,o,i,a||!1)}var e,n,r;return e=t,(n=[{key:"applyData",value:function(t,e,n,r,o){if("[object Array]"===Object.prototype.toString.call(t))t.length>1&&this.chartInstance.alter("insert_row",0,t.length-1,"".concat(this.pluginName,".loadData")),this.loadData(t);else if(t instanceof this.chartInstance.constructor){var i=t.countRows();i>1&&this.chartInstance.alter("insert_row",0,i-1,"".concat(this.pluginName,".loadData")),this.bindWithHotInstance(t,e,n,r,o)}}},{key:"bindWithHotInstance",value:function(t,e,n,r,o){this.hotSource={instance:t,startColumn:e,endColumn:n,additionalData:r,asyncUpdates:o},this.addSourceHotHooks(),this.asyncCall(this.updateFromSource)}},{key:"asyncCall",value:function(t){var e=this;this.hotSource.asyncUpdates?(this.asyncStart(),setTimeout(function(){t.call(e),e.asyncEnd()},0)):t.call(this)}},{key:"asyncStart",value:function(){this.ongoingAsync=!0}},{key:"asyncEnd",value:function(){this.ongoingAsync=!1}},{key:"addSourceHotHooks",value:function(){var t=this;this.sourceHooks={afterLoadData:function(){return t.onAfterSourceLoadData()},afterChange:function(e){return t.onAfterSourceChange(e)},afterColumnSort:function(){return t.onAfterColumnSort()}},this.hotSource.instance.addHook("afterLoadData",this.sourceHooks.afterLoadData),this.hotSource.instance.addHook("afterChange",this.sourceHooks.afterChange),this.hotSource.instance.addHook("afterColumnSort",this.sourceHooks.afterColumnSort)}},{key:"removeSourceHotHooks",value:function(t){this.sourceHooks.afterLoadData&&t.instance.removeHook("afterLoadData",this.sourceHooks.afterLoadData),this.sourceHooks.afterChange&&t.instance.removeHook("afterChange",this.sourceHooks.afterChange),this.sourceHooks.afterColumnSort&&t.instance.removeHook("afterColumnSort",this.sourceHooks.afterColumnSort)}},{key:"getDataFromSource",value:function(t){var e,n={},r=this.hotSource,o=[];void 0===t?e=r.instance.getData(0,0,r.instance.countRows()-1,r.instance.countCols()-1):(e=[])[t]=r.instance.getDataAtRow(t);for(var i=function(t,i){n={};var a=e[t];if(null===a[r.startColumn]||""===a[r.startColumn])return"continue";Object(M.objectEach)(r.additionalData,function(t,e){n[e]=a[t]}),o.push([t,a[r.startColumn],a[r.endColumn],n,t])},a=t||0,s=e.length;a<(t?t+1:s);a++)i(a);return o}},{key:"updateFromSource",value:function(t){var e=this.getDataFromSource(t);!t&&isNaN(t)&&(this.chartPlugin.clearRangeBars(),this.chartPlugin.clearRangeList()),this.loadData(e),this.chartInstance.render()}},{key:"loadData",value:function(t){var e=this,n=[];Object(y.arrayEach)(t,function(t,r){t.row=r;var o=e.splitRangeIfNeeded(t);n=n.concat(o)}),Object(y.arrayEach)(n,function(t){var n;e.chartPlugin.addRangeBar(t.row,td(t),ed(t),(n=t,Array.isArray(n)?n[3]:n.additionalData)),delete t.row})}},{key:"splitRangeIfNeeded",value:function(t){var e=[],n=new Date(td(t)),r=new Date(ed(t));if("string"===typeof n||"string"===typeof r)return!1;var o=n.getFullYear(),i=r.getFullYear();return o===i?[t]:(Object(x.rangeEach)(o,i,function(n){var r,a,s=Object(M.clone)(t);n!==o&&(r=s,a="01/01/".concat(n),Array.isArray(r)?r[1]=a:r.startDate=a),n!==i&&function(t,e){Array.isArray(t)?t[2]=e:t.endDate=e}(s,"12/31/".concat(n)),e.push(s)}),e)}},{key:"onAfterSourceChange",value:function(t){var e=this;this.asyncCall(function(){if(t){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r],a=parseInt(i[0],10),s=parseInt(i[1],10);n[a]||(n[a]={}),n[a][s]=[i[2],i[3]]}Object(M.objectEach)(n,function(t,n){var r=parseInt(n,10);e.chartPlugin.getRangeBarCoordinates(r)&&e.chartPlugin.removeRangeBarByColumn(r,e.chartPlugin.rangeList[r][1]),e.updateFromSource(n)})}})}},{key:"onAfterSourceLoadData",value:function(){var t=this;this.asyncCall(function(){t.chartPlugin.removeAllRangeBars(),t.updateFromSource()})}},{key:"onAfterColumnSort",value:function(){var t=this;this.asyncCall(function(){t.chartPlugin.removeAllRangeBars(),t.updateFromSource()})}}])&&ad(e.prototype,n),r&&ad(e,r),t}();function ld(t){return(ld="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ud(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cd(t,e){return!e||"object"!==ld(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hd(t,e,n){return(hd="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fd(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function fd(t){return(fd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dd(t,e){return(dd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pd=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=cd(this,fd(e).call(this,t))).settings={},n.dateCalculator=null,n.currentYear=null,n.monthList=[],n.monthHeadersArray=[],n.weekHeadersArray=[],n.rangeBars={},n.rangeList={},n.nestedHeadersPlugin=null,n.hotSource=null,n.overallWeekSectionCount=null,n.initialSettings=null,n.dataFeed=null,n.colorData={},n.rangeBarMeta=Object.create(null),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dd(t,e)}(e,B),n=e,(r=[{key:"checkDependencies",value:function(){this.hot.getSettings().colHeaders||Object(Wi.b)("You need to enable the colHeaders property in your Gantt Chart Handsontable in order for it to work properly.")}},{key:"isEnabled",value:function(){return!!this.hot.getSettings().ganttChart}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.checkDependencies(),this.parseSettings(),this.currentYear=this.settings.startYear||(new Date).getFullYear(),this.dateCalculator=new id({year:this.currentYear,allowSplitWeeks:this.settings.allowSplitWeeks,hideDaysBeforeFullWeeks:this.settings.hideDaysBeforeFullWeeks,hideDaysAfterFullWeeks:this.settings.hideDaysAfterFullWeeks}),this.dateCalculator.setFirstWeekDay(this.settings.firstWeekDay),this.monthList=this.dateCalculator.getMonthList(),this.monthHeadersArray=this.generateMonthHeaders(),this.weekHeadersArray=this.generateWeekHeaders(),this.overallWeekSectionCount=this.dateCalculator.countWeekSections(),this.assignGanttSettings(),this.nestedHeadersPlugin&&(this.applyDataSource(),this.colorData&&this.setRangeBarColors(this.colorData)),this.addHook("afterInit",function(){return t.onAfterInit()}),Object(v.addClass)(this.hot.rootElement,"ganttChart"),hd(fd(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.internalUpdateSettings||(this.dataFeed&&this.dataFeed.hotSource&&this.dataFeed.removeSourceHotHooks(this.dataFeed.hotSource),this.settings={},this.dataFeed={},this.currentYear=null,this.monthList=[],this.rangeBars={},this.rangeList={},this.rangeBarMeta={},this.hotSource=null,this.deassignGanttSettings(),Object(v.removeClass)(this.hot.rootElement,"ganttChart"),hd(fd(e.prototype),"disablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),hd(fd(e.prototype),"updatePlugin",this).call(this)}},{key:"parseSettings",value:function(){this.settings=this.hot.getSettings().ganttChart,"boolean"===typeof this.settings&&(this.settings={}),this.settings.firstWeekDay||(this.settings.firstWeekDay="monday"),void 0===this.settings.allowSplitWeeks&&(this.settings.allowSplitWeeks=!0),"function"!==typeof this.settings.weekHeaderGenerator&&(this.settings.weekHeaderGenerator=null)}},{key:"applyDataSource",value:function(){if(this.settings.dataSource){var t=this.settings.dataSource;t.instance?this.loadData(t.instance,t.startDateColumn,t.endDateColumn,t.additionalData,t.asyncUpdates):this.loadData(t)}}},{key:"loadData",value:function(t,e,n,r,o){this.dataFeed=new sd(this.hot,t,e,n,r,o),this.hot.render()}},{key:"clearRangeBars",value:function(){this.rangeBars={}}},{key:"clearRangeList",value:function(){this.rangeList={}}},{key:"getRangeBarCoordinates",value:function(t){return this.rangeList[t]}},{key:"generateMonthHeaders",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentYear;return this.dateCalculator.generateHeaderSet("months",this.settings.weekHeaderGenerator,t)}},{key:"generateWeekHeaders",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentYear;return this.dateCalculator.generateHeaderSet("weeks",this.settings.weekHeaderGenerator,t)}},{key:"assignGanttSettings",value:function(){var t=this;this.initialSettings=Object(M.deepClone)(this.hot.getSettings());var e={data:Object(S.createEmptySpreadsheetData)(1,this.overallWeekSectionCount),readOnly:!0,renderer:function(e,n,r,o,i,a,s){return t.uniformBackgroundRenderer(e,n,r,o,i,a,s)},colWidths:60,hiddenColumns:!this.hot.getSettings().hiddenColumns||this.hot.getSettings().hiddenColumns,nestedHeaders:[this.monthHeadersArray.slice(),this.weekHeadersArray.slice()],collapsibleColumns:!this.hot.getSettings().collapsibleColumns||this.hot.getSettings().collapsibleColumns,columnSorting:!1,copyPaste:!1};this.internalUpdateSettings=!0,this.hot.updateSettings(e),this.internalUpdateSettings=void 0}},{key:"deassignGanttSettings",value:function(){this.internalUpdateSettings=!0,this.initialSettings&&this.hot.updateSettings(this.initialSettings),this.internalUpdateSettings=void 0}},{key:"cacheRangeBarMeta",value:function(t,e,n,r){this.rangeBarMeta[t]||(this.rangeBarMeta[t]={}),this.rangeBarMeta[t][e]||(this.rangeBarMeta[t][e]={}),this.rangeBarMeta[t][e][n]=r}},{key:"applyRangeBarMetaCache",value:function(){var t=this;Object(M.objectEach)(this.rangeBarMeta,function(e,n){Object(M.objectEach)(e,function(e,r){Object(M.objectEach)(e,function(e,o){t.hot.setCellMeta(n,r,o,e)})})})}},{key:"getAdjacentWeekColumn",value:function(t,e,n){var r=nd(t),o=!0===n?-7:7,i=r.setDate(r.getDate()+o);return this.dateCalculator.dateToColumn(i)}},{key:"addRangeBar",value:function(t,e,n,r){var o=this;null!==e&&null!==n&&this.prepareDaysInColumnsInfo(nd(e),nd(n));var i=this.dateCalculator.dateToColumn(e),a=this.dateCalculator.dateToColumn(n),s=function(t){var e=nd(t);return e?e.getFullYear():null}(e),l=!1,u=!1;return null===i&&this.settings.hideDaysBeforeFullWeeks&&!1!==(i=this.getAdjacentWeekColumn(e,!0,!1))&&(l=!0),null===a&&this.settings.hideDaysAfterFullWeeks&&!1!==(a=this.getAdjacentWeekColumn(n,!1,!0))&&(u=!0),!(!this.dateCalculator.isValidRangeBarData(e,n)||!1===i||!1===a)&&(this.rangeBars[s]||(this.rangeBars[s]={}),this.rangeBars[s][t]||(this.rangeBars[s][t]={}),this.rangeBars[s][t][i]={barLength:a-i+1,partialStart:!l&&!this.dateCalculator.isOnTheEdgeOfWeek(e)[0],partialEnd:!u&&!this.dateCalculator.isOnTheEdgeOfWeek(n)[1],additionalData:{}},Object(M.objectEach)(r,function(e,n){o.rangeBars[s][t][i].additionalData[n]=e}),s===this.dateCalculator.getYear()&&(this.colorData[t]&&(this.rangeBars[s][t][i].colors=this.colorData[t]),this.rangeList[t]=[t,i],this.renderRangeBar(t,i,a,r)),[t,i])}},{key:"prepareDaysInColumnsInfo",value:function(t,e){for(var n=t.getFullYear();n<=e.getFullYear();n++)void 0===this.dateCalculator.daysInColumns[n]&&(this.dateCalculator.calculateWeekStructure(n),this.dateCalculator.generateHeaderSet("weeks",null,n))}},{key:"getRangeBarData",value:function(t,e){var n=this.dateCalculator.getYear(),r=this.getRangeBarCoordinates(t);if(!r)return!1;var o=this.rangeBars[n][r[0]][r[1]];return!(!o||t!==r[0]||!(e===r[1]||e>r[1]&&e<r[1]+o.barLength))&&o}},{key:"updateRangeBarData",value:function(t,e,n){var r=this.getRangeBarData(t,e);Object(M.objectEach)(n,function(t,e){r[e]!==t&&(r[e]=t)})}},{key:"renderRangeBar",value:function(t,e,n){for(var r=this.dateCalculator.getYear(),o=this.rangeBars[r][t][e],i=e;i<=n;i++){var a=this.hot.getCellMeta(t,i),s="".concat(a.className||""," rangeBar");(i===e&&o.partialStart||i===n&&o.partialEnd)&&(s+=" partial"),i===n&&(s+=" last"),this.hot.setCellMeta(t,i,"originalClassName",a.className),this.hot.setCellMeta(t,i,"className",s),this.hot.setCellMeta(t,i,"additionalData",o.additionalData),this.cacheRangeBarMeta(t,i,"originalClassName",a.className),this.cacheRangeBarMeta(t,i,"className",s),this.cacheRangeBarMeta(t,i,"additionalData",o.additionalData)}}},{key:"removeRangeBarByDate",value:function(t,e){var n=this.dateCalculator.dateToColumn(e);this.removeRangeBarByColumn(t,n)}},{key:"removeRangeBarByColumn",value:function(t,e){var n=this,r=this.dateCalculator.getYear(),o=this.rangeBars[r][t][e];o&&(this.unrenderRangeBar(t,e,e+o.barLength-1),this.rangeBars[r][t][e]=null,Object(M.objectEach)(this.rangeList,function(r,o){var i=parseInt(o,10);JSON.stringify(r)===JSON.stringify([t,e])&&(n.rangeList[i]=null)}))}},{key:"removeAllRangeBars",value:function(){var t=this;Object(M.objectEach)(this.rangeBars,function(e,n){Object(M.objectEach)(e,function(e,r){t.removeRangeBarByColumn(n,r)})})}},{key:"unrenderRangeBar",value:function(t,e,n){for(var r=e;r<=n;r++){var o=this.hot.getCellMeta(t,r);this.hot.setCellMeta(t,r,"className",o.originalClassName),this.hot.setCellMeta(t,r,"originalClassName",void 0),this.cacheRangeBarMeta(t,r,"className",o.originalClassName),this.cacheRangeBarMeta(t,r,"originalClassName",void 0)}this.hot.render()}},{key:"uniformBackgroundRenderer",value:function(t,e,n,r,o,i,a){var s=this.getRangeBarData(n,r),l=this.getRangeBarCoordinates(n);e.innerHTML="",a.className&&(e.className=a.className);var u="";Object(M.objectEach)(a.additionalData,function(t,e){u+="".concat(e,": ").concat(t,"\n")}),u=u.replace(/\n$/,""),e.title=u,s&&s.colors?r===l[1]&&s.partialStart||r===l[1]+s.barLength-1&&s.partialEnd?e.style.background=s.colors[1]:e.style.background=s.colors[0]:e.style.background=""}},{key:"setRangeBarColors",value:function(t){var e=this;this.colorData=t,Object(M.objectEach)(t,function(t,n){var r=e.getRangeBarCoordinates(n);r&&e.updateRangeBarData(r[0],r[1],{colors:t})}),this.hot.render()}},{key:"setYear",value:function(t){var e=Object(M.extend)(this.hot.getSettings().ganttChart,{startYear:t});this.hot.updateSettings({ganttChart:e})}},{key:"onAfterInit",value:function(){this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.applyDataSource()}},{key:"onUpdateSettings",value:function(){this.internalUpdateSettings?this.applyRangeBarMetaCache():hd(fd(e.prototype),"onUpdateSettings",this).call(this)}},{key:"destroy",value:function(){this.hotSource&&this.dataFeed.removeSourceHotHooks(this.hotSource),hd(fd(e.prototype),"destroy",this).call(this)}}])&&ud(n.prototype,r),o&&ud(n,o),e}();Object(D.d)("ganttChart",pd);var gd=pd;function md(t){return(md="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yd(t,e){return!e||"object"!==md(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bd(t,e,n){return(bd="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wd(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function wd(t){return(wd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cd(t,e){return(Cd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Od=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=yd(this,wd(e).call(this,t))).settings=null,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cd(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().headerTooltips}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.settings=this.hot.getSettings().headerTooltips,this.parseSettings(),this.addHook("afterGetColHeader",function(e,n){return t.onAfterGetHeader(e,n)}),this.addHook("afterGetRowHeader",function(e,n){return t.onAfterGetHeader(e,n)}),bd(wd(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.settings=null,this.clearTitleAttributes(),bd(wd(e.prototype),"disablePlugin",this).call(this)}},{key:"parseSettings",value:function(){"boolean"===typeof this.settings&&(this.settings={rows:!0,columns:!0,onlyTrimmed:!1})}},{key:"clearTitleAttributes",value:function(){var t=this.hot.view.wt.getSetting("columnHeaders").length,e=this.hot.view.wt.wtTable.THEAD,n=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.THEAD,r=this.hot.view.wt.wtOverlays.topLeftCornerOverlay,o=r?r.clone.wtTable.THEAD:null;Object(x.rangeEach)(0,t-1,function(t){var r=e.childNodes[t],i=n.childNodes[t],a=o?o.childNodes[t]:null;Object(x.rangeEach)(0,r.childNodes.length-1,function(t){r.childNodes[t].removeAttribute("title"),i&&i.childNodes[t]&&i.childNodes[t].removeAttribute("title"),o&&a&&a.childNodes[t]&&a.childNodes[t].removeAttribute("title")})},!0)}},{key:"onAfterGetHeader",value:function(t,e){var n=e.querySelector("span"),r="THEAD"===e.parentNode.parentNode.nodeName;(r&&this.settings.columns||!r&&this.settings.rows)&&(this.settings.onlyTrimmed?Object(v.outerWidth)(n)>=Object(v.outerWidth)(e)&&0!==Object(v.outerWidth)(n)&&e.setAttribute("title",n.textContent):e.setAttribute("title",n.textContent))}},{key:"destroy",value:function(){this.settings=null,bd(wd(e.prototype),"destroy",this).call(this)}}])&&vd(n.prototype,r),o&&vd(n,o),e}();Object(D.d)("headerTooltips",Od);var Sd=Od;function Ed(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var kd=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nestedHeaders=e,this.container=void 0,this.widthsCache=[]}var e,n,r;return e=t,(n=[{key:"buildWidthsMapper",value:function(){this.container=this.nestedHeaders.hot.rootDocument.createElement("div"),this.buildGhostTable(this.container),this.nestedHeaders.hot.rootElement.appendChild(this.container);for(var t=this.container.querySelectorAll("tr:last-of-type th"),e=t.length,n=0;n<e;n++)this.widthsCache.push(t[n].offsetWidth);this.container.parentNode.removeChild(this.container),this.container=null,this.nestedHeaders.hot.render()}},{key:"buildGhostTable",value:function(t){for(var e=this.nestedHeaders.hot.rootDocument,n=e.createDocumentFragment(),r=e.createElement("table"),o=!1,i=!!this.nestedHeaders.hot.getSettings().dropdownMenu,a=this.nestedHeaders.colspanArray.length,s=this.nestedHeaders.hot.countCols(),l=a-1,u=0;u<a;u++){var c=e.createElement("tr");o=!1;for(var h=0;h<s;h++){var f=e.createElement("th"),d=Object(M.clone)(this.nestedHeaders.colspanArray[u][h]);d&&!d.hidden&&(u===l&&(d.colspan>1&&(o=!0),i&&(d.label+='<button class="changeType"></button>')),Object(v.fastInnerHTML)(f,d.label),f.colSpan=d.colspan,c.appendChild(f))}r.appendChild(c)}if(o){for(var p=e.createElement("tr"),g=0;g<s;g++){var m=e.createElement("th");p.appendChild(m)}r.appendChild(p)}n.appendChild(r),t.appendChild(n)}},{key:"clear",value:function(){this.container=null,this.widthsCache.length=0}}])&&Ed(e.prototype,n),r&&Ed(e,r),t}();function Td(t){return(Td="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rd(){var t=Md(["Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\n                is currently not supported and might result in glitches."]);return Rd=function(){return t},t}function xd(){var t=Md(["You have declared a Nested Header overlapping the Fixed Columns section - it may lead to visual\n          glitches. To prevent that kind of problems, split the nested headers between the fixed and non-fixed columns."]);return xd=function(){return t},t}function Md(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ad(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _d(t,e,n){return(_d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pd(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Pd(t){return(Pd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Id(t,e){return(Id=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dd=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Pd(e).call(this,t))||"object"!==Td(o)&&"function"!==typeof o?Nd(r):o).settings=[],n.columnHeaderLevelCount=0,n.colspanArray=[],n.ghostTable=new kd(Nd(n)),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Id(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().nestedHeaders}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.settings=this.hot.getSettings().nestedHeaders,this.addHook("afterGetColumnHeaderRenderers",function(e){return t.onAfterGetColumnHeaderRenderers(e)}),this.addHook("afterInit",function(){return t.onAfterInit()}),this.addHook("afterOnCellMouseDown",function(e,n){return t.onAfterOnCellMouseDown(e,n)}),this.addHook("beforeOnCellMouseOver",function(e,n,r,o){return t.onBeforeOnCellMouseOver(e,n,r,o)}),this.addHook("afterViewportColumnCalculatorOverride",function(e){return t.onAfterViewportColumnCalculatorOverride(e)}),this.addHook("modifyColWidth",function(e,n){return t.onModifyColWidth(e,n)}),this.setupColspanArray(),this.checkForFixedColumnsCollision(),this.columnHeaderLevelCount=this.hot.view?this.hot.view.wt.getSetting("columnHeaders").length:0,_d(Pd(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.clearColspans(),this.settings=[],this.columnHeaderLevelCount=0,this.colspanArray=[],this.ghostTable.clear(),_d(Pd(e.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),_d(Pd(e.prototype),"updatePlugin",this).call(this),this.ghostTable.buildWidthsMapper()}},{key:"clearColspans",value:function(){if(this.hot.view)for(var t=this.hot.view.wt.getSetting("columnHeaders").length,e=this.hot.view.wt.wtTable.THEAD,n=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.THEAD,r=this.hot.view.wt.wtOverlays.topLeftCornerOverlay?this.hot.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.THEAD:null,o=0;o<t;o++){var i=e.childNodes[o];if(!i)break;for(var a=n.childNodes[o],s=r?r.childNodes[o]:null,l=0,u=i.childNodes.length;l<u;l++)i.childNodes[l].removeAttribute("colspan"),a&&a.childNodes[l]&&a.childNodes[l].removeAttribute("colspan"),r&&s&&s.childNodes[l]&&s.childNodes[l].removeAttribute("colspan")}}},{key:"checkForFixedColumnsCollision",value:function(){var t=this,e=this.hot.getSettings().fixedColumnsLeft;Object(y.arrayEach)(this.colspanArray,function(n,r){t.getNestedParent(r,e)!==e&&Object(Wi.b)(Object(Pi.a)(xd()))})}},{key:"checkForOverlappingHeaders",value:function(){var t=this;Object(y.arrayEach)(this.colspanArray,function(e,n){Object(y.arrayEach)(t.colspanArray[n],function(e,r){if(e.colspan>1){var o=t.levelToRowCoords(n),i=t.getChildHeaders(o,r);if(i.length>0){var a=0;return Object(y.arrayEach)(i,function(e){a+=t.getColspan(o+1,e)}),a>e.colspan&&Object(Wi.b)(Object(Pi.a)(Rd())),!1}}})})}},{key:"setupColspanArray",value:function(){var t=this;Object(M.objectEach)(this.settings,function(e,n){Object(M.objectEach)(e,function(e,r,o){var i,a;if((i=t.colspanArray)[a=n]||(i[a]=[]),void 0===o[r].colspan)t.colspanArray[n].push({label:o[r]||"",colspan:1,hidden:!1});else{var s=o[r].colspan||1;t.colspanArray[n].push({label:o[r].label||"",colspan:s,hidden:!1}),t.fillColspanArrayWithDummies(s,n)}})})}},{key:"fillColspanArrayWithDummies",value:function(t,e){var n=this;Object(x.rangeEach)(0,t-2,function(){n.colspanArray[e].push({label:"",colspan:1,hidden:!0})})}},{key:"headerRendererFactory",value:function(t){var e=this;return function(n,r){var o=e.hot.rootDocument;if(r.removeAttribute("colspan"),Object(v.removeClass)(r,"hiddenHeader"),e.colspanArray[t][n]&&e.colspanArray[t][n].colspan){var i=e.colspanArray[t][n].colspan,a=e.hot.getSettings().fixedColumnsLeft||0,s=e.hot.view.wt.wtOverlays,l=s.leftOverlay,u=s.topLeftCornerOverlay,c=!!u&&u.clone.wtTable.THEAD.contains(r),h=!!l&&l.clone.wtTable.THEAD.contains(r);i>1&&r.setAttribute("colspan",c||h?Math.min(i,a-n):i),(c||h&&n===a-1)&&Object(v.addClass)(r,"overlayEdge")}e.colspanArray[t][n]&&e.colspanArray[t][n].hidden&&Object(v.addClass)(r,"hiddenHeader"),Object(v.empty)(r);var f=o.createElement("DIV");Object(v.addClass)(f,"relative");var d=o.createElement("SPAN");Object(v.addClass)(d,"colHeader"),Object(v.fastInnerHTML)(d,e.colspanArray[t][n]&&e.colspanArray[t][n].label||""),f.appendChild(d),r.appendChild(f),e.hot.runHooks("afterGetColHeader",n,r)}}},{key:"getColspan",value:function(t,e){var n=this.colspanArray[this.rowCoordsToLevel(t)][e];return n?n.colspan:1}},{key:"levelToRowCoords",value:function(t){return t-this.columnHeaderLevelCount}},{key:"rowCoordsToLevel",value:function(t){return t+this.columnHeaderLevelCount}},{key:"getNestedParent",value:function(t,e){if(t<0)return!1;var n=this.colspanArray[t][e]?this.colspanArray[t][e].colspan:1,r=!!this.colspanArray[t][e]&&this.colspanArray[t][e].hidden;if(n>1||1===n&&!1===r)return e;var o=e-1;do{if(this.colspanArray[t][o].colspan>1)break;o-=1}while(e>=0);return o}},{key:"getChildHeaders",value:function(t,e){var n=this.rowCoordsToLevel(t),r=this.colspanArray[n+1],o=this.getNestedParent(n,e),i=this.colspanArray[n][e].colspan,a=[];return r?(Object(x.rangeEach)(o,o+i-1,function(t){r[t]&&r[t].colspan>1&&(i-=r[t].colspan-1),r[t]&&!r[t].hidden&&-1===a.indexOf(t)&&a.push(t)}),a):a}},{key:"fillTheRemainingColspans",value:function(){var t=this;Object(M.objectEach)(this.settings,function(e,n){Object(x.rangeEach)(t.colspanArray[n].length-1,t.hot.countCols()-1,function(r){t.colspanArray[n].push({label:e[r]||"",colspan:1,hidden:!1})},!0)})}},{key:"updateHeadersHighlight",value:function(){var t=this,e=this.hot.getSelectedLast();if(void 0!==e){var n=this.hot.view.wt.wtOverlays,r=this.hot.selection.isSelectedByColumnHeader(),o=Math.min(e[1],e[3]),i=Math.max(e[1],e[3]),a=r?-1:this.columnHeaderLevelCount-1,s=[],l=function(t){return function(e,n){return function(){return n(e,t)}}},u=l("ht__highlight"),c=l("ht__active_highlight");Object(x.rangeEach)(o,i,function(e){for(var l=function(l){var h=t.getNestedParent(l,e),f=[n.topOverlay?n.topOverlay.clone.wtTable.getColumnHeader(h,l):void 0,n.topLeftCornerOverlay?n.topLeftCornerOverlay.clone.wtTable.getColumnHeader(h,l):void 0],d=t.getColspan(l-t.columnHeaderLevelCount,h),p=h>=o&&h+d-1<=i;Object(y.arrayEach)(f,function(t){if(void 0===t)return!1;!r&&l<a||r&&!p?(s.push(u(t,v.removeClass)),r&&s.push(c(t,v.removeClass))):(s.push(u(t,v.addClass)),r&&s.push(c(t,v.addClass)))})},h=t.columnHeaderLevelCount-1;h>-1;h--)l(h)}),Object(y.arrayEach)(s,function(t){t()}),s.length=0}}},{key:"onAfterViewportColumnCalculatorOverride",value:function(t){var e=this,n=t.startColumn;Object(x.rangeEach)(0,Math.max(this.columnHeaderLevelCount-1,0),function(r){var o=e.getNestedParent(r,t.startColumn);o<t.startColumn&&(n=Math.min(n,o))}),t.startColumn=n}},{key:"onAfterOnCellMouseDown",value:function(t,e){if(e.row<0){var n=this.getColspan(e.row,e.col),r=e.col+n-1;if(n>1){var o=this.hot.countRows()-1;this.hot.selection.setRangeEnd(new J.a(o,r))}}}},{key:"onBeforeOnCellMouseOver",value:function(t,e,n,r){if(!(e.row>=0||e.col<0)&&this.hot.view.isMouseDown()){var o=this.hot.getSelectedRangeLast(),i=o.from,a=o.to,s=this.getColspan(e.row,e.col),l=e.col+s-1,u=!1;if(i.col<=a.col?(e.col<i.col&&l===a.col||e.col<i.col&&l<i.col||e.col<i.col&&l>=i.col&&l<a.col)&&(u=!0):(e.col<a.col&&l>i.col||e.col>i.col||e.col<=a.col&&l>i.col||e.col>a.col&&l>i.col)&&(u=!0),u){var c=[a.col,i.col];i.col=c[0],a.col=c[1]}if(s>1){var h;r.column=!0,r.cell=!0;var f=[];i.col===a.col&&(l<=i.col&&e.col<i.col?f.push(a.col,e.col):f.push(e.col<i.col?e.col:i.col,l>a.col?l:a.col)),i.col<a.col&&f.push(e.col<i.col?e.col:i.col,l),i.col>a.col&&f.push(i.col,e.col),(h=this.hot).selectColumns.apply(h,f)}}}},{key:"onAfterInit",value:function(){this.columnHeaderLevelCount=this.hot.view.wt.getSetting("columnHeaders").length,this.fillTheRemainingColspans(),this.checkForOverlappingHeaders(),this.ghostTable.buildWidthsMapper()}},{key:"onAfterGetColumnHeaderRenderers",value:function(t){if(t){t.length=0;for(var e=this.colspanArray.length-1;e>=0;e--)t.push(this.headerRendererFactory(e));t.reverse()}this.updateHeadersHighlight()}},{key:"onModifyColWidth",value:function(t,e){var n=this.ghostTable.widthsCache[e];return t>n?t:n}},{key:"destroy",value:function(){this.settings=null,this.columnHeaderLevelCount=null,this.colspanArray=null,_d(Pd(e.prototype),"destroy",this).call(this)}}])&&Ad(n.prototype,r),o&&Ad(n,o),e}();Object(D.d)("nestedHeaders",Dd);var Ld=Dd;function jd(t){return(jd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Bd=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=n,this.data=r,this.plugin=e,this.parentReference=new WeakMap,this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},this.recordTranslator=Object(I.a)(this.hot)}var e,n,r;return e=t,(n=[{key:"rewriteCache",value:function(){var t=this;this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Object(x.rangeEach)(0,this.data.length-1,function(e){t.cacheNode(t.data[e],0,null)})}},{key:"cacheNode",value:function(t,e,n){var r=this;this.cache.levels[e]||(this.cache.levels[e]=[],this.cache.levelCount+=1),this.cache.levels[e].push(t),this.cache.rows.push(t),this.cache.nodeInfo.set(t,{parent:n,row:this.cache.rows.length-1,level:e}),this.hasChildren(t)&&Object(y.arrayEach)(t.__children,function(n){r.cacheNode(n,e+1,t)})}},{key:"getDataObject",value:function(t){return null===t||void 0===t?null:this.cache.rows[t]}},{key:"readTreeNodes",value:function(t,e,n,r){var o=this,i=!1,a=e;if(isNaN(a)&&a.end)return a;var s=t;return s||(s={__children:this.data},i=!0,a-=1),null!==n&&void 0!==n&&a===n?{result:s,end:!0}:null!==r&&void 0!==r&&s===r?{result:a,end:!0}:(a+=1,s.__children&&Object(y.arrayEach)(s.__children,function(t){if(o.parentReference.set(t,i?null:s),a=o.readTreeNodes(t,a,n,r),isNaN(a)&&a.end)return!1}),a)}},{key:"updateParentReference",value:function(){this.readTreeNodes({__children:this.data},0,this.hot.countRows())}},{key:"mockParent",value:function(){var t=this.mockNode();return t.__children=this.data,t}},{key:"mockNode",value:function(){var t={};return Object(M.objectEach)(this.data[0],function(e,n){t[n]=null}),t}},{key:"getRowIndex",value:function(t){return null===t||void 0===t?null:this.cache.nodeInfo.get(t).row}},{key:"getRowIndexWithinParent",value:function(t){var e=null;e=isNaN(t)?t:this.getDataObject(t);var n=this.getRowParent(t);return null===n||void 0===n?this.data.indexOf(e):n.__children.indexOf(e)}},{key:"countAllRows",value:function(){var t={__children:this.data};return this.countChildren(t)}},{key:"countChildren",value:function(t){var e=this,n=0,r=t;return isNaN(r)||(r=this.getDataObject(r)),r&&r.__children?(Object(y.arrayEach)(r.__children,function(t){n+=1,t.__children&&(n+=e.countChildren(t))}),n):0}},{key:"getRowParent",value:function(t){var e;return e=isNaN(t)?t:this.getDataObject(t),this.getRowObjectParent(e)}},{key:"getRowObjectParent",value:function(t){return"object"!==jd(t)?null:this.cache.nodeInfo.get(t).parent}},{key:"getRowLevel",value:function(t){var e=null;return(e=isNaN(t)?t:this.getDataObject(t))?this.getRowObjectLevel(e):null}},{key:"getRowObjectLevel",value:function(t){return null===t||void 0===t?null:this.cache.nodeInfo.get(t).level}},{key:"hasChildren",value:function(t){var e=t;return isNaN(e)||(e=this.getDataObject(e)),!(!e.__children||!e.__children.length)}},{key:"isParent",value:function(t){var e=t;return isNaN(e)||(e=this.getDataObject(e)),!!Object(M.hasOwnProperty)(e,"__children")}},{key:"addChild",value:function(t,e){var n=e;this.hot.runHooks("beforeAddChild",t,n);var r=null;t&&(r=this.getRowIndex(t)),this.hot.runHooks("beforeCreateRow",r+this.countChildren(t)+1,1);var o=t;t||(o=this.mockParent()),o.__children||(o.__children=[]),n||(n=this.mockNode()),o.__children.push(n),this.rewriteCache();var i=this.getRowIndex(n);this.hot.runHooks("afterCreateRow",i,1),this.hot.runHooks("afterAddChild",t,n)}},{key:"addChildAtIndex",value:function(t,e,n,r){var o=n;this.hot.runHooks("beforeAddChild",t,o,e),this.hot.runHooks("beforeCreateRow",r+1,1);var i=t;t||(i=this.mockParent()),i.__children||(i.__children=[]),o||(o=this.mockNode()),i.__children.splice(e,null,o),this.rewriteCache(),this.hot.runHooks("afterCreateRow",r+1,1),this.hot.runHooks("afterAddChild",t,o,e)}},{key:"addSibling",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"below",n=this.translateTrimmedRow(t),r=this.getRowParent(n),o=this.getRowIndexWithinParent(n);switch(e){case"below":this.addChildAtIndex(r,o+1,null,t);break;case"above":this.addChildAtIndex(r,o,null,t)}}},{key:"detachFromParent",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=null,o=[];Array.isArray(t)?(Object(x.rangeEach)(t[0],t[2],function(t){var n=e.translateTrimmedRow(t);o.push(e.getDataObject(n))}),Object(x.rangeEach)(0,o.length-2,function(t){e.detachFromParent(o[t],!1)}),r=o[o.length-1]):r=t;var i=this.getRowIndex(r),a=this.getRowIndexWithinParent(r),s=this.getRowParent(r),l=this.getRowParent(s),u=this.getRowIndex(l),c=null;this.hot.runHooks("beforeDetachChild",s,r),null!==a&&void 0!==a&&(this.hot.runHooks("beforeRemoveRow",i,1,[i],this.plugin.pluginName),s.__children.splice(a,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",i,1,[i],this.plugin.pluginName),l?(c=u+this.countChildren(l),this.hot.runHooks("beforeCreateRow",c,1,this.plugin.pluginName),l.__children.push(r)):(c=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",c,1,this.plugin.pluginName),this.data.push(r))),this.rewriteCache(),this.hot.runHooks("afterCreateRow",c,1,this.plugin.pluginName),n&&this.hot.render(),this.hot.runHooks("afterDetachChild",s,r)}},{key:"filterData",value:function(t,e,n){var r=this,o=[];Object(y.arrayEach)(n,function(t){o.push(r.getDataObject(t))}),Object(y.arrayEach)(o,function(t){var e=r.getRowIndexWithinParent(t),n=r.getRowParent(t);null===n?r.data.splice(e,1):n.__children.splice(e,1)}),this.rewriteCache()}},{key:"spliceData",value:function(t,e,n){var r=this.translateTrimmedRow(t);if(null!==r&&void 0!==r){var o=this.getDataObject(r-1),i=null,a=null;o&&o.__children&&0===o.__children.length?(i=o,a=0):(i=this.getRowParent(r),a=this.getRowIndexWithinParent(r)),i?n?i.__children.splice(a,e,n):i.__children.splice(a,e):n?this.data.splice(a,e,n):this.data.splice(a,e),this.rewriteCache()}}},{key:"moveRow",value:function(t,e){var n=this.isParent(e),r=this.getRowParent(t),o=this.getRowIndexWithinParent(t),i=this.getRowParent(e);null!==i&&void 0!==i||(i=this.getRowParent(e-1)),null!==i&&void 0!==i||(i=this.getDataObject(e-1)),i?i.__children||(i.__children=[]):(i=this.getDataObject(e)).__children=[];var a=this.getRowParent(e-1),s=n?this.countChildren(a):this.getRowIndexWithinParent(e),l=r.__children.slice(o,o+1);r.__children.splice(o,1),i.__children.splice(s,0,l[0])}},{key:"moveCellMeta",value:function(t,e){var n=this.hot.getCellMetaAtRow(t);this.hot.spliceCellsMeta(e,0,n),this.hot.spliceCellsMeta(t+(t<e?0:1),1)}},{key:"translateTrimmedRow",value:function(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(t):t}}])&&Hd(e.prototype,n),r&&Hd(e,r),t}();var Fd=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=n,this.plugin=e};function Wd(t){return(Wd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vd(t,e){return!e||"object"!==Wd(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ud(t){return(Ud=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yd(t,e,n){return e&&zd(t.prototype,e),n&&zd(t,n),t}function Gd(t,e){return(Gd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xd=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Vd(this,Ud(e).call(this,t,n))).dataManager=r.plugin.dataManager,r.collapsingUI=r.plugin.collapsingUI,r.rowHeaderWidthCache=null,r.trimRowsPlugin=t.trimRowsPlugin,r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gd(t,e)}(e,Fd),Yd(e,null,[{key:"CSS_CLASSES",get:function(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}}]),Yd(e,[{key:"appendLevelIndicators",value:function(t,n){var r=this.trimRowsPlugin.rowsMapper.getValueByIndex(t),o=this.dataManager.getRowLevel(r),i=this.dataManager.getDataObject(r),a=n.getElementsByTagName("DIV")[0],s=a.querySelector("span.rowHeader"),l=a.querySelectorAll('[class^="ht_nesting"]');if(Object(y.arrayEach)(l,function(t){t&&a.removeChild(t)}),Object(v.addClass)(n,e.CSS_CLASSES.indicatorContainer),o){var u=this.hot.rootDocument,c=s.cloneNode(!0);a.innerHTML="",Object(x.rangeEach)(0,o-1,function(){var t=u.createElement("SPAN");Object(v.addClass)(t,e.CSS_CLASSES.emptyIndicator),a.appendChild(t)}),a.appendChild(c)}if(this.dataManager.hasChildren(i)){var h=this.hot.rootDocument.createElement("DIV");Object(v.addClass)(n,e.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(r)?Object(v.addClass)(h,"".concat(e.CSS_CLASSES.button," ").concat(e.CSS_CLASSES.expandButton)):Object(v.addClass)(h,"".concat(e.CSS_CLASSES.button," ").concat(e.CSS_CLASSES.collapseButton)),a.appendChild(h)}}},{key:"updateRowHeaderWidth",value:function(t){var e=t;e||(e=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*e+25),this.hot.render()}}]),e}();function Kd(t){return(Kd="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qd(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function $d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qd(t,e){return!e||"object"!==Kd(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zd(t){return(Zd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jd(t,e){return(Jd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var tp=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Qd(this,Zd(e).call(this,t,n))).trimRowsPlugin=t.trimRowsPlugin,r.dataManager=r.plugin.dataManager,r.collapsedRows=[],r.collapsedRowsStash={stash:function(){r.lastCollapsedRows=r.collapsedRows.slice(0),r.expandMultipleChildren(r.lastCollapsedRows,!1)},shiftStash:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=r.translateTrimmedRow(t);Object(y.arrayEach)(r.lastCollapsedRows,function(t,o){t>n-1&&(r.lastCollapsedRows[o]=t+e)})},applyStash:function(){r.hot.runHooks("skipLengthCache",100),r.collapseMultipleChildren(r.lastCollapsedRows,!0),r.lastCollapsedRows=void 0},trimStash:function(t,e){Object(x.rangeEach)(t,t+e-1,function(t){var e=r.lastCollapsedRows.indexOf(t);e>-1&&r.lastCollapsedRows.splice(e,1)})}},r}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jd(t,e)}(e,Fd),n=e,(r=[{key:"collapseChildren",value:function(t){var e,n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[],a=null,s=null;return isNaN(t)?(a=t,s=this.dataManager.getRowIndex(a)):(a=this.dataManager.getDataObject(t),s=t),this.dataManager.hasChildren(a)&&Object(y.arrayEach)(a.__children,function(t){i.push(n.dataManager.getRowIndex(t))}),e=this.collapseRows(i,!0,!1),o&&this.trimRowsPlugin.trimRows(e),r&&this.renderAndAdjust(),-1===this.collapsedRows.indexOf(s)&&this.collapsedRows.push(s),e}},{key:"collapseMultipleChildren",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=[];Object(y.arrayEach)(t,function(t){o.push.apply(o,qd(e.collapseChildren(t,!1,!1)))}),r&&this.trimRowsPlugin.trimRows(o),n&&this.renderAndAdjust()}},{key:"collapseRow",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.collapseRows([t],e)}},{key:"collapseRows",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[];return Object(y.arrayEach)(t,function(t){o.push(t),n&&e.collapseChildRows(t,o)}),r&&this.trimRowsPlugin.trimRows(o),o}},{key:"collapseChildRows",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(arguments.length>2&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3]);if(this.dataManager.hasChildren(t)){var o=this.dataManager.getDataObject(t);Object(y.arrayEach)(o.__children,function(t){var r=e.dataManager.getRowIndex(t);n.push(r),e.collapseChildRows(r,n)})}r&&this.trimRowsPlugin.trimRows(n)}},{key:"expandRow",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.expandRows([t],e)}},{key:"expandRows",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[];return Object(y.arrayEach)(t,function(t){o.push(t),n&&e.expandChildRows(t,o)}),r&&this.trimRowsPlugin.untrimRows(o),o}},{key:"expandChildRows",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(arguments.length>2&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3]);if(this.dataManager.hasChildren(t)){var o=this.dataManager.getDataObject(t);Object(y.arrayEach)(o.__children,function(t){if(!e.isAnyParentCollapsed(t)){var r=e.dataManager.getRowIndex(t);n.push(r),e.expandChildRows(r,n)}})}r&&this.trimRowsPlugin.untrimRows(n)}},{key:"expandChildren",value:function(t){var e,n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=[],a=null,s=null;return isNaN(t)?(a=t,s=this.dataManager.getRowIndex(t)):(a=this.dataManager.getDataObject(t),s=t),this.collapsedRows.splice(this.collapsedRows.indexOf(s),1),this.dataManager.hasChildren(a)&&Object(y.arrayEach)(a.__children,function(t){var e=n.dataManager.getRowIndex(t);i.push(e)}),e=this.expandRows(i,!0,!1),o&&this.trimRowsPlugin.untrimRows(e),r&&this.renderAndAdjust(),e}},{key:"expandMultipleChildren",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=[];Object(y.arrayEach)(t,function(t){o.push.apply(o,qd(e.expandChildren(t,!1,!1)))}),r&&this.trimRowsPlugin.untrimRows(o),n&&this.renderAndAdjust()}},{key:"collapseAll",value:function(){var t=this,e=this.hot.getSourceData(),n=[];Object(y.arrayEach)(e,function(e){t.dataManager.hasChildren(e)&&n.push(e)}),this.collapseMultipleChildren(n),this.renderAndAdjust()}},{key:"expandAll",value:function(){var t=this,e=this.hot.getSourceData(),n=[];Object(y.arrayEach)(e,function(e){t.dataManager.hasChildren(e)&&n.push(e)}),this.expandMultipleChildren(n),this.renderAndAdjust()}},{key:"areChildrenCollapsed",value:function(t){var e=this,n=null,r=!0;return n=isNaN(t)?t:this.dataManager.getDataObject(t),this.dataManager.hasChildren(n)&&Object(y.arrayEach)(n.__children,function(t){var n=e.dataManager.getRowIndex(t);if(!e.trimRowsPlugin.isTrimmed(n))return r=!1,!1}),r}},{key:"isAnyParentCollapsed",value:function(t){for(var e=t;null!==e;){e=this.dataManager.getRowParent(e);var n=this.dataManager.getRowIndex(e);if(this.collapsedRows.indexOf(n)>-1)return!0}return!1}},{key:"toggleState",value:function(t,e){if(!(e.col>=0)){var n=this.translateTrimmedRow(e.row);Object(v.hasClass)(t.target,Xd.CSS_CLASSES.button)&&(this.areChildrenCollapsed(n)?this.expandChildren(n):this.collapseChildren(n),Object(P.stopImmediatePropagation)(t))}}},{key:"translateTrimmedRow",value:function(t){return this.trimRowsPlugin.rowsMapper.getValueByIndex(t)}},{key:"renderAndAdjust",value:function(){this.hot.render(),this.hot.view.wt.wtOverlays.adjustElementsSize()}}])&&$d(n.prototype,r),o&&$d(n,o),e}();function ep(t){return(ep="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function np(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rp(t){return(rp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function op(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ip(t,e){return(ip=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ap=new WeakMap,sp=function(t){function e(t,n){var r,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,i=rp(e).call(this,t,n),r=!i||"object"!==ep(i)&&"function"!==typeof i?op(o):i,ap.set(op(r),{row_above:function(t,e){r.dataManager.addSibling(e.start.row,"above")},row_below:function(t,e){r.dataManager.addSibling(e.start.row,"below")}}),r.dataManager=r.plugin.dataManager,r}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ip(t,e)}(e,Fd),n=e,(r=[{key:"appendOptions",value:function(t){var e=this,n=[{key:"add_child",name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD)},callback:function(){var t=e.dataManager.translateTrimmedRow(e.hot.getSelectedLast()[0]),n=e.dataManager.getDataObject(t);e.dataManager.addChild(n)},disabled:function(){var t=e.hot.getSelectedLast();return!t||t[0]<0||e.hot.selection.isSelectedByColumnHeader()||e.hot.countRows()>=e.hot.getSettings().maxRows}},{key:"detach_from_parent",name:function(){return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD)},callback:function(){e.dataManager.detachFromParent(e.hot.getSelectedLast())},disabled:function(){var t=e.hot.getSelectedLast(),n=e.dataManager.translateTrimmedRow(t[0]);return!e.dataManager.getRowParent(n)||!t||t[0]<0||e.hot.selection.isSelectedByColumnHeader()||e.hot.countRows()>=e.hot.getSettings().maxRows}},{name:"---------"}];return Object(x.rangeEach)(0,t.items.length-1,function(e){if(0===e)return Object(y.arrayEach)(n,function(n,r){t.items.splice(e+r,0,n)}),!1}),this.modifyRowInsertingOptions(t)}},{key:"modifyRowInsertingOptions",value:function(t){var e=ap.get(this);return Object(x.rangeEach)(0,t.items.length-1,function(n){var r=e[t.items[n].key];null!==r&&void 0!==r&&(t.items[n].callback=r)}),t}}])&&np(n.prototype,r),o&&np(n,o),e}();function lp(t){return(lp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function up(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function cp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fp(t,e,n){return(fp="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dp(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function dp(t){return(dp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pp(t,e){return(pp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var gp=new WeakMap,mp=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=dp(e).call(this,t))||"object"!==lp(o)&&"function"!==typeof o?hp(r):o).sourceData=null,n.trimRowsPlugin=null,n.bindRowsWithHeadersPlugin=null,n.dataManager=null,n.headersUI=null,gp.set(hp(n),{changeSelection:!1,movedToFirstChild:!1,movedToCollapsed:!1,skipRender:null}),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pp(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().nestedRows}},{key:"enablePlugin",value:function(){var t=this;this.sourceData=this.hot.getSourceData(),this.trimRowsPlugin=this.hot.getPlugin("trimRows"),this.manualRowMovePlugin=this.hot.getPlugin("manualRowMove"),this.bindRowsWithHeadersPlugin=this.hot.getPlugin("bindRowsWithHeaders"),this.dataManager=new Bd(this,this.hot,this.sourceData),this.collapsingUI=new tp(this,this.hot,this.trimRowsPlugin),this.headersUI=new Xd(this,this.hot),this.contextMenuUI=new sp(this,this.hot),this.dataManager.rewriteCache(),this.addHook("afterInit",function(){return t.onAfterInit.apply(t,arguments)}),this.addHook("beforeRender",function(){return t.onBeforeRender.apply(t,arguments)}),this.addHook("modifyRowData",function(){return t.onModifyRowData.apply(t,arguments)}),this.addHook("modifySourceLength",function(){return t.onModifySourceLength.apply(t,arguments)}),this.addHook("beforeDataSplice",function(){return t.onBeforeDataSplice.apply(t,arguments)}),this.addHook("beforeDataFilter",function(){return t.onBeforeDataFilter.apply(t,arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){return t.onAfterContextMenuDefaultOptions.apply(t,arguments)}),this.addHook("afterGetRowHeader",function(){return t.onAfterGetRowHeader.apply(t,arguments)}),this.addHook("beforeOnCellMouseDown",function(){return t.onBeforeOnCellMouseDown.apply(t,arguments)}),this.addHook("afterRemoveRow",function(){return t.onAfterRemoveRow.apply(t,arguments)}),this.addHook("modifyRemovedAmount",function(){return t.onModifyRemovedAmount.apply(t,arguments)}),this.addHook("beforeAddChild",function(){return t.onBeforeAddChild.apply(t,arguments)}),this.addHook("afterAddChild",function(){return t.onAfterAddChild.apply(t,arguments)}),this.addHook("beforeDetachChild",function(){return t.onBeforeDetachChild.apply(t,arguments)}),this.addHook("afterDetachChild",function(){return t.onAfterDetachChild.apply(t,arguments)}),this.addHook("modifyRowHeaderWidth",function(){return t.onModifyRowHeaderWidth.apply(t,arguments)}),this.addHook("afterCreateRow",function(){return t.onAfterCreateRow.apply(t,arguments)}),this.addHook("beforeRowMove",function(){return t.onBeforeRowMove.apply(t,arguments)}),this.addHook("afterRowMove",function(){return t.onAfterRowMove.apply(t,arguments)}),this.trimRowsPlugin.isEnabled()||(this.trimRowsPlugin.enablePlugin(),this.hot.getSettings().trimRows=!0),fp(dp(e.prototype),"enablePlugin",this).call(this)}},{key:"disablePlugin",value:function(){fp(dp(e.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),fp(dp(e.prototype),"updatePlugin",this).call(this)}},{key:"onBeforeRowMove",value:function(t,e){var n,r,o,i=gp.get(this),a=t.length,s=[],l=this.dataManager.translateTrimmedRow(e),u=!0,c=null;for(n=0;n<a;n++)s.push(this.dataManager.translateTrimmedRow(t[n])),this.dataManager.isParent(s[n])&&(u=!1);if(s.indexOf(l)>-1||!u)return!1;if(r=this.dataManager.getRowParent(s[0]),null!==(c=this.dataManager.getRowParent(l))&&void 0!==c||(c=this.dataManager.getRowParent(l-1)),null!==c&&void 0!==c||(c=this.dataManager.getDataObject(l-1),i.movedToFirstChild=!0),!c)return!1;for(o=r===c,i.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(c),this.collapsingUI.collapsedRowsStash.stash(),o||(Math.max.apply(Math,s)<=l?this.collapsingUI.collapsedRowsStash.shiftStash(s[0],-1*t.length):this.collapsingUI.collapsedRowsStash.shiftStash(l,t.length)),i.changeSelection=!0,(s[a-1]<=l&&o||!0===i.movedToFirstChild)&&(t.reverse(),s.reverse(),!0!==i.movedToFirstChild&&(l-=1)),n=0;n<a;n++)this.dataManager.moveRow(s[n],l);if(s[s.length-1]<l)for(n=a-1;n>=0;n--)this.dataManager.moveCellMeta(s[n],l);else for(n=0;n<a;n++)this.dataManager.moveCellMeta(s[n],l);return(s[a-1]<=l&&o||this.dataManager.isParent(l))&&t.reverse(),this.dataManager.rewriteCache(),!1}},{key:"onAfterRowMove",value:function(t,e){var n=gp.get(this);if(n.changeSelection){var r,o,i=t.length,a=0,s=0,l=null;if(this.collapsingUI.collapsedRowsStash.applyStash(),r=this.dataManager.translateTrimmedRow(e),n.movedToFirstChild)n.movedToFirstChild=!1,a=e,s=e+i-1,e>=Math.max.apply(Math,up(t))&&(a-=i,s-=i);else if(n.movedToCollapsed){var u=this.dataManager.getRowParent(r-1);null!==u&&void 0!==u||(u=this.dataManager.getDataObject(r-1)),s=a=this.dataManager.getRowIndex(u)}else t[i-1]<e?a=(s=e-1)-i+1:s=(a=e)+i-1;l=this.hot.selection,o=this.hot.countCols()-1,l.setRangeStart(new J.a(a,0)),l.setRangeEnd(new J.a(s,o),!0),n.changeSelection=!1}}},{key:"onBeforeOnCellMouseDown",value:function(t,e,n){this.collapsingUI.toggleState(t,e,n)}},{key:"onModifyRowData",value:function(t){return this.dataManager.getDataObject(t)}},{key:"onModifySourceLength",value:function(){return this.dataManager.countAllRows()}},{key:"onBeforeDataSplice",value:function(t,e,n){return this.dataManager.spliceData(t,e,n),!1}},{key:"onBeforeDataFilter",value:function(t,e){var n=[],r=this.dataManager.translateTrimmedRow(t),o=gp.get(this);return Object(x.rangeEach)(r,r+e-1,function(t){n.push(t)}),this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(r,e),this.collapsingUI.collapsedRowsStash.shiftStash(r,-1*e),this.dataManager.filterData(t,e,n),o.skipRender=!0,!1}},{key:"onAfterContextMenuDefaultOptions",value:function(t){return this.contextMenuUI.appendOptions(t)}},{key:"onAfterGetRowHeader",value:function(t,e){this.headersUI.appendLevelIndicators(t,e)}},{key:"onModifyRowHeaderWidth",value:function(t){return this.headersUI.rowHeaderWidthCache||t}},{key:"onAfterRemoveRow",value:function(t,e,n,r){var o=this;if(r!==this.pluginName){var i=gp.get(this);setTimeout(function(){i.skipRender=null,o.headersUI.updateRowHeaderWidth(),o.collapsingUI.collapsedRowsStash.applyStash()},0)}}},{key:"onModifyRemovedAmount",value:function(t,e){var n=this,r=[],o=0;return Object(x.rangeEach)(e,e+t-1,function(t){var e=!1,i=n.collapsingUI.translateTrimmedRow(t),a=n.dataManager.getDataObject(i);n.dataManager.hasChildren(a)&&(r.push(a),Object(y.arrayEach)(r,function(t){if(t.__children.indexOf(a)>-1)return e=!0,!1}),e||(o+=n.dataManager.countChildren(a))),e=!1,Object(y.arrayEach)(r,function(t){if(t.__children.indexOf(a)>-1)return e=!0,!1}),e&&(o-=1)}),t+o}},{key:"onBeforeAddChild",value:function(){this.collapsingUI.collapsedRowsStash.stash()}},{key:"onAfterAddChild",value:function(t,e){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(e)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}},{key:"onBeforeDetachChild",value:function(){this.collapsingUI.collapsedRowsStash.stash()}},{key:"onAfterDetachChild",value:function(t,e){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(e)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}},{key:"onAfterCreateRow",value:function(t,e,n){n!==this.pluginName&&this.dataManager.rewriteCache()}},{key:"onAfterInit",value:function(){this.bindRowsWithHeadersPlugin.bindStrategy.strategy&&this.bindRowsWithHeadersPlugin.bindStrategy.createMap(this.hot.countSourceRows());var t=Math.max.apply(Math,up(this.dataManager.cache.levels));t>0&&this.headersUI.updateRowHeaderWidth(t)}},{key:"onBeforeRender",value:function(t,e){gp.get(this).skipRender&&(e.skipRender=!0)}}])&&cp(n.prototype,r),o&&cp(n,o),e}();Object(D.d)("nestedRows",mp);var vp=mp;function yp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function bp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function wp(t){return(wp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Op(t,e){return!e||"object"!==wp(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sp(t,e,n){return(Sp="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ep(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ep(t){return(Ep=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kp(t,e){return(kp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}m.a.getSingleton().register("beforeHideColumns"),m.a.getSingleton().register("afterHideColumns"),m.a.getSingleton().register("beforeUnhideColumns"),m.a.getSingleton().register("afterUnhideColumns");var Tp=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Op(this,Ep(e).call(this,t))).settings={},n.hiddenColumns=[],n.lastSelectedColumn=-1,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kp(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().hiddenColumns}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.hot.hasColHeaders()?this.addHook("afterGetColHeader",function(e,n){return t.onAfterGetColHeader(e,n)}):this.addHook("afterRenderer",function(e,n,r){return t.onAfterGetColHeader(r,e)}),this.addHook("afterContextMenuDefaultOptions",function(e){return t.onAfterContextMenuDefaultOptions(e)}),this.addHook("afterGetCellMeta",function(e,n,r){return t.onAfterGetCellMeta(e,n,r)}),this.addHook("modifyColWidth",function(e,n){return t.onModifyColWidth(e,n)}),this.addHook("beforeSetRangeStartOnly",function(e){return t.onBeforeSetRangeStart(e)}),this.addHook("beforeSetRangeEnd",function(e){return t.onBeforeSetRangeEnd(e)}),this.addHook("hiddenColumn",function(e){return t.isHidden(e)}),this.addHook("beforeStretchingColumnWidth",function(e,n){return t.onBeforeStretchingColumnWidth(e,n)}),this.addHook("afterCreateCol",function(e,n){return t.onAfterCreateCol(e,n)}),this.addHook("afterRemoveCol",function(e,n){return t.onAfterRemoveCol(e,n)}),this.addHook("init",function(){return t.onInit()}),this.hot.view&&this.onInit(),Sp(Ep(e.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),Sp(Ep(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.settings={},this.hiddenColumns=[],this.lastSelectedColumn=-1,this.hot.render(),Sp(Ep(e.prototype),"disablePlugin",this).call(this),this.resetCellsMeta()}},{key:"showColumns",value:function(t){var e=this.hiddenColumns,n=this.isColumnDataValid(t),r=e;n&&(r=this.hiddenColumns.filter(function(e){return!1===t.includes(e)})),!1!==this.hot.runHooks("beforeUnhideColumns",e,r,n)&&(n&&(this.hiddenColumns=r),this.hot.runHooks("afterUnhideColumns",e,r,n,n&&r.length<e.length))}},{key:"showColumn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.showColumns(e)}},{key:"hideColumns",value:function(t){var e=this.hiddenColumns,n=this.isColumnDataValid(t),r=e;n&&(r=Array.from(new Set(e.concat(t)))),!1!==this.hot.runHooks("beforeHideColumns",e,r,n)&&(n&&(this.hiddenColumns=r),this.hot.runHooks("afterHideColumns",e,r,n,n&&r.length>e.length))}},{key:"hideColumn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.hideColumns(e)}},{key:"isHidden",value:function(t){var e=t;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(e=this.hot.toPhysicalColumn(t)),this.hiddenColumns.includes(e)}},{key:"isColumnDataValid",value:function(t){var e=this;return t.every(function(t){return Number.isInteger(t)&&t>=0&&t<e.hot.countCols()})}},{key:"resetCellsMeta",value:function(){Object(y.arrayEach)(this.hot.getCellsMeta(),function(t){t&&(t.skipColumnOnPaste=!1,null!==t.baseRenderer&&(t.renderer=t.baseRenderer,t.baseRenderer=null))})}},{key:"onBeforeStretchingColumnWidth",value:function(t,e){var n=t;return this.isHidden(e)&&(n=0),n}},{key:"onModifyColWidth",value:function(t,e){return this.isHidden(e)?.1:this.settings.indicators&&(this.isHidden(e+1)||this.isHidden(e-1))?t+(this.hot.hasColHeaders()?15:0):void 0}},{key:"onAfterGetCellMeta",value:function(t,e,n){var r=this.hot.runHooks("unmodifyCol",e);if(!1===this.settings.copyPasteEnabled&&this.isHidden(e)&&(n.skipColumnOnPaste=!0),this.isHidden(r)?(n.renderer!==Rp&&(n.baseRenderer=n.renderer),n.renderer=Rp):null!==n.baseRenderer&&(n.renderer=n.baseRenderer,n.baseRenderer=null),this.isHidden(n.visualCol-1)){var o=!0,i=n.visualCol-1;n.className=n.className||"",-1===n.className.indexOf("afterHiddenColumn")&&(n.className+=" afterHiddenColumn");do{if(!this.isHidden(i)){o=!1;break}i-=1}while(i>=0);o&&-1===n.className.indexOf("firstVisibleColumn")&&(n.className+=" firstVisibleColumn")}else if(n.className){var a=n.className.split(" ");if(a.length){var s=a.indexOf("afterHiddenColumn");s>-1&&a.splice(s,1);var l=a.indexOf("firstVisibleColumn");l>-1&&a.splice(l,1),n.className=a.join(" ")}}}},{key:"onModifyCopyableRange",value:function(t){var e=this,n=[],r=function(t,e,r,o){n.push({startRow:t,endRow:e,startCol:r,endCol:o})};return Object(y.arrayEach)(t,function(t){var n=!0,o=0;Object(x.rangeEach)(t.startCol,t.endCol,function(i){e.isHidden(i)?(n||r(t.startRow,t.endRow,o,i-1),n=!0):(n&&(o=i),i===t.endCol&&r(t.startRow,t.endRow,o,i),n=!1)})}),n}},{key:"onAfterGetColHeader",value:function(t,e){if(!this.isHidden(t)){var n=!0,r=t-1;do{if(!this.isHidden(r)){n=!1;break}r-=1}while(r>=0);n&&Object(v.addClass)(e,"firstVisibleColumn"),this.settings.indicators&&(this.isHidden(t-1)&&Object(v.addClass)(e,"afterHiddenColumn"),this.isHidden(t+1)&&t>-1&&Object(v.addClass)(e,"beforeHiddenColumn"))}}},{key:"onBeforeSetRangeStart",value:function(t){var e=this;if(!(t.col>0)){t.col=0;t.col=function t(n){var r=n,o=e.hot.toPhysicalColumn(r);return e.isHidden(o,!0)&&(r=t(r+=1)),r}(t.col)}}},{key:"onBeforeSetRangeEnd",value:function(t){var e=this,n=this.hot.countCols();t.col=function r(o){var i=o,a=e.hot.toPhysicalColumn(i);return e.isHidden(a,!0)&&(e.lastSelectedColumn>i||t.col===n-1?i>0?i=r(i-=1):Object(x.rangeEach)(0,e.lastSelectedColumn,function(t){if(!e.isHidden(t))return i=t,!1}):i=r(i+=1)),i}(t.col),this.lastSelectedColumn=t.col}},{key:"onAfterContextMenuDefaultOptions",value:function(t){var e;t.items.push({name:Fe},(e=this,{key:"hidden_columns_hide",name:function(){var t=this.getSelectedLast(),e=0;if(Array.isArray(t)){var n=yp(t,4);n[1]-n[3]!==0&&(e=1)}return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_HIDE_COLUMN,e)},callback:function(){var t=this.getSelectedRangeLast(),n=t.from,r=t.to,o=Math.min(n.col,r.col),i=Math.max(n.col,r.col);Object(x.rangeEach)(o,i,function(t){return e.hideColumn(t)}),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!this.selection.isSelectedByColumnHeader()}}),function(t){var e=[],n=[];return{key:"hidden_columns_show",name:function(){var r=this.getSelectedLast(),o=0;if(Array.isArray(r)){var i=bp(r,4),a=i[1],s=i[3];if(a>s){var l=[s,a];a=l[0],s=l[1]}var u=0;a===s?u=e.length+n.length:Object(x.rangeEach)(a,s,function(e){t.isHidden(e)&&(u+=1)}),o=u<=1?0:1}return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_SHOW_COLUMN,o)},callback:function(){var r=this.getSelectedRangeLast(),o=r.from,i=r.to,a=Math.min(o.col,i.col),s=Math.max(o.col,i.col);a===s?(e.length===a&&(t.showColumns(e),e.length=0),n.length===this.countSourceCols()-(a+1)&&(t.showColumns(n),n.length=0)):Object(x.rangeEach)(a,s,function(e){return t.showColumn(e)}),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},disabled:!1,hidden:function(){if(!t.hiddenColumns.length||!this.selection.isSelectedByColumnHeader())return!0;e.length=0,n.length=0;var r=this.getSelectedRangeLast(),o=r.from,i=r.to,a=Math.min(o.col,i.col),s=Math.max(o.col,i.col),l=!1;if(a===s){var u=this.countSourceCols();Object(x.rangeEach)(0,u,function(r){if(e.length+n.length===t.hiddenColumns.length)return!1;r<a&&t.isHidden(r)?e.push(r):t.isHidden(r)&&n.push(r)}),u-=1,(e.length===a&&a>0||n.length===u-a&&a<u)&&(l=!0)}else Object(x.rangeEach)(a,s,function(e){if(t.isHidden(e))return l=!0,!1});return!l}}}(this))}},{key:"onAfterCreateCol",value:function(t,e){var n=[];Object(y.arrayEach)(this.hiddenColumns,function(r){var o=r;o>=t&&(o+=e),n.push(o)}),this.hiddenColumns=n}},{key:"onAfterRemoveCol",value:function(t,e){var n=[];Object(y.arrayEach)(this.hiddenColumns,function(r){var o=r;o>=t&&(o-=e),n.push(o)}),this.hiddenColumns=n}},{key:"onInit",value:function(){var t=this,e=this.hot.getSettings().hiddenColumns;"object"===wp(e)&&(this.settings=e,void 0===e.copyPasteEnabled&&(e.copyPasteEnabled=!0),Array.isArray(e.columns)&&this.hideColumns(e.columns),e.copyPasteEnabled||this.addHook("modifyCopyableRange",function(e){return t.onModifyCopyableRange(e)}))}},{key:"destroy",value:function(){Sp(Ep(e.prototype),"destroy",this).call(this)}}])&&Cp(n.prototype,r),o&&Cp(n,o),e}();function Rp(t,e){e.textContent=""}Object(D.d)("hiddenColumns",Tp);var xp=Tp;function Mp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ap(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Np(t){return(Np="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pp(t,e){return!e||"object"!==Np(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ip(t,e,n){return(Ip="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Dp(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Dp(t){return(Dp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lp(t,e){return(Lp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}m.a.getSingleton().register("beforeHideRows"),m.a.getSingleton().register("afterHideRows"),m.a.getSingleton().register("beforeUnhideRows"),m.a.getSingleton().register("afterUnhideRows");var jp=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Pp(this,Dp(e).call(this,t))).settings={},n.hiddenRows=[],n.lastSelectedRow=-1,n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lp(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().hiddenRows}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.hot.hasRowHeaders()?this.addHook("afterGetRowHeader",function(e,n){return t.onAfterGetRowHeader(e,n)}):this.addHook("afterRenderer",function(e,n){return t.onAfterGetRowHeader(n,e)}),this.addHook("afterContextMenuDefaultOptions",function(e){return t.onAfterContextMenuDefaultOptions(e)}),this.addHook("afterGetCellMeta",function(e,n,r){return t.onAfterGetCellMeta(e,n,r)}),this.addHook("modifyRowHeight",function(e,n){return t.onModifyRowHeight(e,n)}),this.addHook("beforeSetRangeStartOnly",function(e){return t.onBeforeSetRangeStartOnly(e)}),this.addHook("beforeSetRangeStart",function(e){return t.onBeforeSetRangeStart(e)}),this.addHook("beforeSetRangeEnd",function(e){return t.onBeforeSetRangeEnd(e)}),this.addHook("hiddenRow",function(e){return t.isHidden(e)}),this.addHook("afterCreateRow",function(e,n){return t.onAfterCreateRow(e,n)}),this.addHook("afterRemoveRow",function(e,n){return t.onAfterRemoveRow(e,n)}),this.addHook("init",function(){return t.onInit()}),this.hot.view&&this.onInit(),Ip(Dp(e.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.onInit(),Ip(Dp(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.settings={},this.hiddenRows=[],this.lastSelectedRow=-1,Ip(Dp(e.prototype),"disablePlugin",this).call(this),this.resetCellsMeta()}},{key:"showRows",value:function(t){var e=this,n=this.hiddenRows,r=this.isRowDataValid(t),o=Object(y.arrayMap)(t,function(t){return e.hot.toPhysicalRow(t)}),i=n;r&&(i=this.hiddenRows.filter(function(t){return!1===o.includes(t)})),!1!==this.hot.runHooks("beforeUnhideRows",n,i,r)&&(r&&(this.hiddenRows=i),this.hot.runHooks("afterUnhideRows",n,i,r,r&&i.length<n.length))}},{key:"showRow",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.showRows(e)}},{key:"hideRows",value:function(t){var e=this,n=this.hiddenRows,r=this.isRowDataValid(t),o=Object(y.arrayMap)(t,function(t){return e.hot.toPhysicalRow(t)}),i=n;r&&(i=Array.from(new Set(n.concat(o)))),!1!==this.hot.runHooks("beforeHideRows",n,i,r)&&(r&&(this.hiddenRows=i),this.hot.runHooks("afterHideRows",n,i,r,r&&i.length>n.length))}},{key:"hideRow",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.hideRows(e)}},{key:"isHidden",value:function(t){var e=t;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(e=this.hot.toPhysicalRow(t)),this.hiddenRows.includes(e)}},{key:"isRowDataValid",value:function(t){var e=this;return t.every(function(t){return Number.isInteger(t)&&t>=0&&t<e.hot.countRows()})}},{key:"resetCellsMeta",value:function(){Object(y.arrayEach)(this.hot.getCellsMeta(),function(t){t&&(t.skipRowOnPaste=!1)})}},{key:"onAfterGetCellMeta",value:function(t,e,n){var r=this.hot.runHooks("unmodifyRow",t);if(!1===this.settings.copyPasteEnabled&&this.isHidden(r)?n.skipRowOnPaste=!0:n.skipRowOnPaste=!1,this.isHidden(r-1)){var o=!0,i=r-1;n.className=n.className||"",-1===n.className.indexOf("afterHiddenRow")&&(n.className+=" afterHiddenRow");do{if(!this.isHidden(i)){o=!1;break}i-=1}while(i>=0);o&&-1===n.className.indexOf("firstVisibleRow")&&(n.className+=" firstVisibleRow")}else if(n.className){var a=n.className.split(" ");if(a.length){var s=a.indexOf("afterHiddenRow");s>-1&&a.splice(s,1);var l=a.indexOf("firstVisibleRow");l>-1&&a.splice(l,1),n.className=a.join(" ")}}}},{key:"onAfterGetRowHeader",value:function(t,e){var n=e.parentNode;n&&(this.isHidden(t)?Object(v.addClass)(n,"hide"):Object(v.removeClass)(n,"hide"));var r=!0,o=t-1;do{if(!this.isHidden(o)){r=!1;break}o-=1}while(o>=0);r&&Object(v.addClass)(e,"firstVisibleRow"),this.settings.indicators&&this.hot.hasRowHeaders()&&(this.isHidden(t-1)&&Object(v.addClass)(e,"afterHiddenRow"),this.isHidden(t+1)&&Object(v.addClass)(e,"beforeHiddenRow"))}},{key:"onModifyRowHeight",value:function(t,e){return this.isHidden(e)?.1:t}},{key:"onModifyCopyableRange",value:function(t){var e=this,n=[],r=function(t,e,r,o){n.push({startRow:t,endRow:e,startCol:r,endCol:o})};return Object(y.arrayEach)(t,function(t){var n=!0,o=0;Object(x.rangeEach)(t.startRow,t.endRow,function(i){e.isHidden(i)?(n||r(o,i-1,t.startCol,t.endCol),n=!0):(n&&(o=i),i===t.endRow&&r(o,i,t.startCol,t.endCol),n=!1)})}),n}},{key:"onBeforeSetRangeStart",value:function(t){var e=this,n=this.hot.getSelectedLast()||!1,r=this.hot.countRows()-1;t.row=function t(o){var i=0,a=o;return n&&(i=a>n[0]?1:-1,e.lastSelectedRow=n[0]),r<a||a<0?e.lastSelectedRow:(e.isHidden(a)&&(a=t(a+i)),a)}(t.row)}},{key:"onBeforeSetRangeStartOnly",value:function(t){var e=this;if(!(t.row>0)){t.row=0;t.row=function t(n){var r=n;return e.isHidden(r)&&(r=t(r+=1)),r}(t.row)}}},{key:"onBeforeSetRangeEnd",value:function(t){var e=this,n=this.hot.countRows();t.row=function r(o){var i=o;return e.isHidden(i)&&(e.lastSelectedRow>i||t.row===n-1?i>0?i=r(i-=1):Object(x.rangeEach)(0,e.lastSelectedRow,function(t){if(!e.isHidden(t))return i=t,!1}):i=r(i+=1)),i}(t.row),this.lastSelectedRow=t.row}},{key:"onAfterContextMenuDefaultOptions",value:function(t){var e;t.items.push({name:"---------"},(e=this,{key:"hidden_rows_hide",name:function(){var t=this.getSelectedLast(),e=0;if(Array.isArray(t)){var n=Mp(t,3);n[0]-n[2]!==0&&(e=1)}return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_HIDE_ROW,e)},callback:function(){var t=this.getSelectedRangeLast(),n=t.from,r=t.to,o=Math.min(n.row,r.row),i=Math.max(n.row,r.row);Object(x.rangeEach)(o,i,function(t){return e.hideRow(t)}),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},disabled:!1,hidden:function(){return!this.selection.isSelectedByRowHeader()}}),function(t){var e=[],n=[];return{key:"hidden_rows_show",name:function(){var r=this.getSelectedLast(),o=0;if(Array.isArray(r)){var i=Ap(r,3),a=i[0],s=i[2];if(a>s){var l=[s,a];a=l[0],s=l[1]}var u=0;a===s?u=e.length+n.length:Object(x.rangeEach)(a,s,function(e){t.isHidden(e)&&(u+=1)}),o=u<=1?0:1}return this.getTranslatedPhrase(nn.CONTEXTMENU_ITEMS_SHOW_ROW,o)},callback:function(){var r=this.getSelectedRangeLast(),o=r.from,i=r.to,a=Math.min(o.row,i.row),s=Math.max(o.row,i.row);a===s?(e.length===a&&(t.showRows(e),e.length=0),n.length===this.countSourceRows()-(a+1)&&(t.showRows(n),n.length=0)):Object(x.rangeEach)(a,s,function(e){return t.showRow(e)}),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},disabled:!1,hidden:function(){if(!t.hiddenRows.length||!this.selection.isSelectedByRowHeader())return!0;e.length=0,n.length=0;var r=this.getSelectedRangeLast(),o=r.from,i=r.to,a=Math.min(o.row,i.row),s=Math.max(o.row,i.row),l=!1;if(a===s){var u=this.countSourceRows();Object(x.rangeEach)(0,u,function(r){if(e.length+n.length===t.hiddenRows.length)return!1;r<a?t.isHidden(r)&&e.push(r):t.isHidden(r)&&n.push(r)}),u-=1,(e.length===a&&a>0||n.length===u-a&&a<u)&&(l=!0)}else Object(x.rangeEach)(a,s,function(e){if(t.isHidden(e))return l=!0,!1});return!l}}}(this))}},{key:"onAfterCreateRow",value:function(t,e){var n=[];Object(y.arrayEach)(this.hiddenRows,function(r){var o=r;o>=t&&(o+=e),n.push(o)}),this.hiddenRows=n}},{key:"onAfterRemoveRow",value:function(t,e){var n=[];Object(y.arrayEach)(this.hiddenRows,function(r){var o=r;o>=t&&(o-=e),n.push(o)}),this.hiddenRows=n}},{key:"onInit",value:function(){var t=this,e=this.hot.getSettings().hiddenRows;"object"===Np(e)&&(this.settings=e,void 0===e.copyPasteEnabled&&(e.copyPasteEnabled=!0),Array.isArray(e.rows)&&this.hideRows(e.rows),e.copyPasteEnabled||this.addHook("modifyCopyableRange",function(e){return t.onModifyCopyableRange(e)}))}},{key:"destroy",value:function(){Ip(Dp(e.prototype),"destroy",this).call(this)}}])&&_p(n.prototype,r),o&&_p(n,o),e}();Object(D.d)("hiddenRows",jp);var Hp=jp;function Bp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Fp=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.trimRows=e}var e,n,r;return e=t,(n=[{key:"createMap",value:function(t){var e=this,n=0,r=void 0===t?this._arrayMap.length:t;this._arrayMap.length=0,Object(x.rangeEach)(r-1,function(t){e.trimRows.isTrimmed(t)?n+=1:e._arrayMap[t-n]=t})}},{key:"destroy",value:function(){this._arrayMap=null}}])&&Bp(e.prototype,n),r&&Bp(e,r),t}();Object(M.mixin)(Fp,Zt);var Wp=Fp;function Vp(t){return(Vp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Up(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yp(t,e,n){return(Yp="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gp(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Gp(t){return(Gp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xp(t,e){return(Xp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Kp=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=Gp(e).call(this,t))||"object"!==Vp(o)&&"function"!==typeof o?zp(r):o).trimmedRows=[],n.removedRows=[],n.rowsMapper=new Wp(zp(n)),n}var n,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xp(t,e)}(e,B),n=e,(r=[{key:"isEnabled",value:function(){return!!this.hot.getSettings().trimRows}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){var n=this.hot.getSettings().trimRows;Array.isArray(n)&&(this.trimmedRows=n),this.rowsMapper.createMap(this.hot.countSourceRows()),this.addHook("modifyRow",function(e,n){return t.onModifyRow(e,n)}),this.addHook("unmodifyRow",function(e,n){return t.onUnmodifyRow(e,n)}),this.addHook("beforeCreateRow",function(e,n,r){return t.onBeforeCreateRow(e,n,r)}),this.addHook("afterCreateRow",function(e,n){return t.onAfterCreateRow(e,n)}),this.addHook("beforeRemoveRow",function(e,n){return t.onBeforeRemoveRow(e,n)}),this.addHook("afterRemoveRow",function(){return t.onAfterRemoveRow()}),this.addHook("afterLoadData",function(e){return t.onAfterLoadData(e)}),Yp(Gp(e.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var t=this.hot.getSettings().trimRows;Array.isArray(t)&&(this.disablePlugin(),this.enablePlugin()),Yp(Gp(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.trimmedRows=[],this.removedRows.length=0,this.rowsMapper.clearMap(),Yp(Gp(e.prototype),"disablePlugin",this).call(this)}},{key:"trimRows",value:function(t){var e=this.trimmedRows,n=this.isValidConfig(t),r=e;n&&(r=Array.from(new Set(e.concat(t)))),!1!==this.hot.runHooks("beforeTrimRow",e,r,n)&&(n&&(this.trimmedRows=r,this.hot.runHooks("skipLengthCache",100),this.rowsMapper.createMap(this.hot.countSourceRows())),this.hot.runHooks("afterTrimRow",e,r,n,n&&r.length>e.length))}},{key:"trimRow",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.trimRows(e)}},{key:"untrimRows",value:function(t){var e=this.trimmedRows,n=this.isValidConfig(t),r=e;n&&(r=this.trimmedRows.filter(function(e){return!1===t.includes(e)})),!1!==this.hot.runHooks("beforeUntrimRow",e,r,n)&&(n&&(this.trimmedRows=r,this.hot.runHooks("skipLengthCache",100),this.rowsMapper.createMap(this.hot.countSourceRows())),this.hot.runHooks("afterUntrimRow",e,r,n,n&&r.length<e.length))}},{key:"untrimRow",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.untrimRows(e)}},{key:"isTrimmed",value:function(t){return this.trimmedRows.includes(t)}},{key:"untrimAll",value:function(){this.untrimRows([].concat(this.trimmedRows))}},{key:"isValidConfig",value:function(t){var e=this;return t.every(function(t){return Number.isInteger(t)&&t>=0&&t<e.hot.countSourceRows()})}},{key:"onModifyRow",value:function(t,e){var n=t;return e!==this.pluginName&&(n=this.rowsMapper.getValueByIndex(n)),n}},{key:"onUnmodifyRow",value:function(t,e){var n=t;return e!==this.pluginName&&(n=this.rowsMapper.getIndexByValue(n)),n}},{key:"onBeforeCreateRow",value:function(t,e,n){if(this.isEnabled()&&this.trimmedRows.length>0&&"auto"===n)return!1}},{key:"onAfterCreateRow",value:function(t,e){var n=this;this.rowsMapper.shiftItems(t,e),this.trimmedRows=Object(y.arrayMap)(this.trimmedRows,function(r){return r>=n.rowsMapper.getValueByIndex(t)?r+e:r})}},{key:"onBeforeRemoveRow",value:function(t,e){var n=this;this.removedRows.length=0,!1!==t&&Object(x.rangeEach)(t,t+e-1,function(t){n.removedRows.push(n.hot.runHooks("modifyRow",t,n.pluginName))})}},{key:"onAfterRemoveRow",value:function(){var t=this;this.rowsMapper.unshiftItems(this.removedRows),this.trimmedRows=Object(y.arrayMap)(this.trimmedRows,function(e){return e-t.removedRows.filter(function(t){return t<e}).length})}},{key:"onAfterLoadData",value:function(t){t||this.rowsMapper.createMap(this.hot.countSourceRows())}},{key:"destroy",value:function(){this.rowsMapper.destroy(),Yp(Gp(e.prototype),"destroy",this).call(this)}}])&&Up(n.prototype,r),o&&Up(n,o),e}();Object(D.d)("trimRows",Kp);var qp=Kp,$p=n(130),Qp=n(88),Zp=n(132),Jp=n(68);function tg(t,e){var n=new p.a(t,e||{},Qp.d);return n.init(),n}!function(t){var e="undefined"!==typeof window&&window.jQuery;e&&(e.fn.handsontable=function(e){var n,r=this.first(),o=r.data("handsontable");if("string"!==typeof e){var i=e||{};return o?o.updateSettings(i):(o=new t.Core(r[0],i),r.data("handsontable",o),o.init()),r}if(o){if("undefined"===typeof o[e])throw new Error("Handsontable do not provide action: ".concat(e));for(var a,s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];n=(a=o[e]).call.apply(a,[o].concat(l)),"destroy"===e&&r.removeData()}return n})}(tg),tg.Core=p.a,tg.DefaultSettings=$p.a,tg.EventManager=g.a,tg._getListenersCounter=g.b,tg.packageName="handsontable",tg.buildDate="10/06/2019 10:32:07",tg.version="7.1.0",tg.hooks=m.a.getSingleton(),tg.__GhostTable=w;var eg=[y,O,S,E,k,T,R,x,M,A,N,_,C],ng=[v,P];tg.helper={},tg.dom={},y.arrayEach(eg,function(t){y.arrayEach(Object.getOwnPropertyNames(t),function(e){"_"!==e.charAt(0)&&(tg.helper[e]=t[e])})}),y.arrayEach(ng,function(t){y.arrayEach(Object.getOwnPropertyNames(t),function(e){"_"!==e.charAt(0)&&(tg.dom[e]=t[e])})}),tg.cellTypes={},y.arrayEach(Object(d.b)(),function(t){tg.cellTypes[t]=Object(d.a)(t)}),tg.cellTypes.registerCellType=d.c,tg.cellTypes.getCellType=d.a,tg.editors={},y.arrayEach(Object(c.c)(),function(t){tg.editors["".concat(N.toUpperCaseFirst(t),"Editor")]=Object(c.a)(t)}),tg.editors.registerEditor=c.d,tg.editors.getEditor=c.a,tg.renderers={},y.arrayEach(Object(h.a)(),function(t){var e=Object(h.b)(t);"base"===t&&(tg.renderers.cellDecorator=e),tg.renderers["".concat(N.toUpperCaseFirst(t),"Renderer")]=e}),tg.renderers.registerRenderer=h.c,tg.renderers.getRenderer=h.b,tg.validators={},y.arrayEach(Object(f.a)(),function(t){tg.validators["".concat(N.toUpperCaseFirst(t),"Validator")]=Object(f.b)(t)}),tg.validators.registerValidator=f.c,tg.validators.getValidator=f.b,tg.plugins={},y.arrayEach(Object.getOwnPropertyNames(u),function(t){var e=u[t];"Base"===t?tg.plugins["".concat(t,"Plugin")]=e:tg.plugins[t]=e}),tg.plugins.registerPlugin=D.d,tg.languages={},tg.languages.dictionaryKeys=nn,tg.languages.getLanguageDictionary=Jp.b,tg.languages.getLanguagesDictionaries=Jp.c,tg.languages.registerLanguageDictionary=Jp.e,tg.languages.getTranslatedPhrase=function(){return Zp.a.apply(void 0,arguments)};e.a=tg},function(t,e,n){var r=n(160),o=n(136).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(49);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(44),o=n(138),i=r["__core-js_shared__"]||o("__core-js_shared__",{});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.0.1",mode:n(111)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(45)("unscopables"),o=n(102),i=n(66),a=Array.prototype;void 0==a[r]&&i(a,r,o(null)),t.exports=function(t){a[r][t]=!0}},function(t,e,n){var r=n(52),o=n(215),i=n(136),a=n(166),s=n(137),l=n(112)("IE_PROTO"),u=function(){},c=function(){var t,e=s("iframe"),n=i.length;for(e.style.display="none",a.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c.prototype[i[n]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[l]=t):n=c(),void 0===e?n:o(n,e)},n(96)[l]=!0},function(t,e){t.exports={}},function(t,e,n){var r=n(113)("meta"),o=n(170),i=n(49),a=n(55),s=n(58).f,l=0,u=Object.isExtensible||function(){return!0},c=function(t){s(t,r,{value:{objectID:"O"+ ++l,weakData:{}}})},h=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].objectID},getWeakData:function(t,e){if(!a(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].weakData},onFreeze:function(t){return o&&h.REQUIRED&&u(t)&&!a(t,r)&&c(t),t}};n(96)[r]=!0},function(t,e,n){var r=n(145);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(38),o=n(45)("species");t.exports=function(t){return!r(function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});n(7),n(74),n(6),n(8),n(9);var r=n(14),o=n(5);function i(t){var e=t.isShiftKey,n=t.isLeftClick,r=t.isRightClick,i=t.coords,a=t.selection,s=t.controller,l=a.isSelected()?a.getSelectedRange().current():null,u=a.isSelectedByCorner(),c=a.isSelectedByRowHeader();if(e&&l)i.row>=0&&i.col>=0&&!s.cells?a.setRangeEnd(i):(u||c)&&i.row>=0&&i.col>=0&&!s.cells?a.setRangeEnd(new o.a(i.row,i.col)):u&&i.row<0&&!s.column?a.setRangeEnd(new o.a(l.to.row,i.col)):c&&i.col<0&&!s.row?a.setRangeEnd(new o.a(i.row,l.to.col)):(!u&&!c&&i.col<0||u&&i.col<0)&&!s.row?a.selectRows(l.from.row,i.row):(!u&&!c&&i.row<0||c&&i.row<0)&&!s.column&&a.selectColumns(l.from.col,i.col);else{var h=new o.a(i.row,i.col);h.row<0&&(h.row=0),h.col<0&&(h.col=0);var f=!a.inInSelection(h),d=n||r&&f;i.row<0&&i.col>=0&&!s.column?d&&a.selectColumns(i.col):i.col<0&&i.row>=0&&!s.row?d&&a.selectRows(i.row):i.col>=0&&i.row>=0&&!s.cells?d&&a.setRangeStart(i):i.col<0&&i.row<0&&a.setRangeStart(i)}}var a=new Map([["mousedown",i],["mouseover",function(t){var e=t.isLeftClick,n=t.coords,r=t.selection,i=t.controller;if(e){var a=r.isSelectedByRowHeader(),s=r.isSelectedByColumnHeader(),l=r.tableProps.countCols(),u=r.tableProps.countRows();s&&!i.column?r.setRangeEnd(new o.a(u-1,n.col)):a&&!i.row?r.setRangeEnd(new o.a(n.row,l-1)):i.cell||r.setRangeEnd(n)}}],["touchstart",i]]);function s(t,e){var n=e.coords,o=e.selection,i=e.controller;a.get(t.type)({coords:n,selection:o,controller:i,isShiftKey:t.shiftKey,isLeftClick:Object(r.isLeftClick)(t)||"touchstart"===t.type,isRightClick:Object(r.isRightClick)(t)})}},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",function(){return r})},function(t,e,n){var r=n(38),o=n(78),i="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(85),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e){t.exports=!1},function(t,e,n){var r=n(100)("keys"),o=n(113);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(38),o=/#|\.prototype\./,i=function(t,e){var n=s[a(t)];return n==u||n!=l&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},l=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(55),o=n(67),i=n(112)("IE_PROTO"),a=n(168),s=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var r=n(58).f,o=n(55),i=n(45)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(78);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r=n(44),o=n(115),i=n(28),a=n(70),s=n(104),l=n(144),u=n(143),c=n(49),h=n(38),f=n(175),d=n(117),p=n(147);t.exports=function(t,e,n,g,m){var v=r[t],y=v&&v.prototype,b=v,w=g?"set":"add",C={},O=function(t){var e=y[t];a(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(o(t,"function"!=typeof v||!(m||y.forEach&&!h(function(){(new v).entries().next()}))))b=n.getConstructor(e,t,g,w),s.REQUIRED=!0;else if(o(t,!0)){var S=new b,E=S[w](m?{}:-0,1)!=S,k=h(function(){S.has(1)}),T=f(function(t){new v(t)}),R=!m&&h(function(){for(var t=new v,e=5;e--;)t[w](e,e);return!t.has(-0)});T||((b=e(function(e,n){u(e,b,t);var r=p(new v,e,b);return void 0!=n&&l(n,r[w],r,g),r})).prototype=y,y.constructor=b),(k||R)&&(O("delete"),O("has"),g&&O("get")),(R||E)&&O(w),m&&y.clear&&delete y.clear}return C[t]=b,i({global:!0,forced:b!=v},C),d(b,t),m||n.setStrong(b,t,g),b}},function(t,e,n){"use strict";var r=n(99),o=n(58),i=n(98);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},function(t,e,n){"use strict";var r=n(38);t.exports=function(t,e){var n=[][t];return!n||!r(function(){n.call(null,e||function(){throw 1},1)})}},function(t,e,n){var r=n(78),o=n(151);t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){"use strict";var r=n(66),o=n(70),i=n(38),a=n(45),s=n(151),l=a("species"),u=!i(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),c=!i(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});t.exports=function(t,e,n,h){var f=a(t),d=!i(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),p=d&&!i(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[f](""),!e});if(!d||!p||"replace"===t&&!u||"split"===t&&!c){var g=/./[f],m=n(f,""[t],function(t,e,n,r,o){return e.exec===s?d&&!o?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),v=m[0],y=m[1];o(String.prototype,t,v),o(RegExp.prototype,f,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)}),h&&r(RegExp.prototype[f],"sham",!0)}}},function(t,e,n){"use strict";var r=n(182),o=n(223)("trim");n(28)({target:"String",proto:!0,forced:o},{trim:function(){return r(this,3)}})},function(t,e,n){var r=n(57),o=n(45)("match"),i=n(44),a=n(115),s=n(147),l=n(58).f,u=n(95).f,c=n(149),h=n(148),f=n(70),d=n(38),p=i.RegExp,g=p.prototype,m=/a/g,v=/a/g,y=new p(m)!==m;if(a("RegExp",r&&(!y||d(function(){return v[o]=!1,p(m)!=m||p(v)==v||"/a/i"!=p(m,"i")})))){for(var b=function(t,e){var n=this instanceof b,r=c(t),o=void 0===e;return!n&&r&&t.constructor===b&&o?t:s(y?new p(r&&!o?t.source:t,e):p((r=t instanceof b)?t.source:t,r&&o?h.call(t):e),n?this:g,b)},w=function(t){t in b||l(b,t,{configurable:!0,get:function(){return p[t]},set:function(e){p[t]=e}})},C=u(p),O=0;O<C.length;)w(C[O++]);g.constructor=b,b.prototype=g,f(i,"RegExp",b)}n(181)("RegExp")},function(t,e,n){"use strict";var r=n(52),o=n(56),i=n(63),a=n(150),s=n(122);n(123)("match",1,function(t,e,n){return[function(e){var n=i(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var l=r(t),u=String(this);if(!l.global)return s(l,u);var c=l.unicode;l.lastIndex=0;for(var h,f=[],d=0;null!==(h=s(l,u));){var p=String(h[0]);f[d]=p,""===p&&(l.lastIndex=a(u,o(l.lastIndex),c)),d++}return 0===d?null:f}]})},function(t,e,n){var r=n(176),o=n(238),i=n(66),a=n(44);for(var s in r){var l=a[s],u=l&&l.prototype;if(u&&u.forEach!==o)try{i(u,"forEach",o)}catch(c){u.forEach=o}}},function(t,e,n){"use strict";var r=n(56),o=n(152),i=n(153)("startsWith"),a="".startsWith;n(28)({target:"String",proto:!0,forced:!i},{startsWith:function(t){var e=o(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return a?a.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){"use strict";function r(t){var e=new Date(t);return isNaN(new Date("".concat(t,"T00:00")).getDate())?e:new Date(e.getTime()+6e4*e.getTimezoneOffset())}n.r(e),n.d(e,"getNormalizedDate",function(){return r})},function(t,e,n){"use strict";n(10),n(11),n(12),n(7),n(6),n(8),n(9);var r=n(13),o=n(2);function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(){}a.prototype={licenseKey:void 0,data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:void 0,colHeaders:null,colWidths:void 0,rowHeights:void 0,columns:void 0,cells:void 0,cell:[],comments:!1,customBorders:!1,minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,allowInsertRow:!0,allowInsertColumn:!0,allowRemoveRow:!0,allowRemoveColumn:!0,selectionMode:"multiple",fillHandle:{autoInsertRow:!1},fixedRowsTop:0,fixedRowsBottom:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!0,autoWrapCol:!0,persistentState:void 0,currentRowClassName:void 0,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",activeHeaderClassName:"ht__active_highlight",className:void 0,tableClassName:void 0,stretchH:"none",isEmptyRow:function(t){var e,n,a,s;for(e=0,n=this.countCols();e<n;e++)if(""!==(a=this.getDataAtCell(t,e))&&null!==a&&Object(r.isDefined)(a))return"object"===i(a)&&(s=this.getCellMeta(t,e),Object(o.isObjectEqual)(this.getSchema()[s.prop],a));return!0},isEmptyCol:function(t){var e,n,o;for(e=0,n=this.countRows();e<n;e++)if(""!==(o=this.getDataAtCell(e,t))&&null!==o&&Object(r.isDefined)(o))return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,allowEmpty:!0,invalidCellClassName:"htInvalid",placeholder:void 0,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",renderer:void 0,commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,skipColumnOnPaste:!1,skipRowOnPaste:!1,search:!1,type:"text",copyable:!0,editor:void 0,visibleRows:10,trimDropdown:!0,debug:!1,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,copyPaste:!0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,mergeCells:!1,multiColumnSorting:void 0,viewportRowRenderingOffset:"auto",viewportColumnRenderingOffset:"auto",validator:void 0,disableVisualSelection:!1,manualColumnFreeze:void 0,trimWhitespace:!0,source:void 0,title:void 0,checkedTemplate:void 0,uncheckedTemplate:void 0,label:void 0,numericFormat:void 0,language:"en-US",selectOptions:void 0,autoColumnSize:void 0,autoRowSize:void 0,dateFormat:"DD/MM/YYYY",correctFormat:!1,defaultDate:void 0,strict:void 0,allowHtml:!1,renderAllRows:void 0,preventOverflow:!1,bindRowsWithHeaders:void 0,collapsibleColumns:void 0,columnSummary:void 0,dropdownMenu:void 0,filters:void 0,formulas:void 0,ganttChart:void 0,headerTooltips:void 0,hiddenColumns:void 0,hiddenRows:void 0,nestedHeaders:void 0,trimRows:void 0,rowHeaderWidth:void 0,columnHeaderHeight:void 0,observeChanges:void 0,sortByRelevance:!0,filter:!0,filteringCaseSensitive:!1,dragToScroll:!0,nestedRows:void 0},e.a=a},function(t,e,n){var r,o,i;o="undefined"!==typeof window?window:this,i=function(t){function e(t,e,n,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,n))}var n={};return e(n,"parts/Globals.js",[],function(){var e="undefined"===typeof t?"undefined"!==typeof window?window:{}:t,n=e.document,r=e.navigator&&e.navigator.userAgent||"",o=n&&n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i=/(edge|msie|trident)/i.test(r)&&!e.opera,a=-1!==r.indexOf("Firefox"),s=-1!==r.indexOf("Chrome"),l=a&&4>parseInt(r.split("Firefox/")[1],10);return{product:"Highcharts",version:"7.1.2",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:l,hasTouch:n&&"undefined"!==typeof n.documentElement.ontouchstart,isMS:i,isWebKit:-1!==r.indexOf("AppleWebKit"),isFirefox:a,isChrome:s,isSafari:!s&&-1!==r.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(r),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:o,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[],dateFormats:{}}}),e(n,"parts/Utilities.js",[n["parts/Globals.js"]],function(t){t.timers=[];var e=t.charts,n=t.doc,r=t.win;t.error=function(e,n,o){var i=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,a=function(){if(n)throw Error(i);r.console&&console.log(i)};o?t.fireEvent(o,"displayError",{code:e,message:i},a):a()},t.Fx=function(t,e,n){this.options=e,this.elem=t,this.prop=n},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],r=[],o=this.now,i=e.length;if(1===o)r=this.toD;else if(i===n.length&&1>o)for(;i--;)t=parseFloat(e[i]),r[i]=isNaN(t)?n[i]:o*parseFloat(n[i]-t)+t;else r=n;this.elem.attr("d",r,null,!0)},update:function(){var t=this.elem,e=this.prop,n=this.now,r=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n,null,!0):t.style[e]=n+this.unit,r&&r.call(t,n,this)},run:function(e,n,o){var i=this,a=i.options,s=function t(e){return!t.stopped&&i.step(e)},l=r.requestAnimationFrame||function(t){setTimeout(t,13)};e!==n||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=n,this.unit=o,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===t.timers.push(s)&&l(function e(){for(var n=0;n<t.timers.length;n++)t.timers[n]()||t.timers.splice(n--,1);t.timers.length&&l(e)})):(delete a.curAnim[this.prop],a.complete&&0===Object.keys(a.curAnim).length&&a.complete.call(this.elem))},step:function(e){var n,r=+new Date,o=this.options,i=this.elem,a=o.complete,s=o.duration,l=o.curAnim;return i.attr&&!i.element?e=!1:e||r>=s+this.startTime?(this.now=this.end,this.pos=1,this.update(),n=l[this.prop]=!0,t.objectEach(l,function(t){!0!==t&&(n=!1)}),n&&a&&a.call(i),e=!1):(this.pos=o.easing((r-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,n,r){function o(t){var e,n;for(c=t.length;c--;)e="M"===t[c]||"L"===t[c],n=/[a-zA-Z]/.test(t[c+3]),e&&n&&t.splice(c+1,0,t[c+1],t[c+2],t[c+1],t[c+2])}function i(t,e){for(;t.length<l;){t[0]=e[l-t.length];var n=t.slice(0,p);[].splice.apply(t,[0,0].concat(n)),m&&(n=t.slice(t.length-p),[].splice.apply(t,[t.length,0].concat(n)),c--)}t[0]="M"}function a(t,e){for(var n=(l-t.length)/p;0<n&&n--;)(u=t.slice().splice(t.length/v-p,p*v))[0]=e[l-p-n*p],d&&(u[p-6]=u[p-2],u[p-5]=u[p-1]),[].splice.apply(t,[t.length/v,0].concat(u)),m&&n--}n=n||"";var s,l,u,c,h=e.startX,f=e.endX,d=-1<n.indexOf("C"),p=d?7:3;n=n.split(" "),r=r.slice();var g,m=e.isArea,v=m?2:1;if(d&&(o(n),o(r)),h&&f){for(c=0;c<h.length;c++){if(h[c]===f[0]){s=c;break}if(h[0]===f[f.length-h.length+c]){s=c,g=!0;break}if(h[h.length-1]===f[f.length-h.length+c]){s=h.length-c;break}}"undefined"===typeof s&&(n=[])}return n.length&&t.isNumber(s)&&(l=r.length+s*v*p,g?(i(n,r),a(r,n)):(i(r,n),a(n,r))),[n,r]},fillSetter:function(){t.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)}},t.merge=function(){var e,n,r=arguments,o={},i=function e(n,r){return"object"!==typeof n&&(n={}),t.objectEach(r,function(o,i){!t.isObject(o,!0)||t.isClass(o)||t.isDOMElement(o)?n[i]=r[i]:n[i]=e(n[i]||{},o)}),n};for(!0===r[0]&&(o=r[1],r=Array.prototype.slice.call(r,2)),n=r.length,e=0;e<n;e++)o=i(o,r[e]);return o},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"===typeof t},t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},t.isObject=function(e,n){return!!e&&"object"===typeof e&&(!n||!t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"===typeof e.nodeType},t.isClass=function(e){var n=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!n||!n.name||"Object"===n.name)},t.isNumber=function(t){return"number"===typeof t&&!isNaN(t)&&1/0>t&&-1/0<t},t.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},t.defined=function(t){return"undefined"!==typeof t&&null!==t},t.attr=function(e,n,r){var o;return t.isString(n)?t.defined(r)?e.setAttribute(n,r):e&&e.getAttribute&&((o=e.getAttribute(n))||"class"!==n||(o=e.getAttribute(n+"Name"))):t.defined(n)&&t.isObject(n)&&t.objectEach(n,function(t,n){e.setAttribute(n,t)}),o},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,n){if(e)return setTimeout(t,e,n);t.call(0,n)},t.clearTimeout=function(e){t.defined(e)&&clearTimeout(e)},t.extend=function(t,e){var n;for(n in t||(t={}),e)t[n]=e[n];return t},t.pick=function(){var t,e,n=arguments,r=n.length;for(t=0;t<r;t++)if("undefined"!==typeof(e=n[t])&&null!==e)return e},t.css=function(e,n){t.isMS&&!t.svg&&n&&"undefined"!==typeof n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),t.extend(e.style,n)},t.createElement=function(e,r,o,i,a){e=n.createElement(e);var s=t.css;return r&&t.extend(e,r),a&&s(e,{padding:"0",border:"none",margin:"0"}),o&&s(e,o),i&&i.appendChild(e),e},t.extendClass=function(e,n){var r=function(){};return r.prototype=new e,t.extend(r.prototype,n),r},t.pad=function(t,e,n){return Array((e||2)+1-String(t).replace("-","").length).join(n||"0")+t},t.relativeLength=function(t,e,n){return/%$/.test(t)?e*parseFloat(t)/100+(n||0):parseFloat(t)},t.wrap=function(t,e,n){var r=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,o=this;return o.proceed=function(){r.apply(o,arguments.length?arguments:e)},t.unshift(r),t=n.apply(this,t),o.proceed=null,t}},t.datePropsToTimestamps=function(e){t.objectEach(e,function(n,r){t.isObject(n)&&"function"===typeof n.getTime?e[r]=n.getTime():(t.isObject(n)||t.isArray(n))&&t.datePropsToTimestamps(n)})},t.formatSingle=function(e,n,r){var o=t.defaultOptions.lang;return/f$/.test(e)?(r=(r=e.match(/\.([0-9])/))?r[1]:-1,null!==n&&(n=t.numberFormat(n,r,o.decimalPoint,-1<e.indexOf(",")?o.thousandsSep:""))):n=(r||t.time).dateFormat(e,n),n},t.format=function(e,n,r){for(var o,i,a,s,l,u="{",c=!1,h=[];e&&-1!==(u=e.indexOf(u));){if(o=e.slice(0,u),c){for(s=(i=(o=o.split(":")).shift().split(".")).length,l=n,a=0;a<s;a++)l&&(l=l[i[a]]);o.length&&(l=t.formatSingle(o.join(":"),l,r)),h.push(l)}else h.push(o);e=e.slice(u+1),u=(c=!c)?"}":"{"}return h.push(e),h.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,n,r,o,i){var a,s=e;for(a=e/(r=t.pick(r,1)),n||(n=i?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===o&&(1===r?n=n.filter(function(t){return 0===t%1}):.1>=r&&(n=[1/r]))),o=0;o<n.length&&(s=n[o],!(i&&s*r>=e||!i&&a<=(n[o]+(n[o+1]||n[o]))/2));o++);return t.correctFloat(s*r,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var n,r,o=t.length;for(r=0;r<o;r++)t[r].safeI=r;for(t.sort(function(t,r){return 0===(n=e(t,r))?t.safeI-r.safeI:n}),r=0;r<o;r++)delete t[r].safeI},t.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},t.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},t.destroyObjectProperties=function(e,n){t.objectEach(e,function(t,r){t&&t!==n&&t.destroy&&t.destroy(),delete e[r]})},t.discardElement=function(e){var n=t.garbageBin;n||(n=t.createElement("div")),e&&n.appendChild(e),n.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,n){n.renderer.globalAnimation=t.pick(e,n.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,n,r,o){e=+e||0,n=+n;var i,a,s=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").split("e")[0].length,u=e.toString().split("e");return-1===n?n=Math.min(l,20):t.isNumber(n)?n&&u[1]&&0>u[1]&&(0<=(i=n+ +u[1])?(u[0]=(+u[0]).toExponential(i).split("e")[0],n=i):(u[0]=u[0].split(".")[0]||0,e=20>n?(u[0]*Math.pow(10,u[1])).toFixed(n):0,u[1]=0)):n=2,a=(Math.abs(u[1]?u[0]:e)+Math.pow(10,-Math.max(n,l)-1)).toFixed(n),i=3<(l=String(t.pInt(a))).length?l.length%3:0,r=t.pick(r,s.decimalPoint),o=t.pick(o,s.thousandsSep),e=(0>e?"-":"")+(i?l.substr(0,i)+o:""),e+=l.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+o),n&&(e+=r+a.slice(-n)),u[1]&&0!==+e&&(e+="e"+u[1]),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,n,o){return"width"===n?Math.max(0,Math.min(e.offsetWidth,e.scrollWidth,e.getBoundingClientRect&&"none"===t.getStyle(e,"transform",!1)?Math.floor(e.getBoundingClientRect().width):1/0)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right")):"height"===n?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom")):(r.getComputedStyle||t.error(27,!0),(e=r.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(n),t.pick(o,"opacity"!==n)&&(e=t.pInt(e))),e)},t.inArray=function(t,e,n){return e.indexOf(t,n)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var n,r=t.length;for(n=0;n<r;n++)if(e(t[n],n))return t[n]},t.keys=Object.keys,t.offset=function(t){var e=n.documentElement;return{top:(t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0}).top+(r.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(r.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,n){for(var r=t.timers.length;r--;)t.timers[r].elem!==e||n&&n!==t.timers[r].prop||(t.timers[r].stopped=!0)},t.objectEach=function(t,e,n){for(var r in t)t.hasOwnProperty(r)&&e.call(n||t[r],t[r],r,t)},t.objectEach({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(e,n){t[n]=function(t){return Array.prototype[e].apply(t,[].slice.call(arguments,1))}}),t.addEvent=function(e,n,r,o){void 0===o&&(o={});var i,a=e.addEventListener||t.addEventListenerPolyfill;return i="function"===typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{},t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),a&&a.call(e,n,r,!1),i[n]||(i[n]=[]),i[n].push({fn:r,order:"number"===typeof o.order?o.order:1/0}),i[n].sort(function(t,e){return t.order-e.order}),function(){t.removeEvent(e,n,r)}},t.removeEvent=function(e,n,r){function o(n,r){var o=e.removeEventListener||t.removeEventListenerPolyfill;o&&o.call(e,n,r,!1)}function i(r){var i,a;e.nodeName&&(n?(i={})[n]=!0:i=r,t.objectEach(i,function(t,e){if(r[e])for(a=r[e].length;a--;)o(e,r[e][a].fn)}))}var a;["protoEvents","hcEvents"].forEach(function(t){var s=e[t];s&&(n?(a=s[n]||[],r?(s[n]=a.filter(function(t){return r!==t.fn}),o(n,r)):(i(s),s[n]=[])):(i(s),e[t]={}))})},t.fireEvent=function(e,r,o,i){var a,s;o=o||{},n.createEvent&&(e.dispatchEvent||e.fireEvent)?((a=n.createEvent("Events")).initEvent(r,!0,!0),t.extend(a,o),e.dispatchEvent?e.dispatchEvent(a):e.fireEvent(r,a)):(o.target||t.extend(o,{preventDefault:function(){o.defaultPrevented=!0},target:e,type:r}),function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);var r=0,i=0,a=t.length+n.length;for(s=0;s<a;s++)!1===(t[r]?n[i]?t[r].order<=n[i].order?t[r++]:n[i++]:t[r++]:n[i++]).fn.call(e,o)&&o.preventDefault()}(e.protoEvents&&e.protoEvents[r],e.hcEvents&&e.hcEvents[r])),i&&!o.defaultPrevented&&i.call(e,o)},t.animate=function(e,n,r){var o,i,a,s,l="";t.isObject(r)||(r={duration:(s=arguments)[2],easing:s[3],complete:s[4]}),t.isNumber(r.duration)||(r.duration=400),r.easing="function"===typeof r.easing?r.easing:Math[r.easing]||Math.easeInOutSine,r.curAnim=t.merge(n),t.objectEach(n,function(s,u){t.stop(e,u),a=new t.Fx(e,r,u),i=null,"d"===u?(a.paths=a.initPath(e,e.d,n.d),a.toD=n.d,o=0,i=1):e.attr?o=e.attr(u):(o=parseFloat(t.getStyle(e,u))||0,"opacity"!==u&&(l="px")),i||(i=s),i&&i.match&&i.match("px")&&(i=i.replace(/px/g,"")),a.run(o,i,l)})},t.seriesType=function(e,n,r,o,i){var a=t.getOptions(),s=t.seriesTypes;return a.plotOptions[e]=t.merge(a.plotOptions[n],r),s[e]=t.extendClass(s[n]||function(){},o),s[e].prototype.type=e,i&&(s[e].prototype.pointClass=t.extendClass(t.Point,i)),s[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),t.isFunction=function(t){return"function"===typeof t},r.jQuery&&(r.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(t[t.isString(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):e[t.attr(this[0],"data-highcharts-chart")]})}),e(n,"parts/Color.js",[n["parts/Globals.js"]],function(t){var e=t.isNumber,n=t.merge,r=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var n,r,o,i;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=e.stops.map(function(e){return new t.Color(e[1])});else if(e&&e.charAt&&"#"===e.charAt()&&(n=e.length,e=parseInt(e.substr(1),16),7===n?r=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===n&&(r=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!r)for(o=this.parsers.length;o--&&!r;)(n=(i=this.parsers[o]).regex.exec(e))&&(r=i.parse(n));this.rgba=r||[]},get:function(t){var r,o=this.input,i=this.rgba;return this.stops?((r=n(o)).stops=[].concat(r.stops),this.stops.forEach(function(e,n){r.stops[n]=[r.stops[n][0],e.get(t)]})):r=i&&e(i[0])?"rgb"===t||!t&&1===i[3]?"rgb("+i[0]+","+i[1]+","+i[2]+")":"a"===t?i[3]:"rgba("+i.join(",")+")":o,r},brighten:function(t){var n,o=this.rgba;if(this.stops)this.stops.forEach(function(e){e.brighten(t)});else if(e(t)&&0!==t)for(n=0;3>n;n++)o[n]+=r(255*t),0>o[n]&&(o[n]=0),255<o[n]&&(o[n]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var n=this.rgba,r=t.rgba;return r.length&&n&&n.length?e=((t=1!==r[3]||1!==n[3])?"rgba(":"rgb(")+Math.round(r[0]+(n[0]-r[0])*(1-e))+","+Math.round(r[1]+(n[1]-r[1])*(1-e))+","+Math.round(r[2]+(n[2]-r[2])*(1-e))+(t?","+(r[3]+(n[3]-r[3])*(1-e)):"")+")":e=t.input||"none",e}},t.color=function(e){return new t.Color(e)}}),e(n,"parts/SvgRenderer.js",[n["parts/Globals.js"]],function(t){var e,n,r=t.addEvent,o=t.animate,i=t.attr,a=t.charts,s=t.color,l=t.css,u=t.createElement,c=t.defined,h=t.deg2rad,f=t.destroyObjectProperties,d=t.doc,p=t.extend,g=t.erase,m=t.hasTouch,v=t.isArray,y=t.isFirefox,b=t.isMS,w=t.isObject,C=t.isString,O=t.isWebKit,S=t.merge,E=t.noop,k=t.objectEach,T=t.pick,R=t.pInt,x=t.removeEvent,M=t.splat,A=t.stop,N=t.svg,_=t.SVG_NS,P=t.symbolSizes,I=t.win;e=t.SVGElement=function(){return this},p(e.prototype,{opacity:1,SVG_NS:_,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function(e,n){this.element="span"===n?u(n):d.createElementNS(this.SVG_NS,n),this.renderer=e,t.fireEvent(this,"afterInit")},animate:function(e,n,r){var i=t.animObject(T(n,this.renderer.globalAnimation,!0));return T(d.hidden,d.msHidden,d.webkitHidden,!1)&&(i.duration=0),0!==i.duration?(r&&(i.complete=r),o(this,e,i)):(this.attr(e,void 0,r),t.objectEach(e,function(t,e){i.step&&i.step.call(this,t,{prop:e,pos:1})},this)),this},complexColor:function(e,n,r){var o,i,a,s,l,u,h,f,d,p,g,m,y=this.renderer,b=[];t.fireEvent(this.renderer,"complexColor",{args:arguments},function(){e.radialGradient?i="radialGradient":e.linearGradient&&(i="linearGradient"),i&&(a=e[i],l=y.gradients,h=e.stops,p=r.radialReference,v(a)&&(e[i]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===i&&p&&!c(a.gradientUnits)&&(s=a,a=S(a,y.getRadialAttr(p,s),{gradientUnits:"userSpaceOnUse"})),k(a,function(t,e){"id"!==e&&b.push(e,t)}),k(h,function(t){b.push(t)}),b=b.join(","),l[b]?g=l[b].attr("id"):(a.id=g=t.uniqueKey(),l[b]=u=y.createElement(i).attr(a).add(y.defs),u.radAttr=s,u.stops=[],h.forEach(function(e){0===e[1].indexOf("rgba")?(o=t.color(e[1]),f=o.get("rgb"),d=o.get("a")):(f=e[1],d=1),e=y.createElement("stop").attr({offset:e[0],"stop-color":f,"stop-opacity":d}).add(u),u.stops.push(e)})),m="url("+y.url+"#"+g+")",r.setAttribute(n,m),r.gradient=b,e.toString=function(){return m})})},applyTextOutline:function(e){var n,r,o,a=this.element;-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(a.style.fill))),e=e.split(" "),n=e[e.length-1],(r=e[0])&&"none"!==r&&t.svg&&(this.fakeTS=!0,e=[].slice.call(a.getElementsByTagName("tspan")),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,n){return 2*e+n}),this.removeTextOutline(e),o=a.firstChild,e.forEach(function(t,e){0===e&&(t.setAttribute("x",a.getAttribute("x")),e=a.getAttribute("y"),t.setAttribute("y",e||0),null===e&&a.setAttribute("y",0)),t=t.cloneNode(1),i(t,{class:"highcharts-text-outline",fill:n,stroke:n,"stroke-width":r,"stroke-linejoin":"round"}),a.insertBefore(t,o)}))},removeTextOutline:function(t){for(var e,n=t.length;n--;)"highcharts-text-outline"===(e=t[n]).getAttribute("class")&&g(t,this.element.removeChild(e))},symbolCustomAttribs:"x y width height r start end innerR anchorX anchorY rounded".split(" "),attr:function(e,n,r,o){var i,a,s,l,u=this.element,c=this,h=this.symbolCustomAttribs;return"string"===typeof e&&void 0!==n&&(i=e,(e={})[i]=n),"string"===typeof e?c=(this[e+"Getter"]||this._defaultGetter).call(this,e,u):(k(e,function(n,r){s=!1,o||A(this,r),this.symbolName&&-1!==t.inArray(r,h)&&(a||(this.symbolAttr(e),a=!0),s=!0),!this.rotation||"x"!==r&&"y"!==r||(this.doTransform=!0),s||((l=this[r+"Setter"]||this._defaultSetter).call(this,n,r,u),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r)&&this.updateShadows(r,n,l))},this),this.afterSetters()),r&&r.call(this),c},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,n){for(var r=this.shadows,o=r.length;o--;)n.call(r[o],"height"===t?Math.max(e-(r[o].cutHeight||0),0):"d"===t?this.d:e,t,r[o])},addClass:function(t,e){var n=this.attr("class")||"";return e||(t=(t||"").split(/ /g).reduce(function(t,e){return-1===n.indexOf(e)&&t.push(e),t},n?[n]:[]).join(" ")),t!==n&&this.attr("class",t),this},hasClass:function(t){return-1!==(this.attr("class")||"").split(" ").indexOf(t)},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(n){e[n]=T(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var n;return e=e||t.strokeWidth||0,n=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+n,t.y=Math.floor(t.y||this.y||0)+n,t.width=Math.floor((t.width||this.width||0)-2*n),t.height=Math.floor((t.height||this.height||0)-2*n),c(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,n,r=this.styles,o={},a=this.element,s="",u=!r,c=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),r&&k(t,function(t,e){t!==r[e]&&(o[e]=t,u=!0)}),u&&(r&&(t=p(r,o)),t&&(null===t.width||"auto"===t.width?delete this.textWidth:"text"===a.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=R(t.width))),this.styles=t,e&&!N&&this.renderer.forExport&&delete t.width,a.namespaceURI===this.SVG_NS?(n=function(t,e){return"-"+e.toLowerCase()},k(t,function(t,e){-1===c.indexOf(e)&&(s+=e.replace(/([A-Z])/g,n)+":"+t+";")}),s&&i(a,"style",s)):l(a,t),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},getStyle:function(t){return I.getComputedStyle(this.element||this,"").getPropertyValue(t)},strokeWidth:function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var t,e=this.getStyle("stroke-width");return e.indexOf("px")===e.length-2?e=R(e):(t=d.createElementNS(_,"rect"),i(t,{width:e,"stroke-width":0}),this.element.parentNode.appendChild(t),e=t.getBBox().width,t.parentNode.removeChild(t)),e},on:function(t,e){var n=this,r=n.element;return m&&"click"===t?(r.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(r,t)},r.onclick=function(t){(-1===I.navigator.userAgent.indexOf("Android")||1100<Date.now()-(n.touchEventFired||0))&&e.call(r,t)}):r["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,r=this.scaleY,o=this.inverted,i=this.rotation,a=this.matrix,s=this.element;o&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],c(a)&&t.push("matrix("+a.join(",")+")"),o?t.push("rotate(90) scale(-1,1)"):i&&t.push("rotate("+i+" "+T(this.rotationOriginX,s.getAttribute("x"),0)+" "+T(this.rotationOriginY,s.getAttribute("y")||0)+")"),(c(n)||c(r))&&t.push("scale("+T(n,1)+" "+T(r,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var r,o,i,a,s,l,u={};return i=(o=this.renderer).alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!n||C(n))&&(this.alignTo=r=n||"renderer",g(i,this),i.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,r=this.alignTo),n=T(n,o[r],o),r=t.align,o=t.verticalAlign,i=(n.x||0)+(t.x||0),a=(n.y||0)+(t.y||0),"right"===r?s=1:"center"===r&&(s=2),s&&(i+=(n.width-(t.width||0))/s),u[e?"translateX":"x"]=Math.round(i),"bottom"===o?l=1:"middle"===o&&(l=2),l&&(a+=(n.height-(t.height||0))/l),u[e?"translateY":"y"]=Math.round(a),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(t,n){var r,o,i,a,s,l=this.renderer,u=this.element,f=this.styles,d=this.textStr,g=l.cache,m=l.cacheKeys,v=u.namespaceURI===this.SVG_NS;if(o=(n=T(n,this.rotation))*h,i=l.styledMode?u&&e.prototype.getStyle.call(u,"font-size"):f&&f.fontSize,c(d)&&(-1===(s=d.toString()).indexOf("<")&&(s=s.replace(/[0-9]/g,"0")),s+=["",n||0,i,this.textWidth,f&&f.textOverflow].join()),s&&!t&&(r=g[s]),!r){if(v||l.forExport){try{(a=this.fakeTS&&function(t){[].forEach.call(u.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})})&&a("none"),r=u.getBBox?p({},u.getBBox()):{width:u.offsetWidth,height:u.offsetHeight},a&&a("")}catch(y){}(!r||0>r.width)&&(r={width:0,height:0})}else r=this.htmlGetBBox();if(l.isSVG&&(t=r.width,l=r.height,v&&(r.height=l={"11px,17":14,"13px,20":16}[f&&f.fontSize+","+Math.round(l)]||l),n&&(r.width=Math.abs(l*Math.sin(o))+Math.abs(t*Math.cos(o)),r.height=Math.abs(l*Math.cos(o))+Math.abs(t*Math.sin(o)))),s&&0<r.height){for(;250<m.length;)delete g[m.shift()];g[s]||m.push(s),g[s]=r}}return r},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,r=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(r),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},n=t.renderer,r=n.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,o=e.ownerSVGElement,i=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,A(t),i&&o&&([].forEach.call(o.querySelectorAll("[clip-path],[CLIP-PATH]"),function(t){-1<t.getAttribute("clip-path").indexOf(i.element.id)&&t.removeAttribute("clip-path")}),t.clipPath=i.destroy()),t.stops){for(o=0;o<t.stops.length;o++)t.stops[o]=t.stops[o].destroy();t.stops=null}for(t.safeRemoveChild(e),n.styledMode||t.destroyShadows();r&&r.div&&0===r.div.childNodes.length;)e=r.parentGroup,t.safeRemoveChild(r.div),delete r.div,r=e;t.alignTo&&g(n.alignedObjects,t),k(t,function(e,n){delete t[n]})},shadow:function(t,e,n){var r,o,a,s,l,u,c=[],h=this.element;if(t){if(!this.shadows){for(s=T(t.width,3),l=(t.opacity||.15)/s,u=this.parentInverted?"(-1,-1)":"("+T(t.offsetX,1)+", "+T(t.offsetY,1)+")",r=1;r<=s;r++)o=h.cloneNode(0),a=2*s+1-2*r,i(o,{stroke:t.color||"#000000","stroke-opacity":l*r,"stroke-width":a,transform:"translate"+u,fill:"none"}),o.setAttribute("class",(o.getAttribute("class")||"")+" highcharts-shadow"),n&&(i(o,"height",Math.max(i(o,"height")-a,0)),o.cutHeight=a),e?e.element.appendChild(o):h.parentNode&&h.parentNode.insertBefore(o,h),c.push(o);this.shadows=c}}else this.destroyShadows();return this},destroyShadows:function(){(this.shadows||[]).forEach(function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=T(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(n.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,n=this["stroke-width"];if("inherit"===n&&(n=1),t=t&&t.toLowerCase()){for(e=(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;e--;)t[e]=R(t[e])*n;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){var e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=d.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(d.createTextNode(String(T(t,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this))},setTextPath:function(e,n){var r,o,i=this.element,a={textAnchor:"text-anchor"},s=!1,l=this.textPathWrapper,u=!l;if(r=(n=S(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},n)).attributes,e&&n&&n.enabled){if(this.options&&this.options.padding&&(r.dx=-this.options.padding),l||(this.textPathWrapper=l=this.renderer.createElement("textPath"),s=!0),o=l.element,(n=e.element.getAttribute("id"))||e.element.setAttribute("id",n=t.uniqueKey()),u)for(e=i.getElementsByTagName("tspan");e.length;)e[0].setAttribute("y",0),o.appendChild(e[0]);s&&l.add({element:this.text?this.text.element:i}),o.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+n),c(r.dy)&&(o.parentNode.setAttribute("dy",r.dy),delete r.dy),c(r.dx)&&(o.parentNode.setAttribute("dx",r.dx),delete r.dx),t.objectEach(r,function(t,e){o.setAttribute(a[e]||e,t)}),i.removeAttribute("transform"),this.removeTextOutline.call(l,[].slice.call(i.getElementsByTagName("tspan"))),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=E}else l&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(i,e));return this},destroyTextPath:function(t,e){var n;for(e.element.setAttribute("id",""),n=this.textPathWrapper.element.childNodes;n.length;)t.firstChild.appendChild(n[0]);t.firstChild.removeChild(this.textPathWrapper.element),delete e.textPathWrapper},fillSetter:function(t,e,n){"string"===typeof t?n.setAttribute(e,t):t&&this.complexColor(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):this[e]!==t&&n.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var n,r,o,i=this.renderer,a=this.parentGroup,s=(a||i).element||i.box,l=this.element,u=!1;i=s===i.box;if(n=this.added,c(t)?(l.setAttribute("data-z-index",t),t=+t,this[e]===t&&(n=!1)):c(this[e])&&l.removeAttribute("data-z-index"),this[e]=t,n){for((t=this.zIndex)&&a&&(a.handleZ=!0),o=(e=s.childNodes).length-1;0<=o&&!u;o--)n=(a=e[o]).getAttribute("data-z-index"),r=!c(n),a!==l&&(0>t&&r&&!i&&!o?(s.insertBefore(l,e[o]),u=!0):(R(n)<=t||r&&(!c(t)||0<=t))&&(s.insertBefore(l,e[o+1]||null),u=!0));u||(s.insertBefore(l,e[i?3:0]||null),u=!0)}return u},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,n,r){this[n]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",r),r.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===n&&0===t&&this.hasStroke&&(r.removeAttribute("stroke"),this.hasStroke=!1)},n=t.SVGRenderer=function(){this.init.apply(this,arguments)},p(n.prototype,{Element:e,SVG_NS:_,init:function(t,e,n,o,a,s,u){var c,h;c=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),u||c.css(this.getStyle(o)),o=c.element,t.appendChild(o),i(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&i(o,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=o,this.boxWrapper=c,this.alignedObjects=[],this.url=(y||O)&&d.getElementsByTagName("base").length?I.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(d.createTextNode("Created with Highcharts 7.1.2")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=a,this.styledMode=u,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1),y&&t.getBoundingClientRect&&((e=function(){l(t,{left:0,top:0}),h=t.getBoundingClientRect(),l(t,{left:Math.ceil(h.left)-h.left+"px",top:Math.ceil(h.top)-h.top+"px"})})(),this.unSubPixelFix=r(I,"resize",e))},definition:function(t){var e=this;return function t(n,r){var o;return M(n).forEach(function(n){var i=e.createElement(n.tagName),a={};k(n,function(t,e){"tagName"!==e&&"children"!==e&&"textContent"!==e&&(a[e]=t)}),i.attr(a),i.add(r||e.defs),n.textContent&&i.element.appendChild(d.createTextNode(n.textContent)),t(n.children||[],i),o=i}),o}(t)},getStyle:function(t){return this.style=p({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),f(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:E,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},truncate:function(t,e,n,r,o,i,a){var s,l,u,c=this,h=t.rotation,f=r?1:0,p=(n||r).length,g=p,m=[],v=function(t){e.firstChild&&e.removeChild(e.firstChild),t&&e.appendChild(d.createTextNode(t))},y=function(i,s){if(void 0===m[s=s||i])if(e.getSubStringLength)try{m[s]=o+e.getSubStringLength(0,r?s+1:s)}catch(l){}else c.getSpanWidth&&(v(a(n||r,i)),m[s]=o+c.getSpanWidth(t,e));return m[s]};if(t.rotation=0,l=y(e.textContent.length),u=o+l>i){for(;f<=p;)g=Math.ceil((f+p)/2),r&&(s=a(r,g)),l=y(g,s&&s.length-1),f===p?f=p+1:l>i?p=g-1:f=g;0===p?v(""):n&&p===n.length-1||v(s||a(n||r,g))}return r&&r.splice(0,g),t.actualWidth=l,t.rotation=h,u},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,n,r,o=t.element,a=this,s=a.forExport,u=T(t.textStr,"").toString(),c=-1!==u.indexOf("<"),h=o.childNodes,f=i(o,"x"),p=t.styles,g=t.textWidth,m=p&&p.lineHeight,v=p&&p.textOutline,y=p&&"ellipsis"===p.textOverflow,b=p&&"nowrap"===p.whiteSpace,w=p&&p.fontSize,C=h.length,O=(p=g&&!t.added&&this.box,function(t){var e;return a.styledMode||(e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:w||a.style.fontSize||12),m?R(m):a.fontMetrics(e,t.getAttribute("style")?t:o).h}),S=function(t,e){return k(a.escapes,function(n,r){e&&-1!==e.indexOf(n)||(t=t.toString().replace(new RegExp(n,"g"),r))}),t},E=function(t,e){var n;if(n=t.indexOf("<"),-1!==(n=(t=t.substring(n,t.indexOf(">")-n)).indexOf(e+"="))&&(n=n+e.length+1,'"'===(e=t.charAt(n))||"'"===e))return(t=t.substring(n+1)).substring(0,t.indexOf(e))};if((n=[u,y,b,m,v,w,g].join())!==t.textCache){for(t.textCache=n;C--;)o.removeChild(h[C]);c||v||y||g||-1!==u.indexOf(" ")?(p&&p.appendChild(o),c?u=(u=a.styledMode?u.replace(/<(b|strong)>/g,'<span class="highcharts-strong">').replace(/<(i|em)>/g,'<span class="highcharts-emphasized">'):u.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">')).replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):u=[u],(u=u.filter(function(t){return""!==t})).forEach(function(n,u){var c,h=0,p=0;n=n.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),(c=n.split("|||")).forEach(function(n){if(""!==n||1===c.length){var m,v,C={},k=d.createElementNS(a.SVG_NS,"tspan");if((m=E(n,"class"))&&i(k,"class",m),(m=E(n,"style"))&&(m=m.replace(/(;| |^)color([ :])/,"$1fill$2"),i(k,"style",m)),(v=E(n,"href"))&&!s&&(i(k,"onclick",'location.href="'+v+'"'),i(k,"class","highcharts-anchor"),a.styledMode||l(k,{cursor:"pointer"}))," "!==(n=S(n.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(k.appendChild(d.createTextNode(n)),h?C.dx=0:u&&null!==f&&(C.x=f),i(k,C),o.appendChild(k),!h&&r&&(!N&&s&&l(k,{display:"block"}),i(k,"dy",O(k))),g){var T=n.replace(/([^\^])-/g,"$1- ").split(" ");C=!b&&(1<c.length||u||1<T.length);v=0;var R=O(k);if(y)e=a.truncate(t,k,n,void 0,0,Math.max(0,g-parseInt(w||12,10)),function(t,e){return t.substring(0,e)+"\u2026"});else if(C)for(;T.length;)T.length&&!b&&0<v&&(k=d.createElementNS(_,"tspan"),i(k,{dy:R,x:f}),m&&i(k,"style",m),k.appendChild(d.createTextNode(T.join(" ").replace(/- /g,"-"))),o.appendChild(k)),a.truncate(t,k,null,T,0===v?p:0,g,function(t,e){return T.slice(0,e).join(" ").replace(/- /g,"-")}),p=t.actualWidth,v++}h++}}}),r=r||o.childNodes.length}),y&&e&&t.attr("title",S(t.textStr,["&lt;","&gt;"])),p&&p.removeChild(o),v&&t.applyTextOutline&&t.applyTextOutline(v)):o.appendChild(d.createTextNode(S(u)))}},getContrast:function(t){return(t=s(t).rgba)[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,n,o,i,a,s,l,u,c){var h,f,d,g,m=this.label(t,e,n,u,null,null,c,null,"button"),v=0,y=this.styledMode;(m.attr(S({padding:8,r:2},i)),y)||(i=S({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},i),h=i.style,delete i.style,a=S(i,{fill:"#e6e6e6"},a),f=a.style,delete a.style,s=S(i,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s),d=s.style,delete s.style,l=S(i,{style:{color:"#cccccc"}},l),g=l.style,delete l.style);return r(m.element,b?"mouseover":"mouseenter",function(){3!==v&&m.setState(1)}),r(m.element,b?"mouseout":"mouseleave",function(){3!==v&&m.setState(v)}),m.setState=function(t){1!==t&&(m.state=v=t),m.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),y||m.attr([i,a,s,l][t||0]).css([h,f,d,g][t||0])},y||m.attr(i).css(p({cursor:"default"},h)),m.on("click",function(t){3!==v&&o.call(m,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e=this.styledMode?{}:{fill:"none"};return v(t)?e.d=t:w(t)&&p(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){return t=w(t)?t:void 0===t?{}:{x:t,y:e,r:n},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,n,r,o,i){return w(t)?(e=(r=t).y,n=r.r,t=r.x):r={innerR:r,start:o,end:i},(t=this.symbol("arc",t,e,n,n,r)).r=n,t},rect:function(t,e,n,r,o,a){o=w(t)?t.r:o;var s=this.createElement("rect");return t=w(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(r,0)},this.styledMode||(void 0!==a&&(t.strokeWidth=a,t=s.crisp(t)),t.fill="none"),o&&(t.r=o),s.rSetter=function(t,e,n){s.r=t,i(n,{rx:t,ry:t})},s.rGetter=function(){return s.r},s.attr(t)},setSize:function(t,e,n){var r=this.alignedObjects,o=r.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:T(n,!0)?void 0:0});o--;)r[o].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,n,o,i,a){var s,l={preserveAspectRatio:"none"},u=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},c=function(e){u(s.element,t),a.call(s,e)};return 1<arguments.length&&p(l,{x:e,y:n,width:o,height:i}),s=this.createElement("image").attr(l),a?(u(s.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),l=new I.Image,r(l,"load",c),l.src=t,l.complete&&c({})):u(s.element,t),s},symbol:function(t,e,n,r,o,i){var s,h,f,g=this,m=/^url\((.*?)\)$/,v=m.test(t),y=!v&&(this.symbols[t]?t:"circle"),b=y&&this.symbols[y],w=c(e)&&b&&b.call(this.symbols,Math.round(e),Math.round(n),r,o,i);return b?(s=this.path(w),g.styledMode||s.attr("fill","none"),p(s,{symbolName:y,x:e,y:n,width:r,height:o}),i&&p(s,i)):v&&(h=t.match(m)[1],(s=this.image(h)).imgwidth=T(P[h]&&P[h].width,i&&i.width),s.imgheight=T(P[h]&&P[h].height,i&&i.height),f=function(){s.attr({width:s.width,height:s.height})},["width","height"].forEach(function(t){s[t+"Setter"]=function(t,e){var n={},r=this["img"+e],o="width"===e?"translateX":"translateY";this[e]=t,c(r)&&(i&&"within"===i.backgroundSize&&this.width&&this.height&&(r=Math.round(r*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(e,r),this.alignByTranslate||(n[o]=((this[e]||0)-r)/2,this.attr(n)))}}),c(e)&&s.attr({x:e,y:n}),s.isImg=!0,c(s.imgwidth)&&c(s.imgheight)?f():(s.attr({width:0,height:0}),u("img",{onload:function(){var t=a[g.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),d.body.appendChild(this)),P[h]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&f(),this.parentNode&&this.parentNode.removeChild(this),g.imgCount--,!g.imgCount&&t&&t.onload&&t.onload()},src:h}),this.imgCount++)),s},symbols:{circle:function(t,e,n,r){return this.arc(t+n/2,e+r/2,n/2,r/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},square:function(t,e,n,r){return["M",t,e,"L",t+n,e,t+n,e+r,t,e+r,"Z"]},triangle:function(t,e,n,r){return["M",t+n/2,e,"L",t+n,e+r,t,e+r,"Z"]},"triangle-down":function(t,e,n,r){return["M",t,e,"L",t+n,e,t+n/2,e+r,"Z"]},diamond:function(t,e,n,r){return["M",t+n/2,e,"L",t+n,e+r/2,t+n/2,e+r,t,e+r/2,"Z"]},arc:function(t,e,n,r,o){var i=o.start,a=o.r||n,s=o.r||r||n,l=o.end-.001;n=o.innerR,r=T(o.open,.001>Math.abs(o.end-o.start-2*Math.PI));var u=Math.cos(i),h=Math.sin(i),f=Math.cos(l);l=Math.sin(l);return o=["M",t+a*u,e+s*h,"A",a,s,0,i=.001>o.end-i-Math.PI?0:1,T(o.clockwise,1),t+a*f,e+s*l],c(n)&&o.push(r?"M":"L",t+n*f,e+n*l,"A",n,n,0,i,0,t+n*u,e+n*h),o.push(r?"":"Z"),o},callout:function(t,e,n,r,o){var i,a=Math.min(o&&o.r||0,n,r),s=a+6,l=o&&o.anchorX;return o=o&&o.anchorY,i=["M",t+a,e,"L",t+n-a,e,"C",t+n,e,t+n,e,t+n,e+a,"L",t+n,e+r-a,"C",t+n,e+r,t+n,e+r,t+n-a,e+r,"L",t+a,e+r,"C",t,e+r,t,e+r,t,e+r-a,"L",t,e+a,"C",t,e,t,e,t+a,e],l&&l>n?o>e+s&&o<e+r-s?i.splice(13,3,"L",t+n,o-6,t+n+6,o,t+n,o+6,t+n,e+r-a):i.splice(13,3,"L",t+n,r/2,l,o,t+n,r/2,t+n,e+r-a):l&&0>l?o>e+s&&o<e+r-s?i.splice(33,3,"L",t,o+6,t-6,o,t,o-6,t,e+a):i.splice(33,3,"L",t,r/2,l,o,t,r/2,t,e+a):o&&o>r&&l>t+s&&l<t+n-s?i.splice(23,3,"L",l+6,e+r,l,e+r+6,l-6,e+r,t+a,e+r):o&&0>o&&l>t+s&&l<t+n-s&&i.splice(3,3,"L",l-6,e,l,e-6,l+6,e,n-a,e),i}},clipRect:function(e,n,r,o){var i=t.uniqueKey()+"-",a=this.createElement("clipPath").attr({id:i}).add(this.defs);return(e=this.rect(e,n,r,o,0).add(a)).id=i,e.clipPath=a,e.count=0,e},text:function(t,e,n,r){var o={};return!r||!this.allowHTML&&this.forExport?(o.x=Math.round(e||0),n&&(o.y=Math.round(n)),c(t)&&(o.text=t),t=this.createElement("text").attr(o),r||(t.xSetter=function(t,e,n){var r,o,i=n.getElementsByTagName("tspan"),a=n.getAttribute(e);for(o=0;o<i.length;o++)(r=i[o]).getAttribute(e)===a&&r.setAttribute(e,t);n.setAttribute(e,t)}),t):this.html(t,e,n)},fontMetrics:function(t,n){return t=!this.styledMode&&/px/.test(t)||!I.getComputedStyle?t||n&&n.style&&n.style.fontSize||this.style&&this.style.fontSize:n&&e.prototype.getStyle.call(n,"font-size"),{h:n=24>(t=/px/.test(t)?R(t):12)?t+3:Math.round(1.2*t),b:Math.round(.8*n),f:t}},rotCorr:function(t,e,n){var r=t;return e&&n&&(r=Math.max(r*Math.cos(e*h),4)),{x:-t/3*Math.sin(e*h),y:r}},label:function(n,r,o,i,a,s,l,u,h){var f,d,g,m,v,y,b,w,C,O,E,k,T=this,R=T.styledMode,M=T.g("button"!==h&&"label"),A=M.text=T.text("",0,0,l).attr({zIndex:1}),N=0,_=3,P=0,I={},D=/^url\((.*?)\)$/.test(i),L=R||D,j=function(){return R?f.strokeWidth()%2/2:(w?parseInt(w,10):0)%2/2};h&&M.addClass("highcharts-"+h),O=function(){var t=A.element.style,e={};d=(void 0===g||void 0===m||b)&&c(A.textStr)&&A.getBBox(),M.width=(g||d.width||0)+2*_+P,M.height=(m||d.height||0)+2*_,C=_+Math.min(T.fontMetrics(t&&t.fontSize,A).b,d?d.height:1/0),L&&(f||(M.box=f=T.symbols[i]||D?T.symbol(i):T.rect(),f.addClass(("button"===h?"":"highcharts-label-box")+(h?" highcharts-"+h+"-box":"")),f.add(M),t=j(),e.x=t,e.y=(u?-C:0)+t),e.width=Math.round(M.width),e.height=Math.round(M.height),f.attr(p(e,I)),I={})},E=function(){var t,e=P+_;t=u?0:C,c(g)&&d&&("center"===b||"right"===b)&&(e+={center:.5,right:1}[b]*(g-d.width)),e===A.x&&t===A.y||(A.attr("x",e),A.hasBoxWidthChanged&&(d=A.getBBox(!0),O()),void 0!==t&&A.attr("y",t)),A.x=e,A.y=t},k=function(t,e){f?f.attr(t,e):I[t]=e},M.onAdd=function(){A.add(M),M.attr({text:n||0===n?n:"",x:r,y:o}),f&&c(a)&&M.attr({anchorX:a,anchorY:s})},M.widthSetter=function(e){g=t.isNumber(e)?e:null},M.heightSetter=function(t){m=t},M["text-alignSetter"]=function(t){b=t},M.paddingSetter=function(t){c(t)&&t!==_&&(_=M.padding=t,E())},M.paddingLeftSetter=function(t){c(t)&&t!==P&&(P=t,E())},M.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==N&&(N=t,d&&M.attr({x:v}))},M.textSetter=function(t){void 0!==t&&A.attr({text:t}),O(),E()},M["stroke-widthSetter"]=function(t,e){t&&(L=!0),w=this["stroke-width"]=t,k(e,t)},R?M.rSetter=function(t,e){k(e,t)}:M.strokeSetter=M.fillSetter=M.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(L=!0),M[e]=t),k(e,t)},M.anchorXSetter=function(t,e){a=M.anchorX=t,k(e,Math.round(t)-j()-v)},M.anchorYSetter=function(t,e){s=M.anchorY=t,k(e,t-y)},M.xSetter=function(t){M.x=t,N&&(t-=N*((g||d.width)+2*_),M["forceAnimate:x"]=!0),v=Math.round(t),M.attr("translateX",v)},M.ySetter=function(t){y=M.y=Math.round(t),M.attr("translateY",y)};var H=M.css;return l={css:function(t){if(t){var e={};t=S(t),M.textProps.forEach(function(n){void 0!==t[n]&&(e[n]=t[n],delete t[n])}),A.css(e),"width"in e&&O(),"fontSize"in e&&(O(),E())}return H.call(M,t)},getBBox:function(){return{width:d.width+2*_,height:d.height+2*_,x:d.x-_,y:d.y-_}},destroy:function(){x(M.element,"mouseenter"),x(M.element,"mouseleave"),A&&(A=A.destroy()),f&&(f=f.destroy()),e.prototype.destroy.call(M),M=T=O=E=k=null}},R||(l.shadow=function(t){return t&&(O(),f&&f.shadow(t)),M}),p(M,l)}}),t.Renderer=n}),e(n,"parts/Html.js",[n["parts/Globals.js"]],function(t){var e=t.attr,n=t.createElement,r=t.css,o=t.defined,i=t.extend,a=t.isFirefox,s=t.isMS,l=t.isWebKit,u=t.pick,c=t.pInt,h=t.SVGElement,f=t.SVGRenderer,d=t.win;i(h.prototype,{htmlCss:function(t){var e,n="SPAN"===this.element.tagName&&t&&"width"in t,o=u(n&&t.width,void 0);return n&&(delete t.width,this.textWidth=o,e=!0),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=i(this.styles,t),r(this.element,t),e&&this.htmlUpdateTransform(),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,i=this.translateY||0,a=this.x||0,s=this.y||0,l=this.textAlign||"left",u={left:0,center:.5,right:1}[l],h=(d=this.styles)&&d.whiteSpace;if(r(e,{marginLeft:n,marginTop:i}),!t.styledMode&&this.shadows&&this.shadows.forEach(function(t){r(t,{marginLeft:n+1,marginTop:i+1})}),this.inverted&&[].forEach.call(e.childNodes,function(n){t.invertChild(n,e)}),"SPAN"===e.tagName){var f,d=this.rotation,p=this.textWidth&&c(this.textWidth),g=[d,l,e.innerHTML,this.textWidth,this.textAlign].join();(f=p!==this.oldTextWidth)&&!(f=p>this.oldTextWidth)&&((f=this.textPxLength)||(r(e,{width:"",whiteSpace:h||"nowrap"}),f=e.offsetWidth),f=f>p),f&&(/[ \-]/.test(e.textContent||e.innerText)||"ellipsis"===e.style.textOverflow)?(r(e,{width:p+"px",display:"block",whiteSpace:h||"normal"}),this.oldTextWidth=p,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,g!==this.cTT&&(h=t.fontMetrics(e.style.fontSize,e).b,!o(d)||d===(this.oldRotation||0)&&l===this.oldAlign||this.setSpanRotation(d,u,h),this.getSpanCorrection(!o(d)&&this.textPxLength||e.offsetWidth,h,u,d,l)),r(e,{left:a+(this.xCorr||0)+"px",top:s+(this.yCorr||0)+"px"}),this.cTT=g,this.oldRotation=d,this.oldAlign=l}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var o={},i=this.renderer.getTransformKey();o[i]=o.transform="rotate("+t+"deg)",o[i+(a?"Origin":"-origin")]=o.transformOrigin=100*e+"% "+n+"px",r(this.element,o)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),i(f.prototype,{getTransformKey:function(){return s&&!/Edge/.test(d.navigator.userAgent)?"-ms-transform":l?"-webkit-transform":a?"MozTransform":d.opera?"-o-transform":""},html:function(r,o,a){var s=this.createElement("span"),l=s.element,c=s.renderer,f=c.isSVG,d=function(t,e){["opacity","visibility"].forEach(function(n){t[n+"Setter"]=function(r,o,i){var a=t.div?t.div.style:e;h.prototype[n+"Setter"].call(this,r,o,i),a&&(a[o]=r)}}),t.addedSetters=!0},p=(p=t.charts[c.chartIndex])&&p.styledMode;return s.textSetter=function(t){t!==l.innerHTML&&(delete this.bBox,delete this.oldTextWidth),this.textStr=t,l.innerHTML=u(t,""),s.doTransform=!0},f&&d(s,s.element.style),s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),s[e]=t,s.doTransform=!0},s.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},s.attr({text:r,x:Math.round(o),y:Math.round(a)}).css({position:"absolute"}),p||s.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),l.style.whiteSpace="nowrap",s.css=s.htmlCss,f&&(s.add=function(t){var r,o=c.box.parentNode,a=[];if(this.parentGroup=t){if(!(r=t.div)){for(;t;)a.push(t),t=t.parentGroup;a.reverse().forEach(function(t){function l(e,n){t[n]=e,"translateX"===n?u.left=e+"px":u.top=e+"px",t.doTransform=!0}var u,c=e(t.element,"class");c&&(c={className:c}),r=t.div=t.div||n("div",c,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},r||o),u=r.style,i(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(r),on:function(){return a[0].div&&s.on.apply({element:a[0].div},arguments),t},translateXSetter:l,translateYSetter:l}),t.addedSetters||d(t)})}}else r=o;return r.appendChild(l),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}})}),e(n,"parts/Time.js",[n["parts/Globals.js"]],function(t){var e=t.defined,n=t.extend,r=t.merge,o=t.pick,i=t.timeUnits,a=t.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{},update:function(t){var e=o(t&&t.useUTC,!0),n=this;this.options=t=r(!0,this.options||{},t),this.Date=t.Date||a.Date||Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone))||this.timezoneOffset?(this.get=function(t,e){var r=e.getTime(),o=r-n.getTimezoneOffset(e);return e.setTime(o),t=e["getUTC"+t](),e.setTime(r),t},this.set=function(t,e,r){var o;"Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0===e.getTimezoneOffset()%60?e["set"+t](r):(o=n.getTimezoneOffset(e),o=e.getTime()-o,e.setTime(o),e["setUTC"+t](r),t=n.getTimezoneOffset(e),o=e.getTime()+t,e.setTime(o))}):e?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,n){return e["setUTC"+t](n)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,n){return e["set"+t](n)})},makeTime:function(e,n,r,i,a,s){var l,u,c;return this.useUTC?(l=this.Date.UTC.apply(0,arguments),l+=u=this.getTimezoneOffset(l),u!==(c=this.getTimezoneOffset(l))?l+=c-u:u-36e5!==this.getTimezoneOffset(l-36e5)||t.isSafari||(l-=36e5)):l=new this.Date(e,n,o(r,1),o(i,0),o(a,0),o(s,0)).getTime(),l},timezoneOffsetFunction:function(){var e=this,n=this.options,r=a.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(n.timezone){if(r)return function(t){return 6e4*-r.tz(t,n.timezone).utcOffset()};t.error(25)}return this.useUTC&&n.getTimezoneOffset?function(t){return 6e4*n.getTimezoneOffset(t)}:function(){return 6e4*(e.timezoneOffset||0)}},dateFormat:function(e,n,r){if(!t.defined(n)||isNaN(n))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var o=this,i=new this.Date(n),a=this.get("Hours",i),s=this.get("Day",i),l=this.get("Date",i),u=this.get("Month",i),c=this.get("FullYear",i),h=t.defaultOptions.lang,f=h.weekdays,d=h.shortWeekdays,p=t.pad;i=t.extend({a:d?d[s]:f[s].substr(0,3),A:f[s],d:p(l),e:p(l,2," "),w:s,b:h.shortMonths[u],B:h.months[u],m:p(u+1),o:u+1,y:c.toString().substr(2,2),Y:c,H:p(a),k:a,I:p(a%12||12),l:a%12||12,M:p(o.get("Minutes",i)),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:p(i.getSeconds()),L:p(Math.floor(n%1e3),3)},t.dateFormats);return t.objectEach(i,function(t,r){for(;-1!==e.indexOf("%"+r);)e=e.replace("%"+r,"function"===typeof t?t.call(o,n):t)}),r?e.substr(0,1).toUpperCase()+e.substr(1):e},resolveDTLFormat:function(e){return t.isObject(e,!0)?e:{main:(e=t.splat(e))[0],from:e[1],to:e[2]}},getTimeTicks:function(t,r,a,s){var l,u,c=this,h=[],f={};l=new c.Date(r);var d,p=t.unitRange,g=t.count||1;if(s=o(s,1),e(r)){c.set("Milliseconds",l,p>=i.second?0:g*Math.floor(c.get("Milliseconds",l)/g)),p>=i.second&&c.set("Seconds",l,p>=i.minute?0:g*Math.floor(c.get("Seconds",l)/g)),p>=i.minute&&c.set("Minutes",l,p>=i.hour?0:g*Math.floor(c.get("Minutes",l)/g)),p>=i.hour&&c.set("Hours",l,p>=i.day?0:g*Math.floor(c.get("Hours",l)/g)),p>=i.day&&c.set("Date",l,p>=i.month?1:Math.max(1,g*Math.floor(c.get("Date",l)/g))),p>=i.month&&(c.set("Month",l,p>=i.year?0:g*Math.floor(c.get("Month",l)/g)),u=c.get("FullYear",l)),p>=i.year&&c.set("FullYear",l,u-u%g),p===i.week&&(u=c.get("Day",l),c.set("Date",l,c.get("Date",l)-u+s+(u<s?-7:0))),u=c.get("FullYear",l),s=c.get("Month",l);var m=c.get("Date",l),v=c.get("Hours",l);for(r=l.getTime(),c.variableTimezone&&(d=a-r>4*i.month||c.getTimezoneOffset(r)!==c.getTimezoneOffset(a)),r=l.getTime(),l=1;r<a;)h.push(r),r=p===i.year?c.makeTime(u+l*g,0):p===i.month?c.makeTime(u,s+l*g):!d||p!==i.day&&p!==i.week?d&&p===i.hour&&1<g?c.makeTime(u,s,m,v+l*g):r+p*g:c.makeTime(u,s,m+l*g*(p===i.day?1:7)),l++;h.push(r),p<=i.hour&&1e4>h.length&&h.forEach(function(t){0===t%18e5&&"000000000"===c.dateFormat("%H%M%S%L",t)&&(f[t]="day")})}return h.info=n(t,{higherRanks:f,totalRange:p*g}),h}}}),e(n,"parts/Options.js",[n["parts/Globals.js"]],function(t){var e=t.color,n=t.merge;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:t.Time.prototype.defaultOptions,chart:{styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=n(!0,t.defaultOptions,e),t.time.update(n(t.defaultOptions.global,t.defaultOptions.time),!1),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(n(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,n,r){return t.time.dateFormat(e,n,r)}}),e(n,"parts/Tick.js",[n["parts/Globals.js"]],function(t){var e=t.correctFloat,n=t.defined,r=t.destroyObjectProperties,o=t.fireEvent,i=t.isNumber,a=t.merge,s=t.pick,l=t.deg2rad;t.Tick=function(t,e,n,r,o){this.axis=t,this.pos=e,this.type=n||"",this.isNewLabel=this.isNew=!0,this.parameters=o||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,n||r||this.addLabel()},t.Tick.prototype={addLabel:function(){var r,o,i,l,u=this,c=u.axis,h=c.options,f=c.chart,d=c.categories,p=c.names,g=u.pos,m=s(u.options&&u.options.labels,h.labels),v=g===(w=c.tickPositions)[0],y=g===w[w.length-1],b=(d=this.parameters.category||(d?s(d[g],p[g],g):g),u.label),w=w.info;c.isDatetimeAxis&&w&&(r=(o=f.time.resolveDTLFormat(h.dateTimeLabelFormats[!h.grid&&w.higherRanks[g]||w.unitName])).main),u.isFirst=v,u.isLast=y,u.formatCtx={axis:c,chart:f,isFirst:v,isLast:y,dateTimeLabelFormat:r,tickPositionInfo:w,value:c.isLog?e(c.lin2log(d)):d,pos:g},h=c.labelFormatter.call(u.formatCtx,this.formatCtx),(l=o&&o.list)&&(u.shortenLabel=function(){for(i=0;i<l.length;i++)if(b.attr({text:c.labelFormatter.call(t.extend(u.formatCtx,{dateTimeLabelFormat:l[i]}))}),b.getBBox().width<c.getSlotWidth(u)-2*s(m.padding,5))return;b.attr({text:""})}),n(b)?b&&b.textStr!==h&&(!b.textWidth||m.style&&m.style.width||b.styles.width||b.css({width:null}),b.attr({text:h}),b.textPxLength=b.getBBox().width):((u.label=b=n(h)&&m.enabled?f.renderer.text(h,0,0,m.useHTML).add(c.labelGroup):null)&&(f.styledMode||b.css(a(m.style)),b.textPxLength=b.getBBox().width),u.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n=this.axis,r=n.options.labels,o=t.x,i=n.chart.chartWidth,a=n.chart.spacing,u=s(n.labelLeft,Math.min(n.pos,a[3])),c=(a=s(n.labelRight,Math.max(n.isRadial?0:n.pos+n.len,i-a[1])),this.label),h=this.rotation,f={left:0,center:.5,right:1}[n.labelAlign||c.attr("align")],d=c.getBBox().width,p=n.getSlotWidth(this),g=p,m=1,v={};h||"justify"!==s(r.overflow,"justify")?0>h&&o-f*d<u?e=Math.round(o/Math.cos(h*l)-u):0<h&&o+f*d>a&&(e=Math.round((i-o)/Math.cos(h*l))):(i=o+(1-f)*d,o-f*d<u?g=t.x+g*(1-f)-u:i>a&&(g=a-t.x+g*f,m=-1),(g=Math.min(p,g))<p&&"center"===n.labelAlign&&(t.x+=m*(p-g-f*(p-Math.min(d,g)))),(d>g||n.autoRotation&&(c.styles||{}).width)&&(e=g)),e&&(this.shortenLabel?this.shortenLabel():(v.width=Math.floor(e),(r.style||{}).textOverflow||(v.textOverflow="ellipsis"),c.css(v)))},getPosition:function(e,n,r,i){var a=this.axis,s=a.chart,l=i&&s.oldChartHeight||s.chartHeight;return(e={x:e?t.correctFloat(a.translate(n+r,null,null,i)+a.transB):a.left+a.offset+(a.opposite?(i&&s.oldChartWidth||s.chartWidth)-a.right-a.left:0),y:e?l-a.bottom+a.offset-(a.opposite?a.height:0):t.correctFloat(l-a.translate(n+r,null,null,i)-a.transB)}).y=Math.max(Math.min(e.y,1e5),-1e5),o(this,"afterGetPosition",{pos:e}),e},getLabelPosition:function(t,e,r,i,a,s,u,c){var h=this.axis,f=h.transA,d=h.reversed,p=h.staggerLines,g=h.tickRotCorr||{x:0,y:0},m=a.y,v=i||h.reserveSpaceDefault?0:-h.labelOffset*("center"===h.labelAlign?.5:1),y={};return n(m)||(m=0===h.side?r.rotation?-8:-r.getBBox().height:2===h.side?g.y+8:Math.cos(r.rotation*l)*(g.y-r.getBBox(!1,0).height/2)),t=t+a.x+v+g.x-(s&&i?s*f*(d?-1:1):0),e=e+m-(s&&!i?s*f*(d?1:-1):0),p&&(r=u/(c||1)%p,h.opposite&&(r=p-r-1),e+=h.labelOffset/p*r),y.x=t,y.y=Math.round(e),o(this,"afterGetLabelPosition",{pos:y,tickmarkOffset:s,index:u}),y},getMarkPath:function(t,e,n,r,o,i){return i.crispLine(["M",t,e,"L",t+(o?0:-n),e+(o?n:0)],r)},renderGridLine:function(t,e,n){var r=this.axis,o=r.options,i=this.gridLine,a={},l=this.pos,u=this.type,c=s(this.tickmarkOffset,r.tickmarkOffset),h=r.chart.renderer,f=u?u+"Grid":"grid",d=o[f+"LineWidth"],p=o[f+"LineColor"];o=o[f+"LineDashStyle"];i||(r.chart.styledMode||(a.stroke=p,a["stroke-width"]=d,o&&(a.dashstyle=o)),u||(a.zIndex=1),t&&(e=0),this.gridLine=i=h.path().attr(a).addClass("highcharts-"+(u?u+"-":"")+"grid-line").add(r.gridGroup)),i&&(n=r.getPlotLinePath({value:l+c,lineWidth:i.strokeWidth()*n,force:"pass",old:t}))&&i[t||this.isNew?"attr":"animate"]({d:n,opacity:e})},renderMark:function(t,e,n){var r=this.axis,o=r.options,i=r.chart.renderer,a=this.type,l=a?a+"Tick":"tick",u=r.tickSize(l),c=this.mark,h=!c,f=t.x;t=t.y;var d=s(o[l+"Width"],!a&&r.isXAxis?1:0);o=o[l+"Color"];u&&(r.opposite&&(u[0]=-u[0]),h&&(this.mark=c=i.path().addClass("highcharts-"+(a?a+"-":"")+"tick").add(r.axisGroup),r.chart.styledMode||c.attr({stroke:o,"stroke-width":d})),c[h?"attr":"animate"]({d:this.getMarkPath(f,t,u[0],c.strokeWidth()*n,r.horiz,i),opacity:e}))},renderLabel:function(t,e,n,r){var o=(h=this.axis).horiz,a=h.options,l=this.label,u=a.labels,c=u.step,h=s(this.tickmarkOffset,h.tickmarkOffset),f=!0,d=t.x;t=t.y,l&&i(d)&&(l.xy=t=this.getLabelPosition(d,t,l,o,u,h,r,c),this.isFirst&&!this.isLast&&!s(a.showFirstLabel,1)||this.isLast&&!this.isFirst&&!s(a.showLastLabel,1)?f=!1:!o||u.step||u.rotation||e||0===n||this.handleOverflow(t),c&&r%c&&(f=!1),f&&i(t.y)?(t.opacity=n,l[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(l.attr("y",-9999),this.isNewLabel=!0))},render:function(e,n,r){var o=(u=this.axis).horiz,i=this.pos,a=s(this.tickmarkOffset,u.tickmarkOffset),l=(a=(i=this.getPosition(o,i,a,n)).x,i.y),u=o&&a===u.pos+u.len||!o&&l===u.pos?-1:1;r=s(r,1),this.isActive=!0,this.renderGridLine(n,r,u),this.renderMark(i,r,u),this.renderLabel(i,n,r,e),this.isNew=!1,t.fireEvent(this,"afterRender")},destroy:function(){r(this,this.axis)}}}),e(n,"parts/Axis.js",[n["parts/Globals.js"]],function(t){var e=t.addEvent,n=t.animObject,r=t.arrayMax,o=t.arrayMin,i=t.color,a=t.correctFloat,s=t.defaultOptions,l=t.defined,u=t.deg2rad,c=t.destroyObjectProperties,h=t.extend,f=t.fireEvent,d=t.format,p=t.getMagnitude,g=t.isArray,m=t.isNumber,v=t.isString,y=t.merge,b=t.normalizeTickInterval,w=t.objectEach,C=t.pick,O=t.removeEvent,S=t.seriesTypes,E=t.splat,k=t.syncTimeout,T=t.Tick,R=function(){this.init.apply(this,arguments)};return t.extend(R.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,showEmpty:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},init:function(n,r){var o=r.isX,i=this;i.chart=n,i.horiz=n.inverted&&!i.isZAxis?!o:o,i.isXAxis=o,i.coll=i.coll||(o?"xAxis":"yAxis"),f(this,"init",{userOptions:r}),i.opposite=r.opposite,i.side=r.side||(i.horiz?i.opposite?0:2:i.opposite?1:3),i.setOptions(r);var a=this.options,s=a.type;i.labelFormatter=a.labels.formatter||i.defaultLabelFormatter,i.userOptions=r,i.minPixelPadding=0,i.reversed=a.reversed,i.visible=!1!==a.visible,i.zoomEnabled=!1!==a.zoomEnabled,i.hasNames="category"===s||!0===a.categories,i.categories=a.categories||i.hasNames,i.names||(i.names=[],i.names.keys={}),i.plotLinesAndBandsGroups={},i.isLog="logarithmic"===s,i.isDatetimeAxis="datetime"===s,i.positiveValuesOnly=i.isLog&&!i.allowNegativeLog,i.isLinked=l(a.linkedTo),i.ticks={},i.labelEdge=[],i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=a.minRange||a.maxZoom,i.range=a.range,i.offset=a.offset||0,i.stacks={},i.oldStacks={},i.stacksTouched=0,i.max=null,i.min=null,i.crosshair=C(a.crosshair,E(n.options.tooltip.crosshairs)[o?0:1],!1),r=i.options.events,-1===n.axes.indexOf(i)&&(o?n.axes.splice(n.xAxis.length,0,i):n.axes.push(i),n[i.coll].push(i)),i.series=i.series||[],n.inverted&&!i.isZAxis&&o&&void 0===i.reversed&&(i.reversed=!0),w(r,function(n,r){t.isFunction(n)&&e(i,r,n)}),i.lin2log=a.linearToLogConverter||i.lin2log,i.isLog&&(i.val2lin=i.log2lin,i.lin2val=i.lin2log),f(this,"afterInit")},setOptions:function(t){this.options=y(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],y(s[this.coll],t)),f(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var e,n=this.axis,r=this.value,o=n.chart.time,i=n.categories,a=this.dateTimeLabelFormat,l=(u=s.lang).numericSymbols,u=u.numericSymbolMagnitude||1e3,c=l&&l.length,h=n.options.labels.format;n=n.isLog?Math.abs(r):n.tickInterval;if(h)e=d(h,this,o);else if(i)e=r;else if(a)e=o.dateFormat(a,r);else if(c&&1e3<=n)for(;c--&&void 0===e;)n>=(o=Math.pow(u,c+1))&&0===10*r%o&&null!==l[c]&&0!==r&&(e=t.numberFormat(r/o,-1)+l[c]);return void 0===e&&(e=1e4<=Math.abs(r)?t.numberFormat(r,-1):t.numberFormat(r,-1,void 0,"")),e},getSeriesExtremes:function(){var t,e=this,n=e.chart;f(this,"getSeriesExtremes",null,function(){e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),e.series.forEach(function(r){if(r.visible||!n.options.chart.ignoreHiddenSeries){var o,i,a=r.options,s=a.threshold;e.hasVisibleSeries=!0,e.positiveValuesOnly&&0>=s&&(s=null),e.isXAxis?(a=r.xData).length&&(o=(t=r.getXExtremes(a)).min,i=t.max,m(o)||o instanceof Date||(a=a.filter(m),o=(t=r.getXExtremes(a)).min,i=t.max),a.length&&(e.dataMin=Math.min(C(e.dataMin,o),o),e.dataMax=Math.max(C(e.dataMax,i),i))):(r.getExtremes(),i=r.dataMax,o=r.dataMin,l(o)&&l(i)&&(e.dataMin=Math.min(C(e.dataMin,o),o),e.dataMax=Math.max(C(e.dataMax,i),i)),l(s)&&(e.threshold=s),(!a.softThreshold||e.positiveValuesOnly)&&(e.softThreshold=!1))}})}),f(this,"afterGetSeriesExtremes")},translate:function(t,e,n,r,o,i){var a=this.linkedParent||this,s=1,l=0,u=r?a.oldTransA:a.transA;r=r?a.oldMin:a.min;var c=a.minPixelPadding;return o=(a.isOrdinal||a.isBroken||a.isLog&&o)&&a.lin2val,u||(u=a.transA),n&&(s*=-1,l=a.len),a.reversed&&(l-=(s*=-1)*(a.sector||a.len)),e?(t=(t*s+l-c)/u+r,o&&(t=a.lin2val(t))):(o&&(t=a.val2lin(t)),t=m(r)?s*(t-r)*u+l+s*c+(m(i)?u*i:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t){var e,n,r,o,i,a=this,s=a.chart,l=a.left,u=a.top,c=t.old,h=t.value,d=t.translatedValue,p=t.lineWidth,g=t.force,v=c&&s.oldChartHeight||s.chartHeight,y=c&&s.oldChartWidth||s.chartWidth,b=a.transB,w=function(t,e,n){return("pass"!==g&&t<e||t>n)&&(g?t=Math.min(Math.max(e,t),n):i=!0),t};return t={value:h,lineWidth:p,old:c,force:g,acrossPanes:t.acrossPanes,translatedValue:d},f(this,"getPlotLinePath",t,function(t){d=C(d,a.translate(h,null,null,c)),d=Math.min(Math.max(-1e5,d),1e5),e=r=Math.round(d+b),n=o=Math.round(v-d-b),m(d)?a.horiz?(n=u,o=v-a.bottom,e=r=w(e,l,l+a.width)):(e=l,r=y-a.right,n=o=w(n,u,u+a.height)):(i=!0,g=!1),t.path=i&&!g?null:s.renderer.crispLine(["M",e,n,"L",r,o],p||1)}),t.path},getLinearTickPositions:function(t,e,n){var r,o=a(Math.floor(e/t)*t);n=a(Math.ceil(n/t)*t);var i,s=[];if(a(o+t)===o&&(i=20),this.single)return[e];for(e=o;e<=n&&(s.push(e),(e=a(e+t,i))!==r);)r=e;return s},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?C(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,n=t.tickPositions,r=t.minorTickInterval,o=[],i=t.pointRangePadding||0,a=t.min-i,s=(i=t.max+i)-a;if(s&&s/r<t.len/3)if(t.isLog)this.paddedTicks.forEach(function(e,n,i){n&&o.push.apply(o,t.getLogTickPositions(r,i[n-1],i[n],!0))});else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())o=o.concat(t.getTimeTicks(t.normalizeTimeTickInterval(r),a,i,e.startOfWeek));else for(e=a+(n[0]-a)%r;e<=i&&e!==o[0];e+=r)o.push(e);return 0!==o.length&&t.trimTicks(o),o},adjustForMinRange:function(){var t,e,n,i,a,s,u,c=this.options,h=this.min,f=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(c.min)||l(c.max)?this.minRange=null:(this.series.forEach(function(t){for(s=t.xData,i=t.xIncrement?1:s.length-1;0<i;i--)a=s[i]-s[i-1],(void 0===n||a<n)&&(n=a)}),this.minRange=Math.min(5*n,this.dataMax-this.dataMin))),f-h<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,t=[h-(t=((u=this.minRange)-f+h)/2),C(c.min,h-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),f=[(h=r(t))+u,C(c.max,h+u)],e&&(f[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(f=o(f))-h<u&&(t[0]=f-u,t[1]=C(c.min,f-u),h=r(t))),this.min=h,this.max=f},getClosest:function(){var t;return this.categories?t=1:this.series.forEach(function(e){var n=e.closestPointRange,r=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(n)&&r&&(t=l(t)?Math.min(t,n):n)}),t},nameToX:function(t){var e,n=g(this.categories),r=n?this.categories:this.names,o=t.options.x;return t.series.requireSorting=!1,l(o)||(o=!1===this.options.uniqueNames?t.series.autoIncrement():n?r.indexOf(t.name):C(r.keys[t.name],-1)),-1===o?n||(e=r.length):e=o,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var t=this,e=this.names;0<e.length&&(Object.keys(e.keys).forEach(function(t){delete e.keys[t]}),e.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(t.max=Math.max(t.max,e.xData.length-1),e.processData(),e.generatePoints()),e.data.forEach(function(n,r){var o;n&&n.options&&void 0!==n.name&&(void 0!==(o=t.nameToX(n))&&o!==n.x&&(n.x=o,e.xData[r]=o))})}))},setAxisTranslation:function(t){var e,n=this,r=n.max-n.min,o=n.axisPointRange||0,i=0,a=0,s=n.linkedParent,l=!!n.categories,u=n.transA,c=n.isXAxis;(c||l||o)&&(e=n.getClosest(),s?(i=s.minPointOffset,a=s.pointRangePadding):n.series.forEach(function(t){var r=l?1:c?C(t.options.pointRange,e,0):n.axisPointRange||0,s=t.options.pointPlacement;o=Math.max(o,r),n.single&&!l||(t=S.xrange&&t instanceof S.xrange?!c:c,i=Math.max(i,t&&v(s)?0:r/2),a=Math.max(a,t&&"on"===s?0:r))}),s=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=i*=s,n.pointRangePadding=a*=s,n.pointRange=Math.min(o,r),c&&(n.closestPointRange=e)),t&&(n.oldTransA=u),n.translationSlope=n.transA=u=n.staticScale||n.len/(r+a||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=u*i,f(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var n,r,o,i,s=this,u=s.chart,c=s.options,h=s.isLog,d=s.isDatetimeAxis,g=s.isXAxis,v=s.isLinked,y=c.maxPadding,w=c.minPadding,O=c.tickInterval,S=c.tickPixelInterval,E=s.categories,k=m(s.threshold)?s.threshold:null,T=s.softThreshold;d||E||v||this.getTickAmount(),o=C(s.userMin,c.min),i=C(s.userMax,c.max),v?(s.linkedParent=u[s.coll][c.linkedTo],n=s.linkedParent.getExtremes(),s.min=C(n.min,n.dataMin),s.max=C(n.max,n.dataMax),c.type!==s.linkedParent.options.type&&t.error(11,1,u)):(!T&&l(k)&&(s.dataMin>=k?(n=k,w=0):s.dataMax<=k&&(r=k,y=0)),s.min=C(o,n,s.dataMin),s.max=C(i,r,s.dataMax)),h&&(s.positiveValuesOnly&&!e&&0>=Math.min(s.min,C(s.dataMin,s.min))&&t.error(10,1,u),s.min=a(s.log2lin(s.min),15),s.max=a(s.log2lin(s.max),15)),s.range&&l(s.max)&&(s.userMin=s.min=o=Math.max(s.dataMin,s.minFromRange()),s.userMax=i=s.max,s.range=null),f(s,"foundExtremes"),s.beforePadding&&s.beforePadding(),s.adjustForMinRange(),!(E||s.axisPointRange||s.usePercentage||v)&&l(s.min)&&l(s.max)&&(u=s.max-s.min)&&(!l(o)&&w&&(s.min-=u*w),!l(i)&&y&&(s.max+=u*y)),m(c.softMin)&&!m(s.userMin)&&c.softMin<s.min&&(s.min=o=c.softMin),m(c.softMax)&&!m(s.userMax)&&c.softMax>s.max&&(s.max=i=c.softMax),m(c.floor)&&(s.min=Math.min(Math.max(s.min,c.floor),Number.MAX_VALUE)),m(c.ceiling)&&(s.max=Math.max(Math.min(s.max,c.ceiling),C(s.userMax,-Number.MAX_VALUE))),T&&l(s.dataMin)&&(k=k||0,!l(o)&&s.min<k&&s.dataMin>=k?s.min=s.options.minRange?Math.min(k,s.max-s.minRange):k:!l(i)&&s.max>k&&s.dataMax<=k&&(s.max=s.options.minRange?Math.max(k,s.min+s.minRange):k)),s.tickInterval=s.min===s.max||void 0===s.min||void 0===s.max?1:v&&!O&&S===s.linkedParent.options.tickPixelInterval?O=s.linkedParent.tickInterval:C(O,this.tickAmount?(s.max-s.min)/Math.max(this.tickAmount-1,1):void 0,E?1:(s.max-s.min)*S/Math.max(s.len,S)),g&&!e&&s.series.forEach(function(t){t.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s.setAxisTranslation(!0),s.beforeSetTickPositions&&s.beforeSetTickPositions(),s.postProcessTickInterval&&(s.tickInterval=s.postProcessTickInterval(s.tickInterval)),s.pointRange&&!O&&(s.tickInterval=Math.max(s.pointRange,s.tickInterval)),e=C(c.minTickInterval,s.isDatetimeAxis&&s.closestPointRange),!O&&s.tickInterval<e&&(s.tickInterval=e),d||h||O||(s.tickInterval=b(s.tickInterval,null,p(s.tickInterval),C(c.allowDecimals,!(.5<s.tickInterval&&5>s.tickInterval&&1e3<s.max&&9999>s.max)),!!this.tickAmount)),this.tickAmount||(s.tickInterval=s.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,n=this.options,r=n.tickPositions;e=this.getMinorTickInterval();var o=n.tickPositioner,i=n.startOnTick,a=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===e&&this.tickInterval?this.tickInterval/5:e,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==n.allowDecimals),this.tickPositions=e=r&&r.slice(),!e&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(e=[this.min,this.max],t.error(19,!1,this.chart)):e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&((e=[e[0],e.pop()])[0]===e[1]&&(e.length=1)),this.tickPositions=e,o&&(o=o.apply(this,[this.min,this.max])))&&(this.tickPositions=e=o),this.paddedTicks=e.slice(0),this.trimTicks(e,i,a),this.isLinked||(this.single&&2>e.length&&!this.categories&&(this.min-=.5,this.max+=.5),r||o||this.adjustTickAmount()),f(this,"afterSetTickPositions")},trimTicks:function(t,e,n){var r=t[0],o=t[t.length-1],i=this.minPointOffset||0;if(f(this,"trimTicks"),!this.isLinked){if(e&&-1/0!==r)this.min=r;else for(;this.min-i>t[0];)t.shift();if(n)this.max=o;else for(;this.max+i<t[t.length-1];)t.pop();0===t.length&&l(r)&&!this.options.tickPositions&&t.push((o+r)/2)}},alignToOthers:function(){var t,e={},n=this.options;return!1===this.chart.options.chart.alignTicks||!1===n.alignTicks||!1===n.startOnTick||!1===n.endOnTick||this.isLog||this.chart[this.coll].forEach(function(n){var r=n.options;r=[n.horiz?r.left:r.top,r.width,r.height,r.pane].join();n.series.length&&(e[r]?t=!0:e[r]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!l(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t,e=this.options,n=this.tickInterval,r=this.tickPositions,o=this.tickAmount,i=this.finalTickAmt,s=r&&r.length,u=C(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(s<o){for(t=this.min;r.length<o;)r.length%2||t===u?r.push(a(r[r.length-1]+n)):r.unshift(a(r[0]-n));this.transA*=(s-1)/(o-1),this.min=e.startOnTick?r[0]:Math.min(this.min,r[0]),this.max=e.endOnTick?r[r.length-1]:Math.max(this.max,r[r.length-1])}else s>o&&(this.tickInterval*=2,this.setTickPositions());if(l(i)){for(n=e=r.length;n--;)(3===i&&1===n%2||2>=i&&0<n&&n<e-1)&&r.splice(n,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e=this.series.some(function(t){return t.isDirtyData||t.isDirty||t.xAxis.isDirty});this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),(t=this.len!==this.oldAxisLength)||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),f(this,"afterSetScale")},setExtremes:function(t,e,n,r,o){var i=this,a=i.chart;n=C(n,!0),i.series.forEach(function(t){delete t.kdTree}),o=h(o,{min:t,max:e}),f(i,"setExtremes",o,function(){i.userMin=t,i.userMax=e,i.eventArgs=o,n&&a.redraw(r)})},zoom:function(t,e){var n=this.dataMin,r=this.dataMax,o=this.options,i=Math.min(n,C(o.min,n)),a=Math.max(r,C(o.max,r));return f(this,"zoom",t={newMin:t,newMax:e},function(t){var e=t.newMin,o=t.newMax;e===this.min&&o===this.max||(this.allowZoomOutside||(l(n)&&(e<i&&(e=i),e>a&&(e=a)),l(r)&&(o<i&&(o=i),o>a&&(o=a))),this.displayBtn=void 0!==e||void 0!==o,this.setExtremes(e,o,!1,void 0,{trigger:"zoom"})),t.zoomed=!0}),t.zoomed},setAxisSize:function(){var e=this.chart,n=(s=this.options).offsets||[0,0,0,0],r=this.horiz,o=this.width=Math.round(t.relativeLength(C(s.width,e.plotWidth-n[3]+n[1]),e.plotWidth)),i=this.height=Math.round(t.relativeLength(C(s.height,e.plotHeight-n[0]+n[2]),e.plotHeight)),a=this.top=Math.round(t.relativeLength(C(s.top,e.plotTop+n[0]),e.plotHeight,e.plotTop)),s=this.left=Math.round(t.relativeLength(C(s.left,e.plotLeft+n[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-i-a,this.right=e.chartWidth-o-s,this.len=Math.max(r?o:i,0),this.pos=r?s:a},getExtremes:function(){var t=this.isLog;return{min:t?a(this.lin2log(this.min)):this.min,max:t?a(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=(n=this.isLog)?this.lin2log(this.min):this.min,n=n?this.lin2log(this.max):this.max;return null===t||-1/0===t?t=e:1/0===t?t=n:e>t?t=e:n<t&&(t=n),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e=(C(t,0)-90*this.side+720)%360;return f(this,"autoLabelAlign",t={align:"center"},function(t){15<e&&165>e?t.align="right":195<e&&345>e&&(t.align="left")}),t.align},tickSize:function(t){var e,n=this.options,r=n[t+"Length"],o=C(n[t+"Width"],"tick"===t&&this.isXAxis&&!this.categories?1:0);return o&&r&&("inside"===n[t+"Position"]&&(r=-r),e=[r,o]),f(this,"afterTickSize",t={tickSize:e}),t.tickSize},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,n,r=this.options.labels,o=this.horiz,i=this.tickInterval,s=i,c=this.len/(((this.categories?1:0)+this.max-this.min)/i),h=r.rotation,f=this.labelMetrics(),d=Number.MAX_VALUE,p=this.max-this.min,g=function(t){var e;return(e=1<(e=t/(c||1))?Math.ceil(e):1)*i>p&&1/0!==t&&1/0!==c&&(e=Math.ceil(p/i)),a(e*i)};return o?(n=!r.staggerLines&&!r.step&&(l(h)?[h]:c<C(r.autoRotationLimit,80)&&r.autoRotation))&&n.forEach(function(n){var r;(n===h||n&&-90<=n&&90>=n)&&((r=(e=g(Math.abs(f.h/Math.sin(u*n))))+Math.abs(n/360))<d&&(d=r,t=n,s=e))}):r.step||(s=g(f.h)),this.autoRotation=n,this.labelRotation=C(t,h),s},getSlotWidth:function(t){var e=this.chart,n=this.horiz,r=this.options.labels,o=Math.max(this.tickPositions.length-(this.categories?0:1),1),i=e.margin[3];return t&&t.slotWidth||n&&2>(r.step||0)&&!r.rotation&&(this.staggerLines||1)*this.len/o||!n&&(r.style&&parseInt(r.style.width,10)||i&&i-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var t,e,n,r=this.chart,o=r.renderer,i=this.tickPositions,a=this.ticks,s=this.options.labels,l=s&&s.style||{},u=this.horiz,c=this.getSlotWidth(),h=Math.max(1,Math.round(c-2*(s.padding||5))),f={},d=this.labelMetrics(),p=s.style&&s.style.textOverflow,g=0;if(v(s.rotation)||(f.rotation=s.rotation||0),i.forEach(function(t){(t=a[t])&&t.label&&t.label.textPxLength>g&&(g=t.label.textPxLength)}),this.maxLabelLength=g,this.autoRotation)g>h&&g>d.h?f.rotation=this.labelRotation:this.labelRotation=0;else if(c&&(t=h,!p))for(e="clip",h=i.length;!u&&h--;)n=i[h],(n=a[n].label)&&(n.styles&&"ellipsis"===n.styles.textOverflow?n.css({textOverflow:"clip"}):n.textPxLength>c&&n.css({width:c+"px"}),n.getBBox().height>this.len/i.length-(d.h-d.f)&&(n.specificTextOverflow="ellipsis"));f.rotation&&(t=g>.5*r.chartHeight?.33*r.chartHeight:g,p||(e="ellipsis")),(this.labelAlign=s.align||this.autoLabelAlign(this.labelRotation))&&(f.align=this.labelAlign),i.forEach(function(n){var r=(n=a[n])&&n.label,o=l.width,i={};r&&(r.attr(f),n.shortenLabel?n.shortenLabel():t&&!o&&"nowrap"!==l.whiteSpace&&(t<r.textPxLength||"SPAN"===r.element.tagName)?(i.width=t,p||(i.textOverflow=r.specificTextOverflow||e),r.css(i)):r.styles&&r.styles.width&&!i.width&&!o&&r.css({width:null}),delete r.specificTextOverflow,n.rotation=f.rotation)},this),this.tickRotCorr=o.rotCorr(d.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.series.some(function(t){return t.hasData()})||this.options.showEmpty&&l(this.min)&&l(this.max)},addTitle:function(t){var e,n=this.chart.renderer,r=this.horiz,o=this.opposite,i=this.options.title,a=this.chart.styledMode;this.axisTitle||((e=i.textAlign)||(e=(r?{low:"left",middle:"center",high:"right"}:{low:o?"right":"left",middle:"center",high:o?"left":"right"})[i.align]),this.axisTitle=n.text(i.text,0,0,i.useHTML).attr({zIndex:7,rotation:i.rotation||0,align:e}).addClass("highcharts-axis-title"),a||this.axisTitle.css(y(i.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),a||i.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new T(this,t)},getOffset:function(){var t,e,n,r=this,o=(b=r.chart).renderer,i=r.options,a=r.tickPositions,s=r.ticks,u=r.horiz,c=r.side,h=b.inverted&&!r.isZAxis?[1,0,3,2][c]:c,d=0,p=0,g=i.title,m=i.labels,v=0,y=b.axisOffset,b=b.clipOffset,O=[-1,1,1,-1][c],S=i.className,E=r.axisParent;t=r.hasData(),r.showAxis=e=t||C(i.showEmpty,!0),r.staggerLines=r.horiz&&m.staggerLines,r.axisGroup||(r.gridGroup=o.g("grid").attr({zIndex:i.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(S||"")).add(E),r.axisGroup=o.g("axis").attr({zIndex:i.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(S||"")).add(E),r.labelGroup=o.g("axis-labels").attr({zIndex:m.zIndex||7}).addClass("highcharts-"+r.coll.toLowerCase()+"-labels "+(S||"")).add(E)),t||r.isLinked?(a.forEach(function(t,e){r.generateTick(t,e)}),r.renderUnsquish(),r.reserveSpaceDefault=0===c||2===c||{1:"left",3:"right"}[c]===r.labelAlign,C(m.reserveSpace,"center"===r.labelAlign||null,r.reserveSpaceDefault)&&a.forEach(function(t){v=Math.max(s[t].getLabelSize(),v)}),r.staggerLines&&(v*=r.staggerLines),r.labelOffset=v*(r.opposite?-1:1)):w(s,function(t,e){t.destroy(),delete s[e]}),g&&g.text&&!1!==g.enabled&&(r.addTitle(e),e&&!1!==g.reserveSpace&&(r.titleOffset=d=r.axisTitle.getBBox()[u?"height":"width"],n=g.offset,p=l(n)?0:C(g.margin,u?5:10))),r.renderLine(),r.offset=O*C(i.offset,y[c]?y[c]+(i.margin||0):0),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},o=0===c?-r.labelMetrics().h:2===c?r.tickRotCorr.y:0,p=Math.abs(v)+p,v&&(p=p-o+O*(u?C(m.y,r.tickRotCorr.y+8*O):m.x)),r.axisTitleMargin=C(n,p),r.getMaxLabelDimensions&&(r.maxLabelDimensions=r.getMaxLabelDimensions(s,a)),u=this.tickSize("tick"),y[c]=Math.max(y[c],r.axisTitleMargin+d+O*r.offset,p,a&&a.length&&u?u[0]+O*r.offset:0),i=i.offset?0:2*Math.floor(r.axisLine.strokeWidth()/2),b[h]=Math.max(b[h],i),f(this,"afterGetOffset")},getLinePath:function(t){var e=this.chart,n=this.opposite,r=this.offset,o=this.horiz,i=this.left+(n?this.width:0)+r;r=e.chartHeight-this.bottom-(n?this.height:0)+r;return n&&(t*=-1),e.renderer.crispLine(["M",o?this.left:i,o?r:this.top,"L",o?e.chartWidth-this.right:i,o?r:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,r=this.len,o=this.options.title,i=t?e:n,a=this.opposite,s=this.offset,l=o.x||0,u=o.y||0,c=this.axisTitle,h=this.chart.renderer.fontMetrics(o.style&&o.style.fontSize,c);c=Math.max(c.getBBox(null,0).height-h.h-1,0),r={low:i+(t?0:r),middle:i+r/2,high:i+(t?r:0)}[o.align],e=(t?n+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+[-c,c,h.f,-c][this.side],t={x:t?r+l:e+(a?this.width:0)+s+l,y:t?e+u-(a?this.height:0)+s:r+u};return f(this,"afterGetTitlePosition",{titlePosition:t}),t},renderMinorTick:function(t){var e=this.chart.hasRendered&&m(this.oldMin),n=this.minorTicks;n[t]||(n[t]=new T(this,t,"minor")),e&&n[t].isNew&&n[t].render(null,!0),n[t].render(null,!1,1)},renderTick:function(t,e){var n=this.isLinked,r=this.ticks,o=this.chart.hasRendered&&m(this.oldMin);(!n||t>=this.min&&t<=this.max)&&(r[t]||(r[t]=new T(this,t)),o&&r[t].isNew&&r[t].render(e,!0,-1),r[t].render(e))},render:function(){var e,r,o=this,i=o.chart,a=o.options,s=o.isLog,l=o.isLinked,u=o.tickPositions,c=o.axisTitle,h=o.ticks,d=o.minorTicks,p=o.alternateBands,g=a.stackLabels,v=a.alternateGridColor,y=o.tickmarkOffset,b=o.axisLine,C=o.showAxis,O=n(i.renderer.globalAnimation);o.labelEdge.length=0,o.overlap=!1,[h,d,p].forEach(function(t){w(t,function(t){t.isActive=!1})}),(o.hasData()||l)&&(o.minorTickInterval&&!o.categories&&o.getMinorTickPositions().forEach(function(t){o.renderMinorTick(t)}),u.length&&(u.forEach(function(t,e){o.renderTick(t,e)}),y&&(0===o.min||o.single)&&(h[-1]||(h[-1]=new T(o,-1,null,!0)),h[-1].render(-1))),v&&u.forEach(function(n,a){r=void 0!==u[a+1]?u[a+1]+y:o.max-y,0===a%2&&n<o.max&&r<=o.max+(i.polar?-y:y)&&(p[n]||(p[n]=new t.PlotLineOrBand(o)),e=n+y,p[n].options={from:s?o.lin2log(e):e,to:s?o.lin2log(r):r,color:v},p[n].render(),p[n].isActive=!0)}),o._addedPlotLB||((a.plotLines||[]).concat(a.plotBands||[]).forEach(function(t){o.addPlotBandOrLine(t)}),o._addedPlotLB=!0)),[h,d,p].forEach(function(t){var e,n=[],r=O.duration;w(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,n.push(e))}),k(function(){for(e=n.length;e--;)t[n[e]]&&!t[n[e]].isActive&&(t[n[e]].destroy(),delete t[n[e]])},t!==p&&i.hasRendered&&r?r:0)}),b&&(b[b.isPlaced?"animate":"attr"]({d:this.getLinePath(b.strokeWidth())}),b.isPlaced=!0,b[C?"show":"hide"](!0)),c&&C&&(a=o.getTitlePosition(),m(a.y)?(c[c.isNew?"attr":"animate"](a),c.isNew=!1):(c.attr("y",-9999),c.isNew=!0)),g&&g.enabled&&o.renderStackTotals(),o.isDirty=!1,f(this,"afterRender")},redraw:function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(t){t.render()})),this.series.forEach(function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,n=this,r=n.stacks,o=n.plotLinesAndBands;if(f(this,"destroy",{keepEvents:t}),t||O(n),w(r,function(t,e){c(t),r[e]=null}),[n.ticks,n.minorTicks,n.alternateBands].forEach(function(t){c(t)}),o)for(t=o.length;t--;)o[t].destroy();for(e in"stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(t){n[t]&&(n[t]=n[t].destroy())}),n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[e]=n.plotLinesAndBandsGroups[e].destroy();w(n,function(t,e){-1===n.keepProps.indexOf(e)&&delete n[e]})},drawCrosshair:function(t,e){var n,r,o=this.crosshair,a=C(o.snap,!0),s=this.cross;if(f(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!a)){if(a?l(e)&&(r=C(e.crosshairPos,this.isXAxis?e.plotX:this.len-e.plotY)):r=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(r)&&(n=this.getPlotLinePath({value:e&&(this.isXAxis?e.x:C(e.stackY,e.y)),translatedValue:r})||null),!l(n))return void this.hideCrosshair();a=this.categories&&!this.isRadial,s||(this.cross=s=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(a?"category ":"thin ")+o.className).attr({zIndex:C(o.zIndex,2)}).add(),this.chart.styledMode||(s.attr({stroke:o.color||(a?i("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":C(o.width,1)}).css({"pointer-events":"none"}),o.dashStyle&&s.attr({dashstyle:o.dashStyle}))),s.show().attr({d:n}),a&&!o.width&&s.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();f(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide(),f(this,"afterHideCrosshair")}}),t.Axis=R}),e(n,"parts/DateTimeAxis.js",[n["parts/Globals.js"]],function(t){var e=t.Axis,n=t.getMagnitude,r=t.normalizeTickInterval,o=t.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var i=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=i[i.length-1];var a,s=o[e[0]],l=e[1];for(a=0;a<i.length&&(e=i[a],s=o[e[0]],l=e[1],!(i[a+1]&&t<=(s*l[l.length-1]+o[i[a+1][0]])/2));a++);return s===o.year&&t<5*s&&(l=[1,2,5]),{unitRange:s,count:t=r(t/s,l,"year"===e[0]?Math.max(n(t/s),1):1),unitName:e[0]}}}),e(n,"parts/LogarithmicAxis.js",[n["parts/Globals.js"]],function(t){var e=t.Axis,n=t.getMagnitude,r=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,i,a){var s=this.options,l=this.len,u=[];if(a||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),u=this.getLinearTickPositions(t,e,i);else if(.08<=t){var c,h,f,d,p;for(l=Math.floor(e),s=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];l<i+1&&!p;l++)for(h=s.length,c=0;c<h&&!p;c++)(f=this.log2lin(this.lin2log(l)*s[c]))>e&&(!a||d<=i)&&void 0!==d&&u.push(d),d>i&&(p=!0),d=f}else e=this.lin2log(e),i=this.lin2log(i),t=a?this.getMinorTickInterval():s.tickInterval,t=o("auto"===t?null:t,this._minorAutoInterval,s.tickPixelInterval/(a?5:1)*(i-e)/((a?l/this.tickPositions.length:l)||1)),t=r(t,null,n(t)),u=this.getLinearTickPositions(t,e,i).map(this.log2lin),a||(this._minorAutoInterval=t/5);return a||(this.tickInterval=t),u},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}),e(n,"parts/PlotLineOrBand.js",[n["parts/Globals.js"],n["parts/Axis.js"]],function(t,e){var n=t.arrayMax,r=t.arrayMin,o=t.defined,i=t.destroyObjectProperties,a=t.erase,s=t.merge,l=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){t.fireEvent(this,"render");var e=this,n=e.axis,r=n.horiz,i=e.options,a=i.label,u=e.label,c=i.to,h=i.from,f=i.value,d=o(h)&&o(c),p=o(f),g=e.svgElem,m=!g,v=[],y=i.color,b=l(i.zIndex,0),w=i.events,C=(v={class:"highcharts-plot-"+(d?"band ":"line ")+(i.className||"")},{}),O=n.chart.renderer,S=d?"bands":"lines";if(n.isLog&&(h=n.log2lin(h),c=n.log2lin(c),f=n.log2lin(f)),n.chart.styledMode||(p?(v.stroke=y,v["stroke-width"]=i.width,i.dashStyle&&(v.dashstyle=i.dashStyle)):d&&(y&&(v.fill=y),i.borderWidth&&(v.stroke=i.borderColor,v["stroke-width"]=i.borderWidth))),C.zIndex=b,S+="-"+b,(y=n.plotLinesAndBandsGroups[S])||(n.plotLinesAndBandsGroups[S]=y=O.g("plot-"+S).attr(C).add()),m&&(e.svgElem=g=O.path().attr(v).add(y)),p)v=n.getPlotLinePath({value:f,lineWidth:g.strokeWidth(),acrossPanes:i.acrossPanes});else{if(!d)return;v=n.getPlotBandPath(h,c,i)}return(m||!g.d)&&v&&v.length?(g.attr({d:v}),w&&t.objectEach(w,function(t,n){g.on(n,function(t){w[n].apply(e,[t])})})):g&&(v?(g.show(!0),g.animate({d:v})):g.d&&(g.hide(),u&&(e.label=u=u.destroy()))),a&&o(a.text)&&v&&v.length&&0<n.width&&0<n.height&&!v.isFlat?(a=s({align:r&&d&&"center",x:r?!d&&4:10,verticalAlign:!r&&d&&"middle",y:r?d?16:10:d?6:-4,rotation:r&&!d&&90},a),this.renderLabel(a,v,d,b)):u&&u.hide(),e},renderLabel:function(t,e,o,i){var a=this.label,s=this.axis.chart.renderer;a||((a={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(o?"band":"line")+"-label "+(t.className||"")}).zIndex=i,this.label=a=s.text(t.text,0,0,t.useHTML).attr(a).add(),this.axis.chart.styledMode||a.css(t.style)),i=e.xBounds||[e[1],e[4],o?e[6]:e[1]],e=e.yBounds||[e[2],e[5],o?e[7]:e[2]],o=r(i),s=r(e),a.align(t,!1,{x:o,y:s,width:n(i)-o,height:n(e)-s}),a.show(!0)},destroy:function(){a(this.axis.plotLinesAndBands,this),delete this.axis,i(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var n,r=this.getPlotLinePath({value:e,force:!0,acrossPanes:this.options.acrossPanes}),o=this.getPlotLinePath({value:t,force:!0,acrossPanes:this.options.acrossPanes}),i=[],a=this.horiz,s=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,o&&r)for(t&&(n=o.toString()===r.toString(),s=0),t=0;t<o.length;t+=6)a&&r[t+1]===o[t+1]?(r[t+1]+=s,r[t+4]+=s):a||r[t+2]!==o[t+2]||(r[t+2]+=s,r[t+5]+=s),i.push("M",o[t+1],o[t+2],"L",o[t+4],o[t+5],r[t+4],r[t+5],r[t+1],r[t+2],"z"),i.isFlat=n;return i},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,n){var r=new t.PlotLineOrBand(this,e).render(),o=this.userOptions;return r&&(n&&(o[n]=o[n]||[],o[n].push(e)),this.plotLinesAndBands.push(r)),r},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,r=this.userOptions,o=e.length;o--;)e[o].id===t&&e[o].destroy();[n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]].forEach(function(e){for(o=e.length;o--;)e[o].id===t&&a(e,e[o])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}),e(n,"parts/Tooltip.js",[n["parts/Globals.js"]],function(t){var e=t.doc,n=t.extend,r=t.format,o=t.isNumber,i=t.merge,a=t.pick,s=t.splat,l=t.syncTimeout,u=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=a(e.outside,!(!t.scrollablePixelsX&&!t.scrollablePixelsY))&&!this.split},cleanSplit:function(t){this.chart.series.forEach(function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)})},applyFilter:function(){var t=this.chart;t.renderer.definition({tagName:"filter",id:"drop-shadow-"+t.index,opacity:.5,children:[{tagName:"feGaussianBlur",in:"SourceAlpha",stdDeviation:1},{tagName:"feOffset",dx:1,dy:1},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",type:"linear",slope:.3}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",in:"SourceGraphic"}]}]}),t.renderer.definition({tagName:"style",textContent:".highcharts-tooltip-"+t.index+"{filter:url(#drop-shadow-"+t.index+")}"})},getLabel:function(){var e,n,r=this,o=this.chart.renderer,i=this.chart.styledMode,a=this.options;return this.label||(this.outside&&(this.container=e=t.doc.createElement("div"),e.className="highcharts-tooltip-container",t.css(e,{position:"absolute",top:"1px",pointerEvents:a.style&&a.style.pointerEvents,zIndex:3}),t.doc.body.appendChild(e),this.renderer=o=new t.Renderer(e,0,0)),this.split?this.label=o.g("tooltip"):(this.label=o.label("",0,0,a.shape||"callout",null,null,a.useHTML,null,"tooltip").attr({padding:a.padding,r:a.borderRadius}),i||this.label.attr({fill:a.backgroundColor,"stroke-width":a.borderWidth}).css(a.style).shadow(a.shadow)),i&&(this.applyFilter(),this.label.addClass("highcharts-tooltip-"+this.chart.index)),this.outside&&(n={x:this.label.xSetter,y:this.label.ySetter},this.label.xSetter=function(t,o){n[o].call(this.label,r.distance),e.style.left=t+"px"},this.label.ySetter=function(t,o){n[o].call(this.label,r.distance),e.style.top=t+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),i(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,i(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),t.discardElement(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},move:function(e,r,o,i){var a=this,s=a.now,l=!1!==a.options.animation&&!a.isHidden&&(1<Math.abs(e-s.x)||1<Math.abs(r-s.y)),u=a.followPointer||1<a.len;n(s,{x:l?(2*s.x+e)/3:e,y:l?(s.y+r)/2:r,anchorX:u?void 0:l?(2*s.anchorX+o)/3:o,anchorY:u?void 0:l?(s.anchorY+i)/2:i}),a.getLabel().attr(s),l&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){a&&a.move(e,r,o,i)},32))},hide:function(e){var n=this;t.clearTimeout(this.hideTimer),e=a(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=l(function(){n.getLabel()[e?"fadeOut":"hide"](),n.isHidden=!0},e))},getAnchor:function(t,e){var n,r,o=this.chart,i=o.pointer,a=o.inverted,l=o.plotTop,u=o.plotLeft,c=0,h=0;return t=s(t),this.followPointer&&e?(void 0===e.chartX&&(e=i.normalize(e)),t=[e.chartX-o.plotLeft,e.chartY-l]):t[0].tooltipPos?t=t[0].tooltipPos:(t.forEach(function(t){n=t.series.yAxis,r=t.series.xAxis,c+=t.plotX+(!a&&r?r.left-u:0),h+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!a&&n?n.top-l:0)}),c/=t.length,h/=t.length,t=[a?o.plotWidth-h:c,this.shared&&!a&&1<t.length&&e?e.chartY-l:a?o.plotHeight-c:h]),t.map(Math.round)},getPosition:function(t,n,r){var o,i=this.chart,s=this.distance,l={},u=i.inverted&&r.h||0,c=this.outside,h=c?e.documentElement.clientWidth-2*s:i.chartWidth,f=c?Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.documentElement.clientHeight):i.chartHeight,d=i.pointer.chartPosition,p=["y",f,n,(c?d.top-s:0)+r.plotY+i.plotTop,c?0:i.plotTop,c?f:i.plotTop+i.plotHeight],g=["x",h,t,(c?d.left-s:0)+r.plotX+i.plotLeft,c?0:i.plotLeft,c?h:i.plotLeft+i.plotWidth],m=!this.followPointer&&a(r.ttBelow,!i.inverted===!!r.negative),v=function(t){var e=p;p=g,g=e,o=t};return(i.inverted||1<this.len)&&v(),function t(){!1!==function(t,e,n,r,o,i){var a=n<r-s,c=r+s+n<e,h=r-s-n;if(r+=s,m&&c)l[t]=r;else if(!m&&a)l[t]=h;else if(a)l[t]=Math.min(i-n,0>h-u?h:h-u);else{if(!c)return!1;l[t]=Math.max(o,r+u+n>e?r:r+u)}}.apply(0,p)?!1!==function(t,e,n,r){var o;return r<s||r>e-s?o=!1:l[t]=r<n/2?1:r>e-n/2?e-n-2:r-n/2,o}.apply(0,g)||o||(v(!0),t()):o?l.x=l.y=0:(v(!0),t())}(),l},defaultFormatter:function(t){var e,n=this.points||s(this);return(e=(e=[t.tooltipFooterHeaderFormatter(n[0])]).concat(t.bodyFormatter(n))).push(t.tooltipFooterHeaderFormatter(n[0],!0)),e},refresh:function(e,n){var r,o,i,l=this.chart,u=this.options,c=e,h={},f=[];i=u.formatter||this.defaultFormatter;h=this.shared;var d=l.styledMode,p=[];u.enabled&&(t.clearTimeout(this.hideTimer),this.followPointer=s(c)[0].series.tooltipOptions.followPointer,n=(o=this.getAnchor(c,n))[0],r=o[1],!h||c.series&&c.series.noSharedTooltip?h=c.getLabelConfig():(p=l.pointer.getActiveSeries(c),l.series.forEach(function(t){(t.options.inactiveOtherPoints||-1===p.indexOf(t))&&t.setState("inactive",!0)}),c.forEach(function(t){t.setState("hover"),f.push(t.getLabelConfig())}),(h={x:c[0].category,y:c[0].y}).points=f,c=c[0]),this.len=f.length,i=i.call(h,this),h=c.series,this.distance=a(h.tooltipOptions.distance,16),!1===i?this.hide():(l=this.getLabel(),this.isHidden&&l.attr({opacity:1}).show(),this.split?this.renderSplit(i,s(e)):(u.style.width&&!d||l.css({width:this.chart.spacingBox.width}),l.attr({text:i&&i.join?i.join(""):i}),l.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+a(c.colorIndex,h.colorIndex)),d||l.attr({stroke:u.borderColor||c.color||h.color||"#666666"}),this.updatePosition({plotX:n,plotY:r,negative:c.negative,ttBelow:c.ttBelow,h:o[2]||0})),this.isHidden=!1),t.fireEvent(this,"refresh"))},renderSplit:function(e,n){var r,o=this,i=[],s=this.chart,l=s.renderer,u=!0,c=this.options,h=0,f=this.getLabel(),d=s.plotTop;t.isString(e)&&(e=[!1,e]),e.slice(0,n.length+1).forEach(function(t,e){if(!1!==t&&""!==t){var p=(e=n[e-1]||{isHeader:!0,plotX:n[0].plotX,plotY:s.plotHeight}).series||o,g=p.tt,m=e.series||{},v="highcharts-color-"+a(e.colorIndex,m.colorIndex,"none");g||(g={padding:c.padding,r:c.borderRadius},s.styledMode||(g.fill=c.backgroundColor,g["stroke-width"]=c.borderWidth),p.tt=g=l.label(null,null,null,(e.isHeader?c.headerShape:c.shape)||"callout",null,null,c.useHTML).addClass("highcharts-tooltip-box "+v).attr(g).add(f)),g.isActive=!0,g.attr({text:t}),s.styledMode||g.css(c.style).shadow(c.shadow).attr({stroke:c.borderColor||e.color||m.color||"#333333"}),m=(t=g.getBBox()).width+g.strokeWidth(),e.isHeader?(h=t.height,s.xAxis[0].opposite&&(r=!0,d-=h),m=Math.max(0,Math.min(e.plotX+s.plotLeft-m/2,s.chartWidth+(s.scrollablePixelsX?s.scrollablePixelsX-s.marginRight:0)-m))):m=e.plotX+s.plotLeft-a(c.distance,16)-m,0>m&&(u=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=d,e.isHeader&&(t=r?-h:s.plotHeight+h),i.push({target:t,rank:e.isHeader?1:0,size:p.tt.getBBox().height+1,point:e,x:m,tt:g})}}),this.cleanSplit(),c.positioner&&i.forEach(function(t){var e=c.positioner.call(o,t.tt.getBBox().width,t.size,t.point);t.x=e.x,t.align=0,t.target=e.y,t.rank=a(e.rank,t.rank)}),t.distribute(i,s.plotHeight+h),i.forEach(function(t){var e=t.point,n=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:u||e.isHeader||c.positioner?t.x:e.plotX+s.plotLeft+o.distance,y:t.pos+d,anchorX:e.isHeader?e.plotX+s.plotLeft:e.plotX+n.xAxis.pos,anchorY:e.isHeader?s.plotTop+s.plotHeight/2:e.plotY+n.yAxis.pos})})},updatePosition:function(t){var e,n=this.chart,r=this.getLabel(),o=(this.options.positioner||this.getPosition).call(this,r.width,r.height,t),i=t.plotX+n.plotLeft;t=t.plotY+n.plotTop,this.outside&&(e=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(r.width+e,r.height+e,!1),i+=n.pointer.chartPosition.left-o.x,t+=n.pointer.chartPosition.top-o.y),this.move(Math.round(o.x),Math.round(o.y||0),i,t)},getDateFormat:function(t,e,n,r){var o,i,a=this.chart.time,s=a.dateFormat("%m-%d %H:%M:%S.%L",e),l={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";for(i in u){if(t===u.week&&+a.dateFormat("%w",e)===n&&"00:00:00.000"===s.substr(6)){i="week";break}if(u[i]>t){i=c;break}if(l[i]&&s.substr(l[i])!=="01-01 00:00:00.000".substr(l[i]))break;"week"!==i&&(c=i)}return i&&(o=a.resolveDTLFormat(r[i]).main),o},getXDateFormat:function(t,e,n){e=e.dateTimeLabelFormats;var r=n&&n.closestPointRange;return(r?this.getDateFormat(r,t.x,n.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(e,n){var i=n?"footer":"header",a=e.series,s=a.tooltipOptions,l=s.xDateFormat,u=a.xAxis,c=u&&"datetime"===u.options.type&&o(e.key),h=s[i+"Format"];return n={isFooter:n,labelConfig:e},t.fireEvent(this,"headerFormatter",n,function(t){c&&!l&&(l=this.getXDateFormat(e,s,u)),c&&l&&(e.point&&e.point.tooltipDateKeys||["key"]).forEach(function(t){h=h.replace("{point."+t+"}","{point."+t+":"+l+"}")}),a.chart.styledMode&&(h=this.styledModeFormat(h)),t.text=r(h,{point:e,series:a},this.chart.time)}),n.text},bodyFormatter:function(t){return t.map(function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"]||"")})},styledModeFormat:function(t){return t.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')}}}),e(n,"parts/Pointer.js",[n["parts/Globals.js"]],function(t){var e=t.addEvent,n=t.attr,r=t.charts,o=t.color,i=t.css,a=t.defined,s=t.extend,l=t.find,u=t.fireEvent,c=t.isNumber,h=t.isObject,f=t.offset,d=t.pick,p=t.splat,g=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=d(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=(r=this.chart).options.chart,n=e.zoomType||"",r=r.inverted;/touch/.test(t.type)&&(n=d(e.pinchType,n)),this.zoomX=t=/x/.test(n),this.zoomY=n=/y/.test(n),this.zoomHor=t&&!r||n&&r,this.zoomVert=n&&!r||t&&r,this.hasZoom=t||n},normalize:function(t,e){var n;return n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=f(this.chart.container)),s(t,{chartX:Math.round(n.pageX-e.left),chartY:Math.round(n.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},findNearestKDPoint:function(t,e,n){var r;return t.forEach(function(t){var o=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(n,o),(o=h(t,!0))&&!(o=!h(r,!0))){o=r.distX-t.distX;var i=r.dist-t.dist,a=(t.series.group&&t.series.group.zIndex)-(r.series.group&&r.series.group.zIndex);o=0<(0!==o&&e?o:0!==i?i:0!==a?a:r.series.index>t.series.index?-1:1)}o&&(r=t)}),r},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var n=(r=t.series).xAxis,r=r.yAxis,o=d(t.clientX,t.plotX),i=t.shapeArgs;return n&&r?e?{chartX:n.len+n.pos-o,chartY:r.len+r.pos-t.plotY}:{chartX:o+n.pos,chartY:t.plotY+r.pos}:i&&i.x&&i.y?{chartX:i.x,chartY:i.y}:void 0},getHoverData:function(t,e,n,r,o,i){var a,s=[];r=!(!r||!t);var u=e&&!e.stickyTracking?[e]:n.filter(function(t){return t.visible&&!(!o&&t.directTouch)&&d(t.options.enableMouseTracking,!0)&&t.stickyTracking});return e=(a=r?t:this.findNearestKDPoint(u,o,i))&&a.series,a&&(o&&!e.noSharedTooltip?(u=n.filter(function(t){return t.visible&&!(!o&&t.directTouch)&&d(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip})).forEach(function(t){var e=l(t.points,function(t){return t.x===a.x&&!t.isNull});h(e)&&(t.chart.isBoosting&&(e=t.getPoint(e)),s.push(e))}):s.push(a)),{hoverPoint:a,hoverSeries:e,hoverPoints:s}},runPointActions:function(n,o){var i,a=this.chart,s=a.tooltip&&a.tooltip.options.enabled?a.tooltip:void 0,l=!!s&&s.shared,u=(h=o||a.hoverPoint)&&h.series||a.hoverSeries,c=(u=this.getHoverData(h,u,a.series,"touchmove"!==n.type&&(!!o||u&&u.directTouch&&this.isDirectTouch),l,n),[]),h=u.hoverPoint;if(i=u.hoverPoints,o=(u=u.hoverSeries)&&u.tooltipOptions.followPointer,l=l&&u&&!u.noSharedTooltip,h&&(h!==a.hoverPoint||s&&s.isHidden)){if((a.hoverPoints||[]).forEach(function(t){-1===i.indexOf(t)&&t.setState()}),a.hoverSeries!==u&&u.onMouseOver(),c=this.getActiveSeries(i),a.series.forEach(function(t){(t.options.inactiveOtherPoints||-1===c.indexOf(t))&&t.setState("inactive",!0)}),(i||[]).forEach(function(t){t.setState("hover")}),a.hoverPoint&&a.hoverPoint.firePointEvent("mouseOut"),!h.series)return;h.firePointEvent("mouseOver"),a.hoverPoints=i,a.hoverPoint=h,s&&s.refresh(l?i:h,n)}else o&&s&&!s.isHidden&&(h=s.getAnchor([{}],n),s.updatePosition({plotX:h[0],plotY:h[1]}));this.unDocMouseMove||(this.unDocMouseMove=e(a.container.ownerDocument,"mousemove",function(e){var n=r[t.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(e)})),a.axes.forEach(function(e){var r=d(e.crosshair.snap,!0),o=r?t.find(i,function(t){return t.series[e.coll]===e}):void 0;o||!r?e.drawCrosshair(n,o):e.hideCrosshair()})},getActiveSeries:function(t){var e,n=[];return(t||[]).forEach(function(t){e=t.series,n.push(e),e.linkedParent&&n.push(e.linkedParent),e.linkedSeries&&(n=n.concat(e.linkedSeries)),e.navigatorSeries&&n.push(e.navigatorSeries)}),n},reset:function(t,e){var n=this.chart,r=n.hoverSeries,o=n.hoverPoint,i=n.hoverPoints,a=n.tooltip,s=a&&a.shared?i:o;t&&s&&p(s).forEach(function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?a&&s&&p(s).length&&(a.refresh(s),a.shared&&i?i.forEach(function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))}):o&&(o.setState(o.state,!0),n.axes.forEach(function(t){t.crosshair&&t.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),i&&i.forEach(function(t){t.setState()}),r&&r.onMouseOut(),a&&a.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n.axes.forEach(function(t){t.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var n,r=this.chart;r.series.forEach(function(o){n=t||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&o.group&&(o.group.attr(n),o.markerGroup&&(o.markerGroup.attr(n),o.markerGroup.clip(e?r.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(n))}),r.clipRect.attr(e||r.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n=this.chart,r=n.options.chart,i=t.chartX,a=t.chartY,s=this.zoomHor,l=this.zoomVert,u=n.plotLeft,c=n.plotTop,h=n.plotWidth,f=n.plotHeight,d=this.selectionMarker,p=this.mouseDownX,g=this.mouseDownY,m=r.panKey&&t[r.panKey+"Key"];d&&d.touch||(i<u?i=u:i>u+h&&(i=u+h),a<c?a=c:a>c+f&&(a=c+f),this.hasDragged=Math.sqrt(Math.pow(p-i,2)+Math.pow(g-a,2)),10<this.hasDragged&&(e=n.isInsidePlot(p-u,g-c),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&!d&&(this.selectionMarker=d=n.renderer.rect(u,c,s?1:h,l?1:f,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),n.styledMode||d.attr({fill:r.selectionMarkerFill||o("#335cad").setOpacity(.25).get()})),d&&s&&(i-=p,d.attr({width:Math.abs(i),x:(0<i?0:i)+p})),d&&l&&(i=a-g,d.attr({height:Math.abs(i),y:(0<i?0:i)+g})),e&&!d&&r.panning&&n.pan(t,r.panning)))},drop:function(t){var e=this,n=this.chart,r=this.hasPinched;if(this.selectionMarker){var o,l={originalEvent:t,xAxis:[],yAxis:[]},h=this.selectionMarker,f=h.attr?h.attr("x"):h.x,d=h.attr?h.attr("y"):h.y,p=h.attr?h.attr("width"):h.width,g=h.attr?h.attr("height"):h.height;(this.hasDragged||r)&&(n.axes.forEach(function(n){if(n.zoomEnabled&&a(n.min)&&(r||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var i=n.horiz,s="touchend"===t.type?n.minPixelPadding:0,u=n.toValue((i?f:d)+s);i=n.toValue((i?f+p:d+g)-s);l[n.coll].push({axis:n,min:Math.min(u,i),max:Math.max(u,i)}),o=!0}}),o&&u(n,"selection",l,function(t){n.zoom(s(t,r?{animation:!1}:null))})),c(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),r&&this.scaleGroups()}n&&c(n.index)&&(i(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){2!==(t=this.normalize(t)).button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(e){r[t.hoverChartIndex]&&r[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var n=r[t.hoverChartIndex];n&&(e.relatedTarget||e.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(e){var n=this.chart;a(t.hoverChartIndex)&&r[t.hoverChartIndex]&&r[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=n.index),(e=this.normalize(e)).preventDefault||(e.returnValue=!1),"mousedown"===n.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)||n.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var r;t;){if(r=n(t,"class")){if(-1!==r.indexOf(e))return!0;if(-1!==r.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,r=e.plotLeft,o=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(u(n.series,"click",s(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(s(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-r,t.chartY-o)&&u(e,"click",t)))},setDOMEvents:function(){var n=this,r=n.chart.container,o=r.ownerDocument;r.onmousedown=function(t){n.onContainerMouseDown(t)},r.onmousemove=function(t){n.onContainerMouseMove(t)},r.onclick=function(t){n.onContainerClick(t)},this.unbindContainerMouseLeave=e(r,"mouseleave",n.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=e(o,"mouseup",n.onDocumentMouseUp)),t.hasTouch&&(r.ontouchstart=function(t){n.onContainerTouchStart(t)},r.ontouchmove=function(t){n.onContainerTouchMove(t)},t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=e(o,"touchend",n.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),t.objectEach(e,function(t,n){e[n]=null})}}}),e(n,"parts/TouchPointer.js",[n["parts/Globals.js"]],function(t){var e=t.charts,n=t.extend,r=t.noop,o=t.pick;n(t.Pointer.prototype,{pinchTranslate:function(t,e,n,r,o,i){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,n,r,o,i),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,n,r,o,i)},pinchTranslateDirection:function(t,e,n,r,o,i,a,s){var l,u,c,h=this.chart,f=t?"x":"y",d=t?"X":"Y",p="chart"+d,g=t?"width":"height",m=h["plot"+(t?"Left":"Top")],v=s||1,y=h.inverted,b=h.bounds[t?"h":"v"],w=1===e.length,C=e[0][p],O=n[0][p],S=!w&&e[1][p],E=!w&&n[1][p];(n=function(){!w&&20<Math.abs(C-S)&&(v=s||Math.abs(O-E)/Math.abs(C-S)),u=(m-O)/v+C,l=h["plot"+(t?"Width":"Height")]/v})(),(e=u)<b.min?(e=b.min,c=!0):e+l>b.max&&(e=b.max-l,c=!0),c?(O-=.8*(O-a[f][0]),w||(E-=.8*(E-a[f][1])),n()):a[f]=[O,E],y||(i[f]=u-m,i[g]=l),i=y?1/v:v,o[g]=l,o[f]=e,r[y?t?"scaleY":"scaleX":"scale"+d]=v,r["translate"+d]=i*m+(O-i*C)},pinch:function(t){var e=this,i=e.chart,a=e.pinchDown,s=t.touches,l=s.length,u=e.lastValidTouch,c=e.hasZoom,h=e.selectionMarker,f={},d=1===l&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),p={};1<l&&(e.initiated=!0),c&&e.initiated&&!d&&t.preventDefault(),[].map.call(s,function(t){return e.normalize(t)}),"touchstart"===t.type?([].forEach.call(s,function(t,e){a[e]={chartX:t.chartX,chartY:t.chartY}}),u.x=[a[0].chartX,a[1]&&a[1].chartX],u.y=[a[0].chartY,a[1]&&a[1].chartY],i.axes.forEach(function(t){if(t.zoomEnabled){var e=i.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,r=t.toPixels(Math.min(o(t.options.min,t.dataMin),t.dataMin)),a=t.toPixels(Math.max(o(t.options.max,t.dataMax),t.dataMax)),s=Math.max(r,a);e.min=Math.min(t.pos,Math.min(r,a)-n),e.max=Math.max(t.pos+t.len,s+n)}}),e.res=!0):e.followTouchMove&&1===l?this.runPointActions(e.normalize(t)):a.length&&(h||(e.selectionMarker=h=n({destroy:r,touch:!0},i.plotBox)),e.pinchTranslate(a,s,f,h,p,u),e.hasPinched=c,e.scaleGroups(f,p),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,n){var r,i=this.chart;i.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=i.index,1===e.touches.length?(e=this.normalize(e),i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)&&!i.openMenu?(n&&this.runPointActions(e),"touchmove"===e.type&&(r=!!(n=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(n[0].chartX-e.chartX,2)+Math.pow(n[0].chartY-e.chartY,2))),o(r,!0)&&this.pinch(e)):n&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(n){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(n)}})}),e(n,"parts/MSPointer.js",[n["parts/Globals.js"]],function(t){var e=t.addEvent,n=t.charts,r=t.css,o=t.doc,i=t.extend,a=t.noop,s=t.Pointer,l=t.removeEvent,u=t.win,c=t.wrap;if(!t.hasTouch&&(u.PointerEvent||u.MSPointerEvent)){var h={},f=!!u.PointerEvent,d=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(h,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},p=function(e,r,o,i){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!n[t.hoverChartIndex]||(i(e),(i=n[t.hoverChartIndex].pointer)[r]({type:o,target:e.currentTarget,preventDefault:a,touches:d()}))};i(s.prototype,{onContainerPointerDown:function(t){p(t,"onContainerTouchStart","touchstart",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){p(t,"onContainerTouchMove","touchmove",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY},h[t.pointerId].target||(h[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){p(t,"onDocumentTouchEnd","touchend",function(t){delete h[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,f?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,f?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(o,f?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),c(s.prototype,"init",function(t,e,n){t.call(this,e,n),this.hasZoom&&r(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),c(s.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),c(s.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}),e(n,"parts/Legend.js",[n["parts/Globals.js"]],function(t){var e=t.addEvent,n=t.css,r=t.discardElement,o=t.defined,i=t.fireEvent,a=t.isFirefox,s=t.marginNames,l=t.merge,u=t.pick,c=t.setAnimation,h=t.stableSort,f=t.win,d=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,n){this.chart=t,this.setOptions(n),n.enabled&&(this.render(),e(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=e(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=u(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=l(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=u(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var n=this.chart;this.setOptions(l(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,u(e,!0)&&n.redraw(),i(this,"afterUpdate")},colorizeItem:function(t,e){if(t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var n=this.options,r=t.legendItem,o=t.legendLine,a=t.legendSymbol,s=this.itemHiddenStyle.color,l=(n=e?n.itemStyle.color:s,e&&t.color||s),u=t.options&&t.options.marker,c={fill:l};r&&r.css({fill:n,color:n}),o&&o.attr({stroke:l}),a&&(u&&a.isMarker&&(c=t.pointAttribs(),e||(c.stroke=c.fill=s)),a.attr(c))}i(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=(n=this.options).symbolPadding,n=!n.rtl,r=(i=t._legendItemPos)[0],i=i[1],a=t.checkbox;(t=t.legendGroup)&&t.element&&t[o(t.translateY)?"animate":"attr"]({translateX:n?r:this.legendWidth-r-2*e-4,translateY:i}),a&&(a.x=r,a.y=i)},destroyItem:function(t){var e=t.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(e){t[e]&&(t[e]=t[e].destroy())}),e&&r(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}this.getAllItems().forEach(function(e){["legendItem","legendGroup"].forEach(t,e)}),"clipRect up down pager nav box title group".split(" ").forEach(t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,r=this.clipHeight||this.legendHeight,o=this.titleHeight;e&&(t=e.translateY,this.allItems.forEach(function(i){var a,s=i.checkbox;s&&(a=t+o+s.y+(this.scrollOffset||0)+3,n(s,{left:e.translateX+i.checkboxOffset+s.x-20+"px",top:a+"px",display:this.proximate||a>t-6&&a<t+r-6?"":"none"}))},this))},renderTitle:function(){var t=this.options,e=this.padding,n=t.title,r=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(n.style),this.title.add(this.group)),n.width||this.title.css({width:this.maxLegendWidth+"px"}),r=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},setText:function(e){var n=this.options;e.legendItem.attr({text:n.labelFormat?t.format(n.labelFormat,e,this.chart.time):n.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,n=e.renderer,r=this.options,o=this.symbolWidth,i=r.symbolPadding,a=this.itemStyle,s=this.itemHiddenStyle,c="horizontal"===r.layout?u(r.itemDistance,20):0,h=!r.rtl,f=t.legendItem,d=!t.series,p=!d&&t.series.drawLegendSymbol?t.series:t,g=p.options,m=(c=o+i+c+((g=this.createCheckboxForItem&&g&&g.showCheckbox)?20:0),r.useHTML),v=t.options.className;f||(t.legendGroup=n.g("legend-item").addClass("highcharts-"+p.type+"-series highcharts-color-"+t.colorIndex+(v?" "+v:"")+(d?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=f=n.text("",h?o+i:-i,this.baseline||0,m),e.styledMode||f.css(l(t.visible?a:s)),f.attr({align:h?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(e.styledMode?12:a.fontSize,f),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,f.attr("y",this.baseline)),this.symbolHeight=r.symbolHeight||this.fontMetrics.f,p.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,f,m)),g&&!t.checkbox&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),!e.styledMode&&a.width||f.css({width:(r.itemWidth||this.widthOption||e.spacingBox.width)-c}),this.setText(t),e=f.getBBox(),t.itemWidth=t.checkboxOffset=r.itemWidth||t.legendItemWidth||e.width+c,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.options,n=this.padding,r="horizontal"===e.layout,o=t.itemHeight,i=e.itemMarginBottom||0,a=this.itemMarginTop,s=r?u(e.itemDistance,20):0,l=this.maxLegendWidth;e=e.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:t.itemWidth;r&&this.itemX-n+e>l&&(this.itemX=n,this.lastLineHeight&&(this.itemY+=a+this.lastLineHeight+i),this.lastLineHeight=0),this.lastItemY=a+this.itemY+i,this.lastLineHeight=Math.max(o,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=e:(this.itemY+=a+o+i,this.lastLineHeight=o),this.offsetWidth=this.widthOption||Math.max((r?this.itemX-n-(t.checkbox?0:s):e)+n,this.offsetWidth)},getAllItems:function(){var t=[];return this.chart.series.forEach(function(e){var n=e&&e.options;e&&u(n.showInLegend,!o(n.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),i(this,"afterGetAllItems",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var n=this.chart,r=this.options,i=this.getAlignment(),a=void 0!==n.options.title.margin?n.titleOffset+n.options.title.margin:0;i&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(l,c){l.test(i)&&!o(t[c])&&(n[s[c]]=Math.max(n[s[c]],n.legend[(c+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][c]*r[c%2?"x":"y"]+u(r.margin,12)+e[c]+(0===c&&(0===n.titleOffset?0:a))))})},proximatePositions:function(){var e=this.chart,n=[],r="left"===this.options.align;this.allItems.forEach(function(o){var i,a,s;a=r,o.yAxis&&o.points&&(o.xAxis.options.reversed&&(a=!a),i=t.find(a?o.points:o.points.slice(0).reverse(),function(e){return t.isNumber(e.plotY)}),a=o.legendGroup.getBBox().height,s=o.yAxis.top-e.plotTop,o.visible?(i=i?i.plotY:o.yAxis.height,i+=s-.3*a):i=s+o.yAxis.height,n.push({target:i,size:a,item:o}))},this),t.distribute(n,e.plotHeight),n.forEach(function(t){t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos})},render:function(){var e,n,r,o=this.chart,a=o.renderer,s=this.group,u=this.box,c=this.options,f=this.padding;this.itemX=f,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=t.relativeLength(c.width,o.spacingBox.width-f),e=o.spacingBox.width-2*f-c.x,-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(e/=2),this.maxLegendWidth=this.widthOption||e,s||(this.group=s=a.g("legend").attr({zIndex:7}).add(),this.contentGroup=a.g().attr({zIndex:1}).add(s),this.scrollGroup=a.g().add(this.contentGroup)),this.renderTitle(),e=this.getAllItems(),h(e,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&e.reverse(),this.allItems=e,this.display=n=!!e.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,e.forEach(this.renderItem,this),e.forEach(this.layoutItem,this),e=(this.widthOption||this.offsetWidth)+f,r=this.lastItemY+this.lastLineHeight+this.titleHeight,r=this.handleOverflow(r),r+=f,u||(this.box=u=a.rect().addClass("highcharts-legend-box").attr({r:c.borderRadius}).add(s),u.isNew=!0),o.styledMode||u.attr({stroke:c.borderColor,"stroke-width":c.borderWidth||0,fill:c.backgroundColor||"none"}).shadow(c.shadow),0<e&&0<r&&(u[u.isNew?"attr":"animate"](u.crisp.call({},{x:0,y:0,width:e,height:r},u.strokeWidth())),u.isNew=!1),u[n?"show":"hide"](),o.styledMode&&"none"===s.getStyle("display")&&(e=r=0),this.legendWidth=e,this.legendHeight=r,n&&(a=o.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(u=a.y+o.titleOffset,a=l(a,{y:0<o.titleOffset?u+=o.options.title.margin:u})),s.align(l(c,{width:e,height:r,verticalAlign:this.proximate?"top":c.verticalAlign}),!0,a)),this.proximate||this.positionItems(),i(this,"afterRender")},handleOverflow:function(t){var e,n,r=this,o=this.chart,i=o.renderer,a=this.options,s=a.y,l=this.padding,c=(s=o.spacingBox.height+("top"===a.verticalAlign?-s:s)-l,a.maxHeight),h=this.clipRect,f=a.navigation,d=u(f.animation,!0),p=f.arrowSize||12,g=this.nav,m=this.pages,v=this.allItems,y=function(t){"number"===typeof t?h.attr({height:t}):h&&(r.clipRect=h.destroy(),r.contentGroup.clip()),r.contentGroup.div&&(r.contentGroup.div.style.clip=t?"rect("+l+"px,9999px,"+(l+t)+"px,0)":"auto")},b=function(t){return r[t]=i.circle(0,0,1.3*p).translate(p/2,p/2).add(g),o.styledMode||r[t].attr("fill","rgba(0,0,0,0.0001)"),r[t]};return"horizontal"!==a.layout||"middle"===a.verticalAlign||a.floating||(s/=2),c&&(s=Math.min(s,c)),m.length=0,t>s&&!1!==f.enabled?(this.clipHeight=e=Math.max(s-20-this.titleHeight-l,0),this.currentPage=u(this.currentPage,1),this.fullHeight=t,v.forEach(function(t,r){var o=t._legendItemPos[1],i=Math.round(t.legendItem.getBBox().height),a=m.length;(!a||o-m[a-1]>e&&(n||o)!==m[a-1])&&(m.push(n||o),a++),t.pageIx=a-1,n&&(v[r-1].pageIx=a-1),r===v.length-1&&o+i-m[a-1]>e&&o!==n&&(m.push(o),t.pageIx=a),o!==n&&(n=o)}),h||(h=r.clipRect=i.clipRect(0,l,9999,0),r.contentGroup.clip(h)),y(e),g||(this.nav=g=i.g().attr({zIndex:1}).add(this.group),this.up=i.symbol("triangle",0,0,p,p).add(g),b("upTracker").on("click",function(){r.scroll(-1,d)}),this.pager=i.text("",15,10).addClass("highcharts-legend-navigation"),o.styledMode||this.pager.css(f.style),this.pager.add(g),this.down=i.symbol("triangle-down",0,0,p,p).add(g),b("downTracker").on("click",function(){r.scroll(1,d)})),r.scroll(0),t=s):g&&(y(),this.nav=g.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,r=n.length,o=this.currentPage+t;t=this.clipHeight;var i=this.options.navigation,a=this.pager,s=this.padding;o>r&&(o=r),0<o&&(void 0!==e&&c(e,this.chart),this.nav.attr({translateX:s,translateY:t+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(t){t.attr({class:1===o?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),a.attr({text:o+"/"+r}),[this.down,this.downTracker].forEach(function(t){t.attr({x:18+this.pager.getBBox().width,class:o===r?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),this.chart.styledMode||(this.up.attr({fill:1===o?i.inactiveColor:i.activeColor}),this.upTracker.css({cursor:1===o?"default":"pointer"}),this.down.attr({fill:o===r?i.inactiveColor:i.activeColor}),this.downTracker.css({cursor:o===r?"default":"pointer"})),this.scrollOffset=-n[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=o,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.symbolHeight,r=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(r?(t.symbolWidth-n)/2:0,t.baseline-n+1,r?n:t.symbolWidth,n,u(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,n=e.marker,r=t.symbolWidth,o=t.symbolHeight,i=o/2,a=this.chart.renderer,s=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b);var c={};this.chart.styledMode||(c={"stroke-width":e.lineWidth||0},e.dashStyle&&(c.dashstyle=e.dashStyle)),this.legendLine=a.path(["M",0,t,"L",r,t]).addClass("highcharts-graph").attr(c).add(s),n&&!1!==n.enabled&&r&&(e=Math.min(u(n.radius,i),i),0===this.symbol.indexOf("url")&&(n=l(n,{width:o,height:o}),e=0),this.legendSymbol=n=a.symbol(this.symbol,r/2-e,t-e,2*e,2*e,n).addClass("highcharts-point").add(s),n.isMarker=!0)}},(/Trident\/7\.0/.test(f.navigator&&f.navigator.userAgent)||a)&&d(t.Legend.prototype,"positionItem",function(t,e){var n=this,r=function(){e._legendItemPos&&t.call(n,e)};r(),n.bubbleLegend||setTimeout(r)})}),e(n,"parts/Chart.js",[n["parts/Globals.js"]],function(t){var e=t.addEvent,n=t.animate,r=t.animObject,o=t.attr,i=t.doc,a=t.Axis,s=t.createElement,l=t.defaultOptions,u=t.discardElement,c=t.charts,h=t.css,f=t.defined,d=t.extend,p=t.find,g=t.fireEvent,m=t.isNumber,v=t.isObject,y=t.isString,b=t.Legend,w=t.marginNames,C=t.merge,O=t.objectEach,S=t.Pointer,E=t.pick,k=t.pInt,T=t.removeEvent,R=t.seriesTypes,x=t.splat,M=t.syncTimeout,A=t.win,N=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,n){return new N(t,e,n)},d(N.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(y(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(n,r){var o,i=n.series,a=n.plotOptions||{};g(this,"init",{args:arguments},function(){n.series=null,o=C(l,n),O(o.plotOptions,function(t,e){v(t)&&(t.tooltip=a[e]&&C(a[e].tooltip)||void 0)}),o.tooltip.userOptions=n.chart&&n.chart.forExport&&n.tooltip.userOptions||n.tooltip,o.series=n.series=i,this.userOptions=n;var s=o.chart,u=s.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=r,this.isResizing=0,this.options=o,this.axes=[],this.series=[],this.time=n.time&&Object.keys(n.time).length?new t.Time(n.time):t.time,this.styledMode=s.styledMode,this.hasCartesianSeries=s.showAxes;var h=this;h.index=c.length,c.push(h),t.chartCount++,u&&O(u,function(n,r){t.isFunction(n)&&e(h,r,n)}),h.xAxis=[],h.yAxis=[],h.pointCount=h.colorCounter=h.symbolCounter=0,g(h,"afterInit"),h.firstRender()})},initSeries:function(e){var n=this.options.chart;return(n=R[e.type||n.type||n.defaultSeriesType])||t.error(17,!0,this),(n=new n).init(this,e),n},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,n){var r=n?e:t;return t=n?t:e,0<=r&&r<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){g(this,"beforeRedraw");var n,r,o,i=this.axes,a=this.series,s=this.pointer,l=this.legend,u=this.userOptions.legend,c=this.isDirtyLegend,h=this.hasCartesianSeries,f=this.isDirtyBox,p=this.renderer,m=p.isHidden(),v=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),m&&this.temporaryDisplay(),this.layOutTitles(),e=a.length;e--;)if((o=a[e]).options.stacking&&(n=!0,o.isDirty)){r=!0;break}if(r)for(e=a.length;e--;)(o=a[e]).options.stacking&&(o.isDirty=!0);a.forEach(function(t){t.isDirty&&("point"===t.options.legendType?(t.updateTotals&&t.updateTotals(),c=!0):u&&(u.labelFormatter||u.labelFormat)&&(c=!0)),t.isDirtyData&&g(t,"updatedData")}),c&&l&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),n&&this.getStacks(),h&&i.forEach(function(t){t.updateNames(),t.setScale()}),this.getMargins(),h&&(i.forEach(function(t){t.isDirty&&(f=!0)}),i.forEach(function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,v.push(function(){g(t,"afterSetExtremes",d(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(f||n)&&t.redraw()})),f&&this.drawChartBox(),g(this,"predraw"),a.forEach(function(t){(f||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),s&&s.reset(!0),p.draw(),g(this,"redraw"),g(this,"render"),m&&this.temporaryDisplay(!0),v.forEach(function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var n,r,o=this.series;for(n=p(this.axes,e)||p(this.series,e),r=0;!n&&r<o.length;r++)n=p(o[r].points||[],e);return n},getAxes:function(){var t=this,e=(n=this.options).xAxis=x(n.xAxis||{}),n=n.yAxis=x(n.yAxis||{});g(this,"getAxes"),e.forEach(function(t,e){t.index=e,t.isX=!0}),n.forEach(function(t,e){t.index=e}),e.concat(n).forEach(function(e){new a(t,e)}),g(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return this.series.forEach(function(e){t=t.concat((e[e.hasGroupedData?"points":"data"]||[]).filter(function(t){return t.selected}))}),t},getSelectedSeries:function(){return this.series.filter(function(t){return t.selected})},setTitle:function(t,e,n){var r=this,o=r.options,i=r.styledMode;[["title",t,o.title=C(!i&&{style:{color:"#333333",fontSize:o.isStock?"16px":"18px"}},o.title,t)],["subtitle",e,o=o.subtitle=C(!i&&{style:{color:"#666666"}},o.subtitle,e)]].forEach(function(t,e){var n=t[0],o=r[n],a=t[1];t=t[2],o&&a&&(r[n]=o=o.destroy()),t&&!o&&(r[n]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+n,zIndex:t.zIndex||4}).add(),r[n].update=function(t){r.setTitle(!e&&t,e&&t)},i||r[n].css(t.style))}),r.layOutTitles(n)},layOutTitles:function(t){var e,n=0,r=this.renderer,o=this.spacingBox;["title","subtitle"].forEach(function(t){var e,i=this[t],a=this.options[t];t="title"===t?-3:a.verticalAlign?0:n+2,i&&(this.styledMode||(e=a.style.fontSize),e=r.fontMetrics(e,i).b,i.css({width:(a.width||o.width+a.widthAdjust)+"px"}).align(d({y:t+e},a),!1,"spacingBox"),a.floating||a.verticalAlign||(n=Math.ceil(n+i.getBBox(a.useHTML).height)))},this),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&E(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=(n=this.options.chart).width,n=n.height,r=this.renderTo;f(e)||(this.containerWidth=t.getStyle(r,"width")),f(n)||(this.containerHeight=t.getStyle(r,"height")),this.chartWidth=Math.max(0,e||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(n,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var n=this.renderTo;if(e)for(;n&&n.style;)n.hcOrigStyle&&(t.css(n,n.hcOrigStyle),delete n.hcOrigStyle),n.hcOrigDetached&&(i.body.removeChild(n),n.hcOrigDetached=!1),n=n.parentNode;else for(;n&&n.style&&(i.body.contains(n)||n.parentNode||(n.hcOrigDetached=!0,i.body.appendChild(n)),("none"===t.getStyle(n,"display",!1)||n.hcOricDetached)&&(n.hcOrigStyle={display:n.style.display,height:n.style.height,overflow:n.style.overflow},e={display:"block",overflow:"hidden"},n!==this.renderTo&&(e.height=0),t.css(n,e),n.offsetWidth||n.style.setProperty("display","block","important")),(n=n.parentNode)!==i.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,n,r,a=this.options,l=a.chart;e=this.renderTo;var u,f,p=t.uniqueKey();if(e||(this.renderTo=e=l.renderTo),y(e)&&(this.renderTo=e=i.getElementById(e)),e||t.error(13,!0,this),n=k(o(e,"data-highcharts-chart")),m(n)&&c[n]&&c[n].hasRendered&&c[n].destroy(),o(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),n=this.chartWidth,r=this.chartHeight,h(e,{overflow:"hidden"}),this.styledMode||(u=d({position:"relative",overflow:"hidden",width:n+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style)),this.container=e=s("div",{id:p},u,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||t.Renderer)(e,n,r,null,l.forExport,a.exporting&&a.exporting.allowHTML,this.styledMode),this.setClassName(l.className),this.styledMode)for(f in a.defs)this.renderer.definition(a.defs[f]);else this.renderer.setStyle(l.style);this.renderer.chartIndex=this.index,g(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,n=this.margin,r=this.titleOffset;this.resetMargins(),r&&!f(n[0])&&(this.plotTop=Math.max(this.plotTop,r+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,e),g(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&t.axes.forEach(function(t){t.visible&&t.getOffset()}),w.forEach(function(r,o){f(n[o])||(t[r]+=e[o])}),t.setChartSize()},reflow:function(e){var n=this,r=n.options.chart,o=n.renderTo,a=f(r.width)&&f(r.height),s=r.width||t.getStyle(o,"width");r=r.height||t.getStyle(o,"height"),o=e?e.target:A;a||n.isPrinting||!s||!r||o!==A&&o!==i||(s===n.containerWidth&&r===n.containerHeight||(t.clearTimeout(n.reflowTimeout),n.reflowTimeout=M(function(){n.container&&n.setSize(void 0,void 0,!1)},e?100:0)),n.containerWidth=s,n.containerHeight=r)},setReflow:function(t){var n=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=e(A,"resize",function(t){n.reflow(t)}),e(this,"destroy",this.unbindReflow))},setSize:function(e,o,i){var a,s=this,l=s.renderer;s.isResizing+=1,t.setAnimation(i,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,void 0!==e&&(s.options.chart.width=e),void 0!==o&&(s.options.chart.height=o),s.getChartSize(),s.styledMode||((a=l.globalAnimation)?n:h)(s.container,{width:s.chartWidth+"px",height:s.chartHeight+"px"},a),s.setChartSize(!0),l.setSize(s.chartWidth,s.chartHeight,i),s.axes.forEach(function(t){t.isDirty=!0,t.setScale()}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(i),s.oldChartHeight=null,g(s,"resize"),M(function(){s&&g(s,"endResize",null,function(){--s.isResizing})},r(a).duration)},setChartSize:function(t){var e,n,r,o,i=this.inverted,a=this.renderer,s=this.chartWidth,l=this.chartHeight,u=this.options.chart,c=this.spacing,h=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=r=Math.max(0,Math.round(s-e-this.marginRight)),this.plotHeight=o=Math.max(0,Math.round(l-n-this.marginBottom)),this.plotSizeX=i?o:r,this.plotSizeY=i?r:o,this.plotBorderWidth=u.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:c[3],y:c[0],width:s-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=a.plotBox={x:e,y:n,width:r,height:o},s=2*Math.floor(this.plotBorderWidth/2),i=Math.ceil(Math.max(s,h[3])/2),a=Math.ceil(Math.max(s,h[0])/2),this.clipBox={x:i,y:a,width:Math.floor(this.plotSizeX-Math.max(s,h[1])/2-i),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(s,h[2])/2-a))},t||this.axes.forEach(function(t){t.setAxisSize(),t.setAxisTranslation()}),g(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){g(this,"resetMargins");var t=this,e=t.options.chart;["margin","spacing"].forEach(function(n){var r=e[n],o=v(r)?r:[r,r,r,r];["Top","Right","Bottom","Left"].forEach(function(r,i){t[n][i]=E(e[n+r],o[i])})}),w.forEach(function(e,n){t[e]=E(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this.options.chart,r=this.renderer,o=this.chartWidth,i=this.chartHeight,a=this.chartBackground,s=this.plotBackground,l=this.plotBorder,u=this.styledMode,c=this.plotBGImage,h=n.backgroundColor,f=n.plotBackgroundColor,d=n.plotBackgroundImage,p=this.plotLeft,m=this.plotTop,v=this.plotWidth,y=this.plotHeight,b=this.plotBox,w=this.clipRect,C=this.clipBox,O="animate";a||(this.chartBackground=a=r.rect().addClass("highcharts-background").add(),O="attr"),u?t=e=a.strokeWidth():(e=(t=n.borderWidth||0)+(n.shadow?8:0),h={fill:h||"none"},(t||a["stroke-width"])&&(h.stroke=n.borderColor,h["stroke-width"]=t),a.attr(h).shadow(n.shadow)),a[O]({x:e/2,y:e/2,width:o-e-t%2,height:i-e-t%2,r:n.borderRadius}),O="animate",s||(O="attr",this.plotBackground=s=r.rect().addClass("highcharts-plot-background").add()),s[O](b),u||(s.attr({fill:f||"none"}).shadow(n.plotShadow),d&&(c?c.animate(b):this.plotBGImage=r.image(d,p,m,v,y).add())),w?w.animate({width:C.width,height:C.height}):this.clipRect=r.clipRect(C),O="animate",l||(O="attr",this.plotBorder=l=r.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),u||l.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),l[O](l.crisp({x:p,y:m,width:v,height:y},-l.strokeWidth())),this.isDirtyBox=!1,g(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,n,r=this,o=r.options.chart,i=r.options.series;["inverted","angular","polar"].forEach(function(a){for(t=R[o.type||o.defaultSeriesType],n=o[a]||t&&t.prototype[a],e=i&&i.length;!n&&e--;)(t=R[i[e].type])&&t.prototype[a]&&(n=!0);r[a]=n})},linkSeries:function(){var t=this,e=t.series;e.forEach(function(t){t.linkedSeries.length=0}),e.forEach(function(e){var n=e.options.linkedTo;y(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=E(e.options.visible,n.options.visible,e.visible))}),g(this,"afterLinkSeries")},renderSeries:function(){this.series.forEach(function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&e.items.forEach(function(n){var r=d(e.style,n.style),o=k(r.left)+t.plotLeft,i=k(r.top)+t.plotTop+12;delete r.left,delete r.top,t.renderer.text(n.html,o,i).attr({zIndex:2}).css(r).add()})},render:function(){var t,e,n,r=this.axes,o=this.renderer,i=this.options,a=0;this.setTitle(),this.legend=new b(this,i.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),i=this.plotWidth,r.some(function(t){if(t.horiz&&t.visible&&t.options.labels.enabled&&t.series.length)return a=21,!0}),t=this.plotHeight=Math.max(this.plotHeight-a,0),r.forEach(function(t){t.setScale()}),this.getAxisMargins(),e=1.1<i/this.plotWidth,n=1.05<t/this.plotHeight,(e||n)&&(r.forEach(function(t){(t.horiz&&e||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&r.forEach(function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;(t=C(!0,this.options.credits,t)).enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(A.location.href=t.href)}).attr({align:t.position.align,zIndex:8}),e.styledMode||this.credits.css(t.style),this.credits.add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,n=this,r=n.axes,o=n.series,i=n.container,a=i&&i.parentNode;for(g(n,"destroy"),n.renderer.forExport?t.erase(c,n):c[n.index]=void 0,t.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),T(n),e=r.length;e--;)r[e]=r[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=o.length;e--;)o[e]=o[e].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())}),i&&(i.innerHTML="",T(i),a&&u(i)),O(n,function(t,e){delete n[e]})},firstRender:function(){var e=this,n=e.options;e.isReadyToRender&&!e.isReadyToRender()||(e.getContainer(),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),(t.isArray(n.series)?n.series:[]).forEach(function(t){e.initSeries(t)}),e.linkSeries(),g(e,"beforeRender"),S&&(e.pointer=new S(e,n)),e.render(),!e.renderer.imgCount&&e.onload&&e.onload(),e.temporaryDisplay(!0))},onload:function(){this.callbacks.concat([this.callback]).forEach(function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),g(this,"load"),g(this,"render"),f(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}),e(n,"parts/ScrollablePlotArea.js",[n["parts/Globals.js"]],function(t){var e=t.addEvent,n=t.Chart;e(n,"afterSetChartSize",function(e){var n,r=(o=this.options.chart.scrollablePlotArea)&&o.minWidth,o=o&&o.minHeight;this.renderer.forExport||(r?(this.scrollablePixelsX=r=Math.max(0,r-this.chartWidth))&&(this.plotWidth+=r,this.inverted?this.clipBox.height+=r:this.clipBox.width+=r,n={1:{name:"right",value:r}}):o&&(this.scrollablePixelsY=r=Math.max(0,o-this.chartHeight))&&(this.plotHeight+=r,this.inverted?this.clipBox.width+=r:this.clipBox.height+=r,n={2:{name:"bottom",value:r}}),n&&!e.skipAxes&&this.axes.forEach(function(e){n[e.side]?e.getPlotLinePath=function(){var r,o=n[e.side].name,i=this[o];return this[o]=i-n[e.side].value,r=t.Axis.prototype.getPlotLinePath.apply(this,arguments),this[o]=i,r}:(e.setAxisSize(),e.setAxisTranslation())}))}),e(n,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),n.prototype.setUpScrolling=function(){var e={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(e.overflowX="auto"),this.scrollablePixelsY&&(e.overflowY="auto"),this.scrollingContainer=t.createElement("div",{className:"highcharts-scrolling"},e,this.renderTo),this.innerContainer=t.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},n.prototype.moveFixedElements=function(){var t,e=this.container,n=this.fixedRenderer,r=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-reset-zoom .highcharts-subtitle .highcharts-title .highcharts-legend-checkbox".split(" ");this.scrollablePixelsX&&!this.inverted?t=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted?t=".highcharts-xaxis":this.scrollablePixelsY&&!this.inverted?t=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(t=".highcharts-yaxis"),r.push(t,t+"-labels"),r.forEach(function(t){[].forEach.call(e.querySelectorAll(t),function(t){(t.namespaceURI===n.SVG_NS?n.box:n.box.parentNode).appendChild(t),t.style.pointerEvents="auto"})})},n.prototype.applyFixed=function(){var n,r,o=!this.fixedDiv,i=this.options.chart.scrollablePlotArea;o?(this.fixedDiv=t.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.renderTo.style.overflow="visible",this.fixedRenderer=n=new t.Renderer(this.fixedDiv,this.chartWidth,this.chartHeight),this.scrollableMask=n.path().attr({fill:t.color(this.options.chart.backgroundColor||"#fff").setOpacity(t.pick(i.opacity,.85)).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),this.moveFixedElements(),e(this,"afterShowResetZoom",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),n=this.chartWidth+(this.scrollablePixelsX||0),r=this.chartHeight+(this.scrollablePixelsY||0),t.stop(this.container),this.container.style.width=n+"px",this.container.style.height=r+"px",this.renderer.boxWrapper.attr({width:n,height:r,viewBox:[0,0,n,r].join(" ")}),this.chartBackground.attr({width:n,height:r}),this.scrollablePixelsY&&(this.scrollingContainer.style.height=this.chartHeight+"px"),o&&(i.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*i.scrollPositionX),i.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*i.scrollPositionY)),r=this.axisOffset,o=this.plotTop-r[0]-1,i=this.plotLeft-r[3]-1,n=this.plotTop+this.plotHeight+r[2]+1,r=this.plotLeft+this.plotWidth+r[1]+1;var a=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),s=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);o=this.scrollablePixelsX?["M",0,o,"L",this.plotLeft-1,o,"L",this.plotLeft-1,n,"L",0,n,"Z","M",a,o,"L",this.chartWidth,o,"L",this.chartWidth,n,"L",a,n,"Z"]:this.scrollablePixelsY?["M",i,0,"L",i,this.plotTop-1,"L",r,this.plotTop-1,"L",r,0,"Z","M",i,s,"L",i,this.chartHeight,"L",r,this.chartHeight,"L",r,s,"Z"]:["M",0,0];"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:o})}}),e(n,"parts/Point.js",[n["parts/Globals.js"]],function(t){var e,n=t.extend,r=t.erase,o=t.fireEvent,i=t.format,a=t.isArray,s=t.isNumber,l=t.pick,u=t.uniqueKey,c=t.defined,h=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,n){return this.series=t,this.applyOptions(e,n),this.id=c(this.id)?this.id:u(),this.resolveColor(),t.chart.pointCount++,o(this,"afterInit"),this},resolveColor:function(){var t,e=this.series;t=e.chart.options.chart.colorCount;var n=e.chart.styledMode;n||this.options.color||(this.color=e.color),e.options.colorByPoint?(n||(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter],t=t.length),n=e.colorCounter,e.colorCounter++,e.colorCounter===t&&(e.colorCounter=0)):n=e.colorIndex,this.colorIndex=l(this.colorIndex,n)},applyOptions:function(t,r){var o=this.series,i=o.options.pointValKey||o.pointValKey;return t=e.prototype.optionsToObject.call(this,t),n(this,t),this.options=this.options?n(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,i&&(this.y=this[i]),(this.isNull=l(this.isValid&&!this.isValid(),null===this.x||!s(this.y,!0)))&&(this.formatPrefix="null"),this.selected&&(this.state="select"),"name"in this&&void 0===r&&o.xAxis&&o.xAxis.hasNames&&(this.x=o.xAxis.nameToX(this)),void 0===this.x&&o&&(this.x=void 0===r?o.autoIncrement(this):r),this},setNestedProperty:function(e,n,r){return r.split(".").reduce(function(e,r,o,i){return e[r]=i.length-1===o?n:t.isObject(e[r],!0)?e[r]:{},e[r]},e),e},optionsToObject:function(e){var n={},r=this.series,o=r.options.keys,i=o||r.pointArrayMap||["y"],l=i.length,u=0,c=0;if(s(e)||null===e)n[i[0]]=e;else if(a(e))for(!o&&e.length>l&&("string"===(r=typeof e[0])?n.name=e[0]:"number"===r&&(n.x=e[0]),u++);c<l;)o&&void 0===e[u]||(0<i[c].indexOf(".")?t.Point.prototype.setNestedProperty(n,e[u],i[c]):n[i[c]]=e[u]),u++,c++;else"object"===typeof e&&(n=e,e.dataLabels&&(r._hasPointLabels=!0),e.marker&&(r._hasPointMarkers=!0));return n},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=(n=this.series).zones,n=n.zoneAxis||"y",r=0;for(t=e[r];this[n]>=t.value;)t=e[++r];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=t&&t.color&&!this.options.color?t.color:this.nonZonedColor,t},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;for(t in e.pointCount--,n&&(this.setState(),r(n,this),n.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel||this.dataLabels)&&(h(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(t){var e,n,r=this,o=[];for((t=t||{graphic:1,dataLabel:1}).graphic&&o.push("graphic","shadowGroup"),t.dataLabel&&o.push("dataLabel","dataLabelUpper","connector"),n=o.length;n--;)e=o[n],r[e]&&(r[e]=r[e].destroy());["dataLabel","connector"].forEach(function(e){var n=e+"s";t[e]&&r[n]&&(r[n].forEach(function(t){t.element&&t.destroy()}),delete r[n])})},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,r=l(n.valueDecimals,""),o=n.valuePrefix||"",a=n.valueSuffix||"";return e.chart.styledMode&&(t=e.chart.tooltip.styledModeFormat(t)),(e.pointArrayMap||["y"]).forEach(function(e){e="{point."+e,(o||a)&&(t=t.replace(RegExp(e+"}","g"),o+e+"}"+a)),t=t.replace(RegExp(e+"}","g"),e+":,."+r+"f}")}),i(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,n){var r=this,i=this.series.options;(i.point.events[t]||r.options&&r.options.events&&r.options.events[t])&&this.importEvents(),"click"===t&&i.allowPointSelect&&(n=function(t){r.select&&r.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(this,t,e,n)},visible:!0}}),e(n,"parts/Series.js",[n["parts/Globals.js"]],function(t){var e=t.addEvent,n=t.animObject,r=t.arrayMax,o=t.arrayMin,i=t.correctFloat,a=t.defaultOptions,s=t.defaultPlotOptions,l=t.defined,u=t.erase,c=t.extend,h=t.fireEvent,f=t.isArray,d=t.isNumber,p=t.isString,g=t.merge,m=t.objectEach,v=t.pick,y=t.removeEvent,b=t.splat,w=t.SVGElement,C=t.syncTimeout,O=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",cropShoulder:1,init:function(n,r){h(this,"init",{options:r});var o,i,a=this,s=n.series;a.chart=n,a.options=r=a.setOptions(r),a.linkedSeries=[],a.bindAxes(),c(a,{name:r.name,state:"",visible:!1!==r.visible,selected:!0===r.selected}),o=r.events,m(o,function(n,r){!t.isFunction(n)||a.hcEvents&&a.hcEvents[r]&&a.hcEvents[r].some(function(t){return t.fn===n})||e(a,r,n)}),(o&&o.click||r.point&&r.point.events&&r.point.events.click||r.allowPointSelect)&&(n.runTrackerClick=!0),a.getColor(),a.getSymbol(),a.parallelArrays.forEach(function(t){a[t+"Data"]||(a[t+"Data"]=[])}),a.points||a.setData(r.data,!1),a.isCartesian&&(n.hasCartesianSeries=!0),s.length&&(i=s[s.length-1]),a._i=v(i&&i._i,-1)+1,n.orderSeries(this.insert(s)),h(this,"afterInit")},insert:function(t){var e,n=this.options.index;if(d(n)){for(e=t.length;e--;)if(n>=v(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return v(e,t.length-1)},bindAxes:function(){var e,n=this,r=n.options,o=n.chart;h(this,"bindAxes",null,function(){(n.axisTypes||[]).forEach(function(i){o[i].forEach(function(t){e=t.options,(r[i]===e.index||void 0!==r[i]&&r[i]===e.id||void 0===r[i]&&0===e.index)&&(n.insert(t.series),n[i]=t,t.isDirty=!0)}),n[i]||n.optionalAxis===i||t.error(18,!0,o)})})},updateParallelArrays:function(t,e){var n=t.series,r=arguments,o=d(e)?function(r){var o="y"===r&&n.toYData?n.toYData(t):t[r];n[r+"Data"][e]=o}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(r,2))};n.parallelArrays.forEach(o)},hasData:function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,r=e.pointIntervalUnit,o=this.chart.time;n=v(n,e.pointStart,0);return this.pointInterval=t=v(this.pointInterval,e.pointInterval,1),r&&(e=new o.Date(n),"day"===r?o.set("Date",e,o.get("Date",e)+t):"month"===r?o.set("Month",e,o.get("Month",e)+t):"year"===r&&o.set("FullYear",e,o.get("FullYear",e)+t),t=e.getTime()-n),this.xIncrement=n+t,n},setOptions:function(t){var e=(o=this.chart).options,n=e.plotOptions,r=o.userOptions||{};t=g(t);var o=o.styledMode,i={plotOptions:n,userOptions:t};h(this,"setOptions",i);var s=r.plotOptions||{},u=i.plotOptions[this.type];return this.userOptions=i.userOptions,r=g(u,n.series,r.plotOptions&&r.plotOptions[this.type],t),this.tooltipOptions=g(a.tooltip,a.plotOptions.series&&a.plotOptions.series.tooltip,a.plotOptions[this.type].tooltip,e.tooltip.userOptions,n.series&&n.series.tooltip,n[this.type].tooltip,t.tooltip),this.stickyTracking=v(t.stickyTracking,s[this.type]&&s[this.type].stickyTracking,s.series&&s.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||r.stickyTracking),null===u.marker&&delete r.marker,this.zoneAxis=r.zoneAxis,e=this.zones=(r.zones||[]).slice(),!r.negativeColor&&!r.negativeFillColor||r.zones||(n={value:r[this.zoneAxis+"Threshold"]||r.threshold||0,className:"highcharts-negative"},o||(n.color=r.negativeColor,n.fillColor=r.negativeFillColor),e.push(n)),e.length&&l(e[e.length-1].value)&&e.push(o?{}:{color:this.color,fillColor:this.fillColor}),h(this,"afterSetOptions",{options:r}),r},getName:function(){return v(this.options.name,"Series "+(this.index+1))},getCyclic:function(t,e,n){var r,o=this.chart,i=this.userOptions,a=t+"Index",s=t+"Counter",u=n?n.length:v(o.options.chart[t+"Count"],o[t+"Count"]);e||(r=v(i[a],i["_"+a]),l(r)||(o.series.length||(o[s]=0),i["_"+a]=r=o[s]%u,o[s]+=1),n&&(e=n[r])),void 0!==r&&(this[a]=r),this[t]=e},getColor:function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||s[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},findPointIndex:function(t,e){var n=t.id;t=t.x;var r,o,i=this.points;return n&&(void 0!==(o=(n=this.chart.get(n))&&n.index)&&(r=!0)),void 0===o&&d(t)&&(o=this.xData.indexOf(t,e)),-1!==o&&void 0!==o&&this.cropped&&(o=o>=this.cropStart?o-this.cropStart:o),!r&&i[o]&&i[o].touched&&(o=void 0),o},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,updateData:function(e){var n,r,o,i=this.options,a=this.points,s=[],l=this.requireSorting,u=e.length===a.length,c=!0;if(this.xIncrement=null,e.forEach(function(e,r){var c,h=t.defined(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e)||{};c=h.x,(h.id||d(c))&&(-1===(c=this.findPointIndex(h,o))||void 0===c?s.push(e):a[c]&&e!==i.data[c]?(a[c].update(e,!1,null,!1),a[c].touched=!0,l&&(o=c+1)):a[c]&&(a[c].touched=!0),(!u||r!==c||this.hasDerivedData)&&(n=!0))},this),n)for(e=a.length;e--;)(r=a[e])&&!r.touched&&r.remove(!1);else u?e.forEach(function(t,e){a[e].update&&t!==a[e].y&&a[e].update(t,!1,null,!1)}):c=!1;return a.forEach(function(t){t&&(t.touched=!1)}),!!c&&(s.forEach(function(t){this.addPoint(t,!1,null,null,!1)},this),!0)},setData:function(e,n,r,o){var i,a,s=this,l=s.points,u=l&&l.length||0,c=s.options,h=s.chart,g=null,m=s.xAxis,y=c.turboThreshold,b=this.xData,w=this.yData,C=(i=s.pointArrayMap)&&i.length,O=c.keys,S=0,E=1;if(i=(e=e||[]).length,n=v(n,!0),!1!==o&&i&&u&&!s.cropped&&!s.hasGroupedData&&s.visible&&!s.isSeriesBoosting&&(a=this.updateData(e)),!a){if(s.xIncrement=null,s.colorCounter=0,this.parallelArrays.forEach(function(t){s[t+"Data"].length=0}),y&&i>y){for(r=0;null===g&&r<i;)g=e[r],r++;if(d(g))for(r=0;r<i;r++)b[r]=this.autoIncrement(),w[r]=e[r];else if(f(g))if(C)for(r=0;r<i;r++)g=e[r],b[r]=g[0],w[r]=g.slice(1,C+1);else for(O&&(S=0<=(S=O.indexOf("x"))?S:0,E=0<=(E=O.indexOf("y"))?E:1),r=0;r<i;r++)g=e[r],b[r]=g[S],w[r]=g[E];else t.error(12,!1,h)}else for(r=0;r<i;r++)void 0!==e[r]&&(g={series:s},s.pointClass.prototype.applyOptions.apply(g,[e[r]]),s.updateParallelArrays(g,r));for(w&&p(w[0])&&t.error(14,!0,h),s.data=[],s.options.data=s.userOptions.data=e,r=u;r--;)l[r]&&l[r].destroy&&l[r].destroy();m&&(m.minRange=m.userMinRange),s.isDirty=h.isDirtyBox=!0,s.isDirtyData=!!l,r=!1}"point"===c.legendType&&(this.processData(),this.generatePoints()),n&&h.redraw(r)},processData:function(e){var n,r=this.xData,o=this.yData,i=r.length;n=0;var a,s,l,u=this.xAxis;l=(p=this.options).cropThreshold;var c,h,f=this.getExtremesFromAll||p.getExtremesFromAll,d=this.isCartesian,p=u&&u.val2lin,g=u&&u.isLog,m=this.requireSorting;if(d&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(u&&(c=(e=u.getExtremes()).min,h=e.max),d&&this.sorted&&!f&&(!l||i>l||this.forceCrop)&&(r[i-1]<c||r[0]>h?(r=[],o=[]):this.yData&&(r[0]<c||r[i-1]>h)&&(r=(n=this.cropData(this.xData,this.yData,c,h)).xData,o=n.yData,n=n.start,a=!0)),l=r.length||1;--l;)0<(i=g?p(r[l])-p(r[l-1]):r[l]-r[l-1])&&(void 0===s||i<s)?s=i:0>i&&m&&(t.error(15,!1,this.chart),m=!1);this.cropped=a,this.cropStart=n,this.processedXData=r,this.processedYData=o,this.closestPointRange=s},cropData:function(t,e,n,r,o){var i,a=t.length,s=0,l=a;for(o=v(o,this.cropShoulder),i=0;i<a;i++)if(t[i]>=n){s=Math.max(0,i-o);break}for(n=i;n<a;n++)if(t[n]>r){l=n+o;break}return{xData:t.slice(s,l),yData:e.slice(s,l),start:s,end:l}},generatePoints:function(){var t,e,n,r,o=(p=this.options).data,i=this.data,a=this.processedXData,s=this.processedYData,l=this.pointClass,u=a.length,f=this.cropStart||0,d=this.hasGroupedData,p=p.keys,g=[];for(i||d||((i=[]).length=o.length,i=this.data=i),p&&d&&(this.options.keys=!1),r=0;r<u;r++)e=f+r,d?((n=(new l).init(this,[a[r]].concat(b(s[r])))).dataGroup=this.groupMap[r],n.dataGroup.options&&(n.options=n.dataGroup.options,c(n,n.dataGroup.options),delete n.dataLabels)):(n=i[e])||void 0===o[e]||(i[e]=n=(new l).init(this,o[e],a[r])),n&&(n.index=e,g[r]=n);if(this.options.keys=p,i&&(u!==(t=i.length)||d))for(r=0;r<t;r++)r!==f||d||(r+=u),i[r]&&(i[r].destroyElements(),i[r].plotX=void 0);this.data=i,this.points=g,h(this,"afterGeneratePoints")},getXExtremes:function(t){return{min:o(t),max:r(t)}},getExtremes:function(t){var e,n,i,a,s,l=this.yAxis,u=this.processedXData,c=[],p=0,g=(e=this.xAxis.getExtremes()).min,m=e.max,v=this.requireSorting?this.cropShoulder:0;for(e=(t=t||this.stackedYData||this.processedYData||[]).length,s=0;s<e;s++)if(i=u[s],a=t[s],n=(d(a,!0)||f(a))&&(!l.positiveValuesOnly||a.length||0<a),i=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(u[s+v]||i)>=g&&(u[s-v]||i)<=m,n&&i)if(n=a.length)for(;n--;)"number"===typeof a[n]&&(c[p++]=a[n]);else c[p++]=a;this.dataMin=o(c),this.dataMax=r(c),h(this,"afterGetExtremes")},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,n,r,o,a=this.options,s=a.stacking,u=this.xAxis,c=u.categories,p=this.yAxis,g=this.points,m=g.length,y=!!this.modifyValue,b=this.pointPlacementToXValue(),w=d(b),C=a.threshold,O=a.startFromThreshold?C:0,S=this.zoneAxis||"y",E=Number.MAX_VALUE;for(t=0;t<m;t++){var k=g[t],T=k.x;n=k.y;var R,x,M=k.low,A=s&&p.stacks[(this.negStacks&&n<(O?0:C)?"-":"")+this.stackKey];p.positiveValuesOnly&&null!==n&&0>=n&&(k.isNull=!0),k.plotX=e=i(Math.min(Math.max(-1e5,u.translate(T,0,0,0,1,b,"flags"===this.type)),1e5)),s&&this.visible&&!k.isNull&&A&&A[T]&&(o=this.getStackIndicator(o,T,this.index),x=(R=A[T]).points[o.key]),f(x)&&(M=x[0],n=x[1],M===O&&o.key===A[T].base&&(M=v(d(C)&&C,p.min)),p.positiveValuesOnly&&0>=M&&(M=null),k.total=k.stackTotal=R.total,k.percentage=R.total&&k.y/R.total*100,k.stackY=n,R.setOffset(this.pointXOffset||0,this.barW||0)),k.yBottom=l(M)?Math.min(Math.max(-1e5,p.translate(M,0,1,0,1)),1e5):null,y&&(n=this.modifyValue(n,k)),k.plotY=n="number"===typeof n&&1/0!==n?Math.min(Math.max(-1e5,p.translate(n,0,1,0,1)),1e5):void 0,k.isInside=void 0!==n&&0<=n&&n<=p.len&&0<=e&&e<=u.len,k.clientX=w?i(u.translate(T,0,0,0,1,b)):e,k.negative=k[S]<(a[S+"Threshold"]||C||0),k.category=c&&void 0!==c[k.x]?c[k.x]:k.x,k.isNull||(void 0!==r&&(E=Math.min(E,Math.abs(e-r))),r=e),k.zone=this.zones.length&&k.getZone()}this.closestPointRangePx=E,h(this,"afterTranslate")},getValidPoints:function(t,e,n){var r=this.chart;return(t||this.points||[]).filter(function(t){return!(e&&!r.isInsidePlot(t.plotX,t.plotY,r.inverted))&&(n||!t.isNull)})},getClipBox:function(t,e){var n=this.options,r=this.chart,o=r.inverted,i=this.xAxis,a=i&&this.yAxis;return t&&!1===n.clip&&a?t=o?{y:-r.chartWidth+a.len+a.pos,height:r.chartWidth,width:r.chartHeight,x:-r.chartHeight+i.len+i.pos}:{y:-a.pos,height:r.chartHeight,width:r.chartWidth,x:-i.pos}:(t=this.clipBox||r.clipBox,e&&(t.width=r.plotSizeX,t.x=0)),e?{width:t.width,x:t.x}:t},setClip:function(t){var e=this.chart,n=this.options,r=e.renderer,o=e.inverted,i=this.clipBox,a=this.getClipBox(t),s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,a.height,n.xAxis,n.yAxis].join(),l=e[s],u=e[s+"m"];l||(t&&(a.width=0,o&&(a.x=e.plotSizeX+(!1!==n.clip?0:e.plotTop)),e[s+"m"]=u=r.clipRect(o?e.plotSizeX+99:-99,o?-e.plotLeft:-e.plotTop,99,o?e.chartWidth:e.chartHeight)),e[s]=l=r.clipRect(a),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),(!1!==n.clip||t)&&(this.group.clip(t||i?l:e.clipRect),this.markerGroup.clip(u),this.sharedClipKey=s),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&s&&e[s]&&(i||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e,r,o=this.chart,i=n(this.options.animation);t?this.setClip(i):(t=o[e=this.sharedClipKey],r=this.getClipBox(i,!0),t&&t.animate(r,i),o[e+"m"]&&o[e+"m"].animate({width:r.width+99,x:r.x-(o.inverted?0:99)},i),this.animate=null)},afterAnimate:function(){this.setClip(),h(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,n,r,o,i,a,s,l=this.points,u=this.chart,c=this.options.marker,h=this[this.specialGroup]||this.markerGroup;t=this.xAxis;var f,d=v(c.enabled,!(t&&!t.isRadial)||null,this.closestPointRangePx>=c.enabledThreshold*c.radius);if(!1!==c.enabled||this._hasPointMarkers)for(t=0;t<l.length;t++)o=(r=(e=l[t]).graphic)?"animate":"attr",i=e.marker||{},a=!!e.marker,n=d&&void 0===i.enabled||i.enabled,s=!1!==e.isInside,n&&!e.isNull?(n=v(i.symbol,this.symbol),f=this.markerAttribs(e,e.selected&&"select"),r?r[s?"show":"hide"](!0).animate(f):s&&(0<f.width||e.hasImage)&&(e.graphic=r=u.renderer.symbol(n,f.x,f.y,f.width,f.height,a?i:c).add(h)),r&&!u.styledMode&&r[o](this.pointAttribs(e,e.selected&&"select")),r&&r.addClass(e.getClassName(),!0)):r&&(e.graphic=r.destroy())},markerAttribs:function(t,e){var n=this.options.marker,r=t.marker||{},o=r.symbol||n.symbol,i=v(r.radius,n.radius);return e&&(n=n.states[e],e=r.states&&r.states[e],i=v(e&&e.radius,n&&n.radius,i+(n&&n.radiusPlus||0))),t.hasImage=o&&0===o.indexOf("url"),t.hasImage&&(i=0),t={x:Math.floor(t.plotX)-i,y:t.plotY-i},i&&(t.width=t.height=2*i),t},pointAttribs:function(t,e){var n=this.options.marker,r=(s=t&&t.options)&&s.marker||{},o=this.color,i=s&&s.color,a=t&&t.color,s=v(r.lineWidth,n.lineWidth),l=t&&t.zone&&t.zone.color;return t=1,o=i||l||a||o,i=r.fillColor||n.fillColor||o,o=r.lineColor||n.lineColor||o,e=e||"normal",n=n.states[e],e=r.states&&r.states[e]||{},s=v(e.lineWidth,n.lineWidth,s+v(e.lineWidthPlus,n.lineWidthPlus,0)),i=e.fillColor||n.fillColor||i,{stroke:o=e.lineColor||n.lineColor||o,"stroke-width":s,fill:i,opacity:t=v(e.opacity,n.opacity,t)}},destroy:function(e){var n,r,o,i=this,a=i.chart,s=/AppleWebKit\/533/.test(O.navigator.userAgent),l=i.data||[];for(h(i,"destroy"),e||y(i),(i.axisTypes||[]).forEach(function(t){(o=i[t])&&o.series&&(u(o.series,i),o.isDirty=o.forceRedraw=!0)}),i.legendItem&&i.chart.legend.destroyItem(i),n=l.length;n--;)(r=l[n])&&r.destroy&&r.destroy();i.points=null,t.clearTimeout(i.animationTimeout),m(i,function(t,e){t instanceof w&&!t.survive&&t[s&&"group"===e?"hide":"destroy"]()}),a.hoverSeries===i&&(a.hoverSeries=null),u(a.series,i),a.orderSeries(),m(i,function(t,n){e&&"hcEvents"===n||delete i[n]})},getGraphPath:function(t,e,n){var r,o,i=this,a=i.options,s=a.step,u=[],c=[];return(r=(t=t||i.points).reversed)&&t.reverse(),(s={right:1,center:2}[s]||s&&3)&&r&&(s=4-s),!a.connectNulls||e||n||(t=this.getValidPoints(t)),t.forEach(function(r,h){var f=r.plotX,d=r.plotY,p=t[h-1];(r.leftCliff||p&&p.rightCliff)&&!n&&(o=!0),r.isNull&&!l(e)&&0<h?o=!a.connectNulls:r.isNull&&!e?o=!0:(0===h||o?h=["M",r.plotX,r.plotY]:i.getPointSpline?h=i.getPointSpline(t,r,h):s?(h=1===s?["L",p.plotX,d]:2===s?["L",(p.plotX+f)/2,p.plotY,"L",(p.plotX+f)/2,d]:["L",f,p.plotY]).push("L",f,d):h=["L",f,d],c.push(r.x),s&&(c.push(r.x),2===s&&c.push(r.x)),u.push.apply(u,h),o=!1)}),u.xMap=c,i.graphPath=u},drawGraph:function(){var t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),r=this.chart.styledMode,o=[["graph","highcharts-graph"]];r||o[0].push(e.lineColor||this.color||"#cccccc",e.dashStyle),(o=t.getZonesGraphs(o)).forEach(function(o,i){var a=o[0],s=t[a],l=s?"animate":"attr";s?(s.endX=t.preventGraphAnimation?null:n.xMap,s.animate({d:n})):n.length&&(t[a]=s=t.chart.renderer.path(n).addClass(o[1]).attr({zIndex:1}).add(t.group)),s&&!r&&(a={stroke:o[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},o[3]?a.dashstyle=o[3]:"square"!==e.linecap&&(a["stroke-linecap"]=a["stroke-linejoin"]="round"),s[l](a).shadow(2>i&&e.shadow)),s&&(s.startX=n.xMap,s.isArea=n.isArea)})},getZonesGraphs:function(t){return this.zones.forEach(function(e,n){n=["zone-graph-"+n,"highcharts-graph highcharts-zone-graph-"+n+" "+(e.className||"")],this.chart.styledMode||n.push(e.color||this.color,e.dashStyle||this.options.dashStyle),t.push(n)},this),t},applyZones:function(){var t,e,n,r,o,i,a,s,l,u=this,c=this.chart,h=c.renderer,f=this.zones,d=this.clips||[],p=this.graph,g=this.area,m=Math.max(c.chartWidth,c.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],b=c.inverted,w=!1;f.length&&(p||g)&&y&&void 0!==y.min?(o=y.reversed,i=y.horiz,p&&!this.showLine&&p.hide(),g&&g.hide(),r=y.getExtremes(),f.forEach(function(f,C){t=o?i?c.plotWidth:0:i?0:y.toPixels(r.min)||0,t=Math.min(Math.max(v(e,t),0),m),e=Math.min(Math.max(Math.round(y.toPixels(v(f.value,r.max),!0)||0),0),m),w&&(t=e=y.toPixels(r.max)),a=Math.abs(t-e),s=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(n={x:b?l:s,y:0,width:a,height:m},i||(n.x=c.plotHeight-n.x)):(n={x:0,y:b?l:s,width:m,height:a},i&&(n.y=c.plotWidth-n.y)),b&&h.isVML&&(n=y.isXAxis?{x:0,y:o?s:l,height:n.width,width:c.chartWidth}:{x:n.y-c.plotLeft-c.spacingBox.x,y:0,width:n.height,height:c.chartHeight}),d[C]?d[C].animate(n):d[C]=h.clipRect(n),p&&u["zone-graph-"+C].clip(d[C]),g&&u["zone-area-"+C].clip(d[C]),w=f.value>r.max,u.resetZones&&0===e&&(e=void 0)}),this.clips=d):u.visible&&(p&&p.show(!0),g&&g.show(!0))},invertGroups:function(t){function n(){["group","markerGroup"].forEach(function(e){o[e]&&(i.renderer.isVML&&o[e].attr({width:o.yAxis.len,height:o.xAxis.len}),o[e].width=o.yAxis.len,o[e].height=o.xAxis.len,o[e].invert(t))})}var r,o=this,i=o.chart;o.xAxis&&(r=e(i,"resize",n),e(o,"destroy",r),n(),o.invertGroups=n)},plotGroup:function(t,e,n,r,o){var i=this[t],a=!i;return a&&(this[t]=i=this.chart.renderer.g().attr({zIndex:r||.1}).add(o)),i.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(l(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(i.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),i.attr({visibility:n})[a?"attr":"animate"](this.getPlotBox()),i},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,r=e.chart,o=e.options,i=!!e.animate&&r.renderer.isSVG&&n(o.animation).duration,a=e.visible?"inherit":"hidden",s=o.zIndex,l=e.hasRendered,u=r.seriesGroup,c=r.inverted;h(this,"render"),t=e.plotGroup("group","series",a,s,u),e.markerGroup=e.plotGroup("markerGroup","markers",a,s,u),i&&e.animate(!0),t.inverted=!(!e.isCartesian&&!e.invertable)&&c,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.visible&&e.drawPoints(),e.drawDataLabels&&e.drawDataLabels(),e.redrawPoints&&e.redrawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(c),!1===o.clip||e.sharedClipKey||l||t.clip(r.clipRect),i&&e.animate(),l||(e.animationTimeout=C(function(){e.afterAnimate()},i)),e.isDirty=!1,e.hasRendered=!0,h(e,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,n=this.group,r=this.xAxis,o=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:v(r&&r.left,t.plotLeft),translateY:v(o&&o.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this.xAxis,r=this.yAxis,o=this.chart.inverted;return this.searchKDTree({clientX:o?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:o?r.len-t.chartX+r.pos:t.chartY-r.pos},e,t)},buildKDTree:function(t){this.buildingKdTree=!0;var e=this,n=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,C(function(){e.kdTree=function t(n,r,o){var i,a;if(a=n&&n.length)return i=e.kdAxisArray[r%o],n.sort(function(t,e){return t[i]-e[i]}),{point:n[a=Math.floor(a/2)],left:t(n.slice(0,a),r+1,o),right:t(n.slice(a+1),r+1,o)}}(e.getValidPoints(null,!e.directTouch),n,n),e.buildingKdTree=!1},e.options.kdNow||t&&"touchstart"===t.type?0:1)},searchKDTree:function(t,e,n){var r=this,o=this.kdAxisArray[0],i=this.kdAxisArray[1],a=e?"distX":"dist";if(e=-1<r.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(n),this.kdTree)return function t(e,n,s,u){var c,h,f=n.point,d=r.kdAxisArray[s%u],p=f;return c=((h=l(e[o])&&l(f[o])?Math.pow(e[o]-f[o],2):null)||0)+((c=l(e[i])&&l(f[i])?Math.pow(e[i]-f[i],2):null)||0),f.dist=l(c)?Math.sqrt(c):Number.MAX_VALUE,f.distX=l(h)?Math.sqrt(h):Number.MAX_VALUE,h=0>(d=e[d]-f[d])?"right":"left",n[c=0>d?"left":"right"]&&(p=(c=t(e,n[c],s+1,u))[a]<p[a]?c:f),n[h]&&Math.sqrt(d*d)<p[a]&&(p=(e=t(e,n[h],s+1,u))[a]<p[a]?e:p),p}(t,this.kdTree,e,e)},pointPlacementToXValue:function(){var t=this.options.pointPlacement;return"between"===t&&(t=.5),d(t)&&(t*=v(this.options.pointRange||this.xAxis.pointRange)),t}})}),e(n,"parts/Stacking.js",[n["parts/Globals.js"]],function(t){var e=t.Axis,n=t.Chart,r=t.correctFloat,o=t.defined,i=t.destroyObjectProperties,a=t.format,s=t.objectEach,l=t.pick,u=t.Series;t.StackItem=function(t,e,n,r,o){var i=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=r,this.total=null,this.points={},this.stack=o,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(i?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(i?"middle":n?"bottom":"top"),y:l(e.y,i?4:n?14:-6),x:l(e.x,i?n?-6:6:0)},this.textAlign=e.textAlign||(i?n?"right":"left":"center")},t.StackItem.prototype={destroy:function(){i(this,this.axis)},render:function(t){var e=this.axis.chart,n=this.options,r=(r=n.format)?a(r,this,e.time):n.formatter.call(this);this.label?this.label.attr({text:r,visibility:"hidden"}):this.label=e.renderer.text(r,null,null,n.useHTML).css(n.style).attr({align:this.textAlign,rotation:n.rotation,visibility:"hidden"}).add(t),this.label.labelrank=e.plotHeight},setOffset:function(t,e,n,r){var i=this.axis,a=i.chart;r=i.translate(i.usePercentage?100:r||this.total,0,0,0,1),n=i.translate(n||0),n=o(r)&&Math.abs(r-n),t=a.xAxis[0].translate(this.x)+t,i=o(r)&&this.getStackBox(a,this,t,r,e,n,i),(e=this.label)&&i&&(e.align(this.alignOptions,null,i),i=e.alignAttr,e[!1===this.options.crop||a.isInsidePlot(i.x,i.y)?"show":"hide"](!0))},getStackBox:function(t,e,n,r,o,i,a){var s=e.axis.reversed,l=t.inverted;return t=a.height+a.pos-(l?t.plotLeft:t.plotTop),e=e.isNegative&&!s||!e.isNegative&&s,{x:l?e?r:r-i:n,y:l?t-n-o:e?t-r-i:t-r,width:l?i:o,height:l?o:i}}},n.prototype.getStacks=function(){var t=this;t.yAxis.forEach(function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),t.series.forEach(function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+l(e.options.stack,""))})},e.prototype.buildStacks=function(){var t,e=this.series,n=l(this.options.reversedStacks,!0),r=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=r;t--;)e[n?t:r-t-1].setStackedPoints();for(t=0;t<r;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,n=this.stacks,r=this.stackTotalGroup;r||(this.stackTotalGroup=r=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(t.plotLeft,t.plotTop),s(n,function(t){s(t,function(t){t.render(r)})})},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||s(e,function(e){s(e,function(n,r){n.touched<t.stacksTouched?(n.destroy(),delete e[r]):(n.total=null,n.cumulative=null)})})},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),s(t,function(t){s(t,function(t){t.cumulative=t.total})}))},u.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,n,i,a,s,u,c,h=this.processedXData,f=this.processedYData,d=[],p=f.length,g=(y=this.options).threshold,m=l(y.startFromThreshold&&g,0),v=y.stack,y=y.stacking,b=this.stackKey,w="-"+b,C=this.negStacks,O=this.yAxis,S=O.stacks,E=O.oldStacks;for(O.stacksTouched+=1,s=0;s<p;s++)u=h[s],c=f[s],a=(e=this.getStackIndicator(e,u,this.index)).key,S[i=(n=C&&c<(m?0:g))?w:b]||(S[i]={}),S[i][u]||(E[i]&&E[i][u]?(S[i][u]=E[i][u],S[i][u].total=null):S[i][u]=new t.StackItem(O,O.options.stackLabels,n,u,v)),i=S[i][u],null!==c?(i.points[a]=i.points[this.index]=[l(i.cumulative,m)],o(i.cumulative)||(i.base=a),i.touched=O.stacksTouched,0<e.index&&!1===this.singleStacks&&(i.points[a][0]=i.points[this.index+","+u+",0"][0])):i.points[a]=i.points[this.index]=null,"percent"===y?(n=n?b:w,C&&S[n]&&S[n][u]?(n=S[n][u],i.total=n.total=Math.max(n.total,i.total)+Math.abs(c)||0):i.total=r(i.total+(Math.abs(c)||0))):i.total=r(i.total+(c||0)),i.cumulative=l(i.cumulative,m)+(c||0),null!==c&&(i.points[a].push(i.cumulative),d[s]=i.cumulative);"percent"===y&&(O.usePercentage=!0),this.stackedYData=d,O.oldStacks={}}},u.prototype.modifyStacks=function(){var t,e=this,n=e.stackKey,r=e.yAxis.stacks,o=e.processedXData,i=e.options.stacking;e[i+"Stacker"]&&[n,"-"+n].forEach(function(n){for(var a,s,l=o.length;l--;)a=o[l],t=e.getStackIndicator(t,a,e.index,n),(s=(a=r[n]&&r[n][a])&&a.points[t.key])&&e[i+"Stacker"](s,a,l)})},u.prototype.percentStacker=function(t,e,n){e=e.total?100/e.total:0,t[0]=r(t[0]*e),t[1]=r(t[1]*e),this.stackedYData[n]=t[1]},u.prototype.getStackIndicator=function(t,e,n,r){return!o(t)||t.x!==e||r&&t.key!==r?t={x:e,index:0,key:r}:t.index++,t.key=[n,e,t.index].join(),t}}),e(n,"parts/Dynamics.js",[n["parts/Globals.js"]],function(t){var e=t.addEvent,n=t.animate,r=t.Axis,o=t.Chart,i=t.createElement,a=t.css,s=t.defined,l=t.erase,u=t.extend,c=t.fireEvent,h=t.isNumber,f=t.isObject,d=t.isArray,p=t.merge,g=t.objectEach,m=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,w=t.setAnimation,C=t.splat;t.cleanRecursively=function(e,n){var r={};return g(e,function(o,i){f(e[i],!0)&&!e.nodeType&&n[i]?(o=t.cleanRecursively(e[i],n[i]),Object.keys(o).length&&(r[i]=o)):(f(e[i])||e[i]!==n[i])&&(r[i]=e[i])}),r},u(o.prototype,{addSeries:function(t,e,n){var r,o=this;return t&&(e=m(e,!0),c(o,"addSeries",{options:t},function(){r=o.initSeries(t),o.isDirtyLegend=!0,o.linkSeries(),c(o,"afterAddSeries",{series:r}),e&&o.redraw(n)})),r},addAxis:function(t,e,n,o){var i=e?"xAxis":"yAxis",a=this.options;return t=p(t,{index:this[i].length,isX:e}),e=new r(this,t),a[i]=C(a[i]||{}),a[i].push(t),m(n,!0)&&this.redraw(o),e},showLoading:function(t){var r=this,o=r.options,s=r.loadingDiv,l=o.loading,c=function(){s&&a(s,{left:r.plotLeft+"px",top:r.plotTop+"px",width:r.plotWidth+"px",height:r.plotHeight+"px"})};s||(r.loadingDiv=s=i("div",{className:"highcharts-loading highcharts-loading-hidden"},null,r.container),r.loadingSpan=i("span",{className:"highcharts-loading-inner"},null,s),e(r,"redraw",c)),s.className="highcharts-loading",r.loadingSpan.innerHTML=t||o.lang.loading,r.styledMode||(a(s,u(l.style,{zIndex:10})),a(r.loadingSpan,l.labelStyle),r.loadingShown||(a(s,{opacity:0,display:""}),n(s,{opacity:l.style.opacity||.5},{duration:l.showDuration||0}))),r.loadingShown=!0,c()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||n(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){a(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),collectionsWithUpdate:"xAxis yAxis zAxis series colorAxis pane".split(" "),update:function(e,n,r,o){var i,a,l,u,f=this,d={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},v=[];c(f,"update",{options:e}),e.isResponsiveOptions||f.setResponsive(!1,!0),e=t.cleanRecursively(e,f.options),p(!0,f.userOptions,e),(i=e.chart)&&(p(!0,f.options.chart,i),"className"in i&&f.setClassName(i.className),"reflow"in i&&f.setReflow(i.reflow),("inverted"in i||"polar"in i||"type"in i)&&(f.propFromSeries(),a=!0),"alignTicks"in i&&(a=!0),g(i,function(t,e){-1!==f.propsRequireUpdateSeries.indexOf("chart."+e)&&(l=!0),-1!==f.propsRequireDirtyBox.indexOf(e)&&(f.isDirtyBox=!0),-1!==f.propsRequireReflow.indexOf(e)&&(u=!0)}),!f.styledMode&&"style"in i&&f.renderer.setStyle(i.style)),!f.styledMode&&e.colors&&(this.options.colors=e.colors),e.plotOptions&&p(!0,this.options.plotOptions,e.plotOptions),e.time&&this.time===t.time&&(this.time=new t.Time(e.time)),g(e,function(t,e){f[e]&&"function"===typeof f[e].update?f[e].update(t,!1):"function"===typeof f[d[e]]&&f[d[e]](t),"chart"!==e&&-1!==f.propsRequireUpdateSeries.indexOf(e)&&(l=!0)}),this.collectionsWithUpdate.forEach(function(t){var n;e[t]&&("series"===t&&(n=[],f[t].forEach(function(t,e){t.options.isInternal||n.push(m(t.options.index,e))})),C(e[t]).forEach(function(e,o){(o=s(e.id)&&f.get(e.id)||f[t][n?n[o]:o])&&o.coll===t&&(o.update(e,!1),r&&(o.touched=!0)),!o&&r&&f.collectionsWithInit[t]&&(f.collectionsWithInit[t][0].apply(f,[e].concat(f.collectionsWithInit[t][1]||[]).concat([!1])).touched=!0)}),r&&f[t].forEach(function(t){t.touched||t.options.isInternal?delete t.touched:v.push(t)}))}),v.forEach(function(t){t.remove&&t.remove(!1)}),a&&f.axes.forEach(function(t){t.update({},!1)}),l&&f.series.forEach(function(t){t.update({},!1)}),e.loading&&p(!0,f.options.loading,e.loading),a=i&&i.width,i=i&&i.height,t.isString(i)&&(i=t.relativeLength(i,a||f.chartWidth)),u||h(a)&&a!==f.chartWidth||h(i)&&i!==f.chartHeight?f.setSize(a,i,o):m(n,!0)&&f.redraw(o),c(f,"afterUpdate",{options:e,redraw:n,animation:o})},setSubtitle:function(t){this.setTitle(void 0,t)}}),o.prototype.collectionsWithInit={xAxis:[o.prototype.addAxis,[!0]],yAxis:[o.prototype.addAxis,[!1]],series:[o.prototype.addSeries]},u(v.prototype,{update:function(t,e,n,r){function o(){a.applyOptions(t),null===a.y&&l&&(a.graphic=l.destroy()),f(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(a.graphic=l.destroy()),t&&t.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy()),a.connector&&(a.connector=a.connector.destroy())),i=a.index,s.updateParallelArrays(a,i),c.data[i]=f(c.data[i],!0)||f(t,!0)?a.options:m(t,c.data[i]),s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===c.legendType&&(u.isDirtyLegend=!0),e&&u.redraw(n)}var i,a=this,s=a.series,l=a.graphic,u=s.chart,c=s.options;e=m(e,!0),!1===r?o():a.firePointEvent("update",{options:t},o)},remove:function(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}}),u(y.prototype,{addPoint:function(t,e,n,r,o){var i,a,s,l,u=this.options,h=this.data,f=this.chart,d=(d=this.xAxis)&&d.hasNames&&d.names,p=u.data,g=this.xData;if(e=m(e,!0),i={series:this},this.pointClass.prototype.applyOptions.apply(i,[t]),l=i.x,s=g.length,this.requireSorting&&l<g[s-1])for(a=!0;s&&g[s-1]>l;)s--;this.updateParallelArrays(i,"splice",s,0,0),this.updateParallelArrays(i,s),d&&i.name&&(d[l]=i.name),p.splice(s,0,t),a&&(this.data.splice(s,0,null),this.processData()),"point"===u.legendType&&this.generatePoints(),n&&(h[0]&&h[0].remove?h[0].remove(!1):(h.shift(),this.updateParallelArrays(i,"shift"),p.shift())),!1!==o&&c(this,"addPoint",{point:i}),this.isDirtyData=this.isDirty=!0,e&&f.redraw(r)},removePoint:function(t,e,n){var r=this,o=r.data,i=o[t],a=r.points,s=r.chart,l=function(){a&&a.length===o.length&&a.splice(t,1),o.splice(t,1),r.options.data.splice(t,1),r.updateParallelArrays(i||{series:r},"splice",t,1),i&&i.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&s.redraw()};w(n,s),e=m(e,!0),i?i.firePointEvent("remove",null,l):l()},remove:function(t,e,n,r){function o(){i.destroy(r),i.remove=null,a.isDirtyLegend=a.isDirtyBox=!0,a.linkSeries(),m(t,!0)&&a.redraw(e)}var i=this,a=i.chart;!1!==n?c(i,"remove",null,o):o()},update:function(e,n){e=t.cleanRecursively(e,this.userOptions),c(this,"update",{options:e});var r,o,i=this,a=i.chart,s=i.userOptions,l=i.initialType||i.type,h=e.type||s.type||a.options.chart.type,f=!(this.hasDerivedData||e.dataGrouping||h&&h!==this.type||void 0!==e.pointStart||e.pointInterval||e.pointIntervalUnit||e.keys),d=b[l].prototype,g=["group","markerGroup","dataLabelsGroup","transformGroup"],v=["navigatorSeries","baseSeries"],y=i.finishedAnimating&&{animation:!1},w={};for(o in f&&(v.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","_hasPointMarkers","_hasPointLabels","mapMap","mapData","minY","maxY","minX","maxX"),!1!==e.visible&&v.push("area","graph"),i.parallelArrays.forEach(function(t){v.push(t+"Data")}),e.data&&this.setData(e.data,!1)),e=p(s,y,{index:void 0===s.index?i.index:s.index,pointStart:m(s.pointStart,i.xData[0])},!f&&{data:i.options.data},e),(v=g.concat(v)).forEach(function(t){v[t]=i[t],delete i[t]}),i.remove(!1,null,!1,!0),d)i[o]=void 0;b[h||l]?u(i,b[h||l].prototype):t.error(17,!0,a),v.forEach(function(t){i[t]=v[t]}),i.init(a,e),f&&this.points&&(!1===(r=i.options).visible?(w.graphic=1,w.dataLabel=1):(r.marker&&!1===r.marker.enabled&&!i._hasPointMarkers&&(w.graphic=1),r.dataLabels&&!1===r.dataLabels.enabled&&!i._hasPointLabels&&(w.dataLabel=1)),this.points.forEach(function(t){t&&t.series&&(t.resolveColor(),Object.keys(w).length&&t.destroyElements(w),!1===r.showInLegend&&t.legendItem&&a.legend.destroyItem(t))},this)),e.zIndex!==s.zIndex&&g.forEach(function(t){i[t]&&i[t].attr({zIndex:e.zIndex})}),i.initialType=l,a.linkSeries(),c(this,"afterUpdate"),m(n,!0)&&a.redraw(!!f&&void 0)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),u(r.prototype,{update:function(t,e){var n=this.chart,r=t&&t.events||{};t=p(this.userOptions,t),n.options[this.coll].indexOf&&(n.options[this.coll][n.options[this.coll].indexOf(this.userOptions)]=t),g(n.options[this.coll].events,function(t,e){"undefined"===typeof r[e]&&(r[e]=void 0)}),this.destroy(!0),this.init(n,u(t,{events:r})),n.isDirtyBox=!0,m(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,r=this.series,o=r.length;o--;)r[o]&&r[o].remove(!1);l(e.axes,this),l(e[n],this),d(e.options[n])?e.options[n].splice(this.options.index,1):delete e.options[n],e[n].forEach(function(t,e){t.options.index=t.userOptions.index=e}),this.destroy(),e.isDirtyBox=!0,m(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}),e(n,"parts/AreaSeries.js",[n["parts/Globals.js"]],function(t){var e=t.color,n=t.pick,r=t.Series;(0,t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var r,o,i=[],a=[],s=this.xAxis,l=this.yAxis,u=l.stacks[this.stackKey],c={},h=this.index,f=l.series,d=f.length,p=n(l.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(o=0;o<e.length;o++)e[o].leftNull=e[o].rightNull=null,c[e[o].x]=e[o];t.objectEach(u,function(t,e){null!==t.total&&a.push(e)}),a.sort(function(t,e){return t-e}),r=f.map(function(t){return t.visible}),a.forEach(function(t,e){var n,f,g=0;if(c[t]&&!c[t].isNull)i.push(c[t]),[-1,1].forEach(function(i){var s=1===i?"rightNull":"leftNull",l=0,g=u[a[e+i]];if(g)for(o=h;0<=o&&o<d;)(n=g.points[o])||(o===h?c[t][s]=!0:r[o]&&(f=u[t].points[o])&&(l-=f[1]-f[0])),o+=p;c[t][1===i?"rightCliff":"leftCliff"]=l});else{for(o=h;0<=o&&o<d;){if(n=u[t].points[o]){g=n[1];break}o+=p}g=l.translate(g,0,1,0,1),i.push({isNull:!0,plotX:s.translate(t,0,0,0,1),x:t,plotY:g,yBottom:g})}})}return i},getGraphPath:function(e){var o,i,a,s,l=r.prototype.getGraphPath,u=(v=this.options).stacking,c=this.yAxis,h=[],f=[],d=this.index,p=c.stacks[this.stackKey],g=v.threshold,m=c.getThreshold(v.threshold),v=t.pick(v.connectNulls,"percent"===u),y=function(t,n,r){var o=e[t];t=u&&p[o.x].points[d];var i=o[r+"Null"]||0;r=o[r+"Cliff"]||0;var s,l;o=!0;r||i?(s=(i?t[0]:t[1])+r,l=t[0]+r,o=!!i):!u&&e[n]&&e[n].isNull&&(s=l=g),void 0!==s&&(f.push({plotX:a,plotY:null===s?m:c.getThreshold(s),isNull:o,isCliff:!0}),h.push({plotX:a,plotY:null===l?m:c.getThreshold(l),doCurve:!1}))};for(e=e||this.points,u&&(e=this.getStackPoints(e)),o=0;o<e.length;o++)i=e[o].isNull,a=n(e[o].rectPlotX,e[o].plotX),s=n(e[o].yBottom,m),(!i||v)&&(v||y(o,o-1,"left"),i&&!u&&v||(f.push(e[o]),h.push({x:o,plotX:a,plotY:s})),v||y(o,o+1,"right"));return o=l.call(this,f,!0,!0),h.reversed=!0,(i=l.call(this,h,!0,!0)).length&&(i[0]="L"),i=o.concat(i),l=l.call(this,f,!1,v),i.xMap=o.xMap,this.areaPath=i,l},drawGraph:function(){this.areaPath=[],r.prototype.drawGraph.apply(this);var t=this,o=this.areaPath,i=this.options,a=[["area","highcharts-area",this.color,i.fillColor]];this.zones.forEach(function(e,n){a.push(["zone-area-"+n,"highcharts-area highcharts-zone-area-"+n+" "+e.className,e.color||t.color,e.fillColor||i.fillColor])}),a.forEach(function(r){var a=r[0],s=t[a],l=s?"animate":"attr",u={};s?(s.endX=t.preventGraphAnimation?null:o.xMap,s.animate({d:o})):(u.zIndex=0,(s=t[a]=t.chart.renderer.path(o).addClass(r[1]).add(t.group)).isArea=!0),t.chart.styledMode||(u.fill=n(r[3],e(r[2]).setOpacity(n(i.fillOpacity,.75)).get())),s[l](u),s.startX=o.xMap,s.shiftUnit=i.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}),e(n,"parts/SplineSeries.js",[n["parts/Globals.js"]],function(t){var e=t.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,n,r){var o,i,a,s,l=n.plotX,u=n.plotY,c=t[r-1];if(r=t[r+1],c&&!c.isNull&&!1!==c.doCurve&&!n.isCliff&&r&&!r.isNull&&!1!==r.doCurve&&!n.isCliff){t=c.plotY,a=r.plotX;var h=0;i=(1.5*u+t)/2.5,s=(1.5*u+(r=r.plotY))/2.5,(a=(1.5*l+a)/2.5)!==(o=(1.5*l+c.plotX)/2.5)&&(h=(s-i)*(a-l)/(a-o)+u-s),s+=h,(i+=h)>t&&i>u?s=2*u-(i=Math.max(t,u)):i<t&&i<u&&(s=2*u-(i=Math.min(t,u))),s>r&&s>u?i=2*u-(s=Math.max(r,u)):s<r&&s<u&&(i=2*u-(s=Math.min(r,u))),n.rightContX=a,n.rightContY=s}return n=["C",e(c.rightContX,c.plotX),e(c.rightContY,c.plotY),e(o,l),e(i,u),l,u],c.rightContX=c.rightContY=null,n}})}),e(n,"parts/AreaSplineSeries.js",[n["parts/Globals.js"]],function(t){var e=t.seriesTypes.area.prototype;(0,t.seriesType)("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}),e(n,"parts/ColumnSeries.js",[n["parts/Globals.js"]],function(t){var e=t.animObject,n=t.color,r=t.extend,o=t.defined,i=t.isNumber,a=t.merge,s=t.pick,l=t.Series,u=t.seriesType,c=t.svg;u("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&e.series.forEach(function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,n=e.options,r=e.xAxis,o=e.yAxis,i=r.options.reversedStacks,a=(i=r.reversed&&!i||!r.reversed&&i,{}),l=0;!1===n.grouping?l=1:e.chart.series.forEach(function(n){var r,i=n.options,s=n.yAxis;n.type!==e.type||!n.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==s.len||o.pos!==s.pos||(i.stacking?(t=n.stackKey,void 0===a[t]&&(a[t]=l++),r=a[t]):!1!==i.grouping&&(r=l++),n.columnIndex=r)});var u=Math.min(Math.abs(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),c=u*n.groupPadding,h=(u-2*c)/(l||1);n=Math.min(n.maxPointWidth||r.len,s(n.pointWidth,h*(1-2*n.pointPadding)));return e.columnMetrics={width:n,offset:(h-n)/2+(c+((e.columnIndex||0)+(i?1:0))*h-u/2)*(i?-1:1)},e.columnMetrics},crispCol:function(t,e,n,r){var o=this.chart,i=-((a=this.borderWidth)%2?.5:0),a=a%2?.5:1;return o.inverted&&o.renderer.isVML&&(a+=1),this.options.crisp&&(n=Math.round(t+n)+i,n-=t=Math.round(t)+i),r=Math.round(e+r)+a,i=.5>=Math.abs(e)&&.5<r,r-=e=Math.round(e)+a,i&&r&&(--e,r+=1),{x:t,y:e,width:n,height:r}},translate:function(){var t=this,e=t.chart,n=t.options,r=t.dense=2>t.closestPointRange*t.xAxis.transA,i=(r=t.borderWidth=s(n.borderWidth,r?0:1),t.yAxis),a=n.threshold,u=t.translatedThreshold=i.getThreshold(a),c=s(n.minPointLength,5),h=t.getColumnMetrics(),f=h.width,d=t.barW=Math.max(f,1+2*r),p=t.pointXOffset=h.offset,g=t.dataMin,m=t.dataMax;e.inverted&&(u-=.5),n.pointPadding&&(d=Math.ceil(d)),l.prototype.translate.apply(t),t.points.forEach(function(n){var r,l=s(n.yBottom,u),h=999+Math.abs(l),v=f,y=(h=Math.min(Math.max(-h,n.plotY),i.len+h),n.plotX+p),b=d,w=Math.min(h,l),C=Math.max(h,l)-w;c&&Math.abs(C)<c&&(C=c,r=!i.reversed&&!n.negative||i.reversed&&n.negative,n.y===a&&t.dataMax<=a&&i.min<a&&g!==m&&(r=!r),w=Math.abs(w-u)>c?l-c:u-(r?c:0)),o(n.options.pointWidth)&&(v=b=Math.ceil(n.options.pointWidth),y-=Math.round((v-f)/2)),n.barX=y,n.pointWidth=v,n.tooltipPos=e.inverted?[i.len+i.pos-e.plotLeft-h,t.xAxis.len-y-b/2,C]:[y+b/2,h+i.pos-e.plotTop,C],n.shapeType=t.pointClass.prototype.shapeType||"rect",n.shapeArgs=t.crispCol.apply(t,n.isNull?[y,u,b,0]:[y,w,b,C])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var r,o=this.options;r=(f=this.pointAttrToOptions||{}).stroke||"borderColor";var i,l=f["stroke-width"]||"borderWidth",u=t&&t.color||this.color,c=t&&t[r]||o[r]||this.color||u,h=t&&t[l]||o[l]||this[l]||0,f=t&&t.dashStyle||o.dashStyle,d=s(o.opacity,1);return t&&this.zones.length&&(i=t.getZone(),u=t.options.color||i&&i.color||this.color,i&&(c=i.borderColor||c,f=i.dashStyle||f,h=i.borderWidth||h)),e&&(e=(t=a(o.states[e],t.options.states&&t.options.states[e]||{})).brightness,u=t.color||void 0!==e&&n(u).brighten(t.brightness).get()||u,c=t[r]||c,h=t[l]||h,f=t.dashStyle||f,d=s(t.opacity,d)),r={fill:u,stroke:c,"stroke-width":h,opacity:d},f&&(r.dashstyle=f),r},drawPoints:function(){var t,e=this,n=this.chart,r=e.options,o=n.renderer,s=r.animationLimit||250;e.points.forEach(function(l){var u=l.graphic,c=u&&n.pointCount<s?"animate":"attr";i(l.plotY)&&null!==l.y?(t=l.shapeArgs,u&&u.element.nodeName!==l.shapeType&&(u=u.destroy()),u?u[c](a(t)):l.graphic=u=o[l.shapeType](t).add(l.group||e.group),r.borderRadius&&u[c]({r:r.borderRadius}),n.styledMode||u[c](e.pointAttribs(l,l.selected&&"select")).shadow(!1!==l.allowShadow&&r.shadow,null,r.stacking&&!r.borderRadius),u.addClass(l.getClassName(),!0)):u&&(l.graphic=u.destroy())})},animate:function(t){var n,o=this,i=this.yAxis,a=o.options,s=this.chart.inverted,l={},u=s?"translateX":"translateY";c&&(t?(l.scaleY=.001,t=Math.min(i.pos+i.len,Math.max(i.pos,i.toPixels(a.threshold))),s?l.translateX=t-i.len:l.translateY=t,o.clipBox&&o.setClip(),o.group.attr(l)):(n=o.group.attr(u),o.group.animate({scaleY:1},r(e(o.options.animation),{step:function(t,e){l[u]=n+e.pos*(i.pos-n),o.group.attr(l)}})),o.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&e.series.forEach(function(e){e.type===t.type&&(e.isDirty=!0)}),l.prototype.remove.apply(t,arguments)}})}),e(n,"parts/BarSeries.js",[n["parts/Globals.js"]],function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}),e(n,"parts/ScatterSeries.js",[n["parts/Globals.js"]],function(t){var e=t.Series;(0,t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)},applyJitter:function(){var t=this,e=this.options.jitter,n=this.points.length;e&&this.points.forEach(function(r,o){["x","y"].forEach(function(i,a){var s,l,u,c="plot"+i.toUpperCase();e[i]&&!r.isNull&&(s=t[i+"Axis"],u=e[i]*s.transA,s&&!s.isLog&&(l=Math.max(0,r[c]-u),s=Math.min(s.len,r[c]+u),a=1e4*Math.sin(o+a*n),r[c]=l+(s-l)*(a-Math.floor(a)),"x"===i&&(r.clientX=r.plotX)))})})}}),t.addEvent(e,"afterTranslate",function(){this.applyJitter&&this.applyJitter()})}),e(n,"mixins/centered-series.js",[n["parts/Globals.js"]],function(t){var e=t.deg2rad,n=t.isNumber,r=t.pick,o=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,n=this.options,i=this.chart,a=2*(n.slicedOffset||0),s=i.plotWidth-2*a,l=(i=i.plotHeight-2*a,n.center),u=(l=[r(l[0],"50%"),r(l[1],"50%"),n.size||"100%",n.innerSize||0],Math.min(s,i));for(t=0;4>t;++t)e=l[t],n=2>t||2===t&&/%$/.test(e),l[t]=o(e,[s,i,u,l[2]][t])+(n?a:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(t,r){return t=n(t)?t:0,r=n(r)&&r>t&&360>r-t?r:t+360,{start:e*(t+-90),end:e*(r+-90)}}}}),e(n,"parts/PieSeries.js",[n["parts/Globals.js"]],function(t){var e=t.addEvent,n=t.CenteredSeriesMixin,r=t.defined,o=n.getStartAndEndRadians,i=t.merge,a=t.noop,s=t.pick,l=t.Point,u=t.Series,c=t.seriesType,h=t.setAnimation;c("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0,connectorShape:"fixedOffset",crookDistance:"70%"},ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.points,r=e.startAngleRad;t||(n.forEach(function(t){var n=t.graphic,o=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:r,end:r}),n.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}),e.animate=null)},hasData:function(){return!!this.processedXData.length},updateTotals:function(){var t,e,n=0,r=this.points,o=r.length,i=this.options.ignoreHiddenPoint;for(t=0;t<o;t++)e=r[t],n+=i&&!e.visible?0:e.isNull?0:e.y;for(this.total=n,t=0;t<o;t++)(e=r[t]).percentage=0<n&&(e.visible||!i)?e.y/n*100:0,e.total=n},generatePoints:function(){u.prototype.generatePoints.call(this),this.updateTotals()},getX:function(t,e,n){var r=this.center,o=this.radii?this.radii[n.index]:r[2]/2;return r[0]+(e?-1:1)*Math.cos(Math.asin(Math.max(Math.min((t-r[1])/(o+n.labelDistance),1),-1)))*(o+n.labelDistance)+(0<n.labelDistance?(e?-1:1)*this.options.dataLabels.padding:0)},translate:function(e){this.generatePoints();var n,r,i,a,l,u,c=0,h=(v=this.options).slicedOffset,f=h+(v.borderWidth||0),d=o(v.startAngle,v.endAngle),p=this.startAngleRad=d.start,g=(d=(this.endAngleRad=d.end)-p,this.points),m=v.dataLabels.distance,v=v.ignoreHiddenPoint,y=g.length;for(e||(this.center=e=this.getCenter()),l=0;l<y;l++)u=g[l],n=p+c*d,v&&!u.visible||(c+=u.percentage/100),r=p+c*d,u.shapeType="arc",u.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:Math.round(1e3*n)/1e3,end:Math.round(1e3*r)/1e3},u.labelDistance=s(u.options.dataLabels&&u.options.dataLabels.distance,m),u.labelDistance=t.relativeLength(u.labelDistance,u.shapeArgs.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,u.labelDistance),(r=(r+n)/2)>1.5*Math.PI?r-=2*Math.PI:r<-Math.PI/2&&(r+=2*Math.PI),u.slicedTranslation={translateX:Math.round(Math.cos(r)*h),translateY:Math.round(Math.sin(r)*h)},i=Math.cos(r)*e[2]/2,a=Math.sin(r)*e[2]/2,u.tooltipPos=[e[0]+.7*i,e[1]+.7*a],u.half=r<-Math.PI/2||r>Math.PI/2?1:0,u.angle=r,n=Math.min(f,u.labelDistance/5),u.labelPosition={natural:{x:e[0]+i+Math.cos(r)*u.labelDistance,y:e[1]+a+Math.sin(r)*u.labelDistance},final:{},alignment:0>u.labelDistance?"center":u.half?"right":"left",connectorPosition:{breakAt:{x:e[0]+i+Math.cos(r)*n,y:e[1]+a+Math.sin(r)*n},touchingSliceAt:{x:e[0]+i,y:e[1]+a}}}},drawGraph:null,redrawPoints:function(){var t,e,n,r,o=this,a=o.chart,s=a.renderer,l=o.options.shadow;!l||o.shadowGroup||a.styledMode||(o.shadowGroup=s.g("shadow").attr({zIndex:-1}).add(o.group)),o.points.forEach(function(u){var c={};if(e=u.graphic,!u.isNull&&e){if(r=u.shapeArgs,t=u.getTranslate(),!a.styledMode){var h=u.shadowGroup;l&&!h&&(h=u.shadowGroup=s.g("shadow").add(o.shadowGroup)),h&&h.attr(t),n=o.pointAttribs(u,u.selected&&"select")}u.delayedRendering?(e.setRadialReference(o.center).attr(r).attr(t),a.styledMode||e.attr(n).attr({"stroke-linejoin":"round"}).shadow(l,h),u.delayedRendering=!1):(e.setRadialReference(o.center),a.styledMode||i(!0,c,n),i(!0,c,r,t),e.animate(c)),e.attr({visibility:u.visible?"inherit":"hidden"}),e.addClass(u.getClassName())}else e&&(u.graphic=e.destroy())})},drawPoints:function(){var t=this.chart.renderer;this.points.forEach(function(e){e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)})},searchPoint:a,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:n.getCenter,getSymbol:a},{init:function(){l.prototype.init.apply(this,arguments);var t,n=this;return n.name=s(n.name,"Slice"),t=function(t){n.slice("select"===t.type)},e(n,"select",t),e(n,"unselect",t),n},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var n=this,r=n.series,o=r.chart,i=r.options.ignoreHiddenPoint;e=s(e,i),t!==n.visible&&(n.visible=n.options.visible=t=void 0===t?!n.visible:t,r.options.data[r.data.indexOf(n)]=n.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&o.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),i&&(r.isDirty=!0),e&&o.redraw())},slice:function(t,e,n){var o=this.series;h(n,o.chart),s(e,!0),this.sliced=this.options.sliced=r(t)?t:!this.sliced,o.options.data[o.data.indexOf(this)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})},connectorShapes:{fixedOffset:function(t,e,n){var r=e.breakAt;return e=e.touchingSliceAt,["M",t.x,t.y].concat(n.softConnector?["C",t.x+("left"===t.alignment?-5:5),t.y,2*r.x-e.x,2*r.y-e.y,r.x,r.y]:["L",r.x,r.y]).concat(["L",e.x,e.y])},straight:function(t,e){return e=e.touchingSliceAt,["M",t.x,t.y,"L",e.x,e.y]},crookedLine:function(e,n,r){n=n.touchingSliceAt;var o=(s=this.series).center[0],i=s.chart.plotWidth,a=s.chart.plotLeft,s=e.alignment,l=this.shapeArgs.r;return r=t.relativeLength(r.crookDistance,1),o=["L",r="left"===s?o+l+(i+a-o-l)*(1-r):a+(o-l)*r,e.y],("left"===s?r>e.x||r<n.x:r<e.x||r>n.x)&&(o=[]),["M",e.x,e.y].concat(o).concat(["L",n.x,n.y])}},getConnectorPath:function(){var t=this.labelPosition,e=this.series.options.dataLabels,n=e.connectorShape,r=this.connectorShapes;return r[n]&&(n=r[n]),n.call(this,{x:t.final.x,y:t.final.y,alignment:t.alignment},t.connectorPosition,e)}})}),e(n,"parts/DataLabels.js",[n["parts/Globals.js"]],function(t){var e=t.arrayMax,n=t.defined,r=t.extend,o=t.format,i=t.merge,a=t.noop,s=t.pick,l=t.relativeLength,u=t.Series,c=t.seriesTypes,h=t.stableSort,f=t.isArray,d=t.splat;t.distribute=function(e,n,r){function o(t,e){return t.target-e.target}var i,a,l=!0,u=e,c=[];a=0;var f=u.reducedLen||n;for(i=e.length;i--;)a+=e[i].size;if(a>f){for(h(e,function(t,e){return(e.rank||0)-(t.rank||0)}),a=i=0;a<=f;)a+=e[i].size,i++;c=e.splice(i-1,e.length)}for(h(e,o),e=e.map(function(t){return{size:t.size,targets:[t.target],align:s(t.align,.5)}});l;){for(i=e.length;i--;)l=e[i],a=(Math.min.apply(0,l.targets)+Math.max.apply(0,l.targets))/2,l.pos=Math.min(Math.max(0,a-l.size*l.align),n-l.size);for(i=e.length,l=!1;i--;)0<i&&e[i-1].pos+e[i-1].size>e[i].pos&&(e[i-1].size+=e[i].size,e[i-1].targets=e[i-1].targets.concat(e[i].targets),e[i-1].align=.5,e[i-1].pos+e[i-1].size>n&&(e[i-1].pos=n-e[i-1].size),e.splice(i,1),l=!0)}u.push.apply(u,c),i=0,e.some(function(e){var o=0;if(e.targets.some(function(){if(u[i].pos=e.pos+o,Math.abs(u[i].pos-u[i].target)>r)return u.slice(0,i+1).forEach(function(t){delete t.pos}),u.reducedLen=(u.reducedLen||n)-.1*n,u.reducedLen>.1*n&&t.distribute(u,n,r),!0;o+=u[i].size,i++}))return!0}),h(u,o)},u.prototype.drawDataLabels=function(){function e(t,e){var n,r=[];if(f(t)&&!f(e))r=t.map(function(t){return i(t,e)});else if(f(e)&&!f(t))r=e.map(function(e){return i(t,e)});else if(f(t)||f(e))for(n=Math.max(t.length,e.length);n--;)r[n]=i(t[n],e[n]);else r=i(t,e);return r}var r,a=this,l=a.chart,u=a.options,c=u.dataLabels,h=a.points,p=a.hasRendered||0,g=t.animObject(u.animation).duration,m=Math.min(g,200),v=!l.renderer.forExport&&s(c.defer,0<m),y=l.renderer;c=e(e(l.options.plotOptions&&l.options.plotOptions.series&&l.options.plotOptions.series.dataLabels,l.options.plotOptions&&l.options.plotOptions[a.type]&&l.options.plotOptions[a.type].dataLabels),c);t.fireEvent(this,"drawDataLabels"),(f(c)||c.enabled||a._hasPointLabels)&&(r=a.plotGroup("dataLabelsGroup","data-labels",v&&!p?"hidden":"inherit",c.zIndex||6),v&&(r.attr({opacity:+p}),p||setTimeout(function(){var t=a.dataLabelsGroup;t&&(a.visible&&r.show(!0),t[u.animation?"animate":"attr"]({opacity:1},{duration:m}))},g-m)),h.forEach(function(i){d(e(c,i.dlOptions||i.options&&i.options.dataLabels)).forEach(function(e,c){var h,f,d,p,g=e.enabled&&(!i.isNull||i.dataLabelOnNull)&&function(t,e){var n=e.filter;return!n||(e=n.operator,t=t[n.property],n=n.value,">"===e&&t>n||"<"===e&&t<n||">="===e&&t>=n||"<="===e&&t<=n||"=="===e&&t==n||"==="===e&&t===n)}(i,e),m=i.dataLabels?i.dataLabels[c]:i.dataLabel,v=i.connectors?i.connectors[c]:i.connector,b=!m;g&&(h=i.getLabelConfig(),f=s(e[i.formatPrefix+"Format"],e.format),h=n(f)?o(f,h,l.time):(e[i.formatPrefix+"Formatter"]||e.formatter).call(h,e),f=e.style,d=e.rotation,l.styledMode||(f.color=s(e.color,f.color,a.color,"#000000"),"contrast"===f.color&&(i.contrastColor=y.getContrast(i.color||a.color),f.color=e.inside||0>s(e.distance,i.labelDistance)||u.stacking?i.contrastColor:"#000000"),u.cursor&&(f.cursor=u.cursor)),p={r:e.borderRadius||0,rotation:d,padding:e.padding,zIndex:1},l.styledMode||(p.fill=e.backgroundColor,p.stroke=e.borderColor,p["stroke-width"]=e.borderWidth),t.objectEach(p,function(t,e){void 0===t&&delete p[e]})),!m||g&&n(h)?g&&n(h)&&(m?p.text=h:(i.dataLabels=i.dataLabels||[],m=i.dataLabels[c]=d?y.text(h,0,-9999).addClass("highcharts-data-label"):y.label(h,0,-9999,e.shape,null,null,e.useHTML,null,"data-label"),c||(i.dataLabel=m),m.addClass(" highcharts-data-label-color-"+i.colorIndex+" "+(e.className||"")+(e.useHTML?" highcharts-tracker":""))),m.options=e,m.attr(p),l.styledMode||m.css(f).shadow(e.shadow),m.added||m.add(r),e.textPath&&!e.useHTML&&m.setTextPath(i.getDataLabelPath&&i.getDataLabelPath(m)||i.graphic,e.textPath),a.alignDataLabel(i,m,e,null,b)):(i.dataLabel=i.dataLabel&&i.dataLabel.destroy(),i.dataLabels&&(1===i.dataLabels.length?delete i.dataLabels:delete i.dataLabels[c]),c||delete i.dataLabel,v&&(i.connector=i.connector.destroy(),i.connectors&&(1===i.connectors.length?delete i.connectors:delete i.connectors[c])))})})),t.fireEvent(this,"afterDrawDataLabels")},u.prototype.alignDataLabel=function(t,e,n,o,i){var a,l=this.chart,u=this.isCartesian&&l.inverted,c=s(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),h=s(t.plotY,-9999),f=e.getBBox(),d=n.rotation,p=n.align,g=this.visible&&(t.series.forceDL||l.isInsidePlot(c,Math.round(h),u)||o&&l.isInsidePlot(c,u?o.x+1:o.y+o.height-1,u)),m="justify"===s(n.overflow,"justify");g&&(a=l.renderer.fontMetrics(l.styledMode?void 0:n.style.fontSize,e).b,o=r({x:u?this.yAxis.len-h:c,y:Math.round(u?this.xAxis.len-c:h),width:0,height:0},o),r(n,{width:f.width,height:f.height}),d?(m=!1,c=l.renderer.rotCorr(a,d),c={x:o.x+n.x+o.width/2+c.x,y:o.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*o.height},e[i?"attr":"animate"](c).attr({align:p}),h=180<(h=(d+720)%360)&&360>h,"left"===p?c.y-=h?f.height:0:"center"===p?(c.x-=f.width/2,c.y-=f.height/2):"right"===p&&(c.x-=f.width,c.y-=h?0:f.height),e.placed=!0,e.alignAttr=c):(e.align(n,null,o),c=e.alignAttr),m&&0<=o.height?t.isLabelJustified=this.justifyDataLabel(e,n,c,f,o,i):s(n.crop,!0)&&(g=l.isInsidePlot(c.x,c.y)&&l.isInsidePlot(c.x+f.width,c.y+f.height)),n.shape&&!d)&&e[i?"attr":"animate"]({anchorX:u?l.plotWidth-t.plotY:t.plotX,anchorY:u?l.plotHeight-t.plotX:t.plotY}),g||(e.attr({y:-9999}),e.placed=!1)},u.prototype.justifyDataLabel=function(t,e,n,r,o,i){var a,s,l=this.chart,u=e.align,c=e.verticalAlign,h=t.box?0:t.padding||0;return 0>(a=n.x+h)&&("right"===u?e.align="left":e.x=-a,s=!0),(a=n.x+r.width-h)>l.plotWidth&&("left"===u?e.align="right":e.x=l.plotWidth-a,s=!0),0>(a=n.y+h)&&("bottom"===c?e.verticalAlign="top":e.y=-a,s=!0),(a=n.y+r.height-h)>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-a,s=!0),s&&(t.placed=!i,t.align(e,null,o)),s},c.pie&&(c.pie.prototype.dataLabelPositioners={radialDistributionY:function(t){return t.top+t.distributeBox.pos},radialDistributionX:function(t,e,n,r){return t.getX(n<e.top+2||n>e.bottom-2?r:n,e.half,e)},justify:function(t,e,n){return n[0]+(t.half?-1:1)*(e+t.labelDistance)},alignToPlotEdges:function(t,e,n,r){return t=t.getBBox().width,e?t+r:n-t-r},alignToConnectors:function(t,e,n,r){var o,i=0;return t.forEach(function(t){(o=t.dataLabel.getBBox().width)>i&&(i=o)}),e?i+r:n-i-r}},c.pie.prototype.drawDataLabels=function(){var r,o,a,l,c,h,f,d,p,g,m,v,y=this,b=y.data,w=y.chart,C=y.options.dataLabels,O=C.connectorPadding,S=w.plotWidth,E=w.plotHeight,k=w.plotLeft,T=Math.round(w.chartWidth/3),R=y.center,x=R[2]/2,M=R[1],A=[[],[]],N=[0,0,0,0],_=y.dataLabelPositioners;y.visible&&(C.enabled||y._hasPointLabels)&&(b.forEach(function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),u.prototype.drawDataLabels.apply(y),b.forEach(function(t){t.dataLabel&&(t.visible?(A[t.half].push(t),t.dataLabel._pos=null,!n(C.style.width)&&!n(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>T&&(t.dataLabel.css({width:.7*T}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))}),A.forEach(function(e,o){var i,a,u,v=e.length,b=[];if(v)for(y.sortByAngle(e,o-.5),0<y.maxLabelDistance&&(i=Math.max(0,M-x-y.maxLabelDistance),a=Math.min(M+x+y.maxLabelDistance,w.plotHeight),e.forEach(function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,M-x-t.labelDistance),t.bottom=Math.min(M+x+t.labelDistance,w.plotHeight),u=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPosition.natural.y-t.top+u/2,size:u,rank:t.y},b.push(t.distributeBox))}),i=a+u-i,t.distribute(b,i,i/5)),m=0;m<v;m++){if(r=e[m],h=r.labelPosition,l=r.dataLabel,g=!1===r.visible?"hidden":"inherit",p=i=h.natural.y,b&&n(r.distributeBox)&&(void 0===r.distributeBox.pos?g="hidden":(f=r.distributeBox.size,p=_.radialDistributionY(r))),delete r.positionIndex,C.justify)d=_.justify(r,x,R);else switch(C.alignTo){case"connectors":d=_.alignToConnectors(e,o,S,k);break;case"plotEdges":d=_.alignToPlotEdges(l,o,S,k);break;default:d=_.radialDistributionX(y,r,p,i)}l._attr={visibility:g,align:h.alignment},l._pos={x:d+C.x+({left:O,right:-O}[h.alignment]||0),y:p+C.y-10},h.final.x=d,h.final.y=p,s(C.crop,!0)&&(c=l.getBBox().width,i=null,d-c<O&&1===o?(i=Math.round(c-d+O),N[3]=Math.max(i,N[3])):d+c>S-O&&0===o&&(i=Math.round(d+c-S+O),N[1]=Math.max(i,N[1])),0>p-f/2?N[0]=Math.max(Math.round(f/2-p),N[0]):p+f/2>E&&(N[2]=Math.max(Math.round(p+f/2-E),N[2])),l.sideOverflow=i)}}),0===e(N)||this.verifyDataLabelOverflow(N))&&(this.placeDataLabels(),this.points.forEach(function(t){var e;(v=i(C,t.options.dataLabels),o=s(v.connectorWidth,1))&&(a=t.connector,(l=t.dataLabel)&&l._pos&&t.visible&&0<t.labelDistance?(g=l._attr.visibility,(e=!a)&&(t.connector=a=w.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(y.dataLabelsGroup),w.styledMode||a.attr({"stroke-width":o,stroke:v.connectorColor||t.color||"#666666"})),a[e?"attr":"animate"]({d:t.getConnectorPath()}),a.attr("visibility",g)):a&&(t.connector=a.destroy()))}))},c.pie.prototype.placeDataLabels=function(){this.points.forEach(function(t){var e,n=t.dataLabel;n&&t.visible&&((e=n._pos)?(n.sideOverflow&&(n._attr.width=Math.max(n.getBBox().width-n.sideOverflow,0),n.css({width:n._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),n.shortened=!0),n.attr(n._attr),n[n.moved?"animate":"attr"](e),n.moved=!0):n&&n.attr({y:-9999})),delete t.distributeBox},this)},c.pie.prototype.alignDataLabel=a,c.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,r=this.options,o=r.center,i=r.minSize||80,a=null!==r.size;return a||(null!==o[0]?e=Math.max(n[2]-Math.max(t[1],t[3]),i):(e=Math.max(n[2]-t[1]-t[3],i),n[0]+=(t[3]-t[1])/2),null!==o[1]?e=Math.max(Math.min(e,n[2]-Math.max(t[0],t[2])),i):(e=Math.max(Math.min(e,n[2]-t[0]-t[2]),i),n[1]+=(t[0]-t[2])/2),e<n[2]?(n[2]=e,n[3]=Math.min(l(r.innerSize||0,e),e),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):a=!0),a}),c.column&&(c.column.prototype.alignDataLabel=function(t,e,n,r,o){var a=this.chart.inverted,l=t.series,c=t.dlBox||t.shapeArgs,h=s(t.below,t.plotY>s(this.translatedThreshold,l.yAxis.len)),f=s(n.inside,!!this.options.stacking);c&&(0>(r=i(c)).y&&(r.height+=r.y,r.y=0),0<(c=r.y+r.height-l.yAxis.len)&&(r.height-=c),a&&(r={x:l.yAxis.len-r.y-r.height,y:l.xAxis.len-r.x-r.width,width:r.height,height:r.width}),f||(a?(r.x+=h?0:r.width,r.width=0):(r.y+=h?r.height:0,r.height=0))),n.align=s(n.align,!a||f?"center":h?"right":"left"),n.verticalAlign=s(n.verticalAlign,a||f?"middle":h?"top":"bottom"),u.prototype.alignDataLabel.call(this,t,e,n,r,o),t.isLabelJustified&&t.contrastColor&&e.css({color:t.contrastColor})})}),e(n,"modules/overlapping-datalabels.src.js",[n["parts/Globals.js"]],function(t){var e=t.Chart,n=t.isArray,r=t.objectEach,o=t.pick,i=t.addEvent,a=t.fireEvent;i(e,"render",function(){var t=[];(this.labelCollectors||[]).forEach(function(e){t=t.concat(e())}),(this.yAxis||[]).forEach(function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&r(e.stacks,function(e){r(e,function(e){t.push(e.label)})})}),(this.series||[]).forEach(function(e){var r=e.options.dataLabels;e.visible&&(!1!==r.enabled||e._hasPointLabels)&&e.points.forEach(function(e){e.visible&&(n(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[]).forEach(function(n){var r=n.options;n.labelrank=o(r.labelrank,e.labelrank,e.shapeArgs&&e.shapeArgs.height),r.allowOverlap||t.push(n)})})}),this.hideOverlappingLabels(t)}),e.prototype.hideOverlappingLabels=function(t){var e,n,r,o,i,s,l=this,u=t.length,c=l.renderer,h=function(t,e,n,r,o,i,a,s){return!(o>t+n||o+a<t||i>e+r||i+s<e)};for(r=function(t){var e,n,r,o=t.box?0:t.padding||0;if(r=0,t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},n=t.parentGroup,t.width||(r=t.getBBox(),t.width=r.width,t.height=r.height,r=c.fontMetrics(null,t.element).h),{x:e.x+(n.translateX||0)+o,y:e.y+(n.translateY||0)+o-r,width:t.width-2*o,height:t.height-2*o}},n=0;n<u;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=r(e));for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;n<u;n++)for(s=(r=t[n])&&r.absoluteBox,e=n+1;e<u;++e)i=(o=t[e])&&o.absoluteBox,s&&i&&r!==o&&0!==r.newOpacity&&0!==o.newOpacity&&(i=h(s.x,s.y,s.width,s.height,i.x,i.y,i.width,i.height))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);t.forEach(function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&(t.alignAttr&&t.placed?(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e),a(l,"afterHideOverlappingLabels")):t.attr({opacity:n})),t.isOld=!0)})}}),e(n,"parts/Interaction.js",[n["parts/Globals.js"]],function(t){var e,n=t.addEvent,r=t.Chart,o=t.createElement,i=t.css,a=t.defaultOptions,s=t.defaultPlotOptions,l=t.extend,u=t.fireEvent,c=t.hasTouch,h=t.isObject,f=t.isArray,d=t.Legend,p=t.merge,g=t.pick,m=t.Point,v=t.Series,y=t.seriesTypes,b=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t,e=this,n=e.chart,r=n.pointer,o=function(t){var e=r.getPointFromEvent(t);void 0!==e&&(r.isDirectTouch=!0,e.onMouseOver(t))};e.points.forEach(function(e){t=f(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[],e.graphic&&(e.graphic.element.point=e),t.forEach(function(t){t.div?t.div.point=e:t.element.point=e})}),e._hasTracking||(e.trackerGroups.forEach(function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(t){r.onTrackerMouseOut(t)}),c&&e[t].on("touchstart",o),!n.styledMode&&e.options.cursor&&e[t].css(i).css({cursor:e.options.cursor}))}),e._hasTracking=!0),u(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,n=e.options,r=n.trackByArea,o=[].concat(r?e.areaPath:e.graphPath),i=o.length,a=e.chart,s=a.pointer,l=a.renderer,h=a.options.tooltip.snap,f=e.tracker,d=function(){a.hoverSeries!==e&&e.onMouseOver()},p="rgba(192,192,192,"+(b?1e-4:.002)+")";if(i&&!r)for(t=i+1;t--;)"M"===o[t]&&o.splice(t+1,0,o[t+1]-h,o[t+2],"L"),(t&&"M"===o[t]||t===i)&&o.splice(t,0,"L",o[t-2]+h,o[t-1]);f?f.attr({d:o}):e.graph&&(e.tracker=l.path(o).attr({visibility:e.visible?"visible":"hidden",zIndex:2}).addClass(r?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),a.styledMode||e.tracker.attr({"stroke-linejoin":"round",stroke:p,fill:r?p:"none","stroke-width":e.graph.strokeWidth()+(r?0:2*h)}),[e.tracker,e.markerGroup].forEach(function(t){t.addClass("highcharts-tracker").on("mouseover",d).on("mouseout",function(t){s.onTrackerMouseOut(t)}),n.cursor&&!a.styledMode&&t.css({cursor:n.cursor}),c&&t.on("touchstart",d)})),u(this,"afterDrawTracker")}},y.column&&(y.column.prototype.drawTracker=e.drawTrackerPoint),y.pie&&(y.pie.prototype.drawTracker=e.drawTrackerPoint),y.scatter&&(y.scatter.prototype.drawTracker=e.drawTrackerPoint),l(d.prototype,{setItemEvents:function(t,e,n){var r=this,o=r.chart.renderer.boxWrapper,i=t instanceof m,a="highcharts-legend-"+(i?"point":"series")+"-active",s=r.chart.styledMode;(n?e:t.legendGroup).on("mouseover",function(){r.allItems.forEach(function(e){t!==e&&e.setState("inactive",!i)}),t.setState("hover"),t.visible&&o.addClass(a),s||e.css(r.options.itemHoverStyle)}).on("mouseout",function(){r.styledMode||e.css(p(t.visible?r.itemStyle:r.itemHiddenStyle)),r.allItems.forEach(function(e){t!==e&&e.setState("",!i)}),o.removeClass(a),t.setState()}).on("click",function(e){var n=function(){t.setVisible&&t.setVisible()};o.removeClass(a),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,n):u(t,"legendItemClick",e,n)})},createCheckboxForItem:function(t){t.checkbox=o("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),n(t.checkbox,"click",function(e){u(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),l(r.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,n=a.lang,r=e.options.chart.resetZoomButton,o=r.theme,i=o.states,s="chart"===r.relativeTo||"spaceBox"===r.relativeTo?null:"plotBox";u(this,"beforeShowResetZoom",null,function(){e.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,o,i&&i.hover).attr({align:r.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(r.position,!1,s)}),u(this,"afterShowResetZoom")},zoomOut:function(){u(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(e){var n,r,o=this,i=o.pointer,a=!1,s=o.inverted?i.mouseDownX:i.mouseDownY;!e||e.resetSelection?(o.axes.forEach(function(t){n=t.zoom()}),i.initiated=!1):e.xAxis.concat(e.yAxis).forEach(function(e){var r=e.axis,l=o.inverted?r.left:r.top,u=o.inverted?l+r.width:l+r.height,c=r.isXAxis,h=!1;(!c&&s>=l&&s<=u||c||!t.defined(s))&&(h=!0),i[c?"zoomX":"zoomY"]&&h&&(n=r.zoom(e.min,e.max),r.displayBtn&&(a=!0))}),r=o.resetZoomButton,a&&!r?o.showResetZoom():!a&&h(r)&&(o.resetZoomButton=r.destroy()),n&&o.redraw(g(o.options.chart.animation,e&&e.animation,100>o.pointCount))},pan:function(t,e){var n,r=this,o=r.hoverPoints;u(this,"pan",{originalEvent:t},function(){o&&o.forEach(function(t){t.setState()}),("xy"===e?[1,0]:[1]).forEach(function(e){var o,i=(e=r[e?"xAxis":"yAxis"][0]).horiz,a=t[i?"chartX":"chartY"],s=r[i=i?"mouseDownX":"mouseDownY"],l=(e.pointRange||0)/2,u=e.reversed&&!r.inverted||!e.reversed&&r.inverted?-1:1,c=e.getExtremes(),h=e.toValue(s-a,!0)+l*u;s=(o=(u=e.toValue(s+e.len-a,!0)-l*u)<h)?u:h,h=o?h:u;0<(o=(u=Math.min(c.dataMin,l?c.min:e.toValue(e.toPixels(c.min)-e.minPixelPadding)))-s)&&(h+=o,s=u),0<(o=h-(l=Math.max(c.dataMax,l?c.max:e.toValue(e.toPixels(c.max)+e.minPixelPadding))))&&(h=l,s-=o),e.series.length&&s!==c.min&&h!==c.max&&(e.setExtremes(s,h,!1,!1,{trigger:"pan"}),n=!0),r[i]=a}),n&&r.redraw(!1),i(r.container,{cursor:"move"})})}}),l(m.prototype,{select:function(t,e){var n=this,r=n.series,o=r.chart;t=g(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,r.options.data[r.data.indexOf(n)]=n.options,n.setState(t&&"select"),e||o.getSelectedPoints().forEach(function(t){var e=t.series;t.selected&&t!==n&&(t.selected=t.options.selected=!1,e.options.data[e.data.indexOf(t)]=t.options,t.setState(o.hoverPoints&&e.options.inactiveOtherPoints?"inactive":""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series.chart,n=e.pointer;t=t?n.normalize(t):n.getChartCoordinatesFromPoint(this,e.inverted),n.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach(function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,r=p(e.series.options.point,e.options).events;e.events=r,t.objectEach(r,function(r,o){t.isFunction(r)&&n(e,o,r)}),this.hasImportedEvents=!0}},setState:function(t,e){var n,r,o,i=Math.floor(this.plotX),a=this.plotY,c=this.series,h=this.state,f=c.options.states[t||"normal"]||{},d=s[c.type].marker&&c.options.marker,p=d&&!1===d.enabled,m=d&&d.states&&d.states[t||"normal"]||{},v=!1===m.enabled,y=c.stateMarkerGraphic,b=this.marker||{},w=c.chart,C=c.halo,O=d&&c.markerAttribs;(t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===f.enabled||t&&(v||p&&!1===m.enabled)||t&&b.states&&b.states[t]&&!1===b.states[t].enabled||(this.state=t,O&&(n=c.markerAttribs(this,t)),this.graphic?(h&&this.graphic.removeClass("highcharts-point-"+h),t&&this.graphic.addClass("highcharts-point-"+t),w.styledMode||(r=c.pointAttribs(this,t),o=g(w.options.chart.animation,f.animation),c.options.inactiveOtherPoints&&((this.dataLabels||[]).forEach(function(t){t&&t.animate({opacity:r.opacity},o)}),this.connector&&this.connector.animate({opacity:r.opacity},o)),this.graphic.animate(r,o)),n&&this.graphic.animate(n,g(w.options.chart.animation,m.animation,d.animation)),y&&y.hide()):(t&&m&&(h=b.symbol||c.symbol,y&&y.currentSymbol!==h&&(y=y.destroy()),y?y[e?"animate":"attr"]({x:n.x,y:n.y}):h&&(c.stateMarkerGraphic=y=w.renderer.symbol(h,n.x,n.y,n.width,n.height).add(c.markerGroup),y.currentSymbol=h),!w.styledMode&&y&&y.attr(c.pointAttribs(this,t))),y&&(y[t&&w.isInsidePlot(i,a,w.inverted)?"show":"hide"](),y.element.point=this)),(t=f.halo)&&t.size?(C||(c.halo=C=w.renderer.path().add((this.graphic||y).parentGroup)),C.show()[e?"animate":"attr"]({d:this.haloPath(t.size)}),C.attr({class:"highcharts-halo highcharts-color-"+g(this.colorIndex,c.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),C.point=this,w.styledMode||C.attr(l({fill:this.color||c.color,"fill-opacity":t.opacity},t.attributes))):C&&C.point&&C.point.haloPath&&C.animate({d:C.point.haloPath(0)},null,C.hide),u(this,"afterSetState"))},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),l(v.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&u(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,r=e.hoverPoint;e.hoverSeries=null,r&&r.onMouseOut(),this&&t.events.mouseOut&&u(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),e.series.forEach(function(t){t.setState("",!0)})},setState:function(t,e){var n=this,r=n.options,o=n.graph,i=r.inactiveOtherPoints,a=r.states,s=r.lineWidth,l=r.opacity,u=g(a[t||"normal"]&&a[t||"normal"].animation,n.chart.options.chart.animation);r=0;if(t=t||"",n.state!==t&&([n.group,n.markerGroup,n.dataLabelsGroup].forEach(function(e){e&&(n.state&&e.removeClass("highcharts-series-"+n.state),t&&e.addClass("highcharts-series-"+t))}),n.state=t,!n.chart.styledMode)){if(a[t]&&!1===a[t].enabled)return;if(t&&(s=a[t].lineWidth||s+(a[t].lineWidthPlus||0),l=g(a[t].opacity,l)),o&&!o.dashstyle)for(a={"stroke-width":s},o.animate(a,u);n["zone-graph-"+r];)n["zone-graph-"+r].attr(a),r+=1;i||[n.group,n.markerGroup,n.dataLabelsGroup,n.labelBySeries].forEach(function(t){t&&t.animate({opacity:l},u)})}e&&i&&n.points&&n.points.forEach(function(e){e.setState&&e.setState(t)})},setVisible:function(t,e){var n,r=this,o=r.chart,i=r.legendItem,a=o.options.chart.ignoreHiddenSeries,s=r.visible;n=(r.visible=t=r.options.visible=r.userOptions.visible=void 0===t?!s:t)?"show":"hide",["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(t){r[t]&&r[t][n]()}),o.hoverSeries!==r&&(o.hoverPoint&&o.hoverPoint.series)!==r||r.onMouseOut(),i&&o.legend.colorizeItem(r,t),r.isDirty=!0,r.options.stacking&&o.series.forEach(function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),r.linkedSeries.forEach(function(e){e.setVisible(t,!1)}),a&&(o.isDirtyBox=!0),u(r,n),!1!==e&&o.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=this.options.selected=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),u(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}),e(n,"parts/Responsive.js",[n["parts/Globals.js"]],function(t){var e=t.Chart,n=t.isArray,r=t.isObject,o=t.pick,i=t.splat;e.prototype.setResponsive=function(e,n){var r=this.options.responsive,o=[],i=this.currentResponsive;!n&&r&&r.rules&&r.rules.forEach(function(n){void 0===n._id&&(n._id=t.uniqueKey()),this.matchResponsiveRule(n,o,e)},this),(n=t.merge.apply(0,o.map(function(e){return t.find(r.rules,function(t){return t._id===e}).chartOptions}))).isResponsiveOptions=!0,(o=o.toString()||void 0)!==(i&&i.ruleIds)&&(i&&this.update(i.undoOptions,e,!0),o?((i=this.currentOptions(n)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:o,mergedOptions:n,undoOptions:i},this.update(n,e,!0)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var n=t.condition;(n.callback||function(){return this.chartWidth<=o(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=o(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=o(n.minWidth,0)&&this.chartHeight>=o(n.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){var a=this,s={};return function e(s,l,u,c){var h;t.objectEach(s,function(t,s){if(!c&&-1<a.collectionsWithUpdate.indexOf(s))for(t=i(t),u[s]=[],h=0;h<t.length;h++)l[s][h]&&(u[s][h]={},e(t[h],l[s][h],u[s][h],c+1));else r(t)?(u[s]=n(t)?[]:{},e(t,l[s]||{},u[s],c+1)):u[s]=o(l[s],null)})}(e,this.options,s,0),s}}),e(n,"masters/highcharts.src.js",[n["parts/Globals.js"]],function(t){return t}),n["masters/highcharts.src.js"]._modules=n,n["masters/highcharts.src.js"]},t.exports?(i.default=i,t.exports=o.document?i(o):i):void 0===(r=function(){return i(o)}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r=n(1),o=n(68),i=n(53);n(79),n(80);var a=Object(i.a)("phraseFormatters"),s=a.register,l=a.getValues;s("pluralize",function(t,e){return Array.isArray(t)&&Number.isInteger(e)?t[e]:t});var u=n(13);function c(t,e,n){var i=Object(o.b)(t);if(null===i)return null;var a=i[e];if(Object(u.isUndefined)(a))return null;var s=function(t,e){var n=t;return Object(r.arrayEach)(l(),function(r){n=r(t,e)}),n}(a,n);return Array.isArray(s)?s[0]:s}n.d(e,"a",function(){return c})},function(t,e,n){var r,o=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=Error;!function(t){var e=function(t){if(l(t)){for(var e=new Array(t.length),n=0;n<e.length;n++)e[n]=""+n;return e}if(Object.keys)return Object.keys(t);e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e};var n={add:function(t,e){return t[e]=this.value,!0},remove:function(t,e){return delete t[e],!0},replace:function(t,e){return t[e]=this.value,!0},move:function(t,e,n){var r={op:"_get",path:this.from};return m(n,[r]),m(n,[{op:"remove",path:this.from}]),m(n,[{op:"add",path:this.path,value:r.value}]),!0},copy:function(t,e,n){var r={op:"_get",path:this.from};return m(n,[r]),m(n,[{op:"add",path:this.path,value:r.value}]),!0},test:function(t,n){return function t(n,r){switch(typeof n){case"undefined":case"boolean":case"string":case"number":return n===r;case"object":if(null===n)return null===r;if(l(n)){if(!l(r)||n.length!==r.length)return!1;for(var o=0,i=n.length;o<i;o++)if(!t(n[o],r[o]))return!1;return!0}var a=e(r).length;if(e(n).length!==a)return!1;for(o=0;o<a;o++)if(!t(n[o],r[o]))return!1;return!0;default:return!1}}(t[n],this.value)},_get:function(t,e){this.value=t[e]}},r={add:function(t,e){return t.splice(e,0,this.value),!0},remove:function(t,e){return t.splice(e,1),!0},replace:function(t,e){return t[e]=this.value,!0},move:n.move,copy:n.copy,test:n.test,_get:n._get},a={add:function(t){for(var e in a.remove.call(this,t),this.value)this.value.hasOwnProperty(e)&&(t[e]=this.value[e]);return!0},remove:function(t){for(var e in t)t.hasOwnProperty(e)&&n.remove.call(this,t,e);return!0},replace:function(t){return m(t,[{op:"remove",path:this.path}]),m(t,[{op:"add",path:this.path,value:this.value}]),!0},move:n.move,copy:n.copy,test:function(t){return JSON.stringify(t)===JSON.stringify(this.value)},_get:function(t){this.value=t}};function s(t){return-1===t.indexOf("/")&&-1===t.indexOf("~")?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}var l,u=[],c=function(){return function(t){this.observers=[],this.obj=t}}(),h=function(){return function(t,e){this.callback=t,this.observer=e}}();function f(t){return"object"===typeof t?JSON.parse(JSON.stringify(t)):t}function d(t){for(var e,n=0,r=u.length;n<r;n++)if(u[n].obj===t.object){e=u[n];break}p(e.value,t.object,t.patches,""),t.patches.length&&m(e.value,t.patches);var o=t.patches;return o.length>0&&(t.patches=[],t.callback&&t.callback(o)),o}function p(t,n,r,o){for(var i=e(n),a=e(t),l=!1,u=a.length-1;u>=0;u--){var c=t[d=a[u]];if(n.hasOwnProperty(d)){var h=n[d];"object"==typeof c&&null!=c&&"object"==typeof h&&null!=h?p(c,h,r,o+"/"+s(d)):c!=h&&(!0,r.push({op:"replace",path:o+"/"+s(d),value:f(h)}))}else r.push({op:"remove",path:o+"/"+s(d)}),l=!0}if(l||i.length!=a.length)for(u=0;u<i.length;u++){var d=i[u];t.hasOwnProperty(d)||r.push({op:"add",path:o+"/"+s(d),value:f(n[d])})}}function g(t){for(var e,n=0,r=t.length;n<r;){if(!((e=t.charCodeAt(n))>=48&&e<=57))return!1;n++}return!0}function m(t,e,o){for(var i,s,u=!1,c=0,h=e.length;c<h;){i=e[c],c++;for(var f=(i.path||"").split("/"),d=t,p=1,m=f.length,y=void 0;;){if(s=f[p],o&&void 0===y&&(void 0===d[s]?y=f.slice(0,p).join("/"):p==m-1&&(y=i.path),void 0!==y&&this.validator(i,c-1,t,y)),p++,void 0===s&&p>=m){u=a[i.op].call(i,d,s,t);break}if(l(d)){if("-"===s)s=d.length;else{if(o&&!g(s))throw new v("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",c-1,i.path,i);s=parseInt(s,10)}if(p>=m){if(o&&"add"===i.op&&s>d.length)throw new v("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",c-1,i.path,i);u=r[i.op].call(i,d,s,t);break}}else if(s&&-1!=s.indexOf("~")&&(s=s.replace(/~1/g,"/").replace(/~0/g,"~")),p>=m){u=n[i.op].call(i,d,s,t);break}d=d[s]}}return u}t.unobserve=function(t,e){e.unobserve()},t.observe=function(t,e){var n,r=function(t){for(var e=0,n=u.length;e<n;e++)if(u[e].obj===t)return u[e]}(t);if(r?n=function(t,e){for(var n=0,r=t.observers.length;n<r;n++)if(t.observers[n].callback===e)return t.observers[n].observer}(r,e):(r=new c(t),u.push(r)),n)return n;if(n={},r.value=f(t),e){n.callback=e,n.next=null;var o=this.intervals||[100,1e3,1e4,6e4];if(void 0===o.push)throw new i("jsonpatch.intervals must be an array");var a=0,s=function(){d(n)},l=function(){clearTimeout(n.next),n.next=setTimeout(function(){s(),a=0,n.next=setTimeout(p,o[a++])},0)},p=function t(){s(),a==o.length&&(a=o.length-1),n.next=setTimeout(t,o[a++])};"undefined"!==typeof window&&(window.addEventListener?(window.addEventListener("mousedown",l),window.addEventListener("mouseup",l),window.addEventListener("keydown",l)):(document.documentElement.attachEvent("onmousedown",l),document.documentElement.attachEvent("onmouseup",l),document.documentElement.attachEvent("onkeydown",l))),n.next=setTimeout(p,o[a++])}return n.patches=[],n.object=t,n.unobserve=function(){d(n),clearTimeout(n.next),function(t,e){for(var n=0,r=t.observers.length;n<r;n++)if(t.observers[n].observer===e)return void t.observers.splice(n,1)}(r,n),0===r.observers.length&&u.splice(u.indexOf(r),1),"undefined"!==typeof window&&(window.removeEventListener?(window.removeEventListener("mousedown",l),window.removeEventListener("mouseup",l),window.removeEventListener("keydown",l)):(document.documentElement.detachEvent("onmousedown",l),document.documentElement.detachEvent("onmouseup",l),document.documentElement.detachEvent("onkeydown",l)))},r.observers.push(new h(e,n)),n},t.generate=d,l=Array.isArray?Array.isArray:function(t){return t.push&&"number"===typeof t.length},t.apply=m,t.compare=function(t,e){var n=[];return p(t,e,n,""),n};var v=function(t){function e(e,n,r,o,i){t.call(this,e),this.message=e,this.name=n,this.index=r,this.operation=o,this.tree=i}return o(e,t),e}(i);t.JsonPatchError=v,t.Error=v,t.validator=function(e,r,o,i){if("object"!==typeof e||null===e||l(e))throw new v("Operation is not an object","OPERATION_NOT_AN_OBJECT",r,e,o);if(!n[e.op])throw new v("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",r,e,o);if("string"!==typeof e.path)throw new v("Operation `path` property is not a string","OPERATION_PATH_INVALID",r,e,o);if(("move"===e.op||"copy"===e.op)&&"string"!==typeof e.from)throw new v("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",r,e,o);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new v("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",r,e,o);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&function t(e){if(void 0===e)return!0;if("array"==typeof e||"object"==typeof e)for(var n in e)if(t(e[n]))return!0;return!1}(e.value))throw new v("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",r,e,o);if(o)if("add"==e.op){var a=e.path.split("/").length,s=i.split("/").length;if(a!==s+1&&a!==s)throw new v("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",r,e,o)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==i)throw new v("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",r,e,o)}else if("move"===e.op||"copy"===e.op){var u={op:"_get",path:e.from,value:void 0},c=t.validate([u],o);if(c&&"OPERATION_PATH_UNRESOLVABLE"===c.name)throw new v("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",r,e,o)}},t.validate=function(t,e){try{if(!l(t))throw new v("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)e=JSON.parse(JSON.stringify(e)),m.call(this,e,t,!0);else for(var n=0;n<t.length;n++)this.validator(t[n],n)}catch(r){if(r instanceof v)return r;throw r}}}(r||(r={})),e.apply=r.apply,e.observe=r.observe,e.unobserve=r.unobserve,e.generate=r.generate,e.compare=r.compare,e.validate=r.validate,e.validator=r.validator,e.JsonPatchError=r.JsonPatchError,e.Error=r.Error},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(69),o=n(56),i=n(110);t.exports=function(t){return function(e,n,a){var s,l=r(e),u=o(l.length),c=i(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(49),o=n(44).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(44),o=n(66);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){"use strict";var r=n(28),o=n(216),i=n(116),a=n(140),s=n(117),l=n(66),u=n(70),c=n(111),h=n(45)("iterator"),f=n(103),d=n(167),p=d.IteratorPrototype,g=d.BUGGY_SAFARI_ITERATORS,m=function(){return this};t.exports=function(t,e,n,d,v,y,b){o(n,e,d);var w,C,O,S=function(t){if(t===v&&x)return x;if(!g&&t in T)return T[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},E=e+" Iterator",k=!1,T=t.prototype,R=T[h]||T["@@iterator"]||v&&T[v],x=!g&&R||S(v),M="Array"==e&&T.entries||R;if(M&&(w=i(M.call(new t)),p!==Object.prototype&&w.next&&(c||i(w)===p||(a?a(w,p):"function"!=typeof w[h]&&l(w,h,m)),s(w,E,!0,!0),c&&(f[E]=m))),"values"==v&&R&&"values"!==R.name&&(k=!0,x=function(){return R.call(this)}),c&&!b||T[h]===x||l(T,h,x),f[e]=x,v)if(C={values:S("values"),keys:y?x:S("keys"),entries:S("entries")},b)for(O in C)!g&&!k&&O in T||u(T,O,C[O]);else r({target:e,proto:!0,forced:g||k},C);return C}},function(t,e,n){var r=n(217);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(o){}return function(n,o){return r(n,o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){var r=n(85),o=n(63);t.exports=function(t,e,n){var i,a,s=String(o(t)),l=r(e),u=s.length;return l<0||l>=u?n?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?n?s.charAt(l):i:n?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}},function(t,e,n){var r=n(70);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(52),o=n(172),i=n(56),a=n(105),s=n(173),l=n(174),u={};(t.exports=function(t,e,n,c,h){var f,d,p,g,m,v=a(e,n,c?2:1);if(h)f=t;else{if("function"!=typeof(d=s(t)))throw TypeError("Target is not iterable");if(o(d)){for(p=0,g=i(t.length);g>p;p++)if((c?v(r(m=t[p])[0],m[1]):v(t[p]))===u)return u;return}f=d.call(t)}for(;!(m=f.next()).done;)if(l(f,v,m.value,c)===u)return u}).BREAK=u},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(49),o=n(118),i=n(45)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(49),o=n(140);t.exports=function(t,e,n){var i,a=e.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(t,i),t}},function(t,e,n){"use strict";var r=n(52);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(49),o=n(78),i=n(45)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){"use strict";var r=n(141);t.exports=function(t,e,n){return e+(n?r(t,e,!0).length:1)}},function(t,e,n){"use strict";var r=n(148),o=RegExp.prototype.exec,i=String.prototype.replace,a=o,s=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=void 0!==/()??/.exec("")[1];(s||l)&&(a=function(t){var e,n,a,u,c=this;return l&&(n=new RegExp("^"+c.source+"$(?!\\s)",r.call(c))),s&&(e=c.lastIndex),a=o.call(c,t),s&&a&&(c.lastIndex=c.global?a.index+a[0].length:e),l&&a&&a.length>1&&i.call(a[0],n,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(a[u]=void 0)}),a}),t.exports=a},function(t,e,n){var r=n(149),o=n(63);t.exports=function(t,e,n){if(r(e))throw TypeError("String.prototype."+n+" doesn't accept regex");return String(o(t))}},function(t,e,n){var r=n(45)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(o){}}return!1}},function(t,e,n){"use strict";var r=n(92)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n(28)({target:"Array",proto:!0,forced:o},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(101)("find")},function(t,e,n){"use strict";var r=n(92)(1),o=n(106)("map");n(28)({target:"Array",proto:!0,forced:!o},{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){!function(e,r){"use strict";var o;try{o=n(27)}catch(i){}t.exports=function(t){var e="function"===typeof t,n=!!window.addEventListener,r=window.document,o=window.setTimeout,i=function(t,e,r,o){n?t.addEventListener(e,r,!!o):t.attachEvent("on"+e,r)},a=function(t,e,r,o){n?t.removeEventListener(e,r,!!o):t.detachEvent("on"+e,r)},s=function(t,e,n){var o;r.createEvent?((o=r.createEvent("HTMLEvents")).initEvent(e,!0,!1),o=m(o,n),t.dispatchEvent(o)):r.createEventObject&&(o=r.createEventObject(),o=m(o,n),t.fireEvent("on"+e,o))},l=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},u=function(t){return/Array/.test(Object.prototype.toString.call(t))},c=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},h=function(t){var e=t.getDay();return 0===e||6===e},f=function(t){return t%4===0&&t%100!==0||t%400===0},d=function(t,e){return[31,f(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},p=function(t){c(t)&&t.setHours(0,0,0,0)},g=function(t,e){return t.getTime()===e.getTime()},m=function t(e,n,r){var o,i;for(o in n)(i=void 0!==e[o])&&"object"===typeof n[o]&&null!==n[o]&&void 0===n[o].nodeName?c(n[o])?r&&(e[o]=new Date(n[o].getTime())):u(n[o])?r&&(e[o]=n[o].slice(0)):e[o]=t({},n[o],r):!r&&i||(e[o]=n[o]);return e},v=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},y={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},b=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},w=function(t){var e=[],n="false";if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},C=function(t,e,n){var r=new Date(n,0,1),o=Math.ceil(((new Date(n,e,t)-r)/864e5+r.getDay()+1)/7);return'<td class="pika-week">'+o+"</td>"},O=function(t,e){return"<tr>"+(e?t.reverse():t).join("")+"</tr>"},S=function(t,e,n,r,o,i){var a,s,l,c,h,f=t._o,d=n===f.minYear,p=n===f.maxYear,g='<div id="'+i+'" class="pika-title" role="heading" aria-live="assertive">',m=!0,v=!0;for(l=[],a=0;a<12;a++)l.push('<option value="'+(n===o?a-e:12+a-e)+'"'+(a===r?' selected="selected"':"")+(d&&a<f.minMonth||p&&a>f.maxMonth?'disabled="disabled"':"")+">"+f.i18n.months[a]+"</option>");for(c='<div class="pika-label">'+f.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",u(f.yearRange)?(a=f.yearRange[0],s=f.yearRange[1]+1):(a=n-f.yearRange,s=1+n+f.yearRange),l=[];a<s&&a<=f.maxYear;a++)a>=f.minYear&&l.push('<option value="'+a+'"'+(a===n?' selected="selected"':"")+">"+a+"</option>");return h='<div class="pika-label">'+n+f.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",f.showMonthAfterYear?g+=h+c:g+=c+h,d&&(0===r||f.minMonth>=r)&&(m=!1),p&&(11===r||f.maxMonth<=r)&&(v=!1),0===e&&(g+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+f.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(g+='<button class="pika-next'+(v?"":" is-disabled")+'" type="button">'+f.i18n.nextMonth+"</button>"),g+="</div>"},E=function(a){var s=this,u=s.config(a);s._onMouseDown=function(t){if(s._v){var e=(t=t||window.event).target||t.srcElement;if(e)if(l(e,"is-disabled")||(!l(e,"pika-button")||l(e,"is-empty")||l(e.parentNode,"is-disabled")?l(e,"pika-prev")?s.prevMonth():l(e,"pika-next")&&s.nextMonth():(s.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),u.bound&&o(function(){s.hide(),u.field&&u.field.blur()},100))),l(e,"pika-select"))s._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}},s._onChange=function(t){var e=(t=t||window.event).target||t.srcElement;e&&(l(e,"pika-select-month")?s.gotoMonth(e.value):l(e,"pika-select-year")&&s.gotoYear(e.value))},s._onKeyChange=function(t){if(t=t||window.event,s.isVisible())switch(t.keyCode){case 13:case 27:u.field.blur();break;case 37:t.preventDefault(),s.adjustDate("subtract",1);break;case 38:s.adjustDate("subtract",7);break;case 39:s.adjustDate("add",1);break;case 40:s.adjustDate("add",7)}},s._onInputChange=function(n){var r;n.firedBy!==s&&(r=e?(r=t(u.field.value,u.format,u.formatStrict))&&r.isValid()?r.toDate():null:new Date(Date.parse(u.field.value)),c(r)&&s.setDate(r),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){var t=r.activeElement;do{if(l(t,"pika-single"))return}while(t=t.parentNode);s._c||(s._b=o(function(){s.hide()},50)),s._c=!1},s._onClick=function(t){var e=(t=t||window.event).target||t.srcElement,r=e;if(e){!n&&l(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),i(e,"change",s._onChange)));do{if(l(r,"pika-single")||r===u.trigger)return}while(r=r.parentNode);s._v&&e!==u.trigger&&r!==u.trigger&&s.hide()}},s.el=r.createElement("div"),s.el.className="pika-single"+(u.isRTL?" is-rtl":"")+(u.theme?" "+u.theme:""),i(s.el,"mousedown",s._onMouseDown,!0),i(s.el,"touchend",s._onMouseDown,!0),i(s.el,"change",s._onChange),i(r,"keydown",s._onKeyChange),u.field&&(u.container?u.container.appendChild(s.el):u.bound?r.body.appendChild(s.el):u.field.parentNode.insertBefore(s.el,u.field.nextSibling),i(u.field,"change",s._onInputChange),u.defaultDate||(e&&u.field.value?u.defaultDate=t(u.field.value,u.format).toDate():u.defaultDate=new Date(Date.parse(u.field.value)),u.setDefaultDate=!0));var h=u.defaultDate;c(h)?u.setDefaultDate?s.setDate(h,!0):s.gotoDate(h):s.gotoDate(new Date),u.bound?(this.hide(),s.el.className+=" is-bound",i(u.trigger,"click",s._onInputClick),i(u.trigger,"focus",s._onInputFocus),i(u.trigger,"blur",s._onInputBlur)):this.show()};return E.prototype={config:function(t){this._o||(this._o=m({},y,!0));var e=m(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme="string"===typeof e.theme&&e.theme?e.theme:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"===typeof e.disableDayFn?e.disableDayFn:null;var n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,c(e.minDate)||(e.minDate=!1),c(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),u(e.yearRange)){var r=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||r,e.yearRange[1]=parseInt(e.yearRange[1],10)||r}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||y.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(n){return c(this._d)?e?t(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(n,r){e&&t.isMoment(n)&&this.setDate(n.toDate(),r)},getDate:function(){return c(this._d)?new Date(this._d.getTime()):new Date},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",s(this._o.field,"change",{firedBy:this})),this.draw();if("string"===typeof t&&(t=new Date(Date.parse(t))),c(t)){var n=this._o.minDate,r=this._o.maxDate;c(n)&&t<n?t=n:c(r)&&t>r&&(t=r),this._d=new Date(t.getTime()),p(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),s(this._o.field,"change",{firedBy:this})),e||"function"!==typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(t){var e=!0;if(c(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=o<n.getTime()||r.getTime()<o}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(n,r){var o,i=this.getDate(),a=24*parseInt(r)*60*60*1e3;"add"===n?o=new Date(i.valueOf()+a):"subtract"===n&&(o=new Date(i.valueOf()-a)),e&&("add"===n?o=t(i).add(r,"days").toDate():"subtract"===n&&(o=t(i).subtract(r,"days").toDate())),this.setDate(o)},adjustCalendars:function(){this.calendars[0]=v(this.calendars[0]);for(var t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=v({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){t instanceof Date?(p(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()):(this._o.minDate=y.minDate,this._o.minYear=y.minYear,this._o.minMonth=y.minMonth,this._o.startRange=y.startRange),this.draw()},setMaxDate:function(t){t instanceof Date?(p(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth()):(this._o.maxDate=y.maxDate,this._o.maxYear=y.maxYear,this._o.maxMonth=y.maxMonth,this._o.endRange=y.endRange),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(this._v||t){var e,n=this._o,r=n.minYear,i=n.maxYear,a=n.minMonth,s=n.maxMonth,l="";this._y<=r&&(this._y=r,!isNaN(a)&&this._m<a&&(this._m=a)),this._y>=i&&(this._y=i,!isNaN(s)&&this._m>s&&(this._m=s)),e="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var u=0;u<n.numberOfMonths;u++)l+='<div class="pika-lendar">'+S(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year,e)+this.render(this.calendars[u].year,this.calendars[u].month,e)+"</div>";this.el.innerHTML=l,n.bound&&"hidden"!==n.field.type&&o(function(){n.trigger.focus()},1),"function"===typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var t,e,n,o,i,a,s,l,u,c;if(!this._o.container){if(this.el.style.position="absolute",e=t=this._o.trigger,n=this.el.offsetWidth,o=this.el.offsetHeight,i=window.innerWidth||r.documentElement.clientWidth,a=window.innerHeight||r.documentElement.clientHeight,s=window.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop,"function"===typeof t.getBoundingClientRect)l=(c=t.getBoundingClientRect()).left+window.pageXOffset,u=c.bottom+window.pageYOffset;else for(l=e.offsetLeft,u=e.offsetTop+e.offsetHeight;e=e.offsetParent;)l+=e.offsetLeft,u+=e.offsetTop;(this._o.reposition&&l+n>i||this._o.position.indexOf("right")>-1&&l-n+t.offsetWidth>0)&&(l=l-n+t.offsetWidth),(this._o.reposition&&u+o>a+s||this._o.position.indexOf("top")>-1&&u-o-t.offsetHeight>0)&&(u=u-o-t.offsetHeight),this.el.style.left=l+"px",this.el.style.top=u+"px"}},render:function(t,e,n){var r=this._o,o=new Date,i=d(t,e),a=new Date(t,e,1).getDay(),s=[],l=[];p(o),r.firstDay>0&&(a-=r.firstDay)<0&&(a+=7);for(var u=0===e?11:e-1,f=11===e?0:e+1,m=0===e?t-1:t,v=11===e?t+1:t,y=d(m,u),S=i+a,E=S;E>7;)E-=7;S+=7-E;for(var k=0,T=0;k<S;k++){var R=new Date(t,e,k-a+1),x=!!c(this._d)&&g(R,this._d),M=g(R,o),A=k<a||k>=i+a,N=k-a+1,_=e,P=t,I=r.startRange&&g(r.startRange,R),D=r.endRange&&g(r.endRange,R),L=r.startRange&&r.endRange&&r.startRange<R&&R<r.endRange;A&&(k<a?(N=y+N,_=u,P=m):(N-=i,_=f,P=v));var j={day:N,month:_,year:P,isSelected:x,isToday:M,isDisabled:r.minDate&&R<r.minDate||r.maxDate&&R>r.maxDate||r.disableWeekends&&h(R)||r.disableDayFn&&r.disableDayFn(R),isEmpty:A,isStartRange:I,isEndRange:D,isInRange:L,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths};l.push(w(j)),7===++T&&(r.showWeekNumber&&l.unshift(C(k-a,e,t)),s.push(O(l,r.isRTL)),l=[],T=0)}return function(t,e,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+function(t){var e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+b(t,e)+'">'+b(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"}(t)+("<tbody>"+e.join("")+"</tbody>")+"</table>"}(r,s,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(function(t,e){var n;t.className=(n=(" "+t.className+" ").replace(" "+e+" "," ")).trim?n.trim():n.replace(/^\s+|\s+$/g,"")}(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(i(r,"click",this._onClick),this.adjustPosition()),"function"===typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t,e,n=this._v;!1!==n&&(this._o.bound&&a(r,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",t=this.el,l(t,e="is-hidden")||(t.className=""===t.className?e:t.className+" "+e),this._v=!1,void 0!==n&&"function"===typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),a(this.el,"mousedown",this._onMouseDown,!0),a(this.el,"touchend",this._onMouseDown,!0),a(this.el,"change",this._onChange),this._o.field&&(a(this._o.field,"change",this._onInputChange),this._o.bound&&(a(this._o.trigger,"click",this._onInputClick),a(this._o.trigger,"focus",this._onInputFocus),a(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},E}(o)}()},function(t,e,n){t.exports=n(249)},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))o.call(n,u)&&(s[u]=n[u]);if(r){a=r(n);for(var c=0;c<a.length;c++)i.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(t,e,n){var r=n(69),o=n(95).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(e){return a.slice()}}(t):o(r(t))}},function(t,e,n){var r=n(55),o=n(69),i=n(135)(!1),a=n(96);t.exports=function(t,e){var n,s=o(t),l=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~i(u,n)||u.push(n));return u}},function(t,e,n){t.exports=!n(57)&&!n(38)(function(){return 7!=Object.defineProperty(n(137)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=n(100)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(162),o=n(44).WeakMap;t.exports="function"===typeof o&&/native code/.test(r.call(o))},function(t,e,n){var r=n(55),o=n(214),i=n(90),a=n(58);t.exports=function(t,e){for(var n=o(e),s=a.f,l=i.f,u=0;u<n.length;u++){var c=n[u];r(t,c)||s(t,c,l(e,c))}}},function(t,e,n){t.exports=!n(38)(function(){return!String(Symbol())})},function(t,e,n){var r=n(44).document;t.exports=r&&r.documentElement},function(t,e,n){"use strict";var r,o,i,a=n(116),s=n(66),l=n(55),u=n(111),c=n(45)("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):h=!0),void 0==r&&(r={}),u||l(r,c)||s(r,c,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){t.exports=!n(38)(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){var r=n(78),o=n(45)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){t.exports=!n(38)(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(t,e,n){"use strict";var r=n(142),o=n(104).getWeakData,i=n(52),a=n(49),s=n(143),l=n(144),u=n(92),c=n(55),h=n(86),f=h.set,d=h.getterFor,p=u(5),g=u(6),m=0,v=function(t){return t.frozen||(t.frozen=new y)},y=function(){this.entries=[]},b=function(t,e){return p(t.entries,function(t){return t[0]===e})};y.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var n=b(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=g(this.entries,function(e){return e[0]===t});return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,u){var h=t(function(t,r){s(t,h,e),f(t,{type:e,id:m++,frozen:void 0}),void 0!=r&&l(r,t[u],t,n)}),p=d(e),g=function(t,e,n){var r=p(t),a=o(i(e),!0);return!0===a?v(r).set(e,n):a[r.id]=n,t};return r(h.prototype,{delete:function(t){var e=p(this);if(!a(t))return!1;var n=o(t);return!0===n?v(e).delete(t):n&&c(n,e.id)&&delete n[e.id]},has:function(t){var e=p(this);if(!a(t))return!1;var n=o(t);return!0===n?v(e).has(t):n&&c(n,e.id)}}),r(h.prototype,n?{get:function(t){var e=p(this);if(a(t)){var n=o(t);return!0===n?v(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return g(this,t,e)}}:{add:function(t){return g(this,t,!0)}}),h}}},function(t,e,n){var r=n(103),o=n(45)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(169),o=n(45)("iterator"),i=n(103);t.exports=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(52);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(a){var i=t.return;throw void 0!==i&&r(i.call(t)),a}}},function(t,e,n){var r=n(45)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(s){}return n}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){e.f=n(45)},function(t,e,n){var r=n(179),o=n(55),i=n(177),a=n(58).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},function(t,e,n){t.exports=n(44)},function(t,e,n){"use strict";var r=n(58).f,o=n(102),i=n(142),a=n(105),s=n(143),l=n(144),u=n(139),c=n(181),h=n(57),f=n(104).fastKey,d=n(86),p=d.set,g=d.getterFor;t.exports={getConstructor:function(t,e,n,u){var c=t(function(t,r){s(t,c,e),p(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),h||(t.size=0),void 0!=r&&l(r,t[u],t,n)}),d=g(e),m=function(t,e,n){var r,o,i=d(t),a=v(t,e);return a?a.value=n:(i.last=a={index:o=f(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),h?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},v=function(t,e){var n,r=d(t),o=f(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(c.prototype,{clear:function(){for(var t=d(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,h?t.size=0:this.size=0},delete:function(t){var e=d(this),n=v(this,t);if(n){var r=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),e.first==n&&(e.first=r),e.last==n&&(e.last=o),h?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=d(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!v(this,t)}}),i(c.prototype,n?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),h&&r(c.prototype,"size",{get:function(){return d(this).size}}),c},setStrong:function(t,e,n){var r=e+" Iterator",o=g(e),i=g(r);u(t,e,function(t,e){p(this,{type:r,target:t,state:o(t),kind:e,last:void 0})},function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),c(e)}}},function(t,e,n){"use strict";var r=n(221),o=n(58),i=n(57),a=n(45)("species");t.exports=function(t){var e=r(t),n=o.f;i&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(63),o="["+n(183)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$");t.exports=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(i,"")),2&e&&(t=t.replace(a,"")),t}},function(t,e){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(225),o=n(226);n(28)({target:"String",proto:!0,forced:o},{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var r=n(85),o=n(63);t.exports="".repeat||function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){"use strict";var r=n(52),o=n(63),i=n(229),a=n(122);n(123)("search",1,function(t,e,n){return[function(e){var n=o(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var o=n(e,t,this);if(o.done)return o.value;var s=r(t),l=String(this),u=s.lastIndex;i(u,0)||(s.lastIndex=0);var c=a(s,l);return i(s.lastIndex,u)||(s.lastIndex=u),null===c?-1:c.index}]})},function(t,e,n){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(230),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(134))},function(t,e,n){var r=n(239);n(28)({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(207)},,,function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n(21),o=n.n(r),i=n(94);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var f=function(){function t(){a(this,t),this.registeredHooks=i.a.hooks.getRegistered()}return l(t,[{key:"getSettings",value:function(t){var e={};if(t.settings){var n=t.settings;for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}for(var o in t)"settings"!==o&&t.hasOwnProperty(o)&&(e[o]=t[o]);return e}}]),t}(),d=function(t){function e(){var t;return a(this,e),(t=h(this,u(e).apply(this,arguments))).settingsMapper=new f,t.id=null,t.hotInstance=null,t.hotElementRef=null,t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,o.a.Component),l(e,[{key:"setHotElementRef",value:function(t){this.hotElementRef=t}},{key:"componentDidMount",value:function(){var t=this.settingsMapper.getSettings(this.props);this.hotInstance=new i.a(this.hotElementRef,t)}},{key:"shouldComponentUpdate",value:function(t,e){return this.updateHot(this.settingsMapper.getSettings(t)),!1}},{key:"componentWillUnmount",value:function(){this.hotInstance.destroy()}},{key:"render",value:function(){return this.id=this.props.id||"hot-"+Math.random().toString(36).substring(5),this.className=this.props.className||"",this.style=this.props.style||{},o.a.createElement("div",{ref:this.setHotElementRef.bind(this),id:this.id,className:this.className,style:this.style})}},{key:"updateHot",value:function(t){this.hotInstance.updateSettings(t,!1)}}],[{key:"version",get:function(){return"3.0.0"}}]),e}()},function(t,e,n){t.exports=function(){var t,e={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},n=document.body,r=document.createTextNode(""),o=document.createElement("SPAN"),i=function(t,e,n){t.addEventListener(e,n,!1)},a=function(t,e,n){t.removeEventListener(e,n,!1)},s=function(i){var a,s;i?/^[a-zA-Z \.,\\\/\|0-9]$/.test(i)||(i="."):i="",void 0!==r.textContent?r.textContent=t.value+i:r.data=t.value+i,o.style.fontSize=c(t).fontSize,o.style.fontFamily=c(t).fontFamily,o.style.whiteSpace="pre",n.appendChild(o),a=o.clientWidth+2,n.removeChild(o),t.style.height=e.minHeight+"px",e.minWidth>a?t.style.width=e.minWidth+"px":a>e.maxWidth?t.style.width=e.maxWidth+"px":t.style.width=a+"px",s=t.scrollHeight?t.scrollHeight-1:0,e.minHeight>s?t.style.height=e.minHeight+"px":e.maxHeight<s?(t.style.height=e.maxHeight+"px",t.style.overflowY="visible"):t.style.height=s+"px"},l=function(){window.setTimeout(s,0)},u=function(n,a,u){t=n,function(n){if(n&&n.minHeight)if("inherit"==n.minHeight)e.minHeight=t.clientHeight;else{var i=parseInt(n.minHeight);isNaN(i)||(e.minHeight=i)}if(n&&n.maxHeight)if("inherit"==n.maxHeight)e.maxHeight=t.clientHeight;else{var a=parseInt(n.maxHeight);isNaN(a)||(e.maxHeight=a)}if(n&&n.minWidth)if("inherit"==n.minWidth)e.minWidth=t.clientWidth;else{var s=parseInt(n.minWidth);isNaN(s)||(e.minWidth=s)}if(n&&n.maxWidth)if("inherit"==n.maxWidth)e.maxWidth=t.clientWidth;else{var l=parseInt(n.maxWidth);isNaN(l)||(e.maxWidth=l)}o.firstChild||(o.className="autoResize",o.style.display="inline-block",o.appendChild(r))}(a),"TEXTAREA"==t.nodeName&&(t.style.resize="none",t.style.overflowY="",t.style.height=e.minHeight+"px",t.style.minWidth=e.minWidth+"px",t.style.maxWidth=e.maxWidth+"px",t.style.overflowY="hidden"),u&&(i(t,"change",s),i(t,"cut",l),i(t,"paste",l),i(t,"drop",l),i(t,"keydown",l),i(t,"focus",s),i(t,"compositionstart",l),i(t,"compositionupdate",l),i(t,"compositionend",l)),s()};function c(t){return t.currentStyle||document.defaultView.getComputedStyle(t)}return{init:function(t,e,n){u(t,e,n)},unObserve:function(){a(t,"change",s),a(t,"cut",l),a(t,"paste",l),a(t,"drop",l),a(t,"keydown",l),a(t,"focus",s),a(t,"compositionstart",l),a(t,"compositionupdate",l),a(t,"compositionend",l)},resize:s}}},function(t,e,n){"use strict";n(7),n(6),n(8),n(32),n(9);var r=n(5),o=n(17),i=n(14),a=n(33),s=n(20),l=n(59);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e,n,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instance=e,this.priv=n,this.selection=r,this.eventManager=new s.a(e),this.destroyed=!1,this.lock=!1,this.activeEditor=void 0,this.instance.addHook("afterDocumentKeyDown",function(t){return o.onAfterDocumentKeyDown(t)}),this.eventManager.addEventListener(this.instance.rootDocument.documentElement,"keydown",function(t){o.destroyed||o.instance.runHooks("afterDocumentKeyDown",t)}),this.eventManager.addEventListener(this.instance.rootDocument.documentElement,"compositionstart",function(t){!o.destroyed&&o.activeEditor&&!o.activeEditor.isOpened()&&o.instance.isListening()&&o.openEditor("",t)}),this.instance.view.wt.update("onCellDblClick",function(t,e,n){return o.onCellDblClick(t,e,n)})}var e,n,c;return e=t,(n=[{key:"lockEditor",value:function(){this.lock=!0}},{key:"unlockEditor",value:function(){this.lock=!1}},{key:"destroyEditor",value:function(t){this.lock||this.closeEditor(t)}},{key:"getActiveEditor",value:function(){return this.activeEditor}},{key:"prepareEditor",value:function(){var t=this;if(!this.lock)if(this.activeEditor&&this.activeEditor.isWaiting())this.closeEditor(!1,!1,function(e){e&&t.prepareEditor()});else{var e=this.instance.selection.selectedRange.current().highlight,n=e.row,r=e.col,o=this.instance.colToProp(r),i=this.instance.getCell(n,r),s=this.instance.getSourceDataAtCell(this.instance.runHooks("modifyRow",n),r),l=this.instance.getCellMeta(n,r),u=this.instance.getCellEditor(l);u?(this.activeEditor=Object(a.b)(u,this.instance),this.activeEditor.prepare(n,r,o,i,s,l)):this.activeEditor=void 0}}},{key:"isEditorOpened",value:function(){return this.activeEditor&&this.activeEditor.isOpened()}},{key:"openEditor",value:function(t,e){this.activeEditor&&(this.activeEditor.cellProperties.readOnly?e&&e.keyCode===o.KEY_CODES.ENTER&&this.moveSelectionAfterEnter():this.activeEditor.beginEditing(t,e))}},{key:"closeEditor",value:function(t,e,n){this.activeEditor?this.activeEditor.finishEditing(t,e,n):n&&n(!1)}},{key:"closeEditorAndSaveChanges",value:function(t){this.closeEditor(!1,t)}},{key:"closeEditorAndRestoreOriginalValue",value:function(t){return this.closeEditor(!0,t)}},{key:"moveSelectionAfterEnter",value:function(t){var e="function"===typeof this.priv.settings.enterMoves?this.priv.settings.enterMoves(event):this.priv.settings.enterMoves;t?this.selection.transformStart(-e.row,-e.col):this.selection.transformStart(e.row,e.col,!0)}},{key:"moveSelectionUp",value:function(t){t?this.selection.transformEnd(-1,0):this.selection.transformStart(-1,0)}},{key:"moveSelectionDown",value:function(t){t?this.selection.transformEnd(1,0):this.selection.transformStart(1,0)}},{key:"moveSelectionRight",value:function(t){t?this.selection.transformEnd(0,1):this.selection.transformStart(0,1)}},{key:"moveSelectionLeft",value:function(t){t?this.selection.transformEnd(0,-1):this.selection.transformStart(0,-1)}},{key:"onAfterDocumentKeyDown",value:function(t){if(this.instance.isListening()&&(this.instance.runHooks("beforeKeyDown",t),!this.destroyed&&229!==t.keyCode&&!Object(i.isImmediatePropagationStopped)(t)&&(this.priv.lastKeyCode=t.keyCode,this.selection.isSelected()))){var e=(t.ctrlKey||t.metaKey)&&!t.altKey;if(!this.activeEditor||this.activeEditor.isWaiting()||Object(o.isMetaKey)(t.keyCode)||Object(o.isCtrlMetaKey)(t.keyCode)||e||this.isEditorOpened()){var n,a=t.shiftKey,s=a?this.selection.setRangeEnd:this.selection.setRangeStart;switch(t.keyCode){case o.KEY_CODES.A:!this.isEditorOpened()&&e&&(this.instance.selectAll(),t.preventDefault(),Object(i.stopPropagation)(t));break;case o.KEY_CODES.ARROW_UP:this.isEditorOpened()&&!this.activeEditor.isWaiting()&&this.closeEditorAndSaveChanges(e),this.moveSelectionUp(a),t.preventDefault(),Object(i.stopPropagation)(t);break;case o.KEY_CODES.ARROW_DOWN:this.isEditorOpened()&&!this.activeEditor.isWaiting()&&this.closeEditorAndSaveChanges(e),this.moveSelectionDown(a),t.preventDefault(),Object(i.stopPropagation)(t);break;case o.KEY_CODES.ARROW_RIGHT:this.isEditorOpened()&&!this.activeEditor.isWaiting()&&this.closeEditorAndSaveChanges(e),this.moveSelectionRight(a),t.preventDefault(),Object(i.stopPropagation)(t);break;case o.KEY_CODES.ARROW_LEFT:this.isEditorOpened()&&!this.activeEditor.isWaiting()&&this.closeEditorAndSaveChanges(e),this.moveSelectionLeft(a),t.preventDefault(),Object(i.stopPropagation)(t);break;case o.KEY_CODES.TAB:n="function"===typeof this.priv.settings.tabMoves?this.priv.settings.tabMoves(t):this.priv.settings.tabMoves,a?this.selection.transformStart(-n.row,-n.col):this.selection.transformStart(n.row,n.col,!0),t.preventDefault(),Object(i.stopPropagation)(t);break;case o.KEY_CODES.BACKSPACE:case o.KEY_CODES.DELETE:this.instance.emptySelectedCells(),this.prepareEditor(),t.preventDefault();break;case o.KEY_CODES.F2:this.activeEditor&&this.activeEditor.enableFullEditMode(),this.openEditor(null,t),t.preventDefault();break;case o.KEY_CODES.ENTER:this.isEditorOpened()?(this.activeEditor&&this.activeEditor.state!==l.a.WAITING&&this.closeEditorAndSaveChanges(e),this.moveSelectionAfterEnter(a)):this.instance.getSettings().enterBeginsEditing?(this.activeEditor&&this.activeEditor.enableFullEditMode(),this.openEditor(null,t)):this.moveSelectionAfterEnter(a),t.preventDefault(),Object(i.stopImmediatePropagation)(t);break;case o.KEY_CODES.ESCAPE:this.isEditorOpened()&&(this.closeEditorAndRestoreOriginalValue(e),this.activeEditor.focus()),t.preventDefault();break;case o.KEY_CODES.HOME:t.ctrlKey||t.metaKey?s.call(this.selection,new r.a(0,this.selection.selectedRange.current().from.col)):s.call(this.selection,new r.a(this.selection.selectedRange.current().from.row,0)),t.preventDefault(),Object(i.stopPropagation)(t);break;case o.KEY_CODES.END:t.ctrlKey||t.metaKey?s.call(this.selection,new r.a(this.instance.countRows()-1,this.selection.selectedRange.current().from.col)):s.call(this.selection,new r.a(this.selection.selectedRange.current().from.row,this.instance.countCols()-1)),t.preventDefault(),Object(i.stopPropagation)(t);break;case o.KEY_CODES.PAGE_UP:this.selection.transformStart(-this.instance.countVisibleRows(),0),t.preventDefault(),Object(i.stopPropagation)(t);break;case o.KEY_CODES.PAGE_DOWN:this.selection.transformStart(this.instance.countVisibleRows(),0),t.preventDefault(),Object(i.stopPropagation)(t)}}else this.openEditor("",t)}}},{key:"onCellDblClick",value:function(t,e,n){"TD"===n.nodeName&&(this.activeEditor&&this.activeEditor.enableFullEditMode(),this.openEditor(null,t))}},{key:"destroy",value:function(){this.destroyed=!0,this.eventManager.destroy()}}])&&u(e.prototype,n),c&&u(e,c),t}(),h=new WeakMap;c.getInstance=function(t,e,n,r){var o=h.get(t);return o||(o=new c(t,e,n,r),h.set(t,o)),o},e.a=c},function(t,e,n){"use strict";n(10),n(11),n(12),n(7),n(6),n(8),n(32),n(9);var r=n(0),o=n(20),i=n(14),a=n(5),s=n(107);function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=new WeakMap,h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instance=e,this.eventManager=new o.a(e),this.settings=e.getSettings(),this.THEAD=void 0,this.TBODY=void 0,this.wt=void 0,this.activeWt=void 0,c.set(this,{selectionMouseDown:!1,mouseDown:void 0,table:void 0,lastWidth:0,lastHeight:0}),this.createElements(),this.registerEvents(),this.initializeWalkontable()}var e,n,h;return e=t,(n=[{key:"render",value:function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1}},{key:"getCellAtCoords",value:function(t,e){var n=this.wt.getCell(t,e);return n<0?null:n}},{key:"scrollViewport",value:function(t,e,n,r,o){return this.wt.scrollViewport(t,e,n,r,o)}},{key:"scrollViewportHorizontally",value:function(t,e,n){return this.wt.scrollViewportHorizontally(t,e,n)}},{key:"scrollViewportVertically",value:function(t,e,n){return this.wt.scrollViewportVertically(t,e,n)}},{key:"updateCellHeader",value:function(t,e,n){var o=e,i=this.wt.wtOverlays.getParentOverlay(t)||this.wt;t.parentNode&&(Object(r.hasClass)(t,"colHeader")?o=i.wtTable.columnFilter.sourceToRendered(e):Object(r.hasClass)(t,"rowHeader")&&(o=i.wtTable.rowFilter.sourceToRendered(e))),o>-1?Object(r.fastInnerHTML)(t,n(e)):(Object(r.fastInnerText)(t,String.fromCharCode(160)),Object(r.addClass)(t,"cornerHeader"))}},{key:"createElements",value:function(){var t=c.get(this),e=this.instance,n=e.rootElement,o=e.rootDocument,i=n.getAttribute("style");i&&n.setAttribute("data-originalstyle",i),Object(r.addClass)(n,"handsontable"),t.table=o.createElement("TABLE"),Object(r.addClass)(t.table,"htCore"),this.instance.getSettings().tableClassName&&Object(r.addClass)(t.table,this.instance.getSettings().tableClassName),this.THEAD=o.createElement("THEAD"),t.table.appendChild(this.THEAD),this.TBODY=o.createElement("TBODY"),t.table.appendChild(this.TBODY),this.instance.table=t.table,this.instance.container.insertBefore(t.table,this.instance.container.firstChild)}},{key:"registerEvents",value:function(){var t=this,e=c.get(this),n=this.instance,o=n.rootElement,a=n.rootDocument,s=a.documentElement;this.eventManager.addEventListener(o,"mousedown",function(n){if(e.selectionMouseDown=!0,!t.isTextSelectionAllowed(n.target)){var o=t.instance.rootWindow;Object(r.clearTextSelection)(o),n.preventDefault(),o.focus()}}),this.eventManager.addEventListener(o,"mouseup",function(){e.selectionMouseDown=!1}),this.eventManager.addEventListener(o,"mousemove",function(n){e.selectionMouseDown&&!t.isTextSelectionAllowed(n.target)&&(t.settings.fragmentSelection&&Object(r.clearTextSelection)(t.instance.rootWindow),n.preventDefault())}),this.eventManager.addEventListener(s,"keyup",function(e){t.instance.selection.isInProgress()&&!e.shiftKey&&t.instance.selection.finish()}),this.eventManager.addEventListener(s,"mouseup",function(n){t.instance.selection.isInProgress()&&Object(i.isLeftClick)(n)&&t.instance.selection.finish(),e.mouseDown=!1,(Object(r.isOutsideInput)(a.activeElement)||!t.instance.selection.isSelected()&&!Object(i.isRightClick)(n))&&t.instance.unlisten()}),this.eventManager.addEventListener(s,"contextmenu",function(n){t.instance.selection.isInProgress()&&Object(i.isRightClick)(n)&&(t.instance.selection.finish(),e.mouseDown=!1)}),this.eventManager.addEventListener(s,"touchend",function(){t.instance.selection.isInProgress()&&t.instance.selection.finish(),e.mouseDown=!1}),this.eventManager.addEventListener(s,"mousedown",function(n){var i=n.target,l=n.x||n.clientX,u=n.y||n.clientY,c=n.target;if(!e.mouseDown&&o&&t.instance.view){var h=t.instance.view.wt.wtTable.holder;if(c===h){var f=Object(r.getScrollbarWidth)(a);if(a.elementFromPoint(l+f,u)!==h||a.elementFromPoint(l,u+f)!==h)return}else for(;c!==s;){if(null===c){if(n.isTargetWebComponent)break;return}if(c===o)return;c=c.parentNode}("function"===typeof t.settings.outsideClickDeselects?t.settings.outsideClickDeselects(i):t.settings.outsideClickDeselects)?t.instance.deselectCell():t.instance.destroyEditor(!1,!1)}}),this.eventManager.addEventListener(e.table,"selectstart",function(e){t.settings.fragmentSelection||Object(r.isInput)(e.target)||e.preventDefault()})}},{key:"initializeWalkontable",value:function(){var t=this,e=c.get(this),n={debug:function(){return t.settings.debug},externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:e.table,preventOverflow:function(){return t.settings.preventOverflow},stretchH:function(){return t.settings.stretchH},data:this.instance.getDataAtCell,totalRows:function(){return t.instance.countRows()},totalColumns:function(){return t.instance.countCols()},fixedColumnsLeft:function(){return t.settings.fixedColumnsLeft},fixedRowsTop:function(){return t.settings.fixedRowsTop},fixedRowsBottom:function(){return t.settings.fixedRowsBottom},minSpareRows:function(){return t.settings.minSpareRows},renderAllRows:this.settings.renderAllRows,rowHeaders:function(){var e=[];return t.instance.hasRowHeaders()&&e.push(function(e,n){return t.appendRowHeader(e,n)}),t.instance.runHooks("afterGetRowHeaderRenderers",e),e},columnHeaders:function(){var e=[];return t.instance.hasColHeaders()&&e.push(function(e,n){t.appendColHeader(e,n)}),t.instance.runHooks("afterGetColumnHeaderRenderers",e),e},columnWidth:this.instance.getColWidth,rowHeight:this.instance.getRowHeight,cellRenderer:function(e,n,r){var o=t.instance.getCellMeta(e,n),i=t.instance.colToProp(n),a=t.instance.getDataAtRowProp(e,i);t.instance.hasHook("beforeValueRender")&&(a=t.instance.runHooks("beforeValueRender",a,o)),t.instance.runHooks("beforeRenderer",r,e,n,i,a,o),t.instance.getCellRenderer(o)(t.instance,r,e,n,i,a,o),t.instance.runHooks("afterRenderer",r,e,n,i,a,o)},selections:this.instance.selection.highlight,hideBorderOnMouseDownOver:function(){return t.settings.fragmentSelection},onWindowResize:function(){t.instance&&!t.instance.isDestroyed&&t.instance.refreshDimensions()},onCellMouseDown:function(n,r,o,a){var l={row:!1,column:!1,cell:!1};t.instance.listen(),t.activeWt=a,e.mouseDown=!0,t.instance.runHooks("beforeOnCellMouseDown",n,r,o,l),Object(i.isImmediatePropagationStopped)(n)||(Object(s.a)(n,{coords:r,selection:t.instance.selection,controller:l}),t.instance.runHooks("afterOnCellMouseDown",n,r,o),t.activeWt=t.wt)},onCellContextMenu:function(n,r,o,a){t.activeWt=a,e.mouseDown=!1,t.instance.selection.isInProgress()&&t.instance.selection.finish(),t.instance.runHooks("beforeOnCellContextMenu",n,r,o),Object(i.isImmediatePropagationStopped)(n)||(t.instance.runHooks("afterOnCellContextMenu",n,r,o),t.activeWt=t.wt)},onCellMouseOut:function(e,n,r,o){t.activeWt=o,t.instance.runHooks("beforeOnCellMouseOut",e,n,r),Object(i.isImmediatePropagationStopped)(e)||(t.instance.runHooks("afterOnCellMouseOut",e,n,r),t.activeWt=t.wt)},onCellMouseOver:function(n,r,o,a){var l={row:!1,column:!1,cell:!1};t.activeWt=a,t.instance.runHooks("beforeOnCellMouseOver",n,r,o,l),Object(i.isImmediatePropagationStopped)(n)||(e.mouseDown&&Object(s.a)(n,{coords:r,selection:t.instance.selection,controller:l}),t.instance.runHooks("afterOnCellMouseOver",n,r,o),t.activeWt=t.wt)},onCellMouseUp:function(e,n,r,o){t.activeWt=o,t.instance.runHooks("beforeOnCellMouseUp",e,n,r),t.instance.runHooks("afterOnCellMouseUp",e,n,r),t.activeWt=t.wt},onCellCornerMouseDown:function(e){e.preventDefault(),t.instance.runHooks("afterOnCellCornerMouseDown",e)},onCellCornerDblClick:function(e){e.preventDefault(),t.instance.runHooks("afterOnCellCornerDblClick",e)},beforeDraw:function(e,n){return t.beforeRender(e,n)},onDraw:function(e){return t.onDraw(e)},onScrollVertically:function(){return t.instance.runHooks("afterScrollVertically")},onScrollHorizontally:function(){return t.instance.runHooks("afterScrollHorizontally")},onBeforeRemoveCellClassNames:function(){return t.instance.runHooks("beforeRemoveCellClassNames")},onAfterDrawSelection:function(e,n,r,o){return t.instance.runHooks("afterDrawSelection",e,n,r,o)},onBeforeDrawBorders:function(e,n){return t.instance.runHooks("beforeDrawBorders",e,n)},onBeforeTouchScroll:function(){return t.instance.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){return t.instance.runHooks("afterMomentumScroll")},onBeforeStretchingColumnWidth:function(e,n){return t.instance.runHooks("beforeStretchingColumnWidth",e,n)},onModifyRowHeaderWidth:function(e){return t.instance.runHooks("modifyRowHeaderWidth",e)},onModifyGetCellCoords:function(e,n,r){return t.instance.runHooks("modifyGetCellCoords",e,n,r)},viewportRowCalculatorOverride:function(e){var n=t.instance.countRows(),r=t.settings.viewportRowRenderingOffset;if("auto"===r&&t.settings.fixedRowsTop&&(r=10),"number"===typeof r&&(e.startRow=Math.max(e.startRow-r,0),e.endRow=Math.min(e.endRow+r,n-1)),"auto"===r){var o=e.startRow+e.endRow-e.startRow,i=Math.ceil(o/n*12);e.startRow=Math.max(e.startRow-i,0),e.endRow=Math.min(e.endRow+i,n-1)}t.instance.runHooks("afterViewportRowCalculatorOverride",e)},viewportColumnCalculatorOverride:function(e){var n=t.instance.countCols(),r=t.settings.viewportColumnRenderingOffset;if("auto"===r&&t.settings.fixedColumnsLeft&&(r=10),"number"===typeof r&&(e.startColumn=Math.max(e.startColumn-r,0),e.endColumn=Math.min(e.endColumn+r,n-1)),"auto"===r){var o=e.startColumn+e.endColumn-e.startColumn,i=Math.ceil(o/n*12);e.startRow=Math.max(e.startColumn-i,0),e.endColumn=Math.min(e.endColumn+i,n-1)}t.instance.runHooks("afterViewportColumnCalculatorOverride",e)},rowHeaderWidth:function(){return t.settings.rowHeaderWidth},columnHeaderHeight:function(){var e=t.instance.runHooks("modifyColumnHeaderHeight");return t.settings.columnHeaderHeight||e}};this.instance.runHooks("beforeInitWalkontable",n),this.wt=new a.e(n),this.activeWt=this.wt;var r=this.wt.wtTable.spreader,o=this.instance.rootElement.getBoundingClientRect(),l=o.width,u=o.height;this.setLastSize(l,u),this.eventManager.addEventListener(r,"mousedown",function(t){t.target===r&&3===t.which&&Object(i.stopPropagation)(t)}),this.eventManager.addEventListener(r,"contextmenu",function(t){t.target===r&&3===t.which&&Object(i.stopPropagation)(t)}),this.eventManager.addEventListener(this.instance.rootDocument.documentElement,"click",function(){t.settings.observeDOMVisibility&&t.wt.drawInterrupted&&(t.instance.forceFullRender=!0,t.render())})}},{key:"isTextSelectionAllowed",value:function(t){if(Object(r.isInput)(t))return!0;var e=Object(r.isChildOf)(t,this.instance.view.wt.wtTable.spreader);return!(!0!==this.settings.fragmentSelection||!e)||(!("cell"!==this.settings.fragmentSelection||!this.isSelectedOnlyCell()||!e)||!(this.settings.fragmentSelection||!this.isCellEdited()||!this.isSelectedOnlyCell()))}},{key:"isMouseDown",value:function(){return c.get(this).mouseDown}},{key:"isSelectedOnlyCell",value:function(){var t=l(this.instance.getSelectedLast()||[],4),e=t[0],n=t[1],r=t[2],o=t[3];return void 0!==e&&e===r&&n===o}},{key:"isCellEdited",value:function(){var t=this.instance.getActiveEditor();return t&&t.isOpened()}},{key:"beforeRender",value:function(t,e){t&&this.instance.runHooks("beforeRender",this.instance.forceFullRender,e)}},{key:"onDraw",value:function(t){t&&this.instance.runHooks("afterRender",this.instance.forceFullRender)}},{key:"appendRowHeader",value:function(t,e){if(e.firstChild){var n=e.firstChild;if(!Object(r.hasClass)(n,"relative"))return Object(r.empty)(e),void this.appendRowHeader(t,e);this.updateCellHeader(n.querySelector(".rowHeader"),t,this.instance.getRowHeader)}else{var o=this.instance,i=o.rootDocument,a=o.getRowHeader,s=i.createElement("div"),l=i.createElement("span");s.className="relative",l.className="rowHeader",this.updateCellHeader(l,t,a),s.appendChild(l),e.appendChild(s)}this.instance.runHooks("afterGetRowHeader",t,e)}},{key:"appendColHeader",value:function(t,e){if(e.firstChild){var n=e.firstChild;Object(r.hasClass)(n,"relative")?this.updateCellHeader(n.querySelector(".colHeader"),t,this.instance.getColHeader):(Object(r.empty)(e),this.appendColHeader(t,e))}else{var o=this.instance.rootDocument,i=o.createElement("div"),a=o.createElement("span");i.className="relative",a.className="colHeader",this.updateCellHeader(a,t,this.instance.getColHeader),i.appendChild(a),e.appendChild(i)}this.instance.runHooks("afterGetColHeader",t,e)}},{key:"maximumVisibleElementWidth",value:function(t){var e=this.wt.wtViewport.getWorkspaceWidth()-t;return e>0?e:0}},{key:"maximumVisibleElementHeight",value:function(t){var e=this.wt.wtViewport.getWorkspaceHeight()-t;return e>0?e:0}},{key:"setLastSize",value:function(t,e){var n=c.get(this),r=[t,e];n.lastWidth=r[0],n.lastHeight=r[1]}},{key:"getLastSize",value:function(){var t=c.get(this);return{width:t.lastWidth,height:t.lastHeight}}},{key:"mainViewIsActive",value:function(){return this.wt===this.activeWt}},{key:"destroy",value:function(){this.wt.destroy(),this.eventManager.destroy()}}])&&u(e.prototype,n),h&&u(e,h),t}();e.a=h},function(t,e,n){"use strict";n(36),n(72);var r=n(2),o=n(1),i=n(4);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.data=n,this.dataType="array",this.colToProp=function(){},this.propToCol=function(){}}var e,n,s;return e=t,(n=[{key:"getData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.data;return t&&(e=this.getByRange({row:0,col:0},{row:Math.max(this.countRows()-1,0),col:Math.max(this.countColumns()-1,0)},!0)),e}},{key:"setData",value:function(t){this.data=t}},{key:"getAtColumn",value:function(t){var e=this,n=[];return Object(o.arrayEach)(this.data,function(o){var i,a=e.colToProp(t);i="string"===typeof a?Object(r.getProperty)(o,a):"function"===typeof a?a(o):o[a],n.push(i)}),n}},{key:"getAtRow",value:function(t){return this.data[t]}},{key:"getAtCell",value:function(t,e){var n=null,o=this.hot.runHooks("modifyRowData",t),i=isNaN(o)?o:this.data[t];if(i){var a=this.colToProp(e);n="string"===typeof a?Object(r.getProperty)(i,a):"function"===typeof a?a(this.data.slice(t,t+1)[0]):i[a]}return n}},{key:"getByRange",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Math.min(t.row,e.row),a=Math.min(t.col,e.col),s=Math.max(t.row,e.row),l=Math.max(t.col,e.col),u=[];return Object(i.rangeEach)(o,s,function(t){var e,o=n.getAtRow(t);"array"===n.dataType?e=o.slice(a,l+1):"object"===n.dataType&&(e=r?[]:{},Object(i.rangeEach)(a,l,function(t){var i=n.colToProp(t);r?e.push(o[i]):e[i]=o[i]})),u.push(e)}),u}},{key:"countRows",value:function(){return Array.isArray(this.data)?this.data.length:0}},{key:"countColumns",value:function(){var t=0;return Array.isArray(this.data)&&("array"===this.dataType?t=this.data[0].length:"object"===this.dataType&&(t=Object.keys(this.data[0]).length)),t}},{key:"destroy",value:function(){this.data=null,this.hot=null}}])&&a(e.prototype,n),s&&a(e,s),t}();e.a=s},function(t,e,n){var r,o,i;i=function(t){function e(t,e,n,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,n))}e(t=t?t._modules:{},"parts-more/Pane.js",[t["parts/Globals.js"]],function(t){function e(t,e){this.init(t,e)}var n=t.CenteredSeriesMixin,r=t.extend,o=t.merge,i=t.splat;r(e.prototype,{coll:"pane",init:function(t,e){this.chart=e,this.background=[],e.pane.push(this),this.setOptions(t)},setOptions:function(t){this.options=o(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)},render:function(){var t=this.options,e=this.options.background,n=this.chart.renderer;if(this.group||(this.group=n.g("pane-group").attr({zIndex:t.zIndex||0}).add()),this.updateCenter(),e)for(e=i(e),t=Math.max(e.length,this.background.length||0),n=0;n<t;n++)e[n]&&this.axis?this.renderBackground(o(this.defaultBackgroundOptions,e[n]),n):this.background[n]&&(this.background[n]=this.background[n].destroy(),this.background.splice(n,1))},renderBackground:function(t,e){var n="animate",o={class:"highcharts-pane "+(t.className||"")};this.chart.styledMode||r(o,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth}),this.background[e]||(this.background[e]=this.chart.renderer.path().add(this.group),n="attr"),this.background[e][n]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr(o)},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},updateCenter:function(t){this.center=(t||this.axis||{}).center=n.getCenter.call(this)},update:function(t,e){o(!0,this.options,t),o(!0,this.chart.options.pane,t),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(t){t.pane===this&&(t.pane=null,t.update({},e))},this)}}),t.Pane=e}),e(t,"parts-more/RadialAxis.js",[t["parts/Globals.js"]],function(t){var e,n,r=t.addEvent,o=t.Axis,i=t.extend,a=t.merge,s=t.noop,l=t.pick,u=t.pInt,c=t.Tick,h=t.wrap,f=t.correctFloat,d=o.prototype,p=c.prototype;e={getOffset:s,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:s,setCategories:s,setTitle:s},n={defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(e){(e=this.options=a(this.defaultOptions,this.defaultRadialOptions,e)).plotBands||(e.plotBands=[]),t.fireEvent(this,"afterSetOptions")},getOffset:function(){d.getOffset.call(this),this.chart.axisOffset[this.side]=0},getLinePath:function(t,e){t=this.center;var n=this.chart,r=l(e,t[2]/2-this.offset);return this.isCircular||void 0!==e?((e=this.chart.renderer.symbols.arc(this.left+t[0],this.top+t[1],r,r,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[this.left+t[0]],e.yBounds=[this.top+t[1]-r]):(e=this.postTranslate(this.angleRad,r),e=["M",t[0]+n.plotLeft,t[1]+n.plotTop,"L",e.x,e.y]),e},setAxisTranslation:function(){d.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){(this.autoConnect=this.isCircular&&void 0===l(this.userMax,this.options.max)&&f(this.endAngleRad-this.startAngleRad)===f(2*Math.PI))&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)},setAxisSize:function(){d.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*l(this.sector,1)/2)},getPosition:function(t,e){return this.postTranslate(this.isCircular?this.translate(t):this.angleRad,l(this.isCircular?e:this.translate(t),this.center[2]/2)-this.offset)},postTranslate:function(t,e){var n=this.chart,r=this.center;return t=this.startAngleRad+t,{x:n.plotLeft+r[0]+Math.cos(t)*e,y:n.plotTop+r[1]+Math.sin(t)*e}},getPlotBandPath:function(t,e,n){var r,o,i=this.center,a=this.startAngleRad,s=i[2]/2,c=[l(n.outerRadius,"100%"),n.innerRadius,l(n.thickness,10)],h=Math.min(this.offset,0),f=/%$/;return r=this.isCircular,"polygon"===this.options.gridLineInterpolation?c=this.getPlotLinePath({value:t}).concat(this.getPlotLinePath({value:e,reverse:!0})):(t=Math.max(t,this.min),e=Math.min(e,this.max),r||(c[0]=this.translate(t),c[1]=this.translate(e)),c=c.map(function(t){return f.test(t)&&(t=u(t,10)*s/100),t}),"circle"!==n.shape&&r?(t=a+this.translate(t),e=a+this.translate(e)):(t=-Math.PI/2,e=1.5*Math.PI,o=!0),c[0]-=h,c[2]-=h,c=this.chart.renderer.symbols.arc(this.left+i[0],this.top+i[1],c[0],c[0],{start:Math.min(t,e),end:Math.max(t,e),innerR:l(c[1],c[0]-c[2]),open:o}),r&&(r=(e+t)/2,h=this.left+i[0]+i[2]/2*Math.cos(r),c.xBounds=r>-Math.PI/2&&r<Math.PI/2?[h,this.chart.plotWidth]:[0,h],c.yBounds=[this.top+i[1]+i[2]/2*Math.sin(r)],c.yBounds[0]+=r>-Math.PI&&0>r||r>Math.PI?-10:10)),c},getPlotLinePath:function(t){var e=this,n=e.center,r=e.chart,o=t.value;t=t.reverse;var i,a,s,l=e.getPosition(o);return e.isCircular?s=["M",n[0]+r.plotLeft,n[1]+r.plotTop,"L",l.x,l.y]:"circle"===e.options.gridLineInterpolation?(o=e.translate(o),s=e.getLinePath(0,o)):(r.xAxis.forEach(function(t){t.pane===e.pane&&(i=t)}),s=[],o=e.translate(o),n=i.tickPositions,i.autoConnect&&(n=n.concat([n[0]])),t&&(n=[].concat(n).reverse()),n.forEach(function(t,e){a=i.getPosition(t,o),s.push(e?"L":"M",a.x,a.y)})),s},getTitlePosition:function(){var t=this.center,e=this.chart,n=this.options.title;return{x:e.plotLeft+t[0]+(n.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[n.align]*t[2]+(n.y||0)}}},r(o,"init",function(t){var r,o=this,s=this.chart,l=s.angular,u=s.polar,c=this.isXAxis,h=l&&c,f=s.options;t=t.userOptions.pane||0,t=this.pane=s.pane&&s.pane[t],l?(i(this,h?e:n),(r=!c)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):u&&(i(this,n),this.defaultRadialOptions=(r=c)?this.defaultRadialXOptions:a(this.defaultYAxisOptions,this.defaultRadialYOptions)),l||u?(this.isRadial=!0,s.inverted=!1,f.chart.zoomType=null,s.labelCollectors.push(function(){if(o.isRadial&&o.tickPositions&&!0!==o.options.labels.allowOverlap)return o.tickPositions.map(function(t){return o.ticks[t]&&o.ticks[t].label}).filter(function(t){return!!t})})):this.isRadial=!1,t&&r&&(t.axis=this),this.isCircular=r}),r(o,"afterInit",function(){var t=this.chart,e=this.options,n=this.pane,r=n&&n.options;t.angular&&this.isXAxis||!n||!t.angular&&!t.polar||(this.angleRad=(e.angle||0)*Math.PI/180,this.startAngleRad=(r.startAngle-90)*Math.PI/180,this.endAngleRad=(l(r.endAngle,r.startAngle+360)-90)*Math.PI/180,this.offset=e.offset||0)}),r(o,"autoLabelAlign",function(t){this.isRadial&&(t.align=void 0,t.preventDefault())}),r(c,"afterGetPosition",function(t){this.axis.getPosition&&i(t.pos,this.axis.getPosition(this.pos))}),r(c,"afterGetLabelPosition",function(e){var n,r=this.axis,o=this.label,i=o.getBBox(),a=r.options.labels,s=a.y,u=20,c=a.align,h=(r.translate(this.pos)+r.startAngleRad+Math.PI/2)/Math.PI*180%360,f=Math.round(h),d="end",p=0>f?f+360:f,g=p,m=0,v=0,y=null===a.y?.3*-i.height:0;r.isRadial&&(n=r.getPosition(this.pos,r.center[2]/2+t.relativeLength(l(a.distance,-25),r.center[2]/2,-r.center[2]/2)),"auto"===a.rotation?o.attr({rotation:h}):null===s&&(s=r.chart.renderer.fontMetrics(o.styles&&o.styles.fontSize).b-i.height/2),null===c&&(r.isCircular?(i.width>r.len*r.tickInterval/(r.max-r.min)&&(u=0),c=h>u&&h<180-u?"left":h>180+u&&h<360-u?"right":"center"):c="center",o.attr({align:c})),"auto"===c&&2===r.tickPositions.length&&r.isCircular&&(90<p&&180>p?p=180-p:270<p&&360>=p&&(p=540-p),180<g&&360>=g&&(g=360-g),r.pane.options.startAngle!==f&&r.pane.options.startAngle!==f+360&&r.pane.options.startAngle!==f-360||(d="start"),c=-90<=f&&90>=f||-360<=f&&-270>=f||270<=f&&360>=f?"start"===d?"right":"left":"start"===d?"left":"right",70<g&&110>g&&(c="center"),15>p||180<=p&&195>p?m=.3*i.height:15<=p&&35>=p?m="start"===d?0:.75*i.height:195<=p&&215>=p?m="start"===d?.75*i.height:0:35<p&&90>=p?m="start"===d?.25*-i.height:i.height:215<p&&270>=p&&(m="start"===d?i.height:.25*-i.height),15>g?v="start"===d?.15*-i.height:.15*i.height:165<g&&180>=g&&(v="start"===d?.15*i.height:.15*-i.height),o.attr({align:c}),o.translate(v,m+y)),e.pos.x=n.x+a.x,e.pos.y=n.y+s)}),h(p,"getMarkPath",function(t,e,n,r,o,i,a){var s=this.axis;return s.isRadial?e=["M",e,n,"L",(t=s.getPosition(this.pos,s.center[2]/2+r)).x,t.y]:e=t.call(this,e,n,r,o,i,a),e})}),e(t,"parts-more/AreaRangeSeries.js",[t["parts/Globals.js"]],function(t){var e=t.pick,n=t.extend,r=t.isArray,o=t.defined,i=t.seriesType,a=t.seriesTypes,s=t.Series.prototype,l=t.Point.prototype;i("arearange","area",{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0}},{pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(t){var e=this.chart,n=this.xAxis.postTranslate(t.rectPlotX,this.yAxis.len-t.plotHigh);t.plotHighX=n.x-e.plotLeft,t.plotHigh=n.y-e.plotTop,t.plotLowX=t.plotX},translate:function(){var t=this,e=t.yAxis,n=!!t.modifyValue;a.area.prototype.translate.apply(t),t.points.forEach(function(r){var o=r.low,i=r.high,a=r.plotY;null===i||null===o?(r.isNull=!0,r.plotY=null):(r.plotLow=a,r.plotHigh=e.translate(n?t.modifyValue(i,r):i,0,1,0,1),n&&(r.yBottom=r.plotHigh))}),this.chart.polar&&this.points.forEach(function(e){t.highToXY(e),e.tooltipPos=[(e.plotHighX+e.plotLowX)/2,(e.plotHigh+e.plotLow)/2]})},getGraphPath:function(t){var n,r,o,i,s=[],l=[],u=a.area.prototype.getGraphPath;i=this.options;var c=this.chart.polar&&!1!==i.connectEnds,h=i.connectNulls,f=i.step;for(n=(t=t||this.points).length;n--;)(r=t[n]).isNull||c||h||t[n+1]&&!t[n+1].isNull||l.push({plotX:r.plotX,plotY:r.plotY,doCurve:!1}),o={polarPlotY:r.polarPlotY,rectPlotX:r.rectPlotX,yBottom:r.yBottom,plotX:e(r.plotHighX,r.plotX),plotY:r.plotHigh,isNull:r.isNull},l.push(o),s.push(o),r.isNull||c||h||t[n-1]&&!t[n-1].isNull||l.push({plotX:r.plotX,plotY:r.plotY,doCurve:!1});return t=u.call(this,t),f&&(!0===f&&(f="left"),i.step={left:"right",center:"center",right:"left"}[f]),s=u.call(this,s),l=u.call(this,l),i.step=f,i=[].concat(t,s),this.chart.polar||"M"!==l[0]||(l[0]="L"),this.graphPath=i,this.areaPath=t.concat(l),i.isArea=!0,i.xMap=t.xMap,this.areaPath.xMap=t.xMap,i},drawDataLabels:function(){var t,e,o,i,a,l=this.points,u=l.length,c=[],h=this.options.dataLabels,f=this.chart.inverted;if(r(h)?1<h.length?(i=h[0],a=h[1]):(i=h[0],a={enabled:!1}):((i=n({},h)).x=h.xHigh,i.y=h.yHigh,(a=n({},h)).x=h.xLow,a.y=h.yLow),i.enabled||this._hasPointLabels){for(t=u;t--;)(e=l[t])&&(o=i.inside?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.y=e.high,e._plotY=e.plotY,e.plotY=e.plotHigh,c[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=o,f?i.align||(i.align=o?"right":"left"):i.verticalAlign||(i.verticalAlign=o?"top":"bottom"));for(this.options.dataLabels=i,s.drawDataLabels&&s.drawDataLabels.apply(this,arguments),t=u;t--;)(e=l[t])&&(e.dataLabelUpper=e.dataLabel,e.dataLabel=c[t],delete e.dataLabels,e.y=e.low,e.plotY=e._plotY)}if(a.enabled||this._hasPointLabels){for(t=u;t--;)(e=l[t])&&(o=a.inside?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.below=!o,f?a.align||(a.align=o?"left":"right"):a.verticalAlign||(a.verticalAlign=o?"bottom":"top"));this.options.dataLabels=a,s.drawDataLabels&&s.drawDataLabels.apply(this,arguments)}if(i.enabled)for(t=u;t--;)(e=l[t])&&(e.dataLabels=[e.dataLabelUpper,e.dataLabel].filter(function(t){return!!t}));this.options.dataLabels=h},alignDataLabel:function(){a.column.prototype.alignDataLabel.apply(this,arguments)},drawPoints:function(){var e,n,r=this.points.length;for(s.drawPoints.apply(this,arguments),n=0;n<r;)(e=this.points[n]).origProps={plotY:e.plotY,plotX:e.plotX,isInside:e.isInside,negative:e.negative,zone:e.zone,y:e.y},e.lowerGraphic=e.graphic,e.graphic=e.upperGraphic,e.plotY=e.plotHigh,o(e.plotHighX)&&(e.plotX=e.plotHighX),e.y=e.high,e.negative=e.high<(this.options.threshold||0),e.zone=this.zones.length&&e.getZone(),this.chart.polar||(e.isInside=e.isTopInside=void 0!==e.plotY&&0<=e.plotY&&e.plotY<=this.yAxis.len&&0<=e.plotX&&e.plotX<=this.xAxis.len),n++;for(s.drawPoints.apply(this,arguments),n=0;n<r;)(e=this.points[n]).upperGraphic=e.graphic,e.graphic=e.lowerGraphic,t.extend(e,e.origProps),delete e.origProps,n++},setStackedPoints:t.noop},{setState:function(){var t=this.state,e=this.series,n=e.chart.polar;o(this.plotHigh)||(this.plotHigh=e.yAxis.toPixels(this.high,!0)),o(this.plotLow)||(this.plotLow=this.plotY=e.yAxis.toPixels(this.low,!0)),e.stateMarkerGraphic&&(e.lowerStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.upperStateMarkerGraphic),this.graphic=this.upperGraphic,this.plotY=this.plotHigh,n&&(this.plotX=this.plotHighX),l.setState.apply(this,arguments),this.state=t,this.plotY=this.plotLow,this.graphic=this.lowerGraphic,n&&(this.plotX=this.plotLowX),e.stateMarkerGraphic&&(e.upperStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.lowerStateMarkerGraphic,e.lowerStateMarkerGraphic=void 0),l.setState.apply(this,arguments)},haloPath:function(){var t=this.series.chart.polar,e=[];return this.plotY=this.plotLow,t&&(this.plotX=this.plotLowX),this.isInside&&(e=l.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,t&&(this.plotX=this.plotHighX),this.isTopInside&&(e=e.concat(l.haloPath.apply(this,arguments))),e},destroyElements:function(){return["lowerGraphic","upperGraphic"].forEach(function(t){this[t]&&(this[t]=this[t].destroy())},this),this.graphic=null,l.destroyElements.apply(this,arguments)}})}),e(t,"parts-more/AreaSplineRangeSeries.js",[t["parts/Globals.js"]],function(t){(0,t.seriesType)("areasplinerange","arearange",null,{getPointSpline:t.seriesTypes.spline.prototype.getPointSpline})}),e(t,"parts-more/ColumnRangeSeries.js",[t["parts/Globals.js"]],function(t){var e=t.defaultPlotOptions,n=t.merge,r=t.noop,o=t.pick,i=t.seriesType,a=t.seriesTypes.column.prototype;i("columnrange","arearange",n(e.column,e.arearange,{pointRange:null,marker:null,states:{hover:{halo:!1}}}),{translate:function(){var t,e,n=this,r=n.yAxis,i=n.xAxis,s=i.startAngleRad,l=n.chart,u=n.xAxis.isRadial,c=Math.max(l.chartWidth,l.chartHeight)+999;a.translate.apply(n),n.points.forEach(function(a){var h,f,d=a.shapeArgs,p=n.options.minPointLength;a.plotHigh=e=Math.min(Math.max(-c,r.translate(a.high,0,1,0,1)),c),a.plotLow=Math.min(Math.max(-c,a.plotY),c),f=e,h=o(a.rectPlotY,a.plotY)-e,Math.abs(h)<p?(h+=p-=h,f-=p/2):0>h&&(f-=h*=-1),u?(t=a.barX+s,a.shapeType="path",a.shapeArgs={d:n.polarArc(f+h,f,t,t+a.pointWidth)}):(d.height=h,d.y=f,a.tooltipPos=l.inverted?[r.len+r.pos-l.plotLeft-f-h/2,i.len+i.pos-l.plotTop-d.x-d.width/2,h]:[i.left-l.plotLeft+d.x+d.width/2,r.pos-l.plotTop+f+h/2,h])})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:r,getSymbol:r,crispCol:function(){return a.crispCol.apply(this,arguments)},drawPoints:function(){return a.drawPoints.apply(this,arguments)},drawTracker:function(){return a.drawTracker.apply(this,arguments)},getColumnMetrics:function(){return a.getColumnMetrics.apply(this,arguments)},pointAttribs:function(){return a.pointAttribs.apply(this,arguments)},animate:function(){return a.animate.apply(this,arguments)},polarArc:function(){return a.polarArc.apply(this,arguments)},translate3dPoints:function(){return a.translate3dPoints.apply(this,arguments)},translate3dShapes:function(){return a.translate3dShapes.apply(this,arguments)}},{setState:a.pointClass.prototype.setState})}),e(t,"parts-more/ColumnPyramidSeries.js",[t["parts/Globals.js"]],function(t){var e=t.pick,n=t.seriesType,r=t.seriesTypes.column.prototype;n("columnpyramid","column",{},{translate:function(){var t=this,n=t.chart,o=t.options,i=t.dense=2>t.closestPointRange*t.xAxis.transA,a=(i=t.borderWidth=e(o.borderWidth,i?0:1),t.yAxis),s=o.threshold,l=t.translatedThreshold=a.getThreshold(s),u=e(o.minPointLength,5),c=t.getColumnMetrics(),h=c.width,f=t.barW=Math.max(h,1+2*i),d=t.pointXOffset=c.offset;n.inverted&&(l-=.5),o.pointPadding&&(f=Math.ceil(f)),r.translate.apply(t),t.points.forEach(function(r){var i,c,p,g,m,v,y=e(r.yBottom,l),b=999+Math.abs(y),w=Math.min(Math.max(-b,r.plotY),a.len+b),C=(b=r.plotX+d,f/2),O=Math.min(w,y);y=Math.max(w,y)-O;r.barX=b,r.pointWidth=h,r.tooltipPos=n.inverted?[a.len+a.pos-n.plotLeft-w,t.xAxis.len-b-C,y]:[b+C,w+a.pos-n.plotTop,y],w=s+(r.total||r.y),"percent"===o.stacking&&(w=s+(0>r.y)?-100:100),p=C*(O+y-(w=a.toPixels(w,!0)))/(i=n.plotHeight-w-(n.plotHeight-l)),i=b-(c=C*(O-w)/i)+C,c=b+c+C,g=b+p+C,p=b-p+C,m=O-u,v=O+y,0>r.y&&(m=O,v=O+y+u),n.inverted&&(p=C*(w-((g=n.plotWidth-O)-y))/(i=w-(n.plotWidth-l)),c=(i=b+C+(c=C*(w-g)/i))-2*c,g=b-p+C,p=b+p+C,m=O,v=O+y-u,0>r.y&&(v=O+y+u)),r.shapeType="path",r.shapeArgs={x:i,y:m,width:c-i,height:y,d:["M",i,m,"L",c,m,g,v,p,v,"Z"]}})}})}),e(t,"parts-more/GaugeSeries.js",[t["parts/Globals.js"]],function(t){var e=t.isNumber,n=t.merge,r=t.pick,o=t.pInt,i=t.Series,a=t.seriesType,s=t.TrackerMixin;a("gauge","line",{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1},{angular:!0,directTouch:!0,drawGraph:t.noop,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var t=this.yAxis,i=this.options,a=t.center;this.generatePoints(),this.points.forEach(function(s){var l=n(i.dial,s.dial),u=o(r(l.radius,80))*a[2]/200,c=o(r(l.baseLength,70))*u/100,h=o(r(l.rearLength,10))*u/100,f=l.baseWidth||3,d=l.topWidth||1,p=i.overshoot,g=t.startAngleRad+t.translate(s.y,null,null,null,!0);e(p)?(p=p/180*Math.PI,g=Math.max(t.startAngleRad-p,Math.min(t.endAngleRad+p,g))):!1===i.wrap&&(g=Math.max(t.startAngleRad,Math.min(t.endAngleRad,g))),g=180*g/Math.PI,s.shapeType="path",s.shapeArgs={d:l.path||["M",-h,-f/2,"L",c,-f/2,u,-d/2,u,d/2,c,f/2,-h,f/2,"z"],translateX:a[0],translateY:a[1],rotation:g},s.plotX=a[0],s.plotY=a[1]})},drawPoints:function(){var t=this,e=t.chart,o=t.yAxis.center,i=t.pivot,a=t.options,s=a.pivot,l=e.renderer;t.points.forEach(function(r){var o=r.graphic,i=r.shapeArgs,s=i.d,u=n(a.dial,r.dial);o?(o.animate(i),i.d=s):r.graphic=l[r.shapeType](i).attr({rotation:i.rotation,zIndex:1}).addClass("highcharts-dial").add(t.group),e.styledMode||r.graphic[o?"animate":"attr"]({stroke:u.borderColor||"none","stroke-width":u.borderWidth||0,fill:u.backgroundColor||"#000000"})}),i?i.animate({translateX:o[0],translateY:o[1]}):(t.pivot=l.circle(0,0,r(s.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(o[0],o[1]).add(t.group),e.styledMode||t.pivot.attr({"stroke-width":s.borderWidth||0,stroke:s.borderColor||"#cccccc",fill:s.backgroundColor||"#000000"}))},animate:function(t){var e=this;t||(e.points.forEach(function(t){var n=t.graphic;n&&(n.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),n.animate({rotation:t.shapeArgs.rotation},e.options.animation))}),e.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),i.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){i.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),r(e,!0)&&this.chart.redraw()},hasData:function(){return!!this.points.length},drawTracker:s&&s.drawTrackerPoint},{setState:function(t){this.state=t}})}),e(t,"parts-more/BoxPlotSeries.js",[t["parts/Globals.js"]],function(t){var e=t.noop,n=t.pick,r=t.seriesType,o=t.seriesTypes;r("boxplot","column",{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2},{pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttribs:function(){return{}},drawDataLabels:e,translate:function(){var t=this.yAxis,e=this.pointArrayMap;o.column.prototype.translate.apply(this),this.points.forEach(function(n){e.forEach(function(e){null!==n[e]&&(n[e+"Plot"]=t.translate(n[e],0,1,0,1))})})},drawPoints:function(){var t,e,r,o,i,a,s,l,u,c,h,f=this,d=f.options,p=f.chart,g=p.renderer,m=0,v=!1!==f.doQuartiles,y=f.options.whiskerLength;f.points.forEach(function(b){var w=b.graphic,C=w?"animate":"attr",O=b.shapeArgs,S={},E={},k={},T={},R=b.color||f.color;void 0!==b.plotY&&(s=O.width,l=Math.floor(O.x),u=l+s,c=Math.round(s/2),t=Math.floor(v?b.q1Plot:b.lowPlot),e=Math.floor(v?b.q3Plot:b.lowPlot),r=Math.floor(b.highPlot),o=Math.floor(b.lowPlot),w||(b.graphic=w=g.g("point").add(f.group),b.stem=g.path().addClass("highcharts-boxplot-stem").add(w),y&&(b.whiskers=g.path().addClass("highcharts-boxplot-whisker").add(w)),v&&(b.box=g.path(void 0).addClass("highcharts-boxplot-box").add(w)),b.medianShape=g.path(void 0).addClass("highcharts-boxplot-median").add(w)),p.styledMode||(E.stroke=b.stemColor||d.stemColor||R,E["stroke-width"]=n(b.stemWidth,d.stemWidth,d.lineWidth),E.dashstyle=b.stemDashStyle||d.stemDashStyle,b.stem.attr(E),y&&(k.stroke=b.whiskerColor||d.whiskerColor||R,k["stroke-width"]=n(b.whiskerWidth,d.whiskerWidth,d.lineWidth),b.whiskers.attr(k)),v&&(S.fill=b.fillColor||d.fillColor||R,S.stroke=d.lineColor||R,S["stroke-width"]=d.lineWidth||0,b.box.attr(S)),T.stroke=b.medianColor||d.medianColor||R,T["stroke-width"]=n(b.medianWidth,d.medianWidth,d.lineWidth),b.medianShape.attr(T)),a=b.stem.strokeWidth()%2/2,m=l+c+a,b.stem[C]({d:["M",m,e,"L",m,r,"M",m,t,"L",m,o]}),v&&(a=b.box.strokeWidth()%2/2,t=Math.floor(t)+a,e=Math.floor(e)+a,l+=a,u+=a,b.box[C]({d:["M",l,e,"L",l,t,"L",u,t,"L",u,e,"L",l,e,"z"]})),y&&(a=b.whiskers.strokeWidth()%2/2,r+=a,o+=a,h=/%$/.test(y)?c*parseFloat(y)/100:y/2,b.whiskers[C]({d:["M",m-h,r,"L",m+h,r,"M",m-h,o,"L",m+h,o]})),i=Math.round(b.medianPlot),a=b.medianShape.strokeWidth()%2/2,i+=a,b.medianShape[C]({d:["M",l,i,"L",u,i]}))})},setStackedPoints:e})}),e(t,"parts-more/ErrorBarSeries.js",[t["parts/Globals.js"]],function(t){var e=t.noop,n=t.seriesType,r=t.seriesTypes;n("errorbar","boxplot",{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null},{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:r.arearange?function(){var t=this.pointValKey;r.arearange.prototype.drawDataLabels.call(this),this.data.forEach(function(e){e.y=e[t]})}:e,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||r.column.prototype.getColumnMetrics.call(this)}})}),e(t,"parts-more/WaterfallSeries.js",[t["parts/Globals.js"]],function(t){var e=t.correctFloat,n=t.isNumber,r=t.pick,o=t.objectEach,i=t.arrayMin,a=t.arrayMax,s=t.addEvent,l=t.Axis,u=t.Chart,c=t.Point,h=t.Series,f=t.StackItem,d=t.seriesType,p=t.seriesTypes;s(l,"afterInit",function(){this.isXAxis||(this.waterfallStacks={changed:!1})}),s(u,"beforeRedraw",function(){for(var t=this.axes,e=this.series,n=e.length;n--;)e[n].options.stacking&&(t.forEach(function(t){t.isXAxis||(t.waterfallStacks.changed=!0)}),n=0)}),s(l,"afterRender",function(){var t=this.options.stackLabels;t&&t.enabled&&this.waterfallStacks&&this.renderWaterfallStackTotals()}),l.prototype.renderWaterfallStackTotals=function(){var t=this.waterfallStacks,e=this.stackTotalGroup,n=new f(this,this.options.stackLabels,!1,0,void 0);this.dummyStackItem=n,o(t,function(t){o(t,function(t){n.total=t.stackTotal,t.label&&(n.label=t.label),f.prototype.render.call(n,e),t.label=n.label,delete n.label})}),n.total=null},d("waterfall","column",{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}},{pointValKey:"y",showLine:!0,generatePoints:function(){var t,n,r,o;for(p.column.prototype.generatePoints.apply(this),r=0,n=this.points.length;r<n;r++)t=this.points[r],o=this.processedYData[r],(t.isIntermediateSum||t.isSum)&&(t.y=e(o))},translate:function(){var t,e,n,o,i,a,s,l,u,c,h=this.options,f=this.yAxis,d=r(h.minPointLength,5),g=d/2,m=h.threshold,v=h.stacking,y=f.waterfallStacks[this.stackKey];for(p.column.prototype.translate.apply(this),s=l=m,t=0,h=(e=this.points).length;t<h;t++)n=e[t],a=this.processedYData[t],o=n.shapeArgs,u=[0,a],c=n.y,v?(y&&(u=y[t],"overlap"===v?(i=u.stackState[u.stateIndex--],i=0<=c?i:i-c,u.hasOwnProperty("absolutePos")&&delete u.absolutePos,u.hasOwnProperty("absoluteNeg")&&delete u.absoluteNeg):(0<=c?(i=u.threshold+u.posTotal,u.posTotal-=c):(i=u.threshold+u.negTotal,u.negTotal-=c,i-=c),!u.posTotal&&u.hasOwnProperty("absolutePos")&&(u.posTotal=u.absolutePos,delete u.absolutePos),!u.negTotal&&u.hasOwnProperty("absoluteNeg")&&(u.negTotal=u.absoluteNeg,delete u.absoluteNeg)),n.isSum||(u.connectorThreshold=u.threshold+u.stackTotal),f.reversed?(a=0<=c?i-c:i+c,c=i):(a=i,c=i-c),n.below=a<=r(m,0),o.y=f.translate(a,0,1,0,1),o.height=Math.abs(o.y-f.translate(c,0,1,0,1))),(c=f.dummyStackItem)&&(c.x=t,c.label=y[t].label,c.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[t],this.stackedYPos[t]))):(i=Math.max(s,s+c)+u[0],o.y=f.translate(i,0,1,0,1),n.isSum?(o.y=f.translate(u[1],0,1,0,1),o.height=Math.min(f.translate(u[0],0,1,0,1),f.len)-o.y):n.isIntermediateSum?(0<=c?(a=u[1]+l,c=l):(a=l,c=u[1]+l),f.reversed&&(a^=c,a^=c^=a),o.y=f.translate(a,0,1,0,1),o.height=Math.abs(o.y-Math.min(f.translate(c,0,1,0,1),f.len)),l+=u[1]):(o.height=0<a?f.translate(s,0,1,0,1)-o.y:f.translate(s,0,1,0,1)-f.translate(s-a,0,1,0,1),s+=a,n.below=s<r(m,0)),0>o.height&&(o.y+=o.height,o.height*=-1)),n.plotY=o.y=Math.round(o.y)-this.borderWidth%2/2,o.height=Math.max(Math.round(o.height),.001),n.yBottom=o.y+o.height,o.height<=d&&!n.isNull?(o.height=d,o.y-=g,n.plotY=o.y,n.minPointLengthOffset=0>n.y?-g:g):(n.isNull&&(o.width=0),n.minPointLengthOffset=0),o=n.plotY+(n.negative?o.height:0),this.chart.inverted?n.tooltipPos[0]=f.len-o:n.tooltipPos[1]=o},processData:function(t){var n,r,o,i,a,s,l,u=this.options,c=this.yData,f=u.data,d=c.length,p=u.threshold||0;for(l=o=r=i=a=0;l<d;l++)s=c[l],n=f&&f[l]?f[l]:{},"sum"===s||n.isSum?c[l]=e(o):"intermediateSum"===s||n.isIntermediateSum?(c[l]=e(r),r=0):(o+=s,r+=s),i=Math.min(o,i),a=Math.max(o,a);h.prototype.processData.call(this,t),u.stacking||(this.dataMin=i+p,this.dataMax=a)},toYData:function(t){return t.isSum?0===t.x?null:"sum":t.isIntermediateSum?0===t.x?null:"intermediateSum":t.y},pointAttribs:function(t,e){var n=this.options.upColor;return n&&!t.options.color&&(t.color=0<t.y?n:null),delete(t=p.column.prototype.pointAttribs.call(this,t,e)).dashstyle,t},getGraphPath:function(){return["M",0,0]},getCrispPath:function(){var t,e,n,r,o,i,a,s=this.data,l=this.yAxis,u=s.length,c=Math.round(this.graph.strokeWidth())%2/2,h=Math.round(this.borderWidth)%2/2,f=this.xAxis.reversed,d=this.yAxis.reversed,p=this.options.stacking,g=[];for(i=1;i<u;i++)o=s[i].shapeArgs,e=s[i-1],r=s[i-1].shapeArgs,t=l.waterfallStacks[this.stackKey],n=0<e.y?-r.height:0,t&&(t=t[i-1],p?(t=t.connectorThreshold,n=Math.round(l.translate(t,0,1,0,1)+(d?n:0))-c):n=r.y+e.minPointLengthOffset+h-c,a=["M",r.x+(f?0:r.width),n,"L",o.x+(f?o.width:0),n]),(!p&&0>e.y&&!d||0<e.y&&d)&&(a[2]+=r.height,a[5]+=r.height),g=g.concat(a);return g},drawGraph:function(){h.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},setStackedPoints:function(){function t(t,n,r,o){if(i)for(;r<i;r++)e.stackState[r]+=o;else e.stackState[0]=t,i=e.stackState.length;e.stackState.push(e.stackState[i-1]+n)}var e,n,r,o,i,a,s,l,u,c=this.options,h=this.yAxis.waterfallStacks,f=c.threshold,d=f||0,p=d,g=this.stackKey,m=this.xData,v=m.length;if(this.yAxis.usePercentage=!1,n=r=o=d,this.visible||!this.chart.options.chart.ignoreHiddenSeries){h[g]||(h[g]={});g=h[g];for(var y=0;y<v;y++)g[a=m[y]]&&!h.changed||(g[a]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:h.changed&&g[a]?g[a].label:void 0}),e=g[a],0<=(u=this.yData[y])?e.posTotal+=u:e.negTotal+=u,l=c.data[y],a=e.absolutePos=e.posTotal,s=e.absoluteNeg=e.negTotal,e.stackTotal=a+s,i=e.stackState.length,l&&l.isIntermediateSum?(t(o,r,0,o),o=r,r=f,d^=p,d^=p^=d):l&&l.isSum?(t(f,n,i),d=f):(t(d,u,0,n),l&&(n+=u,r+=u)),e.stateIndex++,e.threshold=d,d+=e.stackTotal;h.changed=!1}},getExtremes:function(){var t,e,n,r=this.options.stacking;r&&(t=(t=this.yAxis).waterfallStacks,e=this.stackedYNeg=[],n=this.stackedYPos=[],o(t[this.stackKey],"overlap"===r?function(t){e.push(i(t.stackState)),n.push(a(t.stackState))}:function(t){e.push(t.negTotal+t.threshold),n.push(t.posTotal+t.threshold)}),this.dataMin=i(e),this.dataMax=a(n))}},{getClassName:function(){var t=c.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t},isValid:function(){return n(this.y,!0)||this.isSum||this.isIntermediateSum}})}),e(t,"parts-more/PolygonSeries.js",[t["parts/Globals.js"]],function(t){var e=t.Series,n=t.seriesType,r=t.seriesTypes;n("polygon","scatter",{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0},{type:"polygon",getGraphPath:function(){for(var t=e.prototype.getGraphPath.call(this),n=t.length+1;n--;)(n===t.length||"M"===t[n])&&0<n&&t.splice(n,0,"z");return this.areaPath=t},drawGraph:function(){this.options.fillColor=this.color,r.area.prototype.drawGraph.call(this)},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawTracker:e.prototype.drawTracker,setStackedPoints:t.noop})}),e(t,"parts-more/BubbleLegend.js",[t["parts/Globals.js"]],function(t){var e=t.Series,n=t.Legend,r=t.Chart,o=t.addEvent,i=t.wrap,a=t.color,s=t.isNumber,l=t.numberFormat,u=t.objectEach,c=t.merge,h=t.noop,f=t.pick,d=t.stableSort,p=t.setOptions,g=t.arrayMin,m=t.arrayMax;p({legend:{bubbleLegend:{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:10,color:void 0},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}}),t.BubbleLegend=function(t,e){this.init(t,e)},t.BubbleLegend.prototype={init:function(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e},setState:h,addToLegend:function(t){t.splice(this.options.legendIndex,0,this)},drawLegendSymbol:function(t){var e,n=this.chart,r=this.options,o=f(t.options.itemDistance,20),i=r.ranges;e=r.connectorDistance,this.fontMetrics=n.renderer.fontMetrics(r.labels.style.fontSize.toString()+"px"),i&&i.length&&s(i[0].value)?(d(i,function(t,e){return e.value-t.value}),this.ranges=i,this.setOptions(),this.render(),n=this.getMaxLabelSize(),t=2*(i=this.ranges[0].radius),e=0<(e=e-i+n.width)?e:0,this.maxLabel=n,this.movementX="left"===r.labels.align?e:0,this.legendItemWidth=t+e+o,this.legendItemHeight=t+this.fontMetrics.h/2):t.options.bubbleLegend.autoRanges=!0},setOptions:function(){var t=this.ranges,e=this.options,n=this.chart.series[e.seriesIndex],r=this.legend.baseline,o={"z-index":e.zIndex,"stroke-width":e.borderWidth},i={"z-index":e.zIndex,"stroke-width":e.connectorWidth},s=this.getLabelStyles(),l=n.options.marker.fillOpacity,u=this.chart.styledMode;t.forEach(function(h,d){u||(o.stroke=f(h.borderColor,e.borderColor,n.color),o.fill=f(h.color,e.color,1!==l?a(n.color).setOpacity(l).get("rgba"):n.color),i.stroke=f(h.connectorColor,e.connectorColor,n.color)),t[d].radius=this.getRangeRadius(h.value),t[d]=c(t[d],{center:t[0].radius-t[d].radius+r}),u||c(!0,t[d],{bubbleStyle:c(!1,o),connectorStyle:c(!1,i),labelStyle:s})},this)},getLabelStyles:function(){var t=this.options,e={},n="left"===t.labels.align,r=this.legend.options.rtl;return u(t.labels.style,function(t,n){"color"!==n&&"fontSize"!==n&&"z-index"!==n&&(e[n]=t)}),c(!1,e,{"font-size":t.labels.style.fontSize,fill:f(t.labels.style.color,"#000000"),"z-index":t.zIndex,align:r||n?"right":"left"})},getRangeRadius:function(t){var e=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,e.ranges[e.ranges.length-1].value,e.ranges[0].value,e.minSize,e.maxSize,t)},render:function(){var t=this.chart.renderer,e=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=t.g("bubble-legend"),this.legendItem=t.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach(function(t){t.value>=e&&this.renderRange(t)},this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},renderRange:function(t){var e,n=this.options,r=n.labels,o=this.chart.renderer,i=this.symbols,a=i.labels,s=t.center,l=Math.abs(t.radius),u=n.connectorDistance,c=r.align,h=r.style.fontSize,f=(u=this.legend.options.rtl||"left"===c?-u:u,r=n.connectorWidth,this.ranges[0].radius),d=s-l-n.borderWidth/2+r/2,p=(h=h/2-(this.fontMetrics.h-h)/2,o.styledMode);"center"===c&&(u=0,n.connectorDistance=0,t.labelStyle.align="center"),c=d+n.labels.y,e=f+u+n.labels.x,i.bubbleItems.push(o.circle(f,s+((d%1?1:.5)-(r%2?0:.5)),l).attr(p?{}:t.bubbleStyle).addClass((p?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-symbol "+(n.className||"")).add(this.legendSymbol)),i.connectors.push(o.path(o.crispLine(["M",f,d,"L",f+u,d],n.connectorWidth)).attr(p?{}:t.connectorStyle).addClass((p?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(n.connectorClassName||"")).add(this.legendSymbol)),t=o.text(this.formatLabel(t),e,c+h).attr(p?{}:t.labelStyle).addClass("highcharts-bubble-legend-labels "+(n.labels.className||"")).add(this.legendSymbol),a.push(t),t.placed=!0,t.alignAttr={x:e,y:c+h}},getMaxLabelSize:function(){var t,e;return this.symbols.labels.forEach(function(n){e=n.getBBox(!0),t=t?e.width>t.width?e:t:e}),t||{}},formatLabel:function(e){var n=this.options,r=n.labels.formatter;return(n=n.labels.format)?t.format(n,e):r?r.call(e):l(e.value,1)},hideOverlappingLabels:function(){var t=this.chart,e=this.symbols;!this.options.labels.allowOverlap&&e&&(t.hideOverlappingLabels(e.labels),e.labels.forEach(function(t,n){t.newOpacity?t.newOpacity!==t.oldOpacity&&e.connectors[n].show():e.connectors[n].hide()}))},getRanges:function(){var t,e,n=this.legend.bubbleLegend,r=n.options.ranges,o=Number.MAX_VALUE,i=-Number.MAX_VALUE;return n.chart.series.forEach(function(t){t.isBubble&&!t.ignoreSeries&&((e=t.zData.filter(s)).length&&(o=f(t.options.zMin,Math.min(o,Math.max(g(e),!1===t.options.displayNegative?t.options.zThreshold:-Number.MAX_VALUE))),i=f(t.options.zMax,Math.max(i,m(e)))))}),t=o===i?[{value:i}]:[{value:o},{value:(o+i)/2},{value:i,autoRanges:!0}],r.length&&r[0].radius&&t.reverse(),t.forEach(function(e,n){r&&r[n]&&(t[n]=c(!1,r[n],e))}),t},predictBubbleSizes:function(){var t=this.chart,e=this.fontMetrics,n=t.legend.options,r="horizontal"===n.layout,o=r?t.legend.lastLineHeight:0,i=t.plotSizeX,a=t.plotSizeY,s=t.series[this.options.seriesIndex],l=(t=Math.ceil(s.minPxSize),Math.ceil(s.maxPxSize)),u=(s=s.options.maxSize,Math.min(a,i));return n.floating||!/%$/.test(s)?e=l:(s=parseFloat(s),e=(u+o-e.h/2)*s/100/(s/100+1),(r&&a-e>=i||!r&&i-e>=a)&&(e=l)),[t,Math.ceil(e)]},updateRanges:function(t,e){var n=this.legend.options.bubbleLegend;n.minSize=t,n.maxSize=e,n.ranges=this.getRanges()},correctSizes:function(){var t=this.legend,e=this.chart.series[this.options.seriesIndex];1<Math.abs(Math.ceil(e.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())}},o(t.Legend,"afterGetAllItems",function(e){var n=this.bubbleLegend,r=this.options,o=r.bubbleLegend,i=this.chart.getVisibleBubbleSeriesIndex();n&&n.ranges&&n.ranges.length&&(o.ranges.length&&(o.autoRanges=!!o.ranges[0].autoRanges),this.destroyItem(n)),0<=i&&r.enabled&&o.enabled&&(o.seriesIndex=i,this.bubbleLegend=new t.BubbleLegend(o,this),this.bubbleLegend.addToLegend(e.allItems))}),r.prototype.getVisibleBubbleSeriesIndex=function(){for(var t=this.series,e=0;e<t.length;){if(t[e]&&t[e].isBubble&&t[e].visible&&t[e].zData.length)return e;e++}return-1},n.prototype.getLinesHeights=function(){var t,e,n=this.allItems,r=[],o=n.length,i=0;for(e=0;e<o;e++)if(n[e].legendItemHeight&&(n[e].itemHeight=n[e].legendItemHeight),n[e]===n[o-1]||n[e+1]&&n[e]._legendItemPos[1]!==n[e+1]._legendItemPos[1]){for(r.push({height:0}),t=r[r.length-1];i<=e;i++)n[i].itemHeight>t.height&&(t.height=n[i].itemHeight);t.step=e}return r},n.prototype.retranslateItems=function(t){var e,n,r,o=this.options.rtl,i=0;this.allItems.forEach(function(a,s){e=a.legendGroup.translateX,n=a._legendItemPos[1],((r=a.movementX)||o&&a.ranges)&&(r=o?e-a.options.maxSize/2:e+r,a.legendGroup.attr({translateX:r})),s>t[i].step&&i++,a.legendGroup.attr({translateY:Math.round(n+t[i].height/2)}),a._legendItemPos[1]=n+t[i].height/2})},o(e,"legendItemClick",function(){var t=this.chart,e=this.visible,n=this.chart.legend;n&&n.bubbleLegend&&(this.visible=!e,this.ignoreSeries=e,t=0<=t.getVisibleBubbleSeriesIndex(),n.bubbleLegend.visible!==t&&(n.update({bubbleLegend:{enabled:t}}),n.bubbleLegend.visible=t),this.visible=e)}),i(r.prototype,"drawChartBox",function(t,e,n){var r,o=this.legend,i=0<=this.getVisibleBubbleSeriesIndex();o&&o.options.enabled&&o.bubbleLegend&&o.options.bubbleLegend.autoRanges&&i?(r=o.bubbleLegend.options,i=o.bubbleLegend.predictBubbleSizes(),o.bubbleLegend.updateRanges(i[0],i[1]),r.placed||(o.group.placed=!1,o.allItems.forEach(function(t){t.legendGroup.translateY=null})),o.render(),this.getMargins(),this.axes.forEach(function(t){t.render(),r.placed||(t.setScale(),t.updateNames(),u(t.ticks,function(t){t.isNew=!0,t.isNewLabel=!0}))}),r.placed=!0,this.getMargins(),t.call(this,e,n),o.bubbleLegend.correctSizes(),o.retranslateItems(o.getLinesHeights())):(t.call(this,e,n),o&&o.options.enabled&&o.bubbleLegend&&(o.render(),o.retranslateItems(o.getLinesHeights())))})}),e(t,"parts-more/BubbleSeries.js",[t["parts/Globals.js"]],function(t){var e=t.arrayMax,n=t.arrayMin,r=t.Axis,o=t.color,i=t.isNumber,a=t.noop,s=t.pick,l=t.pInt,u=t.Point,c=t.Series,h=t.seriesType,f=t.seriesTypes;h("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,isBubble:!0,pointAttribs:function(t,e){var n=this.options.marker.fillOpacity;return t=c.prototype.pointAttribs.call(this,t,e),1!==n&&(t.fill=o(t.fill).setOpacity(n).get("rgba")),t},getRadii:function(t,e,n){var r,o,i=this.zData,a=n.minPxSize,s=n.maxPxSize,l=[];for(r=0,n=i.length;r<n;r++)o=i[r],l.push(this.getRadius(t,e,a,s,o));this.radii=l},getRadius:function(t,e,n,r,o){var a=this.options,s="width"!==a.sizeBy,l=a.zThreshold,u=e-t;return a.sizeByAbsoluteValue&&null!==o&&(o=Math.abs(o-l),u=Math.max(e-l,Math.abs(t-l)),t=0),i(o)?o<t?n=n/2-1:(t=0<u?(o-t)/u:.5,s&&0<=t&&(t=Math.sqrt(t)),n=Math.ceil(n+t*(r-n))/2):n=null,n},animate:function(t){!t&&this.points.length<this.options.animationLimit&&(this.points.forEach(function(t){var e,n=t.graphic;n&&n.width&&(e={x:n.x,y:n.y,width:n.width,height:n.height},n.attr({x:t.plotX,y:t.plotY,width:1,height:1}),n.animate(e,this.options.animation))},this),this.animate=null)},hasData:function(){return!!this.processedXData.length},translate:function(){var e,n,r,o=this.data,a=this.radii;for(f.scatter.prototype.translate.call(this),e=o.length;e--;)n=o[e],r=a?a[e]:0,i(r)&&r>=this.minPxSize/2?(n.marker=t.extend(n.marker,{radius:r,width:2*r,height:2*r}),n.dlBox={x:n.plotX-r,y:n.plotY-r,width:2*r,height:2*r}):n.shapeArgs=n.plotY=n.dlBox=void 0},alignDataLabel:f.column.prototype.alignDataLabel,buildKDTree:a,applyZones:a},{haloPath:function(t){return u.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)},ttBelow:!1}),r.prototype.beforePadding=function(){var r=this,o=this.len,a=this.chart,u=0,c=o,h=this.isXAxis,f=h?"xData":"yData",d=this.min,p={},g=Math.min(a.plotWidth,a.plotHeight),m=Number.MAX_VALUE,v=-Number.MAX_VALUE,y=this.max-d,b=o/y,w=[];this.series.forEach(function(o){var i=o.options;!o.bubblePadding||!o.visible&&a.options.chart.ignoreHiddenSeries||(r.allowZoomOutside=!0,w.push(o),h&&(["minSize","maxSize"].forEach(function(t){var e=i[t],n=/%$/.test(e);e=l(e);p[t]=n?g*e/100:e}),o.minPxSize=p.minSize,o.maxPxSize=Math.max(p.maxSize,p.minSize),(o=o.zData.filter(t.isNumber)).length&&(m=s(i.zMin,Math.min(m,Math.max(n(o),!1===i.displayNegative?i.zThreshold:-Number.MAX_VALUE))),v=s(i.zMax,Math.max(v,e(o))))))}),w.forEach(function(t){var e,n=t[f],o=n.length;if(h&&t.getRadii(m,v,t),0<y)for(;o--;)i(n[o])&&r.dataMin<=n[o]&&n[o]<=r.dataMax&&(e=t.radii[o],u=Math.min((n[o]-d)*b-e,u),c=Math.max((n[o]-d)*b+e,c))}),w.length&&0<y&&!this.isLog&&(c-=o,b*=(o+Math.max(0,u)-Math.min(c,o))/o,[["min","userMin",u],["max","userMax",c]].forEach(function(t){void 0===s(r.options[t[0]],r[t[1]])&&(r[t[0]]+=t[2]/b)}))}}),e(t,"modules/networkgraph/integrations.js",[t["parts/Globals.js"]],function(t){t.networkgraphIntegrations={verlet:{attractiveForceFunction:function(t,e){return(e-t)/t},repulsiveForceFunction:function(t,e){return(e-t)/t*(e>t?1:0)},barycenter:function(){var t=this.options.gravitationalConstant,e=this.barycenter.xFactor,n=this.barycenter.yFactor;e=(e-(this.box.left+this.box.width)/2)*t,n=(n-(this.box.top+this.box.height)/2)*t;this.nodes.forEach(function(t){t.fixedPosition||(t.plotX-=e/t.mass/t.degree,t.plotY-=n/t.mass/t.degree)})},repulsive:function(t,e,n){e=e*this.diffTemperature/t.mass/t.degree,t.fixedPosition||(t.plotX+=n.x*e,t.plotY+=n.y*e)},attractive:function(t,e,n){var r=t.getMass(),o=-n.x*e*this.diffTemperature;e=-n.y*e*this.diffTemperature,t.fromNode.fixedPosition||(t.fromNode.plotX-=o*r.fromNode/t.fromNode.degree,t.fromNode.plotY-=e*r.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.plotX+=o*r.toNode/t.toNode.degree,t.toNode.plotY+=e*r.toNode/t.toNode.degree)},integrate:function(t,e){var n=-t.options.friction,r=t.options.maxSpeed,o=(e.plotX+e.dispX-e.prevX)*n,i=(n=(e.plotY+e.dispY-e.prevY)*n,(a=Math.abs)(o)/(o||1)),a=a(n)/(n||1);o=i*Math.min(r,Math.abs(o)),n=a*Math.min(r,Math.abs(n));e.prevX=e.plotX+e.dispX,e.prevY=e.plotY+e.dispY,e.plotX+=o,e.plotY+=n,e.temperature=t.vectorLength({x:o,y:n})},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.5)}},euler:{attractiveForceFunction:function(t,e){return t*t/e},repulsiveForceFunction:function(t,e){return e*e/t},barycenter:function(){var t=this.options.gravitationalConstant,e=this.barycenter.xFactor,n=this.barycenter.yFactor;this.nodes.forEach(function(r){if(!r.fixedPosition){var o=(o=r.getDegree())*(1+o/2);r.dispX+=(e-r.plotX)*t*o/r.degree,r.dispY+=(n-r.plotY)*t*o/r.degree}})},repulsive:function(t,e,n,r){t.dispX+=n.x/r*e/t.degree,t.dispY+=n.y/r*e/t.degree},attractive:function(t,e,n,r){var o=t.getMass(),i=n.x/r*e;e*=n.y/r,t.fromNode.fixedPosition||(t.fromNode.dispX-=i*o.fromNode/t.fromNode.degree,t.fromNode.dispY-=e*o.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.dispX+=i*o.toNode/t.toNode.degree,t.toNode.dispY+=e*o.toNode/t.toNode.degree)},integrate:function(t,e){var n;e.dispX+=e.dispX*t.options.friction,e.dispY+=e.dispY*t.options.friction,0!==(n=e.temperature=t.vectorLength({x:e.dispX,y:e.dispY}))&&(e.plotX+=e.dispX/n*Math.min(Math.abs(e.dispX),t.temperature),e.plotY+=e.dispY/n*Math.min(Math.abs(e.dispY),t.temperature))},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.3)}}}}),e(t,"modules/networkgraph/QuadTree.js",[t["parts/Globals.js"]],function(t){var e=t.QuadTreeNode=function(t){this.box=t,this.boxSize=Math.min(t.width,t.height),this.nodes=[],this.body=this.isInternal=!1,this.isEmpty=!0};t.extend(e.prototype,{insert:function(t,e){this.isInternal?this.nodes[this.getBoxPosition(t)].insert(t,e-1):(this.isEmpty=!1,this.body?e?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,e-1),this.body=!0),this.nodes[this.getBoxPosition(t)].insert(t,e-1)):this.nodes.push(t):(this.isInternal=!1,this.body=t))},updateMassAndCenter:function(){var t=0,e=0,n=0;this.isInternal?(this.nodes.forEach(function(r){r.isEmpty||(t+=r.mass,e+=r.plotX*r.mass,n+=r.plotY*r.mass)}),e/=t,n/=t):this.body&&(t=this.body.mass,e=this.body.plotX,n=this.body.plotY),this.mass=t,this.plotX=e,this.plotY=n},divideBox:function(){var t=this.box.width/2,n=this.box.height/2;this.nodes[0]=new e({left:this.box.left,top:this.box.top,width:t,height:n}),this.nodes[1]=new e({left:this.box.left+t,top:this.box.top,width:t,height:n}),this.nodes[2]=new e({left:this.box.left+t,top:this.box.top+n,width:t,height:n}),this.nodes[3]=new e({left:this.box.left,top:this.box.top+n,width:t,height:n})},getBoxPosition:function(t){var e=t.plotY<this.box.top+this.box.height/2;return t.plotX<this.box.left+this.box.width/2?e?0:3:e?1:2}});var n=t.QuadTree=function(t,n,r,o){this.box={left:t,top:n,width:r,height:o},this.maxDepth=25,this.root=new e(this.box,"0"),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()};t.extend(n.prototype,{insertNodes:function(t){t.forEach(function(t){this.root.insert(t,this.maxDepth)},this)},visitNodeRecursive:function(t,e,n,r,o){var i;t||(t=this.root),t===this.root&&e&&(i=e(t)),!1!==i&&(t.nodes.forEach(function(t){if(t.isInternal){if(e&&(i=e(t)),!1===i)return;this.visitNodeRecursive(t,e,n,r,o)}else t.body&&e&&e(t.body);n&&n(t)},this),t===this.root&&n&&n(t))},calculateMassAndCenter:function(){this.visitNodeRecursive(null,null,function(t){t.updateMassAndCenter()})},render:function(t,e){this.visitNodeRecursive(this.root,null,null,t,e)},clear:function(t){this.render(t,!0)},renderBox:function(t,e,n){t.graphic||n?n&&(t.graphic&&(t.graphic=t.graphic.destroy()),t.graphic2&&(t.graphic2=t.graphic2.destroy()),t.label&&(t.label=t.label.destroy())):(t.graphic=e.renderer.rect(t.box.left+e.plotLeft,t.box.top+e.plotTop,t.box.width,t.box.height).attr({stroke:"rgba(100, 100, 100, 0.5)","stroke-width":2}).add(),isNaN(t.plotX)||(t.graphic2=e.renderer.circle(t.plotX,t.plotY,t.mass/10).attr({fill:"red",translateY:e.plotTop,translateX:e.plotLeft}).add()))}})}),e(t,"modules/networkgraph/layouts.js",[t["parts/Globals.js"]],function(t){var e=t.pick,n=t.defined,r=t.addEvent,o=t.Chart;t.layouts={"reingold-fruchterman":function(){}},t.extend(t.layouts["reingold-fruchterman"].prototype,{init:function(n){this.options=n,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=t.networkgraphIntegrations[n.integration],this.attractiveForce=e(n.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=e(n.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=n.approximation},start:function(){var t=this.series,e=this.options;this.currentStep=0,this.forces=t[0]&&t[0].forces||[],this.initialRendering&&(this.initPositions(),t.forEach(function(t){t.render()})),this.setK(),this.resetSimulation(e),e.enableSimulation&&this.step()},step:function(){var e=this,n=this.series,r=this.options;e.currentStep++,"barnes-hut"===e.approximation&&(e.createQuadTree(),e.quadTree.calculateMassAndCenter()),e.forces.forEach(function(t){e[t+"Forces"](e.temperature)}),e.applyLimits(e.temperature),e.temperature=e.coolDown(e.startTemperature,e.diffTemperature,e.currentStep),e.prevSystemTemperature=e.systemTemperature,e.systemTemperature=e.getSystemTemperature(),r.enableSimulation&&(n.forEach(function(t){t.chart&&t.render()}),e.maxIterations--&&isFinite(e.temperature)&&!e.isStable()?(e.simulation&&t.win.cancelAnimationFrame(e.simulation),e.simulation=t.win.requestAnimationFrame(function(){e.step()})):e.simulation=!1)},stop:function(){this.simulation&&t.win.cancelAnimationFrame(this.simulation)},setArea:function(t,e,n,r){this.box={left:t,top:e,width:n,height:r}},setK:function(){this.k=this.options.linkLength||this.integration.getK(this)},addNodes:function(t){t.forEach(function(t){-1===this.nodes.indexOf(t)&&this.nodes.push(t)},this)},removeNode:function(t){-1!==(t=this.nodes.indexOf(t))&&this.nodes.splice(t,1)},removeLink:function(t){-1!==(t=this.links.indexOf(t))&&this.links.splice(t,1)},addLinks:function(t){t.forEach(function(t){-1===this.links.indexOf(t)&&this.links.push(t)},this)},addSeries:function(t){-1===this.series.indexOf(t)&&this.series.push(t)},clear:function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},resetSimulation:function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},setMaxIterations:function(t){this.maxIterations=e(t,this.options.maxIterations)},setTemperature:function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},setDiffTemperature:function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},setInitialRendering:function(t){this.initialRendering=t},createQuadTree:function(){this.quadTree=new t.QuadTree(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},initPositions:function(){var e=this.options.initialPositions;t.isFunction(e)?(e.call(this),this.nodes.forEach(function(t){n(t.prevX)||(t.prevX=t.plotX),n(t.prevY)||(t.prevY=t.plotY),t.dispX=0,t.dispY=0})):"circle"===e?this.setCircularPositions():this.setRandomPositions()},setCircularPositions:function(){var t=this.box,n=this.nodes,r=2*Math.PI/(n.length+1),o=n.filter(function(t){return 0===t.linksTo.length}),i=[],a={},s=this.options.initialPositionRadius;o.forEach(function(t){i.push(t),function t(e){e.linksFrom.forEach(function(e){a[e.toNode.id]||(a[e.toNode.id]=!0,i.push(e.toNode),t(e.toNode))})}(t)}),i.length?n.forEach(function(t){-1===i.indexOf(t)&&i.push(t)}):i=n,i.forEach(function(n,o){n.plotX=n.prevX=e(n.plotX,t.width/2+s*Math.cos(o*r)),n.plotY=n.prevY=e(n.plotY,t.height/2+s*Math.sin(o*r)),n.dispX=0,n.dispY=0})},setRandomPositions:function(){function t(t){return(t=t*t/Math.PI)-Math.floor(t)}var n=this.box,r=this.nodes,o=r.length+1;r.forEach(function(r,i){r.plotX=r.prevX=e(r.plotX,n.width*t(i)),r.plotY=r.prevY=e(r.plotY,n.height*t(o+i)),r.dispX=0,r.dispY=0})},force:function(t){this.integration[t].apply(this,Array.prototype.slice.call(arguments,1))},barycenterForces:function(){this.getBarycenter(),this.force("barycenter")},getBarycenter:function(){var t=0,e=0,n=0;return this.nodes.forEach(function(r){e+=r.plotX*r.mass,n+=r.plotY*r.mass,t+=r.mass}),this.barycenter={x:e,y:n,xFactor:e/t,yFactor:n/t}},barnesHutApproximation:function(t,e){var n,r,o=this.getDistXY(t,e),i=this.vectorLength(o);return t!==e&&0!==i&&(e.isInternal?e.boxSize/i<this.options.theta&&0!==i?(r=this.repulsiveForce(i,this.k),this.force("repulsive",t,r*e.mass,o,i),n=!1):n=!0:(r=this.repulsiveForce(i,this.k),this.force("repulsive",t,r*e.mass,o,i))),n},repulsiveForces:function(){var t=this;"barnes-hut"===t.approximation?t.nodes.forEach(function(e){t.quadTree.visitNodeRecursive(null,function(n){return t.barnesHutApproximation(e,n)})}):t.nodes.forEach(function(e){t.nodes.forEach(function(n){var r,o,i;e===n||e.fixedPosition||(i=t.getDistXY(e,n),0!==(o=t.vectorLength(i))&&(r=t.repulsiveForce(o,t.k),t.force("repulsive",e,r*n.mass,i,o)))})})},attractiveForces:function(){var t,e,n,r=this;r.links.forEach(function(o){o.fromNode&&o.toNode&&(t=r.getDistXY(o.fromNode,o.toNode),0!==(e=r.vectorLength(t))&&(n=r.attractiveForce(e,r.k),r.force("attractive",o,n,t,e)))})},applyLimits:function(){var t=this;t.nodes.forEach(function(e){e.fixedPosition||(t.integration.integrate(t,e),t.applyLimitBox(e,t.box),e.dispX=0,e.dispY=0)})},applyLimitBox:function(t,e){var n=t.marker&&t.marker.radius||0;t.plotX=Math.max(Math.min(t.plotX,e.width-n),e.left+n),t.plotY=Math.max(Math.min(t.plotY,e.height-n),e.top+n)},coolDown:function(t,e,n){return t-e*n},isStable:function(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature},getSystemTemperature:function(){return this.nodes.reduce(function(t,e){return t+e.temperature},0)},vectorLength:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},getDistR:function(t,e){return t=this.getDistXY(t,e),this.vectorLength(t)},getDistXY:function(t,e){var n=t.plotX-e.plotX;return{x:n,y:t=t.plotY-e.plotY,absX:Math.abs(n),absY:Math.abs(t)}}}),r(o,"predraw",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(t){t.stop()})}),r(o,"render",function(){function e(t){t.maxIterations--&&isFinite(t.temperature)&&!t.isStable()&&!t.options.enableSimulation&&(t.beforeStep&&t.beforeStep(),t.step(),n=!1,r=!0)}var n,r=!1;if(this.graphLayoutsLookup){for(t.setAnimation(!1,this),this.graphLayoutsLookup.forEach(function(t){t.start()});!n;)n=!0,this.graphLayoutsLookup.forEach(e);r&&this.series.forEach(function(t){t&&t.layout&&t.render()})}})}),e(t,"modules/networkgraph/draggable-nodes.js",[t["parts/Globals.js"]],function(t){var e=t.Chart,n=t.addEvent;t.dragNodesMixin={onMouseDown:function(t,e){e=this.chart.pointer.normalize(e),t.fixedPosition={chartX:e.chartX,chartY:e.chartY,plotX:t.plotX,plotY:t.plotY},t.inDragMode=!0},onMouseMove:function(t,e){if(t.fixedPosition&&t.inDragMode){var n=this.chart,r=n.pointer.normalize(e);e=t.fixedPosition.chartX-r.chartX,r=t.fixedPosition.chartY-r.chartY,(5<Math.abs(e)||5<Math.abs(r))&&(e=t.fixedPosition.plotX-e,r=t.fixedPosition.plotY-r,n.isInsidePlot(e,r)&&(t.plotX=e,t.plotY=r,this.redrawHalo(t),this.layout.simulation?this.layout.resetSimulation():(this.layout.setInitialRendering(!1),this.layout.enableSimulation?this.layout.start():this.layout.setMaxIterations(1),this.chart.redraw(),this.layout.setInitialRendering(!0))))}},onMouseUp:function(t){t.fixedPosition&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw(),t.inDragMode=!1,this.options.fixedDraggable||delete t.fixedPosition)},redrawHalo:function(t){t&&this.halo&&this.halo.attr({d:t.haloPath(this.options.states.hover.halo.size)})}},n(e,"load",function(){var t,e,r,o=this;o.container&&(t=n(o.container,"mousedown",function(t){var i=o.hoverPoint;i&&i.series&&i.series.hasDraggableNodes&&i.series.options.draggable&&(i.series.onMouseDown(i,t),e=n(o.container,"mousemove",function(t){return i&&i.series&&i.series.onMouseMove(i,t)}),r=n(o.container.ownerDocument,"mouseup",function(t){return e(),r(),i&&i.series&&i.series.onMouseUp(i,t)}))})),n(o,"destroy",function(){t()})})}),e(t,"parts-more/PackedBubbleSeries.js",[t["parts/Globals.js"]],function(t){var e=t.seriesType,n=t.Series,r=t.Point,o=t.defined,i=t.pick,a=t.addEvent,s=t.Chart,l=t.Color,u=t.layouts["reingold-fruchterman"],c=t.seriesTypes.bubble.prototype.pointClass,h=t.dragNodesMixin;t.networkgraphIntegrations.packedbubble={repulsiveForceFunction:function(t,e,n,r){return Math.min(t,(n.marker.radius+r.marker.radius)/2)},barycenter:function(){var t,e,n=this,r=n.options.gravitationalConstant,o=n.box,i=n.nodes;i.forEach(function(a){n.options.splitSeries&&!a.isParentNode?(t=a.series.parentNode.plotX,e=a.series.parentNode.plotY):(t=o.width/2,e=o.height/2),a.fixedPosition||(a.plotX-=(a.plotX-t)*r/(a.mass*Math.sqrt(i.length)),a.plotY-=(a.plotY-e)*r/(a.mass*Math.sqrt(i.length)))})},repulsive:function(t,e,n,r){var o=e*this.diffTemperature/t.mass/t.degree;e=n.x*o,n=n.y*o,t.fixedPosition||(t.plotX+=e,t.plotY+=n),r.fixedPosition||(r.plotX-=e,r.plotY-=n)},integrate:t.networkgraphIntegrations.verlet.integrate,getK:t.noop},t.layouts.packedbubble=t.extendClass(u,{beforeStep:function(){this.options.marker&&this.series.forEach(function(t){t&&t.calculateParentRadius()})},setCircularPositions:function(){var t,e,n=this,r=n.box,o=n.nodes,a=2*Math.PI/(o.length+1),s=n.options.initialPositionRadius;o.forEach(function(o,l){n.options.splitSeries&&!o.isParentNode?(t=o.series.parentNode.plotX,e=o.series.parentNode.plotY):(t=r.width/2,e=r.height/2),o.plotX=o.prevX=i(o.plotX,t+s*Math.cos(o.index||l*a)),o.plotY=o.prevY=i(o.plotY,e+s*Math.sin(o.index||l*a)),o.dispX=0,o.dispY=0})},repulsiveForces:function(){var t,e,n,r=this,o=r.options.bubblePadding;r.nodes.forEach(function(i){i.degree=i.mass,i.neighbours=0,r.nodes.forEach(function(a){t=0,i===a||i.fixedPosition||!r.options.seriesInteraction&&i.series!==a.series||(n=r.getDistXY(i,a),0>(e=r.vectorLength(n)-(i.marker.radius+a.marker.radius+o))&&(i.degree+=.01,i.neighbours++,t=r.repulsiveForce(-e/Math.sqrt(i.neighbours),r.k,i,a)),r.force("repulsive",i,t*a.mass,n,a,e))})})},applyLimitBox:function(t){var e,n;this.options.splitSeries&&!t.isParentNode&&this.options.parentNodeLimit&&(e=this.getDistXY(t,t.series.parentNode),0>(n=t.series.parentNodeRadius-t.marker.radius-this.vectorLength(e))&&n>-2*t.marker.radius&&(t.plotX-=.01*e.x,t.plotY-=.01*e.y)),u.prototype.applyLimitBox.apply(this,arguments)},isStable:function(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature||0<this.systemTemperature&&.02>this.systemTemperature/this.nodes.length&&this.enableSimulation}}),e("packedbubble","bubble",{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,dataLabels:{formatter:function(){return this.point.value},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:1,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}},{hasDraggableNodes:!0,forces:["barycenter","repulsive"],pointArrayMap:["value"],pointValKey:"value",isCartesian:!1,axisTypes:[],noSharedTooltip:!0,accumulateAllPoints:function(t){var e,n,r=t.chart,o=[];for(e=0;e<r.series.length;e++)if((t=r.series[e]).visible||!r.options.chart.ignoreHiddenSeries)for(n=0;n<t.yData.length;n++)o.push([null,null,t.yData[n],t.index,n,{id:n,marker:{radius:0}}]);return o},init:function(){return n.prototype.init.apply(this,arguments),a(this,"updatedData",function(){this.chart.series.forEach(function(t){t.type===this.type&&(t.isDirty=!0)},this)}),this},render:function(){var e=[];n.prototype.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach(function(n){t.isArray(n.dataLabels)&&n.dataLabels.forEach(function(t){e.push(t)})}),this.chart.hideOverlappingLabels(e))},setVisible:function(){var t=this;n.prototype.setVisible.apply(t,arguments),t.parentNodeLayout&&t.graph?t.visible?(t.graph.show(),t.parentNode.dataLabel&&t.parentNode.dataLabel.show()):(t.graph.hide(),t.parentNodeLayout.removeNode(t.parentNode),t.parentNode.dataLabel&&t.parentNode.dataLabel.hide()):t.layout&&(t.visible?t.layout.addNodes(t.points):t.points.forEach(function(e){t.layout.removeNode(e)}))},drawDataLabels:function(){var t=this.options.dataLabels.textPath,e=this.points;n.prototype.drawDataLabels.apply(this,arguments),this.parentNode&&(this.parentNode.formatPrefix="parentNode",this.points=[this.parentNode],this.options.dataLabels.textPath=this.options.dataLabels.parentNodeTextPath,n.prototype.drawDataLabels.apply(this,arguments),this.points=e,this.options.dataLabels.textPath=t)},seriesBox:function(){var e,n=this.chart,r=Math.max,i=Math.min,a=[n.plotLeft,n.plotLeft+n.plotWidth,n.plotTop,n.plotTop+n.plotHeight];return this.data.forEach(function(t){o(t.plotX)&&o(t.plotY)&&t.marker.radius&&(e=t.marker.radius,a[0]=i(a[0],t.plotX-e),a[1]=r(a[1],t.plotX+e),a[2]=i(a[2],t.plotY-e),a[3]=r(a[3],t.plotY+e))}),t.isNumber(a.width/a.height)?a:null},calculateParentRadius:function(){var t;t=this.seriesBox(),this.parentNodeRadius=Math.min(Math.max(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20),t?Math.max(Math.sqrt(Math.pow(t.width,2)+Math.pow(t.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNodeRadius)},drawGraph:function(){if(this.layout&&this.layout.options.splitSeries){var e,n=this.chart,r={fill:(r=this.layout.options.parentNodeOptions.marker).fillColor||l(this.color).brighten(.4).get(),opacity:r.fillOpacity,stroke:r.lineColor||this.color,"stroke-width":r.lineWidth};e=this.visible?"inherit":"hidden",this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",e,.1,n.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius(),e=t.merge({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},r),this.graph?this.graph.attr(e):this.graph=this.parentNode.graphic=n.renderer.symbol(r.symbol).attr(e).add(this.parentNodesGroup)}},createParentNodes:function(){var t,e=this,n=e.chart,r=e.parentNodeLayout,o=e.parentNode;e.parentNodeMass=0,e.points.forEach(function(t){e.parentNodeMass+=Math.PI*Math.pow(t.marker.radius,2)}),e.calculateParentRadius(),r.nodes.forEach(function(n){n.seriesIndex===e.index&&(t=!0)}),r.setArea(0,0,n.plotWidth,n.plotHeight),t||(o||(o=(new c).init(this,{mass:e.parentNodeRadius/2,marker:{radius:e.parentNodeRadius},dataLabels:{inside:!1},dataLabelOnNull:!0,degree:e.parentNodeRadius,isParentNode:!0,seriesIndex:e.index})),e.parentNode&&(o.plotX=e.parentNode.plotX,o.plotY=e.parentNode.plotY),e.parentNode=o,r.addSeries(e),r.addNodes([o]))},addSeriesLayout:function(){var e,n=this.options.layoutAlgorithm,r=this.chart.graphLayoutsStorage,o=this.chart.graphLayoutsLookup,i=t.merge(n,n.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});(e=r[n.type+"-series"])||(r[n.type+"-series"]=e=new t.layouts[n.type],e.init(i),o.splice(e.index,0,e)),this.parentNodeLayout=e,this.createParentNodes()},addLayout:function(){var e,n=this.options.layoutAlgorithm,r=this.chart.graphLayoutsStorage,i=this.chart.graphLayoutsLookup,a=this.chart.options.chart;r||(this.chart.graphLayoutsStorage=r={},this.chart.graphLayoutsLookup=i=[]),(e=r[n.type])||(n.enableSimulation=o(a.forExport)?!a.forExport:n.enableSimulation,r[n.type]=e=new t.layouts[n.type],e.init(n),i.splice(e.index,0,e)),this.layout=e,this.points.forEach(function(t){t.mass=2,t.degree=1,t.collisionNmb=1}),e.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),e.addSeries(this),e.addNodes(this.points)},deferLayout:function(){var t=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),t.splitSeries&&this.addSeriesLayout())},translate:function(){var e,n,r,i,a=this.chart,s=this.data,l=this.index,u=this.options.useSimulation;for(this.processedXData=this.xData,this.generatePoints(),o(a.allDataPoints)||(a.allDataPoints=this.accumulateAllPoints(this),this.getPointRadius()),u?r=a.allDataPoints:(r=this.placeBubbles(a.allDataPoints),this.options.draggable=!1),i=0;i<r.length;i++)r[i][3]===l&&(e=s[r[i][4]],n=r[i][2],u||(e.plotX=r[i][0]-a.plotLeft+a.diffX,e.plotY=r[i][1]-a.plotTop+a.diffY),e.marker=t.extend(e.marker,{radius:n,width:2*n,height:2*n}));u&&this.deferLayout()},checkOverlap:function(t,e){var n=t[0]-e[0],r=t[1]-e[1];return-.001>Math.sqrt(n*n+r*r)-Math.abs(t[2]+e[2])},positionBubble:function(t,e,n){var r=Math.sqrt,o=Math.asin,i=Math.acos,a=Math.pow,s=Math.abs;r=r(a(t[0]-e[0],2)+a(t[1]-e[1],2)),i=i((a(r,2)+a(n[2]+e[2],2)-a(n[2]+t[2],2))/(2*(n[2]+e[2])*r)),o=o(s(t[0]-e[0])/r);return t=(0>t[1]-e[1]?0:Math.PI)+i+o*(0>(t[0]-e[0])*(t[1]-e[1])?1:-1),[e[0]+(e[2]+n[2])*Math.sin(t),e[1]-(e[2]+n[2])*Math.cos(t),n[2],n[3],n[4]]},placeBubbles:function(t){var e,n,r=this.checkOverlap,o=this.positionBubble,i=[],a=1,s=0,l=0;if(e=[],(t=t.sort(function(t,e){return e[2]-t[2]})).length){if(i.push([[0,0,t[0][2],t[0][3],t[0][4]]]),1<t.length)for(i.push([[0,0-t[1][2]-t[0][2],t[1][2],t[1][3],t[1][4]]]),n=2;n<t.length;n++)t[n][2]=t[n][2]||1,r(e=o(i[a][s],i[a-1][l],t[n]),i[a][0])?(i.push([]),l=0,i[a+1].push(o(i[a][s],i[a][0],t[n])),a++,s=0):1<a&&i[a-1][l+1]&&r(e,i[a-1][l+1])?(l++,i[a].push(o(i[a][s],i[a-1][l],t[n])),s++):(s++,i[a].push(e));this.chart.stages=i,this.chart.rawPositions=[].concat.apply([],i),this.resizeRadius(),e=this.chart.rawPositions}return e},resizeRadius:function(){var t,e,n,r,o,i,a=this.chart,s=a.rawPositions,l=Math.min,u=Math.max,c=a.plotLeft,h=a.plotTop,f=a.plotHeight,d=a.plotWidth;for(t=n=Number.POSITIVE_INFINITY,e=r=Number.NEGATIVE_INFINITY,i=0;i<s.length;i++)o=s[i][2],t=l(t,s[i][0]-o),e=u(e,s[i][0]+o),n=l(n,s[i][1]-o),r=u(r,s[i][1]+o);if(i=[e-t,r-n],l=l.apply([],[(d-c)/i[0],(f-h)/i[1]]),1e-10<Math.abs(l-1)){for(i=0;i<s.length;i++)s[i][2]*=l;this.placeBubbles(s)}else a.diffY=f/2+h-n-(r-n)/2,a.diffX=d/2+c-t-(e-t)/2},calculateZExtremes:function(){var e=this.options.zMin,n=this.options.zMax,r=1/0,o=-1/0;return e&&n?[e,n]:(this.chart.series.forEach(function(e){e.yData.forEach(function(e){t.defined(e)&&(e>o&&(o=e),e<r&&(r=e))})}),[e=i(e,r),n=i(n,o)])},getPointRadius:function(){var t,e,n,r,o,i=this,a=i.chart,s=i.options,l=s.useSimulation,u=Math.min(a.plotWidth,a.plotHeight),c={},h=[],f=a.allDataPoints;["minSize","maxSize"].forEach(function(t){var e=parseInt(s[t],10),n=/%$/.test(s[t]);c[t]=n?u*e/100:e*Math.sqrt(f.length)}),a.minRadius=t=c.minSize/Math.sqrt(f.length),a.maxRadius=e=c.maxSize/Math.sqrt(f.length),o=l?i.calculateZExtremes():[t,e],(f||[]).forEach(function(a,s){n=l?Math.max(Math.min(a[2],o[1]),o[0]):a[2],0===(r=i.getRadius(o[0],o[1],t,e,n))&&(r=null),f[s][2]=r,h.push(r)}),i.radii=h},redrawHalo:h.redrawHalo,onMouseDown:h.onMouseDown,onMouseMove:h.onMouseMove,onMouseUp:function(e){if(e.fixedPosition&&!e.removed){var n,r=this.layout,o=this.parentNodeLayout;o&&r.options.dragBetweenSeries&&o.nodes.forEach(function(o){e&&e.marker&&o!==e.series.parentNode&&(n=r.getDistXY(e,o),0>r.vectorLength(n)-o.marker.radius-e.marker.radius&&(o.series.addPoint(t.merge(e.options,{plotX:e.plotX,plotY:e.plotY}),!1),r.removeNode(e),e.remove()))}),h.onMouseUp.apply(this,arguments)}},destroy:function(){this.parentNode&&(this.parentNodeLayout.removeNode(this.parentNode),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),t.Series.prototype.destroy.apply(this,arguments)},alignDataLabel:t.Series.prototype.alignDataLabel},{destroy:function(){return this.series.layout&&this.series.layout.removeNode(this),r.prototype.destroy.apply(this,arguments)}}),a(s,"beforeRedraw",function(){this.allDataPoints&&delete this.allDataPoints})}),e(t,"parts-more/Polar.js",[t["parts/Globals.js"]],function(t){var e=t.pick,n=t.Series,r=t.seriesTypes,o=t.wrap,i=n.prototype,a=t.Pointer.prototype;i.searchPointByAngle=function(t){var e=this.chart,n=this.xAxis.pane.center;return this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(t.chartX-n[0]-e.plotLeft,t.chartY-n[1]-e.plotTop)})},i.getConnectors=function(t,e,n,r){var o,i,a,s,l,u,c,h;return i=r?1:0,e=0>(o=0<=e&&e<=t.length-1?e:0>e?t.length-1+e:0)-1?t.length-(1+i):o-1,i=o+1>t.length-1?i:o+1,a=t[e],i=t[i],s=a.plotX,a=a.plotY,l=i.plotX,u=i.plotY,s=(1.5*(i=t[o].plotX)+s)/2.5,a=(1.5*(o=t[o].plotY)+a)/2.5,l=(1.5*i+l)/2.5,c=(1.5*o+u)/2.5,u=Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2)),h=Math.sqrt(Math.pow(l-i,2)+Math.pow(c-o,2)),s=Math.atan2(a-o,s-i),c=Math.PI/2+(s+Math.atan2(c-o,l-i))/2,Math.abs(s-c)>Math.PI/2&&(c-=Math.PI),s=i+Math.cos(c)*u,a=o+Math.sin(c)*u,i={rightContX:l=i+Math.cos(Math.PI+c)*h,rightContY:c=o+Math.sin(Math.PI+c)*h,leftContX:s,leftContY:a,plotX:i,plotY:o},n&&(i.prevPointCont=this.getConnectors(t,e,!1,r)),i},i.toXY=function(t){var e,n=this.chart,r=t.plotX;e=t.plotY,t.rectPlotX=r,t.rectPlotY=e,e=this.xAxis.postTranslate(t.plotX,this.yAxis.len-e),t.plotX=t.polarPlotX=e.x-n.plotLeft,t.plotY=t.polarPlotY=e.y-n.plotTop,this.kdByAngle?(0>(n=(r/Math.PI*180+this.xAxis.pane.options.startAngle)%360)&&(n+=360),t.clientX=n):t.clientX=t.plotX},r.spline&&(o(r.spline.prototype,"getPointSpline",function(t,e,n,r){return this.chart.polar?r?t=["C",(t=this.getConnectors(e,r,!0,this.connectEnds)).prevPointCont.rightContX,t.prevPointCont.rightContY,t.leftContX,t.leftContY,t.plotX,t.plotY]:t=["M",n.plotX,n.plotY]:t=t.call(this,e,n,r),t}),r.areasplinerange&&(r.areasplinerange.prototype.getPointSpline=r.spline.prototype.getPointSpline)),t.addEvent(n,"afterTranslate",function(){var e,n,r=this.chart;if(r.polar){if((this.kdByAngle=r.tooltip&&r.tooltip.shared)?this.searchPoint=this.searchPointByAngle:this.options.findNearestPointBy="xy",!this.preventPostTranslate)for(n=(e=this.points).length;n--;)this.toXY(e[n]),!r.hasParallelCoordinates&&!this.yAxis.reversed&&e[n].y<this.yAxis.min&&(e[n].isNull=!0);this.hasClipCircleSetter||(this.hasClipCircleSetter=!!t.addEvent(this,"afterRender",function(){var e;r.polar&&(e=this.yAxis.center,this.group.clip(r.renderer.clipCircle(e[0],e[1],e[2]/2)),this.setClip=t.noop)}))}},{order:2}),o(i,"getGraphPath",function(t,e){var n,r,o,i=this;if(this.chart.polar){for(e=e||this.points,n=0;n<e.length;n++)if(!e[n].isNull){r=n;break}!1!==this.options.connectEnds&&void 0!==r&&(this.connectEnds=!0,e.splice(e.length,0,e[r]),o=!0),e.forEach(function(t){void 0===t.polarPlotY&&i.toXY(t)})}return n=t.apply(this,[].slice.call(arguments,1)),o&&e.pop(),n}),o(i,"animate",n=function(t,e){var n=this.chart,r=this.options.animation,o=this.group,i=this.markerGroup,a=this.xAxis.center,s=n.plotLeft,l=n.plotTop;n.polar?n.renderer.isSVG&&(!0===r&&(r={}),e?(t={translateX:a[0]+s,translateY:a[1]+l,scaleX:.001,scaleY:.001},o.attr(t),i&&i.attr(t)):(t={translateX:s,translateY:l,scaleX:1,scaleY:1},o.animate(t,r),i&&i.animate(t,r),this.animate=null)):t.call(this,e)}),r.column&&((r=r.column.prototype).polarArc=function(t,n,r,o){var i=this.xAxis.center,a=this.yAxis.len;return this.chart.renderer.symbols.arc(i[0],i[1],a-n,null,{start:r,end:o,innerR:a-e(t,a)})},o(r,"animate",n),o(r,"translate",function(t){var e,n,r,o=this.xAxis,i=o.startAngleRad;if(this.preventPostTranslate=!0,t.call(this),o.isRadial)for(r=(e=this.points).length;r--;)t=(n=e[r]).barX+i,n.shapeType="path",n.shapeArgs={d:this.polarArc(n.yBottom,n.plotY,t,t+n.pointWidth)},this.toXY(n),n.tooltipPos=[n.plotX,n.plotY],n.ttBelow=n.plotY>o.center[1]}),o(r,"alignDataLabel",function(t,e,n,r,o,a){this.chart.polar?(t=e.rectPlotX/Math.PI*180,null===r.align&&(r.align=20<t&&160>t?"left":200<t&&340>t?"right":"center"),null===r.verticalAlign&&(r.verticalAlign=45>t||315<t?"bottom":135<t&&225>t?"top":"middle"),i.alignDataLabel.call(this,e,n,r,o,a)):t.call(this,e,n,r,o,a)})),o(a,"getCoordinates",function(t,e){var n=this.chart,r={xAxis:[],yAxis:[]};return n.polar?n.axes.forEach(function(t){var o=t.isXAxis,i=t.center,a=e.chartX-i[0]-n.plotLeft;i=e.chartY-i[1]-n.plotTop;r[o?"xAxis":"yAxis"].push({axis:t,value:t.translate(o?Math.PI-Math.atan2(a,i):Math.sqrt(Math.pow(a,2)+Math.pow(i,2)),!0)})}):r=t.call(this,e),r}),t.SVGRenderer.prototype.clipCircle=function(e,n,r){var o=t.uniqueKey(),i=this.createElement("clipPath").attr({id:o}).add(this.defs);return(e=this.circle(e,n,r).add(i)).id=o,e.clipPath=i,e},t.addEvent(t.Chart,"getAxes",function(){this.pane||(this.pane=[]),t.splat(this.options.pane).forEach(function(e){new t.Pane(e,this)},this)}),t.addEvent(t.Chart,"afterDrawChartBox",function(){this.pane.forEach(function(t){t.render()})}),o(t.Chart.prototype,"get",function(e,n){return t.find(this.pane,function(t){return t.options.id===n})||e.call(this,n)})}),e(t,"masters/highcharts-more.src.js",[],function(){})},t.exports?(i.default=i,t.exports=i):(r=[n(131)],void 0===(o=function(t){return i(t),i.Highcharts=t,i}.apply(e,r))||(t.exports=o))},function(t,e,n){"use strict";function r(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(o,i){var a=t.apply(e,n);function s(t){r(a,o,i,s,l,"next",t)}function l(t){r(a,o,i,s,l,"throw",t)}s(void 0)})}}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}var i=n(108);function a(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?Object(i.a)(t):e}n.d(e,"a",function(){return a})},function(t,e,n){"use strict";n(10),n(11),n(12),n(54),n(22),n(7),n(36),n(75),n(43),n(74),n(6),n(8),n(60),n(9);var r=n(83),o=n.n(r),i=n(65),a=n(82),s=n(2),l=n(1),u=(n(51),n(35));function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}var f=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.timer=null,this.func=e,this.delay=function(t){var e=t;"string"===typeof e&&/fps$/.test(e)&&(e=1e3/parseInt(e.replace("fps","")||0,10));return e}(n),this.stopped=!0,this._then=null,this._callback=function(){return r.__callback()}}return h(t,null,[{key:"create",value:function(e,n){return new t(e,n)}}]),h(t,[{key:"start",value:function(){return this.stopped&&(this._then=Date.now(),this.stopped=!1,this.timer=Object(u.requestAnimationFrame)(this._callback)),this}},{key:"stop",value:function(){return this.stopped||(this.stopped=!0,Object(u.cancelAnimationFrame)(this.timer),this.timer=null),this}},{key:"__callback",value:function(){if(this.timer=Object(u.requestAnimationFrame)(this._callback),this.delay){var t=Date.now(),e=t-this._then;e>this.delay&&(this._then=t-e%this.delay,this.func())}else this.func()}}]),t}();var d=n(4);function p(t){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}var v=Object(i.cellMethodLookupFactory)("copyable",!1),y=function(){function t(e,n,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.instance=e,this.priv=n,this.GridSettings=r,this.dataSource=this.instance.getSettings().data,this.cachedLength=null,this.skipCache=!1,this.latestSourceRowsCount=0,this.duckSchema=this.dataSource&&this.dataSource[0]?Object(s.duckSchema)(this.dataSource[0]):{},this.colToPropCache=void 0,this.propToColCache=void 0,this.createMap(),this.interval=f.create(function(){return o.clearLengthCache()},"15fps"),this.instance.addHook("skipLengthCache",function(t){return o.onSkipLengthCache(t)}),this.onSkipLengthCache(500)}return m(t,null,[{key:"DESTINATION_RENDERER",get:function(){return 1}},{key:"DESTINATION_CLIPBOARD_GENERATOR",get:function(){return 2}}]),m(t,[{key:"createMap",value:function(){var t,e=this.getSchema();if("undefined"===typeof e)throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");this.colToPropCache=[],this.propToColCache=new Map;var n=this.instance.getSettings().columns;if(n){var r=this.instance.getSettings().maxCols,o=Math.min(r,n.length),i=0,a=!1,l=Object(s.deepObjectSize)(e);for("function"===typeof n&&(o=l>0?l:this.instance.countSourceCols(),a=!0),t=0;t<o;t++){var u=a?n(t):n[t];if(Object(s.isObject)(u)){if("undefined"!==typeof u.data){var c=a?i:t;this.colToPropCache[c]=u.data,this.propToColCache.set(u.data,c)}i+=1}}}else this.recursiveDuckColumns(e)}},{key:"recursiveDuckColumns",value:function(t,e,n){var r,o=this,i=e,a=n;return"undefined"===typeof i&&(i=0,a=""),"object"!==p(t)||Array.isArray(t)||Object(s.objectEach)(t,function(t,e){null===t?(r=a+e,o.colToPropCache.push(r),o.propToColCache.set(r,i),i+=1):i=o.recursiveDuckColumns(t,i,"".concat(e,"."))}),i}},{key:"colToProp",value:function(t){var e=this.instance.toPhysicalColumn(t);return!isNaN(e)&&this.colToPropCache&&"undefined"!==typeof this.colToPropCache[e]?this.colToPropCache[e]:e}},{key:"propToCol",value:function(t){var e;return e="undefined"===typeof this.propToColCache.get(t)?t:this.propToColCache.get(t),e=this.instance.toVisualColumn(e)}},{key:"getSchema",value:function(){var t=this.instance.getSettings().dataSchema;return t?"function"===typeof t?t():t:this.duckSchema}},{key:"createRow",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,o=0,i=t;if(("number"!==typeof i||i>=this.instance.countSourceRows())&&(i=this.instance.countSourceRows()),!1===this.instance.runHooks("beforeCreateRow",i,n,r))return 0;for(var a=this.instance.getSettings().maxRows,l=this.instance.countCols(),u=function(){var t=null;"array"===e.instance.dataType?e.instance.getSettings().dataSchema?t=Object(s.deepClone)(e.getSchema()):(t=[],Object(d.rangeEach)(l-1,function(){return t.push(null)})):"function"===e.instance.dataType?t=e.instance.getSettings().dataSchema(i):(t={},Object(s.deepExtend)(t,e.getSchema())),i===e.instance.countSourceRows()?e.dataSource.push(t):e.spliceData(i,0,t),o+=1};o<n&&this.instance.countSourceRows()<a;)u();return this.instance.runHooks("afterCreateRow",i,o,r),this.instance.forceFullRender=!0,o}},{key:"createCol",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var r,o=this.instance.countSourceRows(),i=this.dataSource,s=this.instance.countCols(),l="number"!==typeof t||t>=s?s:t,u=0;if(!1===this.instance.runHooks("beforeCreateCol",l,e,n))return 0;r=l;for(var c=this.instance.getSettings().maxCols;u<e&&this.instance.countCols()<c;){var h=Object(a.columnFactory)(this.GridSettings,this.priv.columnsSettingConflicts);if("number"!==typeof l||l>=this.instance.countCols()){if(o>0)for(var f=0;f<o;f++)"undefined"===typeof i[f]&&(i[f]=[]),i[f].push(null);else i.push([null]);this.priv.columnSettings.push(h)}else{for(var d=0;d<o;d++)i[d].splice(r,0,null);this.priv.columnSettings.splice(r,0,h)}u+=1,r+=1}return this.instance.runHooks("afterCreateCol",l,u,n),this.instance.forceFullRender=!0,u}},{key:"removeRow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r="number"!==typeof t?-e:t,o=this.instance.runHooks("modifyRemovedAmount",e,r),i=this.instance.countSourceRows();r=(i+r)%i;var a=this.visualRowsToPhysical(r,o);if(!1!==this.instance.runHooks("beforeRemoveRow",r,o,a,n)){var s=this.dataSource,l=this.filterData(r,o);l&&(s.length=0,Array.prototype.push.apply(s,l)),this.instance.runHooks("afterRemoveRow",r,o,a,n),this.instance.forceFullRender=!0}}},{key:"removeCol",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");var r="number"!==typeof t?-e:t;r=(this.instance.countCols()+r)%this.instance.countCols();var o=this.visualColumnsToPhysical(r,e),i=o.slice(0).sort(function(t,e){return e-t});if(!1!==this.instance.runHooks("beforeRemoveCol",r,e,o,n)){for(var a=!0,s=i.length,l=this.dataSource,u=0;u<s;u++)a&&o[0]!==o[u]-u&&(a=!1);if(a)for(var c=0,h=this.instance.countSourceRows();c<h;c++)l[c].splice(o[0],e);else{for(var f=0,d=this.instance.countSourceRows();f<d;f++)for(var p=0;p<s;p++)l[f].splice(i[p],1);for(var g=0;g<s;g++)this.priv.columnSettings.splice(o[g],1)}this.instance.runHooks("afterRemoveCol",r,e,o,n),this.instance.forceFullRender=!0}}},{key:"spliceCol",value:function(t,e,n){for(var r=this.instance.getDataAtCol(t),o=r.slice(e,e+n),i=r.slice(e+n),a=arguments.length,s=new Array(a>3?a-3:0),u=3;u<a;u++)s[u-3]=arguments[u];Object(l.extendArray)(s,i);for(var c=0;c<n;)s.push(null),c+=1;return Object(l.to2dArray)(s),this.instance.populateFromArray(e,t,s,null,null,"spliceCol"),o}},{key:"spliceRow",value:function(t,e,n){for(var r=this.instance.getSourceDataAtRow(t),o=r.slice(e,e+n),i=r.slice(e+n),a=arguments.length,s=new Array(a>3?a-3:0),u=3;u<a;u++)s[u-3]=arguments[u];Object(l.extendArray)(s,i);for(var c=0;c<n;)s.push(null),c+=1;return this.instance.populateFromArray(t,e,[s],null,null,"spliceRow"),o}},{key:"spliceData",value:function(t,e,n){!1!==this.instance.runHooks("beforeDataSplice",t,e,n)&&this.dataSource.splice(t,e,n)}},{key:"filterData",value:function(t,e){var n=this.visualRowsToPhysical(t,e);if(!1!==this.instance.runHooks("beforeDataFilter",t,e,n))return this.dataSource.filter(function(t,e){return-1===n.indexOf(e)})}},{key:"get",value:function(t,e){var n=this.instance.toPhysicalRow(t),r=this.dataSource[n],o=this.instance.runHooks("modifyRowData",n),i=null;if((r=isNaN(o)?o:r)&&r.hasOwnProperty&&Object(s.hasOwnProperty)(r,e))i=r[e];else if("string"===typeof e&&e.indexOf(".")>-1){var a=e.split("."),l=r;if(!l)return null;for(var u=0,c=a.length;u<c;u++)if("undefined"===typeof(l=l[a[u]]))return null;i=l}else"function"===typeof e&&(i=e(this.dataSource.slice(n,n+1)[0]));if(this.instance.hasHook("modifyData")){var h=Object(s.createObjectPropListener)(i);this.instance.runHooks("modifyData",n,this.propToCol(e),h,"get"),h.isTouched()&&(i=h.value)}return i}},{key:"getCopyable",value:function(t,e){return v.call(this.instance,t,this.propToCol(e))?this.get(t,e):""}},{key:"set",value:function(t,e,n,r){var o=this.instance.runHooks("modifyRow",t,r||"datamapGet"),i=n,a=this.dataSource[o],l=this.instance.runHooks("modifyRowData",o);if(a=isNaN(l)?l:a,this.instance.hasHook("modifyData")){var u=Object(s.createObjectPropListener)(i);this.instance.runHooks("modifyData",o,this.propToCol(e),u,"set"),u.isTouched()&&(i=u.value)}if(a&&a.hasOwnProperty&&Object(s.hasOwnProperty)(a,e))a[e]=i;else if("string"===typeof e&&e.indexOf(".")>-1){var c,h=e.split("."),f=a,d=0;for(d=0,c=h.length-1;d<c;d++)"undefined"===typeof f[h[d]]&&(f[h[d]]={}),f=f[h[d]];f[h[d]]=i}else"function"===typeof e?e(this.dataSource.slice(o,o+1)[0],i):a[e]=i}},{key:"visualRowsToPhysical",value:function(t,e){for(var n,r=this.instance.countSourceRows(),o=[],i=(r+t)%r,a=e;i<r&&a;)n=this.instance.toPhysicalRow(i),o.push(n),a-=1,i+=1;return o}},{key:"visualColumnsToPhysical",value:function(t,e){for(var n=this.instance.countCols(),r=[],o=(n+t)%n,i=e;o<n&&i;){var a=this.instance.toPhysicalColumn(o);r.push(a),i-=1,o+=1}return r}},{key:"clear",value:function(){for(var t=0;t<this.instance.countSourceRows();t++)for(var e=0;e<this.instance.countCols();e++)this.set(t,this.colToProp(e),"")}},{key:"clearLengthCache",value:function(){this.cachedLength=null}},{key:"getLength",value:function(){var t,e=this,n=this.instance.getSettings().maxRows;t=n<0||0===n?0:n||1/0;var r=this.instance.countSourceRows();if(this.instance.hasHook("modifyRow")){var o=this.skipCache;this.interval.start(),r!==this.latestSourceRowsCount&&(o=!0),this.latestSourceRowsCount=r,null===this.cachedLength||o?(Object(d.rangeEach)(r-1,function(t){null===e.instance.toPhysicalRow(t)&&(r-=1)}),this.cachedLength=r):r=this.cachedLength}else this.interval.stop();return Math.min(r,t)}},{key:"getAll",value:function(){var e={row:0,col:0},n={row:Math.max(this.instance.countSourceRows()-1,0),col:Math.max(this.instance.countCols()-1,0)};return e.row-n.row!==0||this.instance.countSourceRows()?this.getRange(e,n,t.DESTINATION_RENDERER):[]}},{key:"getRange",value:function(e,n,r){var o,i,a,s=[],l=this.instance.getSettings().maxRows,u=this.instance.getSettings().maxCols;if(0===l||0===u)return[];var c=r===t.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,h=Math.min(Math.max(l-1,0),Math.max(e.row,n.row)),f=Math.min(Math.max(u-1,0),Math.max(e.col,n.col));for(o=Math.min(e.row,n.row);o<=h;o++){a=[];var d=this.instance.toPhysicalRow(o);for(i=Math.min(e.col,n.col);i<=f&&null!==d;i++)a.push(c.call(this,o,this.colToProp(i)));null!==d&&s.push(a)}return s}},{key:"getText",value:function(e,n){return o.a.stringify(this.getRange(e,n,t.DESTINATION_RENDERER))}},{key:"getCopyableText",value:function(e,n){return o.a.stringify(this.getRange(e,n,t.DESTINATION_CLIPBOARD_GENERATOR))}},{key:"onSkipLengthCache",value:function(t){var e=this;this.skipCache=!0,setTimeout(function(){e.skipCache=!1},t)}},{key:"destroy",value:function(){this.interval.stop(),this.interval=null,this.instance=null,this.priv=null,this.GridSettings=null,this.dataSource=null,this.cachedLength=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}]),t}();e.a=y},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",function(){return o})},,function(t,e,n){"use strict";var r=n(158),o="function"===typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,h=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.concurrent_mode"):60111,d=o?Symbol.for("react.forward_ref"):60112,p=o?Symbol.for("react.suspense"):60113,g=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function y(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(t,e,n,r,o,i,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],u=0;(t=Error(e.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function C(t,e,n){this.props=t,this.context=e,this.refs=w,this.updater=n||b}function O(){}function S(t,e,n){this.props=t,this.context=e,this.refs=w,this.updater=n||b}C.prototype.isReactComponent={},C.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&y("85"),this.updater.enqueueSetState(this,t,e,"setState")},C.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},O.prototype=C.prototype;var E=S.prototype=new O;E.constructor=S,r(E,C.prototype),E.isPureReactComponent=!0;var k={current:null},T={current:null},R=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function M(t,e,n){var r=void 0,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)R.call(e,r)&&!x.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:T.current}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var N=/\/+/g,_=[];function P(t,e,n,r){if(_.length){var o=_.pop();return o.result=t,o.keyPrefix=e,o.func=n,o.context=r,o.count=0,o}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function I(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>_.length&&_.push(t)}function D(t,e,n){return null==t?0:function t(e,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case a:l=!0}}if(l)return r(o,e,""===n?"."+L(e,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=n+L(s=e[u],u);l+=t(s,c,r,o)}else if(c=null===e||"object"!==typeof e?null:"function"===typeof(c=v&&e[v]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=t(s=s.value,c=n+L(s,u++),r,o);else"object"===s&&y("31","[object Object]"===(r=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":r,"");return l}(t,"",e,n)}function L(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function j(t,e){t.func.call(t.context,e,t.count++)}function H(t,e,n){var r=t.result,o=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?B(t,r,n,function(t){return t}):null!=t&&(A(t)&&(t=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,o+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(N,"$&/")+"/")+n)),r.push(t))}function B(t,e,n,r,o){var i="";null!=n&&(i=(""+n).replace(N,"$&/")+"/"),D(t,H,e=P(e,i,r,o)),I(e)}function F(){var t=k.current;return null===t&&y("321"),t}var W={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return B(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;D(t,j,e=P(null,null,e,n)),I(e)},count:function(t){return D(t,function(){return null},null)},toArray:function(t){var e=[];return B(t,e,null,function(t){return t}),e},only:function(t){return A(t)||y("143"),t}},createRef:function(){return{current:null}},Component:C,PureComponent:S,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:d,render:t}},lazy:function(t){return{$$typeof:m,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:g,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return F().useCallback(t,e)},useContext:function(t,e){return F().useContext(t,e)},useEffect:function(t,e){return F().useEffect(t,e)},useImperativeHandle:function(t,e,n){return F().useImperativeHandle(t,e,n)},useDebugValue:function(){},useLayoutEffect:function(t,e){return F().useLayoutEffect(t,e)},useMemo:function(t,e){return F().useMemo(t,e)},useReducer:function(t,e,n){return F().useReducer(t,e,n)},useRef:function(t){return F().useRef(t)},useState:function(t){return F().useState(t)},Fragment:s,StrictMode:l,Suspense:p,createElement:M,cloneElement:function(t,e,n){(null===t||void 0===t)&&y("267",t);var o=void 0,a=r({},t.props),s=t.key,l=t.ref,u=t._owner;if(null!=e){void 0!==e.ref&&(l=e.ref,u=T.current),void 0!==e.key&&(s=""+e.key);var c=void 0;for(o in t.type&&t.type.defaultProps&&(c=t.type.defaultProps),e)R.call(e,o)&&!x.hasOwnProperty(o)&&(a[o]=void 0===e[o]&&void 0!==c?c[o]:e[o])}if(1===(o=arguments.length-2))a.children=n;else if(1<o){c=Array(o);for(var h=0;h<o;h++)c[h]=arguments[h+2];a.children=c}return{$$typeof:i,type:t.type,key:s,ref:l,props:a,_owner:u}},createFactory:function(t){var e=M.bind(null,t);return e.type=t,e},isValidElement:A,version:"16.8.6",unstable_ConcurrentMode:f,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:k,ReactCurrentOwner:T,assign:r}},V={default:W},U=V&&W||V;t.exports=U.default||U},function(t,e,n){"use strict";var r=n(21),o=n(158),i=n(208);function a(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(t,e,n,r,o,i,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],u=0;(t=Error(e.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||a("227");var s=!1,l=null,u=!1,c=null,h={onError:function(t){s=!0,l=t}};function f(t,e,n,r,o,i,a,u,c){s=!1,l=null,function(t,e,n,r,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}.apply(h,arguments)}var d=null,p={};function g(){if(d)for(var t in p){var e=p[t],n=d.indexOf(t);if(-1<n||a("96",t),!v[n])for(var r in e.extractEvents||a("97",t),v[n]=e,n=e.eventTypes){var o=void 0,i=n[r],s=e,l=r;y.hasOwnProperty(l)&&a("99",l),y[l]=i;var u=i.phasedRegistrationNames;if(u){for(o in u)u.hasOwnProperty(o)&&m(u[o],s,l);o=!0}else i.registrationName?(m(i.registrationName,s,l),o=!0):o=!1;o||a("98",r,t)}}}function m(t,e,n){b[t]&&a("100",t),b[t]=e,w[t]=e.eventTypes[n].dependencies}var v=[],y={},b={},w={},C=null,O=null,S=null;function E(t,e,n){var r=t.type||"unknown-event";t.currentTarget=S(n),function(t,e,n,r,o,i,h,d,p){if(f.apply(this,arguments),s){if(s){var g=l;s=!1,l=null}else a("198"),g=void 0;u||(u=!0,c=g)}}(r,e,void 0,t),t.currentTarget=null}function k(t,e){return null==e&&a("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function T(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var R=null;function x(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)E(t,e[r],n[r]);else e&&E(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}var M={injectEventPluginOrder:function(t){d&&a("101"),d=Array.prototype.slice.call(t),g()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];p.hasOwnProperty(e)&&p[e]===r||(p[e]&&a("102",e),p[e]=r,n=!0)}n&&g()}};function A(t,e){var n=t.stateNode;if(!n)return null;var r=C(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&a("231",e,typeof n),n)}function N(t){if(null!==t&&(R=k(R,t)),t=R,R=null,t&&(T(t,x),R&&a("95"),u))throw t=c,u=!1,c=null,t}var _=Math.random().toString(36).slice(2),P="__reactInternalInstance$"+_,I="__reactEventHandlers$"+_;function D(t){if(t[P])return t[P];for(;!t[P];){if(!t.parentNode)return null;t=t.parentNode}return 5===(t=t[P]).tag||6===t.tag?t:null}function L(t){return!(t=t[P])||5!==t.tag&&6!==t.tag?null:t}function j(t){if(5===t.tag||6===t.tag)return t.stateNode;a("33")}function H(t){return t[I]||null}function B(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function F(t,e,n){(e=A(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=k(n._dispatchListeners,e),n._dispatchInstances=k(n._dispatchInstances,t))}function W(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=B(e);for(e=n.length;0<e--;)F(n[e],"captured",t);for(e=0;e<n.length;e++)F(n[e],"bubbled",t)}}function V(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=A(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=k(n._dispatchListeners,e),n._dispatchInstances=k(n._dispatchInstances,t))}function U(t){t&&t.dispatchConfig.registrationName&&V(t._targetInst,null,t)}function z(t){T(t,W)}var Y=!("undefined"===typeof window||!window.document||!window.document.createElement);function G(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var X={animationend:G("Animation","AnimationEnd"),animationiteration:G("Animation","AnimationIteration"),animationstart:G("Animation","AnimationStart"),transitionend:G("Transition","TransitionEnd")},K={},q={};function $(t){if(K[t])return K[t];if(!X[t])return t;var e,n=X[t];for(e in n)if(n.hasOwnProperty(e)&&e in q)return K[t]=n[e];return t}Y&&(q=document.createElement("div").style,"AnimationEvent"in window||(delete X.animationend.animation,delete X.animationiteration.animation,delete X.animationstart.animation),"TransitionEvent"in window||delete X.transitionend.transition);var Q=$("animationend"),Z=$("animationiteration"),J=$("animationstart"),tt=$("transitionend"),et="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nt=null,rt=null,ot=null;function it(){if(ot)return ot;var t,e,n=rt,r=n.length,o="value"in nt?nt.value:nt.textContent,i=o.length;for(t=0;t<r&&n[t]===o[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===o[i-e];e++);return ot=o.slice(t,1<e?1-e:void 0)}function at(){return!0}function st(){return!1}function lt(t,e,n,r){for(var o in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(o)&&((e=t[o])?this[o]=e(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?at:st,this.isPropagationStopped=st,this}function ut(t,e,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,t,e,n,r),o}return new this(t,e,n,r)}function ct(t){t instanceof this||a("279"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function ht(t){t.eventPool=[],t.getPooled=ut,t.release=ct}o(lt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=at)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=at)},persist:function(){this.isPersistent=at},isPersistent:st,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=st,this._dispatchInstances=this._dispatchListeners=null}}),lt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},lt.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var i=new e;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,t),n.extend=r.extend,ht(n),n},ht(lt);var ft=lt.extend({data:null}),dt=lt.extend({data:null}),pt=[9,13,27,32],gt=Y&&"CompositionEvent"in window,mt=null;Y&&"documentMode"in document&&(mt=document.documentMode);var vt=Y&&"TextEvent"in window&&!mt,yt=Y&&(!gt||mt&&8<mt&&11>=mt),bt=String.fromCharCode(32),wt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ct=!1;function Ot(t,e){switch(t){case"keyup":return-1!==pt.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function St(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Et=!1;var kt={eventTypes:wt,extractEvents:function(t,e,n,r){var o=void 0,i=void 0;if(gt)t:{switch(t){case"compositionstart":o=wt.compositionStart;break t;case"compositionend":o=wt.compositionEnd;break t;case"compositionupdate":o=wt.compositionUpdate;break t}o=void 0}else Et?Ot(t,n)&&(o=wt.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=wt.compositionStart);return o?(yt&&"ko"!==n.locale&&(Et||o!==wt.compositionStart?o===wt.compositionEnd&&Et&&(i=it()):(rt="value"in(nt=r)?nt.value:nt.textContent,Et=!0)),o=ft.getPooled(o,e,n,r),i?o.data=i:null!==(i=St(n))&&(o.data=i),z(o),i=o):i=null,(t=vt?function(t,e){switch(t){case"compositionend":return St(e);case"keypress":return 32!==e.which?null:(Ct=!0,bt);case"textInput":return(t=e.data)===bt&&Ct?null:t;default:return null}}(t,n):function(t,e){if(Et)return"compositionend"===t||!gt&&Ot(t,e)?(t=it(),ot=rt=nt=null,Et=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yt&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=dt.getPooled(wt.beforeInput,e,n,r)).data=t,z(e)):e=null,null===i?e:null===e?i:[i,e]}},Tt=null,Rt=null,xt=null;function Mt(t){if(t=O(t)){"function"!==typeof Tt&&a("280");var e=C(t.stateNode);Tt(t.stateNode,t.type,e)}}function At(t){Rt?xt?xt.push(t):xt=[t]:Rt=t}function Nt(){if(Rt){var t=Rt,e=xt;if(xt=Rt=null,Mt(t),e)for(t=0;t<e.length;t++)Mt(e[t])}}function _t(t,e){return t(e)}function Pt(t,e,n){return t(e,n)}function It(){}var Dt=!1;function Lt(t,e){if(Dt)return t(e);Dt=!0;try{return _t(t,e)}finally{Dt=!1,(null!==Rt||null!==xt)&&(It(),Nt())}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!jt[t.type]:"textarea"===e}function Bt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Ft(t){if(!Y)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}function Wt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Vt(t){t._valueTracker||(t._valueTracker=function(t){var e=Wt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(t){r=""+t,i.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Ut(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Wt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}var zt=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;zt.hasOwnProperty("ReactCurrentDispatcher")||(zt.ReactCurrentDispatcher={current:null});var Yt=/^(.*)[\\\/]/,Gt="function"===typeof Symbol&&Symbol.for,Xt=Gt?Symbol.for("react.element"):60103,Kt=Gt?Symbol.for("react.portal"):60106,qt=Gt?Symbol.for("react.fragment"):60107,$t=Gt?Symbol.for("react.strict_mode"):60108,Qt=Gt?Symbol.for("react.profiler"):60114,Zt=Gt?Symbol.for("react.provider"):60109,Jt=Gt?Symbol.for("react.context"):60110,te=Gt?Symbol.for("react.concurrent_mode"):60111,ee=Gt?Symbol.for("react.forward_ref"):60112,ne=Gt?Symbol.for("react.suspense"):60113,re=Gt?Symbol.for("react.memo"):60115,oe=Gt?Symbol.for("react.lazy"):60116,ie="function"===typeof Symbol&&Symbol.iterator;function ae(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=ie&&t[ie]||t["@@iterator"])?t:null}function se(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case te:return"ConcurrentMode";case qt:return"Fragment";case Kt:return"Portal";case Qt:return"Profiler";case $t:return"StrictMode";case ne:return"Suspense"}if("object"===typeof t)switch(t.$$typeof){case Jt:return"Context.Consumer";case Zt:return"Context.Provider";case ee:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case re:return se(t.type);case oe:if(t=1===t._status?t._result:null)return se(t)}return null}function le(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,o=t._debugSource,i=se(t.type);n=null,r&&(n=se(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(Yt,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}e+=n,t=t.return}while(t);return e}var ue=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ce=Object.prototype.hasOwnProperty,he={},fe={};function de(t,e,n,r,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new de(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new de(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new de(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new de(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new de(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new de(t,3,!0,t,null)}),["capture","download"].forEach(function(t){pe[t]=new de(t,4,!1,t,null)}),["cols","rows","size","span"].forEach(function(t){pe[t]=new de(t,6,!1,t,null)}),["rowSpan","start"].forEach(function(t){pe[t]=new de(t,5,!1,t.toLowerCase(),null)});var ge=/[\-:]([a-z])/g;function me(t){return t[1].toUpperCase()}function ve(t,e,n,r){var o=pe.hasOwnProperty(e)?pe[e]:null;(null!==o?0===o.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,o,r)&&(n=null),r||null===o?function(t){return!!ce.call(fe,t)||!ce.call(he,t)&&(ue.test(t)?fe[t]=!0:(he[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=null===n?3!==o.type&&"":n:(e=o.attributeName,r=o.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function ye(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function be(t,e){var n=e.checked;return o({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function we(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=ye(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ce(t,e){null!=(e=e.checked)&&ve(t,"checked",e,!1)}function Oe(t,e){Ce(t,e);var n=ye(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Ee(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ee(t,e.type,ye(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Se(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Ee(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ge,me);pe[e]=new de(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ge,me);pe[e]=new de(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ge,me);pe[e]=new de(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(t){pe[t]=new de(t,1,!1,t.toLowerCase(),null)});var ke={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Te(t,e,n){return(t=lt.getPooled(ke.change,t,e,n)).type="change",At(n),z(t),t}var Re=null,xe=null;function Me(t){N(t)}function Ae(t){if(Ut(j(t)))return t}function Ne(t,e){if("change"===t)return e}var _e=!1;function Pe(){Re&&(Re.detachEvent("onpropertychange",Ie),xe=Re=null)}function Ie(t){"value"===t.propertyName&&Ae(xe)&&Lt(Me,t=Te(xe,t,Bt(t)))}function De(t,e,n){"focus"===t?(Pe(),xe=n,(Re=e).attachEvent("onpropertychange",Ie)):"blur"===t&&Pe()}function Le(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Ae(xe)}function je(t,e){if("click"===t)return Ae(e)}function He(t,e){if("input"===t||"change"===t)return Ae(e)}Y&&(_e=Ft("input")&&(!document.documentMode||9<document.documentMode));var Be={eventTypes:ke,_isInputEventSupported:_e,extractEvents:function(t,e,n,r){var o=e?j(e):window,i=void 0,a=void 0,s=o.nodeName&&o.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===o.type?i=Ne:Ht(o)?_e?i=He:(i=Le,a=De):(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(i=je),i&&(i=i(t,e)))return Te(i,n,r);a&&a(t,o,e),"blur"===t&&(t=o._wrapperState)&&t.controlled&&"number"===o.type&&Ee(o,"number",o.value)}},Fe=lt.extend({view:null,detail:null}),We={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ve(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=We[t])&&!!e[t]}function Ue(){return Ve}var ze=0,Ye=0,Ge=!1,Xe=!1,Ke=Fe.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ue,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=ze;return ze=t.screenX,Ge?"mousemove"===t.type?t.screenX-e:0:(Ge=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Ye;return Ye=t.screenY,Xe?"mousemove"===t.type?t.screenY-e:0:(Xe=!0,0)}}),qe=Ke.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),$e={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Qe={eventTypes:$e,extractEvents:function(t,e,n,r){var o="mouseover"===t||"pointerover"===t,i="mouseout"===t||"pointerout"===t;if(o&&(n.relatedTarget||n.fromElement)||!i&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=e,e=(e=n.relatedTarget||n.toElement)?D(e):null):i=null,i===e)return null;var a=void 0,s=void 0,l=void 0,u=void 0;"mouseout"===t||"mouseover"===t?(a=Ke,s=$e.mouseLeave,l=$e.mouseEnter,u="mouse"):"pointerout"!==t&&"pointerover"!==t||(a=qe,s=$e.pointerLeave,l=$e.pointerEnter,u="pointer");var c=null==i?o:j(i);if(o=null==e?o:j(e),(t=a.getPooled(s,i,n,r)).type=u+"leave",t.target=c,t.relatedTarget=o,(n=a.getPooled(l,e,n,r)).type=u+"enter",n.target=o,n.relatedTarget=c,r=e,i&&r)t:{for(o=r,u=0,a=e=i;a;a=B(a))u++;for(a=0,l=o;l;l=B(l))a++;for(;0<u-a;)e=B(e),u--;for(;0<a-u;)o=B(o),a--;for(;u--;){if(e===o||e===o.alternate)break t;e=B(e),o=B(o)}e=null}else e=null;for(o=e,e=[];i&&i!==o&&(null===(u=i.alternate)||u!==o);)e.push(i),i=B(i);for(i=[];r&&r!==o&&(null===(u=r.alternate)||u!==o);)i.push(r),r=B(r);for(r=0;r<e.length;r++)V(e[r],"bubbled",t);for(r=i.length;0<r--;)V(i[r],"captured",n);return[t,n]}};function Ze(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e}var Je=Object.prototype.hasOwnProperty;function tn(t,e){if(Ze(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Je.call(e,n[r])||!Ze(t[n[r]],e[n[r]]))return!1;return!0}function en(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(0!==(2&(e=e.return).effectTag))return 1}return 3===e.tag?2:3}function nn(t){2!==en(t)&&a("188")}function rn(t){if(!(t=function(t){var e=t.alternate;if(!e)return 3===(e=en(t))&&a("188"),1===e?null:t;for(var n=t,r=e;;){var o=n.return,i=o?o.alternate:null;if(!o||!i)break;if(o.child===i.child){for(var s=o.child;s;){if(s===n)return nn(o),t;if(s===r)return nn(o),e;s=s.sibling}a("188")}if(n.return!==r.return)n=o,r=i;else{s=!1;for(var l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}s||a("189")}}n.alternate!==r&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var on=lt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),an=lt.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sn=Fe.extend({relatedTarget:null});function ln(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn=Fe.extend({key:function(t){if(t.key){var e=un[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ln(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?cn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ue,charCode:function(t){return"keypress"===t.type?ln(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ln(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),fn=Ke.extend({dataTransfer:null}),dn=Fe.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ue}),pn=lt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),gn=Ke.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),mn=[["abort","abort"],[Q,"animationEnd"],[Z,"animationIteration"],[J,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[tt,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],vn={},yn={};function bn(t,e){var n=t[0],r="on"+((t=t[1])[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:e},vn[t]=e,yn[n]=e}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(t){bn(t,!0)}),mn.forEach(function(t){bn(t,!1)});var wn={eventTypes:vn,isInteractiveTopLevelEventType:function(t){return void 0!==(t=yn[t])&&!0===t.isInteractive},extractEvents:function(t,e,n,r){var o=yn[t];if(!o)return null;switch(t){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":t=hn;break;case"blur":case"focus":t=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Ke;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=dn;break;case Q:case Z:case J:t=on;break;case tt:t=pn;break;case"scroll":t=Fe;break;case"wheel":t=gn;break;case"copy":case"cut":case"paste":t=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=qe;break;default:t=lt}return z(e=t.getPooled(o,e,n,r)),e}},Cn=wn.isInteractiveTopLevelEventType,On=[];function Sn(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;t.ancestors.push(n),n=D(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var o=Bt(t.nativeEvent);r=t.topLevelType;for(var i=t.nativeEvent,a=null,s=0;s<v.length;s++){var l=v[s];l&&(l=l.extractEvents(r,e,i,o))&&(a=k(a,l))}N(a)}}var En=!0;function kn(t,e){if(!e)return null;var n=(Cn(t)?Rn:xn).bind(null,t);e.addEventListener(t,n,!1)}function Tn(t,e){if(!e)return null;var n=(Cn(t)?Rn:xn).bind(null,t);e.addEventListener(t,n,!0)}function Rn(t,e){Pt(xn,t,e)}function xn(t,e){if(En){var n=Bt(e);if(null===(n=D(n))||"number"!==typeof n.tag||2===en(n)||(n=null),On.length){var r=On.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{Lt(Sn,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>On.length&&On.push(t)}}}var Mn={},An=0,Nn="_reactListenersID"+(""+Math.random()).slice(2);function _n(t){return Object.prototype.hasOwnProperty.call(t,Nn)||(t[Nn]=An++,Mn[t[Nn]]={}),Mn[t[Nn]]}function Pn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function In(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dn(t,e){var n,r=In(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=In(r)}}function Ln(){for(var t=window,e=Pn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Pn((t=e.contentWindow).document)}return e}function jn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function Hn(t){var e=Ln(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&jn(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Dn(n,i);var a=Dn(n,r);o&&a&&(1!==t.rangeCount||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Bn=Y&&"documentMode"in document&&11>=document.documentMode,Fn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wn=null,Vn=null,Un=null,zn=!1;function Yn(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return zn||null==Wn||Wn!==Pn(n)?null:("selectionStart"in(n=Wn)&&jn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Un&&tn(Un,n)?null:(Un=n,(t=lt.getPooled(Fn.select,Vn,t,e)).type="select",t.target=Wn,z(t),t))}var Gn={eventTypes:Fn,extractEvents:function(t,e,n,r){var o,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(o=!i)){t:{i=_n(i),o=w.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break t}}i=!0}o=!i}if(o)return null;switch(i=e?j(e):window,t){case"focus":(Ht(i)||"true"===i.contentEditable)&&(Wn=i,Vn=e,Un=null);break;case"blur":Un=Vn=Wn=null;break;case"mousedown":zn=!0;break;case"contextmenu":case"mouseup":case"dragend":return zn=!1,Yn(n,r);case"selectionchange":if(Bn)break;case"keydown":case"keyup":return Yn(n,r)}return null}};function Xn(t,e){return t=o({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}(e.children))&&(t.children=e),t}function Kn(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ye(n),e=null,o=0;o<t.length;o++){if(t[o].value===n)return t[o].selected=!0,void(r&&(t[o].defaultSelected=!0));null!==e||t[o].disabled||(e=t[o])}null!==e&&(e.selected=!0)}}function qn(t,e){return null!=e.dangerouslySetInnerHTML&&a("91"),o({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $n(t,e){var n=e.value;null==n&&(n=e.defaultValue,null!=(e=e.children)&&(null!=n&&a("92"),Array.isArray(e)&&(1>=e.length||a("93"),e=e[0]),n=e),null==n&&(n="")),t._wrapperState={initialValue:ye(n)}}function Qn(t,e){var n=ye(e.value),r=ye(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Zn(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}M.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),C=H,O=L,S=j,M.injectEventPluginsByName({SimpleEventPlugin:wn,EnterLeaveEventPlugin:Qe,ChangeEventPlugin:Be,SelectEventPlugin:Gn,BeforeInputEventPlugin:kt});var Jn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function tr(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function er(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?tr(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var nr,rr=void 0,or=(nr=function(t,e){if(t.namespaceURI!==Jn.svg||"innerHTML"in t)t.innerHTML=e;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=rr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction(function(){return nr(t,e)})}:nr);function ir(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ar={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sr=["Webkit","ms","Moz","O"];function lr(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ar.hasOwnProperty(t)&&ar[t]?(""+e).trim():e+"px"}function ur(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=lr(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}Object.keys(ar).forEach(function(t){sr.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ar[e]=ar[t]})});var cr=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hr(t,e){e&&(cr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&a("137",t,""),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&a("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||a("61")),null!=e.style&&"object"!==typeof e.style&&a("62",""))}function fr(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function dr(t,e){var n=_n(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=w[e];for(var r=0;r<e.length;r++){var o=e[r];if(!n.hasOwnProperty(o)||!n[o]){switch(o){case"scroll":Tn("scroll",t);break;case"focus":case"blur":Tn("focus",t),Tn("blur",t),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Ft(o)&&Tn(o,t);break;case"invalid":case"submit":case"reset":break;default:-1===et.indexOf(o)&&kn(o,t)}n[o]=!0}}}function pr(){}var gr=null,mr=null;function vr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function yr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var br="function"===typeof setTimeout?setTimeout:void 0,wr="function"===typeof clearTimeout?clearTimeout:void 0,Cr=i.unstable_scheduleCallback,Or=i.unstable_cancelCallback;function Sr(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function Er(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}new Set;var kr=[],Tr=-1;function Rr(t){0>Tr||(t.current=kr[Tr],kr[Tr]=null,Tr--)}function xr(t,e){kr[++Tr]=t.current,t.current=e}var Mr={},Ar={current:Mr},Nr={current:!1},_r=Mr;function Pr(t,e){var n=t.type.contextTypes;if(!n)return Mr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=e[o];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ir(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Dr(t){Rr(Nr),Rr(Ar)}function Lr(t){Rr(Nr),Rr(Ar)}function jr(t,e,n){Ar.current!==Mr&&a("168"),xr(Ar,e),xr(Nr,n)}function Hr(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())i in t||a("108",se(e)||"Unknown",i);return o({},n,r)}function Br(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||Mr,_r=Ar.current,xr(Ar,e),xr(Nr,Nr.current),!0}function Fr(t,e,n){var r=t.stateNode;r||a("169"),n?(e=Hr(t,e,_r),r.__reactInternalMemoizedMergedChildContext=e,Rr(Nr),Rr(Ar),xr(Ar,e)):Rr(Nr),xr(Nr,n)}var Wr=null,Vr=null;function Ur(t){return function(e){try{return t(e)}catch(n){}}}function zr(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Yr(t,e,n,r){return new zr(t,e,n,r)}function Gr(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Xr(t,e){var n=t.alternate;return null===n?((n=Yr(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.contextDependencies=t.contextDependencies,n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kr(t,e,n,r,o,i){var s=2;if(r=t,"function"===typeof t)Gr(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case qt:return qr(n.children,o,i,e);case te:return $r(n,3|o,i,e);case $t:return $r(n,2|o,i,e);case Qt:return(t=Yr(12,n,e,4|o)).elementType=Qt,t.type=Qt,t.expirationTime=i,t;case ne:return(t=Yr(13,n,e,o)).elementType=ne,t.type=ne,t.expirationTime=i,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case Zt:s=10;break t;case Jt:s=9;break t;case ee:s=11;break t;case re:s=14;break t;case oe:s=16,r=null;break t}a("130",null==t?t:typeof t,"")}return(e=Yr(s,n,e,o)).elementType=t,e.type=r,e.expirationTime=i,e}function qr(t,e,n,r){return(t=Yr(7,t,r,e)).expirationTime=n,t}function $r(t,e,n,r){return t=Yr(8,t,r,e),e=0===(1&e)?$t:te,t.elementType=e,t.type=e,t.expirationTime=n,t}function Qr(t,e,n){return(t=Yr(6,t,null,e)).expirationTime=n,t}function Zr(t,e,n){return(e=Yr(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jr(t,e){t.didError=!1;var n=t.earliestPendingTime;0===n?t.earliestPendingTime=t.latestPendingTime=e:n<e?t.earliestPendingTime=e:t.latestPendingTime>e&&(t.latestPendingTime=e),no(e,t)}function to(t,e){t.didError=!1,t.latestPingedTime>=e&&(t.latestPingedTime=0);var n=t.earliestPendingTime,r=t.latestPendingTime;n===e?t.earliestPendingTime=r===e?t.latestPendingTime=0:r:r===e&&(t.latestPendingTime=n),n=t.earliestSuspendedTime,r=t.latestSuspendedTime,0===n?t.earliestSuspendedTime=t.latestSuspendedTime=e:n<e?t.earliestSuspendedTime=e:r>e&&(t.latestSuspendedTime=e),no(e,t)}function eo(t,e){var n=t.earliestPendingTime;return n>e&&(e=n),(t=t.earliestSuspendedTime)>e&&(e=t),e}function no(t,e){var n=e.earliestSuspendedTime,r=e.latestSuspendedTime,o=e.earliestPendingTime,i=e.latestPingedTime;0===(o=0!==o?o:i)&&(0===t||r<t)&&(o=r),0!==(t=o)&&n>t&&(t=n),e.nextExpirationTimeToWorkOn=o,e.expirationTime=t}function ro(t,e){if(t&&t.defaultProps)for(var n in e=o({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var oo=(new r.Component).refs;function io(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:o({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}var ao={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===en(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Os(),o=$i(r=qa(r,t));o.payload=e,void 0!==n&&null!==n&&(o.callback=n),Ua(),Zi(t,o),Za(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Os(),o=$i(r=qa(r,t));o.tag=zi,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),Ua(),Zi(t,o),Za(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Os(),r=$i(n=qa(n,t));r.tag=Yi,void 0!==e&&null!==e&&(r.callback=e),Ua(),Zi(t,r),Za(t,n)}};function so(t,e,n,r,o,i,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,i,a):!e.prototype||!e.prototype.isPureReactComponent||(!tn(n,r)||!tn(o,i))}function lo(t,e,n){var r=!1,o=Mr,i=e.contextType;return"object"===typeof i&&null!==i?i=Vi(i):(o=Ir(e)?_r:Ar.current,i=(r=null!==(r=e.contextTypes)&&void 0!==r)?Pr(t,o):Mr),e=new e(n,i),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ao,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function uo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ao.enqueueReplaceState(e,e.state,null)}function co(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=oo;var i=e.contextType;"object"===typeof i&&null!==i?o.context=Vi(i):(i=Ir(e)?_r:Ar.current,o.context=Pr(t,i)),null!==(i=t.updateQueue)&&(na(t,i,n,o,r),o.state=t.memoizedState),"function"===typeof(i=e.getDerivedStateFromProps)&&(io(t,e,i,n),o.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(e=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),e!==o.state&&ao.enqueueReplaceState(o,o.state,null),null!==(i=t.updateQueue)&&(na(t,i,n,o,r),o.state=t.memoizedState)),"function"===typeof o.componentDidMount&&(t.effectTag|=4)}var ho=Array.isArray;function fo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&a("309"),r=n.stateNode),r||a("147",t);var o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:((e=function(t){var e=r.refs;e===oo&&(e=r.refs={}),null===t?delete e[o]:e[o]=t})._stringRef=o,e)}"string"!==typeof t&&a("284"),n._owner||a("290",t)}return t}function po(t,e){"textarea"!==t.type&&a("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function go(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e,n){return(t=Xr(t,e)).index=0,t.sibling=null,t}function i(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Qr(n,t.mode,r)).return=t,e):((e=o(e,n)).return=t,e)}function u(t,e,n,r){return null!==e&&e.elementType===n.type?((r=o(e,n.props)).ref=fo(t,e,n),r.return=t,r):((r=Kr(n.type,n.key,n.props,null,t.mode,r)).ref=fo(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Zr(n,t.mode,r)).return=t,e):((e=o(e,n.children||[])).return=t,e)}function h(t,e,n,r,i){return null===e||7!==e.tag?((e=qr(n,t.mode,r,i)).return=t,e):((e=o(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Qr(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case Xt:return(n=Kr(e.type,e.key,e.props,null,t.mode,n)).ref=fo(t,null,e),n.return=t,n;case Kt:return(e=Zr(e,t.mode,n)).return=t,e}if(ho(e)||ae(e))return(e=qr(e,t.mode,n,null)).return=t,e;po(t,e)}return null}function d(t,e,n,r){var o=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Xt:return n.key===o?n.type===qt?h(t,e,n.props.children,r,o):u(t,e,n,r):null;case Kt:return n.key===o?c(t,e,n,r):null}if(ho(n)||ae(n))return null!==o?null:h(t,e,n,r,null);po(t,n)}return null}function p(t,e,n,r,o){if("string"===typeof r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Xt:return t=t.get(null===r.key?n:r.key)||null,r.type===qt?h(e,t,r.props.children,o,r.key):u(e,t,r,o);case Kt:return c(e,t=t.get(null===r.key?n:r.key)||null,r,o)}if(ho(r)||ae(r))return h(e,t=t.get(n)||null,r,o,null);po(e,r)}return null}function g(o,a,s,l){for(var u=null,c=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=d(o,h,s[g],l);if(null===v){null===h&&(h=m);break}t&&h&&null===v.alternate&&e(o,h),a=i(v,a,g),null===c?u=v:c.sibling=v,c=v,h=m}if(g===s.length)return n(o,h),u;if(null===h){for(;g<s.length;g++)(h=f(o,s[g],l))&&(a=i(h,a,g),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(o,h);g<s.length;g++)(m=p(h,o,g,s[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=i(m,a,g),null===c?u=m:c.sibling=m,c=m);return t&&h.forEach(function(t){return e(o,t)}),u}function m(o,s,l,u){var c=ae(l);"function"!==typeof c&&a("150"),null==(l=c.call(l))&&a("151");for(var h=c=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=d(o,g,y.value,u);if(null===b){g||(g=v);break}t&&g&&null===b.alternate&&e(o,g),s=i(b,s,m),null===h?c=b:h.sibling=b,h=b,g=v}if(y.done)return n(o,g),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=f(o,y.value,u))&&(s=i(y,s,m),null===h?c=y:h.sibling=y,h=y);return c}for(g=r(o,g);!y.done;m++,y=l.next())null!==(y=p(g,o,m,y.value,u))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=i(y,s,m),null===h?c=y:h.sibling=y,h=y);return t&&g.forEach(function(t){return e(o,t)}),c}return function(t,r,i,l){var u="object"===typeof i&&null!==i&&i.type===qt&&null===i.key;u&&(i=i.props.children);var c="object"===typeof i&&null!==i;if(c)switch(i.$$typeof){case Xt:t:{for(c=i.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?i.type===qt:u.elementType===i.type){n(t,u.sibling),(r=o(u,i.type===qt?i.props.children:i.props)).ref=fo(t,u,i),r.return=t,t=r;break t}n(t,u);break}e(t,u),u=u.sibling}i.type===qt?((r=qr(i.props.children,t.mode,l,i.key)).return=t,t=r):((l=Kr(i.type,i.key,i.props,null,t.mode,l)).ref=fo(t,r,i),l.return=t,t=l)}return s(t);case Kt:t:{for(u=i.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(t,r.sibling),(r=o(r,i.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Zr(i,t.mode,l)).return=t,t=r}return s(t)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(t,r.sibling),(r=o(r,i)).return=t,t=r):(n(t,r),(r=Qr(i,t.mode,l)).return=t,t=r),s(t);if(ho(i))return g(t,r,i,l);if(ae(i))return m(t,r,i,l);if(c&&po(t,i),"undefined"===typeof i&&!u)switch(t.tag){case 1:case 0:a("152",(l=t.type).displayName||l.name||"Component")}return n(t,r)}}var mo=go(!0),vo=go(!1),yo={},bo={current:yo},wo={current:yo},Co={current:yo};function Oo(t){return t===yo&&a("174"),t}function So(t,e){xr(Co,e),xr(wo,t),xr(bo,yo);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:er(null,"");break;default:e=er(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}Rr(bo),xr(bo,e)}function Eo(t){Rr(bo),Rr(wo),Rr(Co)}function ko(t){Oo(Co.current);var e=Oo(bo.current),n=er(e,t.type);e!==n&&(xr(wo,t),xr(bo,n))}function To(t){wo.current===t&&(Rr(bo),Rr(wo))}var Ro=0,xo=2,Mo=4,Ao=8,No=16,_o=32,Po=64,Io=128,Do=zt.ReactCurrentDispatcher,Lo=0,jo=null,Ho=null,Bo=null,Fo=null,Wo=null,Vo=null,Uo=0,zo=null,Yo=0,Go=!1,Xo=null,Ko=0;function qo(){a("321")}function $o(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ze(t[n],e[n]))return!1;return!0}function Qo(t,e,n,r,o,i){if(Lo=i,jo=e,Bo=null!==t?t.memoizedState:null,Do.current=null===Bo?ci:hi,e=n(r,o),Go){do{Go=!1,Ko+=1,Bo=null!==t?t.memoizedState:null,Vo=Fo,zo=Wo=Ho=null,Do.current=hi,e=n(r,o)}while(Go);Xo=null,Ko=0}return Do.current=ui,(t=jo).memoizedState=Fo,t.expirationTime=Uo,t.updateQueue=zo,t.effectTag|=Yo,t=null!==Ho&&null!==Ho.next,Lo=0,Vo=Wo=Fo=Bo=Ho=jo=null,Uo=0,zo=null,Yo=0,t&&a("300"),e}function Zo(){Do.current=ui,Lo=0,Vo=Wo=Fo=Bo=Ho=jo=null,Uo=0,zo=null,Yo=0,Go=!1,Xo=null,Ko=0}function Jo(){var t={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Wo?Fo=Wo=t:Wo=Wo.next=t,Wo}function ti(){if(null!==Vo)Vo=(Wo=Vo).next,Bo=null!==(Ho=Bo)?Ho.next:null;else{null===Bo&&a("310");var t={memoizedState:(Ho=Bo).memoizedState,baseState:Ho.baseState,queue:Ho.queue,baseUpdate:Ho.baseUpdate,next:null};Wo=null===Wo?Fo=t:Wo.next=t,Bo=Ho.next}return Wo}function ei(t,e){return"function"===typeof e?e(t):e}function ni(t){var e=ti(),n=e.queue;if(null===n&&a("311"),n.lastRenderedReducer=t,0<Ko){var r=n.dispatch;if(null!==Xo){var o=Xo.get(n);if(void 0!==o){Xo.delete(n);var i=e.memoizedState;do{i=t(i,o.action),o=o.next}while(null!==o);return Ze(i,e.memoizedState)||(Oi=!0),e.memoizedState=i,e.baseUpdate===n.last&&(e.baseState=i),n.lastRenderedState=i,[i,r]}}return[e.memoizedState,r]}r=n.last;var s=e.baseUpdate;if(i=e.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var l=o=null,u=r,c=!1;do{var h=u.expirationTime;h<Lo?(c||(c=!0,l=s,o=i),h>Uo&&(Uo=h)):i=u.eagerReducer===t?u.eagerState:t(i,u.action),s=u,u=u.next}while(null!==u&&u!==r);c||(l=s,o=i),Ze(i,e.memoizedState)||(Oi=!0),e.memoizedState=i,e.baseUpdate=l,e.baseState=o,n.lastRenderedState=i}return[e.memoizedState,n.dispatch]}function ri(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===zo?(zo={lastEffect:null}).lastEffect=t.next=t:null===(e=zo.lastEffect)?zo.lastEffect=t.next=t:(n=e.next,e.next=t,t.next=n,zo.lastEffect=t),t}function oi(t,e,n,r){var o=Jo();Yo|=t,o.memoizedState=ri(e,n,void 0,void 0===r?null:r)}function ii(t,e,n,r){var o=ti();r=void 0===r?null:r;var i=void 0;if(null!==Ho){var a=Ho.memoizedState;if(i=a.destroy,null!==r&&$o(r,a.deps))return void ri(Ro,n,i,r)}Yo|=t,o.memoizedState=ri(e,n,i,r)}function ai(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function si(){}function li(t,e,n){25>Ko||a("301");var r=t.alternate;if(t===jo||null!==r&&r===jo)if(Go=!0,t={expirationTime:Lo,action:n,eagerReducer:null,eagerState:null,next:null},null===Xo&&(Xo=new Map),void 0===(n=Xo.get(e)))Xo.set(e,t);else{for(e=n;null!==e.next;)e=e.next;e.next=t}else{Ua();var o=Os(),i={expirationTime:o=qa(o,t),action:n,eagerReducer:null,eagerState:null,next:null},s=e.last;if(null===s)i.next=i;else{var l=s.next;null!==l&&(i.next=l),s.next=i}if(e.last=i,0===t.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=e.lastRenderedReducer))try{var u=e.lastRenderedState,c=r(u,n);if(i.eagerReducer=r,i.eagerState=c,Ze(c,u))return}catch(h){}Za(t,o)}}var ui={readContext:Vi,useCallback:qo,useContext:qo,useEffect:qo,useImperativeHandle:qo,useLayoutEffect:qo,useMemo:qo,useReducer:qo,useRef:qo,useState:qo,useDebugValue:qo},ci={readContext:Vi,useCallback:function(t,e){return Jo().memoizedState=[t,void 0===e?null:e],t},useContext:Vi,useEffect:function(t,e){return oi(516,Io|Po,t,e)},useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,oi(4,Mo|_o,ai.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oi(4,Mo|_o,t,e)},useMemo:function(t,e){var n=Jo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={last:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=li.bind(null,jo,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Jo().memoizedState=t},useState:function(t){var e=Jo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={last:null,dispatch:null,lastRenderedReducer:ei,lastRenderedState:t}).dispatch=li.bind(null,jo,t),[e.memoizedState,t]},useDebugValue:si},hi={readContext:Vi,useCallback:function(t,e){var n=ti();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&$o(e,r[1])?r[0]:(n.memoizedState=[t,e],t)},useContext:Vi,useEffect:function(t,e){return ii(516,Io|Po,t,e)},useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ii(4,Mo|_o,ai.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ii(4,Mo|_o,t,e)},useMemo:function(t,e){var n=ti();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&$o(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)},useReducer:ni,useRef:function(){return ti().memoizedState},useState:function(t){return ni(ei)},useDebugValue:si},fi=null,di=null,pi=!1;function gi(t,e){var n=Yr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function mi(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function vi(t){if(pi){var e=di;if(e){var n=e;if(!mi(t,e)){if(!(e=Sr(n))||!mi(t,e))return t.effectTag|=2,pi=!1,void(fi=t);gi(fi,n)}fi=t,di=Er(e)}else t.effectTag|=2,pi=!1,fi=t}}function yi(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&18!==t.tag;)t=t.return;fi=t}function bi(t){if(t!==fi)return!1;if(!pi)return yi(t),pi=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!yr(e,t.memoizedProps))for(e=di;e;)gi(t,e),e=Sr(e);return yi(t),di=fi?Sr(t.stateNode):null,!0}function wi(){di=fi=null,pi=!1}var Ci=zt.ReactCurrentOwner,Oi=!1;function Si(t,e,n,r){e.child=null===t?vo(e,null,n,r):mo(e,t.child,n,r)}function Ei(t,e,n,r,o){n=n.render;var i=e.ref;return Wi(e,o),r=Qo(t,e,n,r,i,o),null===t||Oi?(e.effectTag|=1,Si(t,e,r,o),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=o&&(t.expirationTime=0),Pi(t,e,o))}function ki(t,e,n,r,o,i){if(null===t){var a=n.type;return"function"!==typeof a||Gr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Kr(n.type,null,r,null,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ti(t,e,a,r,o,i))}return a=t.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:tn)(o,r)&&t.ref===e.ref)?Pi(t,e,i):(e.effectTag|=1,(t=Xr(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ti(t,e,n,r,o,i){return null!==t&&tn(t.memoizedProps,r)&&t.ref===e.ref&&(Oi=!1,o<i)?Pi(t,e,i):xi(t,e,n,r,i)}function Ri(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function xi(t,e,n,r,o){var i=Ir(n)?_r:Ar.current;return i=Pr(e,i),Wi(e,o),n=Qo(t,e,n,r,i,o),null===t||Oi?(e.effectTag|=1,Si(t,e,n,o),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=o&&(t.expirationTime=0),Pi(t,e,o))}function Mi(t,e,n,r,o){if(Ir(n)){var i=!0;Br(e)}else i=!1;if(Wi(e,o),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),lo(e,n,r),co(e,n,r,o),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Vi(u):u=Pr(e,u=Ir(n)?_r:Ar.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&uo(e,a,r,u),Xi=!1;var f=e.memoizedState;l=a.state=f;var d=e.updateQueue;null!==d&&(na(e,d,r,a,o),l=e.memoizedState),s!==r||f!==l||Nr.current||Xi?("function"===typeof c&&(io(e,n,c,r),l=e.memoizedState),(s=Xi||so(e,n,s,r,f,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=e.type===e.elementType?s:ro(e.type,s),l=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Vi(u):u=Pr(e,u=Ir(n)?_r:Ar.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&uo(e,a,r,u),Xi=!1,l=e.memoizedState,f=a.state=l,null!==(d=e.updateQueue)&&(na(e,d,r,a,o),f=e.memoizedState),s!==r||l!==f||Nr.current||Xi?("function"===typeof c&&(io(e,n,c,r),f=e.memoizedState),(c=Xi||so(e,n,s,r,l,f,u))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,u)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),r=!1);return Ai(t,e,n,r,i,o)}function Ai(t,e,n,r,o,i){Ri(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return o&&Fr(e,n,!1),Pi(t,e,i);r=e.stateNode,Ci.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=mo(e,t.child,null,i),e.child=mo(e,null,s,i)):Si(t,e,s,i),e.memoizedState=r.state,o&&Fr(e,n,!0),e.child}function Ni(t){var e=t.stateNode;e.pendingContext?jr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&jr(0,e.context,!1),So(t,e.containerInfo)}function _i(t,e,n){var r=e.mode,o=e.pendingProps,i=e.memoizedState;if(0===(64&e.effectTag)){i=null;var a=!1}else i={timedOutAt:null!==i?i.timedOutAt:0},a=!0,e.effectTag&=-65;if(null===t)if(a){var s=o.fallback;t=qr(null,r,0,null),0===(1&e.mode)&&(t.child=null!==e.memoizedState?e.child.child:e.child),r=qr(s,r,n,null),t.sibling=r,(n=t).return=r.return=e}else n=r=vo(e,null,o.children,n);else null!==t.memoizedState?(s=(r=t.child).sibling,a?(n=o.fallback,o=Xr(r,r.pendingProps),0===(1&e.mode)&&((a=null!==e.memoizedState?e.child.child:e.child)!==r.child&&(o.child=a)),r=o.sibling=Xr(s,n,s.expirationTime),n=o,o.childExpirationTime=0,n.return=r.return=e):n=r=mo(e,r.child,o.children,n)):(s=t.child,a?(a=o.fallback,(o=qr(null,r,0,null)).child=s,0===(1&e.mode)&&(o.child=null!==e.memoizedState?e.child.child:e.child),(r=o.sibling=qr(a,r,n,null)).effectTag|=2,n=o,o.childExpirationTime=0,n.return=r.return=e):r=n=mo(e,s,o.children,n)),e.stateNode=t.stateNode;return e.memoizedState=i,e.child=n,r}function Pi(t,e,n){if(null!==t&&(e.contextDependencies=t.contextDependencies),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child&&a("153"),null!==e.child){for(n=Xr(t=e.child,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Xr(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function Ii(t,e,n){var r=e.expirationTime;if(null!==t){if(t.memoizedProps!==e.pendingProps||Nr.current)Oi=!0;else if(r<n){switch(Oi=!1,e.tag){case 3:Ni(e),wi();break;case 5:ko(e);break;case 1:Ir(e.type)&&Br(e);break;case 4:So(e,e.stateNode.containerInfo);break;case 10:Bi(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?_i(t,e,n):null!==(e=Pi(t,e,n))?e.sibling:null}return Pi(t,e,n)}}else Oi=!1;switch(e.expirationTime=0,e.tag){case 2:r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps;var o=Pr(e,Ar.current);if(Wi(e,n),o=Qo(null,e,r,t,o,n),e.effectTag|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(e.tag=1,Zo(),Ir(r)){var i=!0;Br(e)}else i=!1;e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&io(e,r,s,t),o.updater=ao,e.stateNode=o,o._reactInternalFiber=e,co(e,r,t,n),e=Ai(null,e,r,!0,i,n)}else e.tag=0,Si(null,e,o,n),e=e.child;return e;case 16:switch(o=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),i=e.pendingProps,t=function(t){var e=t._result;switch(t._status){case 1:return e;case 2:case 0:throw e;default:switch(t._status=0,(e=(e=t._ctor)()).then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)}),t._status){case 1:return t._result;case 2:throw t._result}throw t._result=e,e}}(o),e.type=t,o=e.tag=function(t){if("function"===typeof t)return Gr(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===ee)return 11;if(t===re)return 14}return 2}(t),i=ro(t,i),s=void 0,o){case 0:s=xi(null,e,t,i,n);break;case 1:s=Mi(null,e,t,i,n);break;case 11:s=Ei(null,e,t,i,n);break;case 14:s=ki(null,e,t,ro(t.type,i),r,n);break;default:a("306",t,"")}return s;case 0:return r=e.type,o=e.pendingProps,xi(t,e,r,o=e.elementType===r?o:ro(r,o),n);case 1:return r=e.type,o=e.pendingProps,Mi(t,e,r,o=e.elementType===r?o:ro(r,o),n);case 3:return Ni(e),null===(r=e.updateQueue)&&a("282"),o=null!==(o=e.memoizedState)?o.element:null,na(e,r,e.pendingProps,null,n),(r=e.memoizedState.element)===o?(wi(),e=Pi(t,e,n)):(o=e.stateNode,(o=(null===t||null===t.child)&&o.hydrate)&&(di=Er(e.stateNode.containerInfo),fi=e,o=pi=!0),o?(e.effectTag|=2,e.child=vo(e,null,r,n)):(Si(t,e,r,n),wi()),e=e.child),e;case 5:return ko(e),null===t&&vi(e),r=e.type,o=e.pendingProps,i=null!==t?t.memoizedProps:null,s=o.children,yr(r,o)?s=null:null!==i&&yr(r,i)&&(e.effectTag|=16),Ri(t,e),1!==n&&1&e.mode&&o.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Si(t,e,s,n),e=e.child),e;case 6:return null===t&&vi(e),null;case 13:return _i(t,e,n);case 4:return So(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=mo(e,null,r,n):Si(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,Ei(t,e,r,o=e.elementType===r?o:ro(r,o),n);case 7:return Si(t,e,e.pendingProps,n),e.child;case 8:case 12:return Si(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,o=e.pendingProps,s=e.memoizedProps,Bi(e,i=o.value),null!==s){var l=s.value;if(0===(i=Ze(l,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(s.children===o.children&&!Nr.current){e=Pi(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.contextDependencies;if(null!==u){s=l.child;for(var c=u.first;null!==c;){if(c.context===r&&0!==(c.observedBits&i)){1===l.tag&&((c=$i(n)).tag=Yi,Zi(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),c=n;for(var h=l.return;null!==h;){var f=h.alternate;if(h.childExpirationTime<c)h.childExpirationTime=c,null!==f&&f.childExpirationTime<c&&(f.childExpirationTime=c);else{if(!(null!==f&&f.childExpirationTime<c))break;f.childExpirationTime=c}h=h.return}u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===e.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===e){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Si(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=(i=e.pendingProps).children,Wi(e,n),r=r(o=Vi(o,i.unstable_observedBits)),e.effectTag|=1,Si(t,e,r,n),e.child;case 14:return i=ro(o=e.type,e.pendingProps),ki(t,e,o,i=ro(o.type,i),r,n);case 15:return Ti(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ro(r,o),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,Ir(r)?(t=!0,Br(e)):t=!1,Wi(e,n),lo(e,r,o),co(e,r,o,n),Ai(null,e,r,!0,t,n)}a("156")}var Di={current:null},Li=null,ji=null,Hi=null;function Bi(t,e){var n=t.type._context;xr(Di,n._currentValue),n._currentValue=e}function Fi(t){var e=Di.current;Rr(Di),t.type._context._currentValue=e}function Wi(t,e){Li=t,Hi=ji=null;var n=t.contextDependencies;null!==n&&n.expirationTime>=e&&(Oi=!0),t.contextDependencies=null}function Vi(t,e){return Hi!==t&&!1!==e&&0!==e&&("number"===typeof e&&1073741823!==e||(Hi=t,e=1073741823),e={context:t,observedBits:e,next:null},null===ji?(null===Li&&a("308"),ji=e,Li.contextDependencies={first:e,expirationTime:0}):ji=ji.next=e),t._currentValue}var Ui=0,zi=1,Yi=2,Gi=3,Xi=!1;function Ki(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function qi(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function $i(t){return{expirationTime:t,tag:Ui,payload:null,callback:null,next:null,nextEffect:null}}function Qi(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function Zi(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,o=null;null===r&&(r=t.updateQueue=Ki(t.memoizedState))}else r=t.updateQueue,o=n.updateQueue,null===r?null===o?(r=t.updateQueue=Ki(t.memoizedState),o=n.updateQueue=Ki(n.memoizedState)):r=t.updateQueue=qi(o):null===o&&(o=n.updateQueue=qi(r));null===o||r===o?Qi(r,e):null===r.lastUpdate||null===o.lastUpdate?(Qi(r,e),Qi(o,e)):(Qi(r,e),o.lastUpdate=e)}function Ji(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=Ki(t.memoizedState):ta(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function ta(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=qi(e)),e}function ea(t,e,n,r,i,a){switch(n.tag){case zi:return"function"===typeof(t=n.payload)?t.call(a,r,i):t;case Gi:t.effectTag=-2049&t.effectTag|64;case Ui:if(null===(i="function"===typeof(t=n.payload)?t.call(a,r,i):t)||void 0===i)break;return o({},r,i);case Yi:Xi=!0}return r}function na(t,e,n,r,o){Xi=!1;for(var i=(e=ta(t,e)).baseState,a=null,s=0,l=e.firstUpdate,u=i;null!==l;){var c=l.expirationTime;c<o?(null===a&&(a=l,i=u),s<c&&(s=c)):(u=ea(t,0,l,u,n,r),null!==l.callback&&(t.effectTag|=32,l.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=l:(e.lastEffect.nextEffect=l,e.lastEffect=l))),l=l.next}for(c=null,l=e.firstCapturedUpdate;null!==l;){var h=l.expirationTime;h<o?(null===c&&(c=l,null===a&&(i=u)),s<h&&(s=h)):(u=ea(t,0,l,u,n,r),null!==l.callback&&(t.effectTag|=32,l.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=l:(e.lastCapturedEffect.nextEffect=l,e.lastCapturedEffect=l))),l=l.next}null===a&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===c&&(i=u),e.baseState=i,e.firstUpdate=a,e.firstCapturedUpdate=c,t.expirationTime=s,t.memoizedState=u}function ra(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),oa(e.firstEffect,n),e.firstEffect=e.lastEffect=null,oa(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function oa(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;"function"!==typeof n&&a("191",n),n.call(r)}t=t.nextEffect}}function ia(t,e){return{value:t,source:e,stack:le(e)}}function aa(t){t.effectTag|=4}var sa=void 0,la=void 0,ua=void 0,ca=void 0;sa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},la=function(){},ua=function(t,e,n,r,i){var a=t.memoizedProps;if(a!==r){var s=e.stateNode;switch(Oo(bo.current),t=null,n){case"input":a=be(s,a),r=be(s,r),t=[];break;case"option":a=Xn(s,a),r=Xn(s,r),t=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),t=[];break;case"textarea":a=qn(s,a),r=qn(s,r),t=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(s.onclick=pr)}hr(n,r),s=n=void 0;var l=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var u=a[n];for(s in u)u.hasOwnProperty(s)&&(l||(l={}),l[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(b.hasOwnProperty(n)?t||(t=[]):(t=t||[]).push(n,null));for(n in r){var c=r[n];if(u=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&c!==u&&(null!=c||null!=u))if("style"===n)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(l||(l={}),l[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(l||(l={}),l[s]=c[s])}else l||(t||(t=[]),t.push(n,l)),l=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(n,""+c)):"children"===n?u===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(b.hasOwnProperty(n)?(null!=c&&dr(i,n),t||u===c||(t=[])):(t=t||[]).push(n,c))}l&&(t=t||[]).push("style",l),i=t,(e.updateQueue=i)&&aa(e)}},ca=function(t,e,n,r){n!==r&&aa(e)};var ha="function"===typeof WeakSet?WeakSet:Set;function fa(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=le(n)),null!==n&&se(n.type),e=e.value,null!==t&&1===t.tag&&se(t.type);try{console.error(e)}catch(o){setTimeout(function(){throw o})}}function da(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Ka(t,n)}else e.current=null}function pa(t,e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&t)!==Ro){var o=r.destroy;r.destroy=void 0,void 0!==o&&o()}(r.tag&e)!==Ro&&(o=r.create,r.destroy=o()),r=r.next}while(r!==n)}}function ga(t){switch("function"===typeof Vr&&Vr(t),t.tag){case 0:case 11:case 14:case 15:var e=t.updateQueue;if(null!==e&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n.destroy;if(void 0!==r){var o=t;try{r()}catch(i){Ka(o,i)}}n=n.next}while(n!==e)}break;case 1:if(da(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Ka(t,i)}break;case 5:da(t);break;case 4:ya(t)}}function ma(t){return 5===t.tag||3===t.tag||4===t.tag}function va(t){t:{for(var e=t.return;null!==e;){if(ma(e)){var n=e;break t}e=e.return}a("160"),n=void 0}var r=e=void 0;switch(n.tag){case 5:e=n.stateNode,r=!1;break;case 3:case 4:e=n.stateNode.containerInfo,r=!0;break;default:a("161")}16&n.effectTag&&(ir(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var o=t;;){if(5===o.tag||6===o.tag)if(n)if(r){var i=e,s=o.stateNode,l=n;8===i.nodeType?i.parentNode.insertBefore(s,l):i.insertBefore(s,l)}else e.insertBefore(o.stateNode,n);else r?(s=e,l=o.stateNode,8===s.nodeType?(i=s.parentNode).insertBefore(l,s):(i=s).appendChild(l),null!==(s=s._reactRootContainer)&&void 0!==s||null!==i.onclick||(i.onclick=pr)):e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function ya(t){for(var e=t,n=!1,r=void 0,o=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&a("160"),n.tag){case 5:r=n.stateNode,o=!1;break t;case 3:case 4:r=n.stateNode.containerInfo,o=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag){t:for(var i=e,s=i;;)if(ga(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===i)break;for(;null===s.sibling;){if(null===s.return||s.return===i)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}o?(i=r,s=e.stateNode,8===i.nodeType?i.parentNode.removeChild(s):i.removeChild(s)):r.removeChild(e.stateNode)}else if(4===e.tag){if(null!==e.child){r=e.stateNode.containerInfo,o=!0,e.child.return=e,e=e.child;continue}}else if(ga(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;4===(e=e.return).tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}function ba(t,e){switch(e.tag){case 0:case 11:case 14:case 15:pa(Mo,Ao,e);break;case 1:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps;t=null!==t?t.memoizedProps:r;var o=e.type,i=e.updateQueue;e.updateQueue=null,null!==i&&function(t,e,n,r,o){t[I]=o,"input"===n&&"radio"===o.type&&null!=o.name&&Ce(t,o),fr(n,r),r=fr(n,o);for(var i=0;i<e.length;i+=2){var a=e[i],s=e[i+1];"style"===a?ur(t,s):"dangerouslySetInnerHTML"===a?or(t,s):"children"===a?ir(t,s):ve(t,a,s,r)}switch(n){case"input":Oe(t,o);break;case"textarea":Qn(t,o);break;case"select":e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!o.multiple,null!=(n=o.value)?Kn(t,!!o.multiple,n,!1):e!==!!o.multiple&&(null!=o.defaultValue?Kn(t,!!o.multiple,o.defaultValue,!0):Kn(t,!!o.multiple,o.multiple?[]:"",!1))}}(n,i,o,t,r)}break;case 6:null===e.stateNode&&a("162"),e.stateNode.nodeValue=e.memoizedProps;break;case 3:case 12:break;case 13:if(n=e.memoizedState,r=void 0,t=e,null===n?r=!1:(r=!0,t=e.child,0===n.timedOutAt&&(n.timedOutAt=Os())),null!==t&&function(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)r.style.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,r.style.display=lr("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(t,r),null!==(n=e.updateQueue)){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new ha),n.forEach(function(t){var n=function(t,e){var n=t.stateNode;null!==n&&n.delete(e),e=qa(e=Os(),t),null!==(t=Qa(t,e))&&(Jr(t,e),0!==(e=t.expirationTime)&&Ss(t,e))}.bind(null,e,t);s.has(t)||(s.add(t),t.then(n,n))})}break;case 17:break;default:a("163")}}var wa="function"===typeof WeakMap?WeakMap:Map;function Ca(t,e,n){(n=$i(n)).tag=Gi,n.payload={element:null};var r=e.value;return n.callback=function(){_s(r),fa(t,e)},n}function Oa(t,e,n){(n=$i(n)).tag=Gi;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var o=e.value;n.payload=function(){return r(o)}}var i=t.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ha?Ha=new Set([this]):Ha.add(this));var n=e.value,o=e.stack;fa(t,e),this.componentDidCatch(n,{componentStack:null!==o?o:""})}),n}function Sa(t){switch(t.tag){case 1:Ir(t.type)&&Dr();var e=t.effectTag;return 2048&e?(t.effectTag=-2049&e|64,t):null;case 3:return Eo(),Lr(),0!==(64&(e=t.effectTag))&&a("285"),t.effectTag=-2049&e|64,t;case 5:return To(t),null;case 13:return 2048&(e=t.effectTag)?(t.effectTag=-2049&e|64,t):null;case 18:return null;case 4:return Eo(),null;case 10:return Fi(t),null;default:return null}}var Ea=zt.ReactCurrentDispatcher,ka=zt.ReactCurrentOwner,Ta=1073741822,Ra=!1,xa=null,Ma=null,Aa=0,Na=-1,_a=!1,Pa=null,Ia=!1,Da=null,La=null,ja=null,Ha=null;function Ba(){if(null!==xa)for(var t=xa.return;null!==t;){var e=t;switch(e.tag){case 1:var n=e.type.childContextTypes;null!==n&&void 0!==n&&Dr();break;case 3:Eo(),Lr();break;case 5:To(e);break;case 4:Eo();break;case 10:Fi(e)}t=t.return}Ma=null,Aa=0,Na=-1,_a=!1,xa=null}function Fa(){for(;null!==Pa;){var t=Pa.effectTag;if(16&t&&ir(Pa.stateNode,""),128&t){var e=Pa.alternate;null!==e&&(null!==(e=e.ref)&&("function"===typeof e?e(null):e.current=null))}switch(14&t){case 2:va(Pa),Pa.effectTag&=-3;break;case 6:va(Pa),Pa.effectTag&=-3,ba(Pa.alternate,Pa);break;case 4:ba(Pa.alternate,Pa);break;case 8:ya(t=Pa),t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,null!==(t=t.alternate)&&(t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null)}Pa=Pa.nextEffect}}function Wa(){for(;null!==Pa;){if(256&Pa.effectTag)t:{var t=Pa.alternate,e=Pa;switch(e.tag){case 0:case 11:case 15:pa(xo,Ro,e);break t;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:ro(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}break t;case 3:case 5:case 6:case 4:case 17:break t;default:a("163")}}Pa=Pa.nextEffect}}function Va(t,e){for(;null!==Pa;){var n=Pa.effectTag;if(36&n){var r=Pa.alternate,o=Pa,i=e;switch(o.tag){case 0:case 11:case 15:pa(No,_o,o);break;case 1:var s=o.stateNode;if(4&o.effectTag)if(null===r)s.componentDidMount();else{var l=o.elementType===o.type?r.memoizedProps:ro(o.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(r=o.updateQueue)&&ra(0,r,s);break;case 3:if(null!==(r=o.updateQueue)){if(s=null,null!==o.child)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}ra(0,r,s)}break;case 5:i=o.stateNode,null===r&&4&o.effectTag&&vr(o.type,o.memoizedProps)&&i.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}128&n&&(null!==(o=Pa.ref)&&(i=Pa.stateNode,"function"===typeof o?o(i):o.current=i)),512&n&&(Da=t),Pa=Pa.nextEffect}}function Ua(){null!==La&&Or(La),null!==ja&&ja()}function za(t,e){Ia=Ra=!0,t.current===e&&a("177");var n=t.pendingCommitExpirationTime;0===n&&a("261"),t.pendingCommitExpirationTime=0;var r=e.expirationTime,o=e.childExpirationTime;for(function(t,e){if(t.didError=!1,0===e)t.earliestPendingTime=0,t.latestPendingTime=0,t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0;else{e<t.latestPingedTime&&(t.latestPingedTime=0);var n=t.latestPendingTime;0!==n&&(n>e?t.earliestPendingTime=t.latestPendingTime=0:t.earliestPendingTime>e&&(t.earliestPendingTime=t.latestPendingTime)),0===(n=t.earliestSuspendedTime)?Jr(t,e):e<t.latestSuspendedTime?(t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0,Jr(t,e)):e>n&&Jr(t,e)}no(0,t)}(t,o>r?o:r),ka.current=null,r=void 0,1<e.effectTag?null!==e.lastEffect?(e.lastEffect.nextEffect=e,r=e.firstEffect):r=e:r=e.firstEffect,gr=En,mr=function(){var t=Ln();if(jn(t)){if("selectionStart"in t)var e={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(e=(e=t.ownerDocument)&&e.defaultView||window).getSelection&&e.getSelection();if(n&&0!==n.rangeCount){e=n.anchorNode;var r=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{e.nodeType,o.nodeType}catch(d){e=null;break t}var i=0,a=-1,s=-1,l=0,u=0,c=t,h=null;e:for(;;){for(var f;c!==e||0!==r&&3!==c.nodeType||(a=i+r),c!==o||0!==n&&3!==c.nodeType||(s=i+n),3===c.nodeType&&(i+=c.nodeValue.length),null!==(f=c.firstChild);)h=c,c=f;for(;;){if(c===t)break e;if(h===e&&++l===r&&(a=i),h===o&&++u===n&&(s=i),null!==(f=c.nextSibling))break;h=(c=h).parentNode}c=f}e=-1===a||-1===s?null:{start:a,end:s}}else e=null}e=e||{start:0,end:0}}else e=null;return{focusedElem:t,selectionRange:e}}(),En=!1,Pa=r;null!==Pa;){o=!1;var s=void 0;try{Wa()}catch(u){o=!0,s=u}o&&(null===Pa&&a("178"),Ka(Pa,s),null!==Pa&&(Pa=Pa.nextEffect))}for(Pa=r;null!==Pa;){o=!1,s=void 0;try{Fa()}catch(u){o=!0,s=u}o&&(null===Pa&&a("178"),Ka(Pa,s),null!==Pa&&(Pa=Pa.nextEffect))}for(Hn(mr),mr=null,En=!!gr,gr=null,t.current=e,Pa=r;null!==Pa;){o=!1,s=void 0;try{Va(t,n)}catch(u){o=!0,s=u}o&&(null===Pa&&a("178"),Ka(Pa,s),null!==Pa&&(Pa=Pa.nextEffect))}if(null!==r&&null!==Da){var l=function(t,e){ja=La=Da=null;var n=os;os=!0;do{if(512&e.effectTag){var r=!1,o=void 0;try{var i=e;pa(Io,Ro,i),pa(Ro,Po,i)}catch(l){r=!0,o=l}r&&Ka(e,o)}e=e.nextEffect}while(null!==e);os=n,0!==(n=t.expirationTime)&&Ss(t,n),cs||os||xs(1073741823,!1)}.bind(null,t,r);La=i.unstable_runWithPriority(i.unstable_NormalPriority,function(){return Cr(l)}),ja=l}Ra=Ia=!1,"function"===typeof Wr&&Wr(e.stateNode),n=e.expirationTime,0===(e=(e=e.childExpirationTime)>n?e:n)&&(Ha=null),function(t,e){t.expirationTime=e,t.finishedWork=null}(t,e)}function Ya(t){for(;;){var e=t.alternate,n=t.return,r=t.sibling;if(0===(1024&t.effectTag)){xa=t;t:{var i=e,s=Aa,l=(e=t).pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:Ir(e.type)&&Dr();break;case 3:Eo(),Lr(),(l=e.stateNode).pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==i&&null!==i.child||(bi(e),e.effectTag&=-3),la(e);break;case 5:To(e);var u=Oo(Co.current);if(s=e.type,null!==i&&null!=e.stateNode)ua(i,e,s,l,u),i.ref!==e.ref&&(e.effectTag|=128);else if(l){var c=Oo(bo.current);if(bi(e)){i=(l=e).stateNode;var h=l.type,f=l.memoizedProps,d=u;switch(i[P]=l,i[I]=f,s=void 0,u=h){case"iframe":case"object":kn("load",i);break;case"video":case"audio":for(h=0;h<et.length;h++)kn(et[h],i);break;case"source":kn("error",i);break;case"img":case"image":case"link":kn("error",i),kn("load",i);break;case"form":kn("reset",i),kn("submit",i);break;case"details":kn("toggle",i);break;case"input":we(i,f),kn("invalid",i),dr(d,"onChange");break;case"select":i._wrapperState={wasMultiple:!!f.multiple},kn("invalid",i),dr(d,"onChange");break;case"textarea":$n(i,f),kn("invalid",i),dr(d,"onChange")}for(s in hr(u,f),h=null,f)f.hasOwnProperty(s)&&(c=f[s],"children"===s?"string"===typeof c?i.textContent!==c&&(h=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(h=["children",""+c]):b.hasOwnProperty(s)&&null!=c&&dr(d,s));switch(u){case"input":Vt(i),Se(i,f,!0);break;case"textarea":Vt(i),Zn(i);break;case"select":case"option":break;default:"function"===typeof f.onClick&&(i.onclick=pr)}s=h,l.updateQueue=s,(l=null!==s)&&aa(e)}else{f=e,d=s,i=l,h=9===u.nodeType?u:u.ownerDocument,c===Jn.html&&(c=tr(d)),c===Jn.html?"script"===d?((i=h.createElement("div")).innerHTML="<script><\/script>",h=i.removeChild(i.firstChild)):"string"===typeof i.is?h=h.createElement(d,{is:i.is}):(h=h.createElement(d),"select"===d&&(d=h,i.multiple?d.multiple=!0:i.size&&(d.size=i.size))):h=h.createElementNS(c,d),(i=h)[P]=f,i[I]=l,sa(i,e,!1,!1),d=i;var p=u,g=fr(h=s,f=l);switch(h){case"iframe":case"object":kn("load",d),u=f;break;case"video":case"audio":for(u=0;u<et.length;u++)kn(et[u],d);u=f;break;case"source":kn("error",d),u=f;break;case"img":case"image":case"link":kn("error",d),kn("load",d),u=f;break;case"form":kn("reset",d),kn("submit",d),u=f;break;case"details":kn("toggle",d),u=f;break;case"input":we(d,f),u=be(d,f),kn("invalid",d),dr(p,"onChange");break;case"option":u=Xn(d,f);break;case"select":d._wrapperState={wasMultiple:!!f.multiple},u=o({},f,{value:void 0}),kn("invalid",d),dr(p,"onChange");break;case"textarea":$n(d,f),u=qn(d,f),kn("invalid",d),dr(p,"onChange");break;default:u=f}hr(h,u),c=void 0;var m=h,v=d,y=u;for(c in y)if(y.hasOwnProperty(c)){var w=y[c];"style"===c?ur(v,w):"dangerouslySetInnerHTML"===c?null!=(w=w?w.__html:void 0)&&or(v,w):"children"===c?"string"===typeof w?("textarea"!==m||""!==w)&&ir(v,w):"number"===typeof w&&ir(v,""+w):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(b.hasOwnProperty(c)?null!=w&&dr(p,c):null!=w&&ve(v,c,w,g))}switch(h){case"input":Vt(d),Se(d,f,!1);break;case"textarea":Vt(d),Zn(d);break;case"option":null!=f.value&&d.setAttribute("value",""+ye(f.value));break;case"select":(u=d).multiple=!!f.multiple,null!=(d=f.value)?Kn(u,!!f.multiple,d,!1):null!=f.defaultValue&&Kn(u,!!f.multiple,f.defaultValue,!0);break;default:"function"===typeof u.onClick&&(d.onclick=pr)}(l=vr(s,l))&&aa(e),e.stateNode=i}null!==e.ref&&(e.effectTag|=128)}else null===e.stateNode&&a("166");break;case 6:i&&null!=e.stateNode?ca(i,e,i.memoizedProps,l):("string"!==typeof l&&(null===e.stateNode&&a("166")),i=Oo(Co.current),Oo(bo.current),bi(e)?(s=(l=e).stateNode,i=l.memoizedProps,s[P]=l,(l=s.nodeValue!==i)&&aa(e)):(s=e,(l=(9===i.nodeType?i:i.ownerDocument).createTextNode(l))[P]=e,s.stateNode=l));break;case 11:break;case 13:if(l=e.memoizedState,0!==(64&e.effectTag)){e.expirationTime=s,xa=e;break t}l=null!==l,s=null!==i&&null!==i.memoizedState,null!==i&&!l&&s&&(null!==(i=i.child.sibling)&&(null!==(u=e.firstEffect)?(e.firstEffect=i,i.nextEffect=u):(e.firstEffect=e.lastEffect=i,i.nextEffect=null),i.effectTag=8)),(l||s)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Eo(),la(e);break;case 10:Fi(e);break;case 9:case 14:break;case 17:Ir(e.type)&&Dr();break;case 18:break;default:a("156")}xa=null}if(e=t,1===Aa||1!==e.childExpirationTime){for(l=0,s=e.child;null!==s;)(i=s.expirationTime)>l&&(l=i),(u=s.childExpirationTime)>l&&(l=u),s=s.sibling;e.childExpirationTime=l}if(null!==xa)return xa;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t))}else{if(null!==(t=Sa(t)))return t.effectTag&=1023,t;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;t=n}return null}function Ga(t){var e=Ii(t.alternate,t,Aa);return t.memoizedProps=t.pendingProps,null===e&&(e=Ya(t)),ka.current=null,e}function Xa(t,e){Ra&&a("243"),Ua(),Ra=!0;var n=Ea.current;Ea.current=ui;var r=t.nextExpirationTimeToWorkOn;r===Aa&&t===Ma&&null!==xa||(Ba(),Aa=r,xa=Xr((Ma=t).current,null),t.pendingCommitExpirationTime=0);for(var o=!1;;){try{if(e)for(;null!==xa&&!Ts();)xa=Ga(xa);else for(;null!==xa;)xa=Ga(xa)}catch(v){if(Hi=ji=Li=null,Zo(),null===xa)o=!0,_s(v);else{null===xa&&a("271");var i=xa,s=i.return;if(null!==s){t:{var l=t,u=s,c=i,h=v;if(s=Aa,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==h&&"object"===typeof h&&"function"===typeof h.then){var f=h;h=u;var d=-1,p=-1;do{if(13===h.tag){var g=h.alternate;if(null!==g&&null!==(g=g.memoizedState)){p=10*(1073741822-g.timedOutAt);break}"number"===typeof(g=h.pendingProps.maxDuration)&&(0>=g?d=0:(-1===d||g<d)&&(d=g))}h=h.return}while(null!==h);h=u;do{if((g=13===h.tag)&&(g=void 0!==h.memoizedProps.fallback&&null===h.memoizedState),g){if(null===(u=h.updateQueue)?((u=new Set).add(f),h.updateQueue=u):u.add(f),0===(1&h.mode)){h.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((s=$i(1073741823)).tag=Yi,Zi(c,s))),c.expirationTime=1073741823;break t}u=s;var m=(c=l).pingCache;null===m?(m=c.pingCache=new wa,g=new Set,m.set(f,g)):void 0===(g=m.get(f))&&(g=new Set,m.set(f,g)),g.has(u)||(g.add(u),c=$a.bind(null,c,f,u),f.then(c,c)),-1===d?l=1073741823:(-1===p&&(p=10*(1073741822-eo(l,s))-5e3),l=p+d),0<=l&&Na<l&&(Na=l),h.effectTag|=2048,h.expirationTime=s;break t}h=h.return}while(null!==h);h=Error((se(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+le(c))}_a=!0,h=ia(h,c),l=u;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=s,Ji(l,s=Ca(l,h,s));break t;case 1:if(d=h,p=l.type,c=l.stateNode,0===(64&l.effectTag)&&("function"===typeof p.getDerivedStateFromError||null!==c&&"function"===typeof c.componentDidCatch&&(null===Ha||!Ha.has(c)))){l.effectTag|=2048,l.expirationTime=s,Ji(l,s=Oa(l,d,s));break t}}l=l.return}while(null!==l)}xa=Ya(i);continue}o=!0,_s(v)}}break}if(Ra=!1,Ea.current=n,Hi=ji=Li=null,Zo(),o)Ma=null,t.finishedWork=null;else if(null!==xa)t.finishedWork=null;else{if(null===(n=t.current.alternate)&&a("281"),Ma=null,_a){if(o=t.latestPendingTime,i=t.latestSuspendedTime,s=t.latestPingedTime,0!==o&&o<r||0!==i&&i<r||0!==s&&s<r)return to(t,r),void Cs(t,n,r,t.expirationTime,-1);if(!t.didError&&e)return t.didError=!0,r=t.nextExpirationTimeToWorkOn=r,e=t.expirationTime=1073741823,void Cs(t,n,r,e,-1)}e&&-1!==Na?(to(t,r),(e=10*(1073741822-eo(t,r)))<Na&&(Na=e),e=10*(1073741822-Os()),e=Na-e,Cs(t,n,r,t.expirationTime,0>e?0:e)):(t.pendingCommitExpirationTime=r,t.finishedWork=n)}}function Ka(t,e){for(var n=t.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ha||!Ha.has(r)))return Zi(n,t=Oa(n,t=ia(e,t),1073741823)),void Za(n,1073741823);break;case 3:return Zi(n,t=Ca(n,t=ia(e,t),1073741823)),void Za(n,1073741823)}n=n.return}3===t.tag&&(Zi(t,n=Ca(t,n=ia(e,t),1073741823)),Za(t,1073741823))}function qa(t,e){var n=i.unstable_getCurrentPriorityLevel(),r=void 0;if(0===(1&e.mode))r=1073741823;else if(Ra&&!Ia)r=Aa;else{switch(n){case i.unstable_ImmediatePriority:r=1073741823;break;case i.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-t+15)/10|0));break;case i.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-t+500)/25|0));break;case i.unstable_LowPriority:case i.unstable_IdlePriority:r=1;break;default:a("313")}null!==Ma&&r===Aa&&--r}return n===i.unstable_UserBlockingPriority&&(0===ss||r<ss)&&(ss=r),r}function $a(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),null!==Ma&&Aa===n?Ma=null:(e=t.earliestSuspendedTime,r=t.latestSuspendedTime,0!==e&&n<=e&&n>=r&&(t.didError=!1,(0===(e=t.latestPingedTime)||e>n)&&(t.latestPingedTime=n),no(n,t),0!==(n=t.expirationTime)&&Ss(t,n)))}function Qa(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,o=null;if(null===r&&3===t.tag)o=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return o}function Za(t,e){null!==(t=Qa(t,e))&&(!Ra&&0!==Aa&&e>Aa&&Ba(),Jr(t,e),Ra&&!Ia&&Ma===t||Ss(t,t.expirationTime),vs>ms&&(vs=0,a("185")))}function Ja(t,e,n,r,o){return i.unstable_runWithPriority(i.unstable_ImmediatePriority,function(){return t(e,n,r,o)})}var ts=null,es=null,ns=0,rs=void 0,os=!1,is=null,as=0,ss=0,ls=!1,us=null,cs=!1,hs=!1,fs=null,ds=i.unstable_now(),ps=1073741822-(ds/10|0),gs=ps,ms=50,vs=0,ys=null;function bs(){ps=1073741822-((i.unstable_now()-ds)/10|0)}function ws(t,e){if(0!==ns){if(e<ns)return;null!==rs&&i.unstable_cancelCallback(rs)}ns=e,t=i.unstable_now()-ds,rs=i.unstable_scheduleCallback(Rs,{timeout:10*(1073741822-e)-t})}function Cs(t,e,n,r,o){t.expirationTime=r,0!==o||Ts()?0<o&&(t.timeoutHandle=br(function(t,e,n){t.pendingCommitExpirationTime=n,t.finishedWork=e,bs(),gs=ps,Ms(t,n)}.bind(null,t,e,n),o)):(t.pendingCommitExpirationTime=n,t.finishedWork=e)}function Os(){return os?gs:(Es(),0!==as&&1!==as||(bs(),gs=ps),gs)}function Ss(t,e){null===t.nextScheduledRoot?(t.expirationTime=e,null===es?(ts=es=t,t.nextScheduledRoot=t):(es=es.nextScheduledRoot=t).nextScheduledRoot=ts):e>t.expirationTime&&(t.expirationTime=e),os||(cs?hs&&(is=t,as=1073741823,As(t,1073741823,!1)):1073741823===e?xs(1073741823,!1):ws(t,e))}function Es(){var t=0,e=null;if(null!==es)for(var n=es,r=ts;null!==r;){var o=r.expirationTime;if(0===o){if((null===n||null===es)&&a("244"),r===r.nextScheduledRoot){ts=es=r.nextScheduledRoot=null;break}if(r===ts)ts=o=r.nextScheduledRoot,es.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===es){(es=n).nextScheduledRoot=ts,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(o>t&&(t=o,e=r),r===es)break;if(1073741823===t)break;n=r,r=r.nextScheduledRoot}}is=e,as=t}var ks=!1;function Ts(){return!!ks||!!i.unstable_shouldYield()&&(ks=!0)}function Rs(){try{if(!Ts()&&null!==ts){bs();var t=ts;do{var e=t.expirationTime;0!==e&&ps<=e&&(t.nextExpirationTimeToWorkOn=ps),t=t.nextScheduledRoot}while(t!==ts)}xs(0,!0)}finally{ks=!1}}function xs(t,e){if(Es(),e)for(bs(),gs=ps;null!==is&&0!==as&&t<=as&&!(ks&&ps>as);)As(is,as,ps>as),Es(),bs(),gs=ps;else for(;null!==is&&0!==as&&t<=as;)As(is,as,!1),Es();if(e&&(ns=0,rs=null),0!==as&&ws(is,as),vs=0,ys=null,null!==fs)for(t=fs,fs=null,e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(r){ls||(ls=!0,us=r)}}if(ls)throw t=us,us=null,ls=!1,t}function Ms(t,e){os&&a("253"),is=t,as=e,As(t,e,!1),xs(1073741823,!1)}function As(t,e,n){if(os&&a("245"),os=!0,n){var r=t.finishedWork;null!==r?Ns(t,r,e):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,wr(r)),Xa(t,n),null!==(r=t.finishedWork)&&(Ts()?t.finishedWork=r:Ns(t,r,e)))}else null!==(r=t.finishedWork)?Ns(t,r,e):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,wr(r)),Xa(t,n),null!==(r=t.finishedWork)&&Ns(t,r,e));os=!1}function Ns(t,e,n){var r=t.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===fs?fs=[r]:fs.push(r),r._defer))return t.finishedWork=e,void(t.expirationTime=0);t.finishedWork=null,t===ys?vs++:(ys=t,vs=0),i.unstable_runWithPriority(i.unstable_ImmediatePriority,function(){za(t,e)})}function _s(t){null===is&&a("246"),is.expirationTime=0,ls||(ls=!0,us=t)}function Ps(t,e){var n=cs;cs=!0;try{return t(e)}finally{(cs=n)||os||xs(1073741823,!1)}}function Is(t,e){if(cs&&!hs){hs=!0;try{return t(e)}finally{hs=!1}}return t(e)}function Ds(t,e,n){cs||os||0===ss||(xs(ss,!1),ss=0);var r=cs;cs=!0;try{return i.unstable_runWithPriority(i.unstable_UserBlockingPriority,function(){return t(e,n)})}finally{(cs=r)||os||xs(1073741823,!1)}}function Ls(t,e,n,r,o){var i=e.current;t:if(n){e:{2===en(n=n._reactInternalFiber)&&1===n.tag||a("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ir(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===n.tag){var l=n.type;if(Ir(l)){n=Hr(n,l,s);break t}}n=s}else n=Mr;return null===e.context?e.context=n:e.pendingContext=n,e=o,(o=$i(r)).payload={element:t},null!==(e=void 0===e?null:e)&&(o.callback=e),Ua(),Zi(i,o),Za(i,r),r}function js(t,e,n,r){var o=e.current;return Ls(t,e,n,o=qa(Os(),o),r)}function Hs(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Bs(t){var e=1073741822-25*(1+((1073741822-Os()+500)/25|0));e>=Ta&&(e=Ta-1),this._expirationTime=Ta=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Fs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ws(t,e,n){t={current:e=Yr(3,null,null,e?3:0),containerInfo:t,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=e.stateNode=t}function Vs(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Us(t,e,n,r,o){var i=n._reactRootContainer;if(i){if("function"===typeof o){var a=o;o=function(){var t=Hs(i._internalRoot);a.call(t)}}null!=t?i.legacy_renderSubtreeIntoContainer(t,e,o):i.render(e,o)}else{if(i=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Ws(t,!1,e)}(n,r),"function"===typeof o){var s=o;o=function(){var t=Hs(i._internalRoot);s.call(t)}}Is(function(){null!=t?i.legacy_renderSubtreeIntoContainer(t,e,o):i.render(e,o)})}return Hs(i._internalRoot)}function zs(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Vs(e)||a("200"),function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Kt,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}Tt=function(t,e,n){switch(e){case"input":if(Oe(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=H(r);o||a("90"),Ut(r),Oe(r,o)}}}break;case"textarea":Qn(t,n);break;case"select":null!=(e=n.value)&&Kn(t,!!n.multiple,e,!1)}},Bs.prototype.render=function(t){this._defer||a("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,r=new Fs;return Ls(t,e,null,n,r._onCommit),r},Bs.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Bs.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||a("251"),this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var r=null,o=e;o!==this;)r=o,o=o._next;null===r&&a("251"),r._next=o._next,this._next=e,t.firstBatch=this}this._defer=!1,Ms(t,n),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},Bs.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},Fs.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Fs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!==typeof n&&a("191",n),n()}}},Ws.prototype.render=function(t,e){var n=this._internalRoot,r=new Fs;return null!==(e=void 0===e?null:e)&&r.then(e),js(t,n,null,r._onCommit),r},Ws.prototype.unmount=function(t){var e=this._internalRoot,n=new Fs;return null!==(t=void 0===t?null:t)&&n.then(t),js(null,e,null,n._onCommit),n},Ws.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var r=this._internalRoot,o=new Fs;return null!==(n=void 0===n?null:n)&&o.then(n),js(e,r,t,o._onCommit),o},Ws.prototype.createBatch=function(){var t=new Bs(this),e=t._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=t,t._next=null;else{for(n=null;null!==r&&r._expirationTime>=e;)n=r,r=r._next;t._next=r,null!==n&&(n._next=t)}return t},_t=Ps,Pt=Ds,It=function(){os||0===ss||(xs(ss,!1),ss=0)};var Ys={createPortal:zs,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;return void 0===e&&("function"===typeof t.render?a("188"):a("268",Object.keys(t))),t=null===(t=rn(e))?null:t.stateNode},hydrate:function(t,e,n){return Vs(e)||a("200"),Us(null,t,e,!0,n)},render:function(t,e,n){return Vs(e)||a("200"),Us(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){return Vs(n)||a("200"),(null==t||void 0===t._reactInternalFiber)&&a("38"),Us(t,e,n,!1,r)},unmountComponentAtNode:function(t){return Vs(t)||a("40"),!!t._reactRootContainer&&(Is(function(){Us(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return zs.apply(void 0,arguments)},unstable_batchedUpdates:Ps,unstable_interactiveUpdates:Ds,flushSync:function(t,e){os&&a("187");var n=cs;cs=!0;try{return Ja(t,e)}finally{cs=n,xs(1073741823,!1)}},unstable_createRoot:function(t,e){return Vs(t)||a("299","unstable_createRoot"),new Ws(t,!0,null!=e&&!0===e.hydrate)},unstable_flushControlled:function(t){var e=cs;cs=!0;try{Ja(t)}finally{(cs=e)||os||xs(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[L,j,H,M.injectEventPluginsByName,y,z,function(t){T(t,U)},At,Nt,xn,N]}};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Wr=Ur(function(t){return e.onCommitFiberRoot(n,t)}),Vr=Ur(function(t){return e.onCommitFiberUnmount(n,t)})}catch(r){}})(o({},t,{overrideProps:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=rn(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}({findFiberByHostInstance:D,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var Gs={default:Ys},Xs=Gs&&Ys||Gs;t.exports=Xs.default||Xs},function(t,e,n){"use strict";t.exports=n(209)},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=null,r=!1,o=3,i=-1,a=-1,s=!1,l=!1;function u(){if(!s){var t=n.expirationTime;l?S():l=!0,O(f,t)}}function c(){var t=n,e=n.next;if(n===e)n=null;else{var r=n.previous;n=r.next=e,e.previous=r}t.next=t.previous=null,r=t.callback,e=t.expirationTime,t=t.priorityLevel;var i=o,s=a;o=t,a=e;try{var l=r()}finally{o=i,a=s}if("function"===typeof l)if(l={callback:l,priorityLevel:t,expirationTime:e,next:null,previous:null},null===n)n=l.next=l.previous=l;else{r=null,t=n;do{if(t.expirationTime>=e){r=t;break}t=t.next}while(t!==n);null===r?r=n:r===n&&(n=l,u()),(e=r.previous).next=r.previous=l,l.next=r,l.previous=e}}function h(){if(-1===i&&null!==n&&1===n.priorityLevel){s=!0;try{do{c()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?u():l=!1}}}function f(t){s=!0;var o=r;r=t;try{if(t)for(;null!==n;){var i=e.unstable_now();if(!(n.expirationTime<=i))break;do{c()}while(null!==n&&n.expirationTime<=i)}else if(null!==n)do{c()}while(null!==n&&!E())}finally{s=!1,r=o,null!==n?u():l=!1,h()}}var d,p,g=Date,m="function"===typeof setTimeout?setTimeout:void 0,v="function"===typeof clearTimeout?clearTimeout:void 0,y="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function w(t){d=y(function(e){v(p),t(e)}),p=m(function(){b(d),t(e.unstable_now())},100)}if("object"===typeof performance&&"function"===typeof performance.now){var C=performance;e.unstable_now=function(){return C.now()}}else e.unstable_now=function(){return g.now()};var O,S,E,k=null;if("undefined"!==typeof window?k=window:"undefined"!==typeof t&&(k=t),k&&k._schedMock){var T=k._schedMock;O=T[0],S=T[1],E=T[2],e.unstable_now=T[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var R=null,x=function(t){if(null!==R)try{R(t)}finally{R=null}};O=function(t){null!==R?setTimeout(O,0,t):(R=t,setTimeout(x,0,!1))},S=function(){R=null},E=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var M=null,A=!1,N=-1,_=!1,P=!1,I=0,D=33,L=33;E=function(){return I<=e.unstable_now()};var j=new MessageChannel,H=j.port2;j.port1.onmessage=function(){A=!1;var t=M,n=N;M=null,N=-1;var r=e.unstable_now(),o=!1;if(0>=I-r){if(!(-1!==n&&n<=r))return _||(_=!0,w(B)),M=t,void(N=n);o=!0}if(null!==t){P=!0;try{t(o)}finally{P=!1}}};var B=function t(e){if(null!==M){w(t);var n=e-I+L;n<L&&D<L?(8>n&&(n=8),L=n<D?D:n):D=n,I=e+L,A||(A=!0,H.postMessage(void 0))}else _=!1};O=function(t,e){M=t,N=e,P||0>e?H.postMessage(void 0):_||(_=!0,w(B))},S=function(){M=null,A=!1,N=-1}}e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,n){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=o,a=i;o=t,i=e.unstable_now();try{return n()}finally{o=r,i=a,h()}},e.unstable_next=function(t){switch(o){case 1:case 2:case 3:var n=3;break;default:n=o}var r=o,a=i;o=n,i=e.unstable_now();try{return t()}finally{o=r,i=a,h()}},e.unstable_scheduleCallback=function(t,r){var a=-1!==i?i:e.unstable_now();if("object"===typeof r&&null!==r&&"number"===typeof r.timeout)r=a+r.timeout;else switch(o){case 1:r=a+-1;break;case 2:r=a+250;break;case 5:r=a+1073741823;break;case 4:r=a+1e4;break;default:r=a+5e3}if(t={callback:t,priorityLevel:o,expirationTime:r,next:null,previous:null},null===n)n=t.next=t.previous=t,u();else{a=null;var s=n;do{if(s.expirationTime>r){a=s;break}s=s.next}while(s!==n);null===a?a=n:a===n&&(n=t,u()),(r=a.previous).next=a.previous=t,t.next=a,t.previous=r}return t},e.unstable_cancelCallback=function(t){var e=t.next;if(null!==e){if(e===t)n=null;else{t===n&&(n=e);var r=t.previous;r.next=e,e.previous=r}t.next=t.previous=null}},e.unstable_wrapCallback=function(t){var n=o;return function(){var r=o,a=i;o=n,i=e.unstable_now();try{return t.apply(this,arguments)}finally{o=r,i=a,h()}}},e.unstable_getCurrentPriorityLevel=function(){return o},e.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<a||E())},e.unstable_continueExecution=function(){null!==n&&u()},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(134))},,,,function(t,e,n){var r=n(159).f,o=n(38)(function(){Object.getOwnPropertyNames(1)});n(28)({target:"Object",stat:!0,forced:o},{getOwnPropertyNames:r})},function(t,e,n){var r=n(95),o=n(114),i=n(52),a=n(44).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(i(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(57),o=n(58),i=n(52),a=n(91);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),s=r.length,l=0;s>l;)o.f(t,n=r[l++],e[n]);return t}},function(t,e,n){"use strict";var r=n(167).IteratorPrototype,o=n(102),i=n(98),a=n(117),s=n(103),l=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,u,!1,!0),s[u]=l,t}},function(t,e,n){var r=n(49),o=n(52);t.exports=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}},function(t,e,n){"use strict";var r=n(169),o={};o[n(45)("toStringTag")]="z",t.exports="[object z]"!==String(o)?function(){return"[object "+r(this)+"]"}:o.toString},function(t,e,n){var r=n(91),o=n(114),i=n(97);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,s=n(t),l=i.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){"use strict";var r=n(105),o=n(67),i=n(174),a=n(172),s=n(56),l=n(120),u=n(173);t.exports=function(t){var e,n,c,h,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,y=u(f);if(m&&(g=r(g,p>2?arguments[2]:void 0,2)),void 0==y||d==Array&&a(y))for(n=new d(e=s(f.length));e>v;v++)l(n,v,m?g(f[v],v):f[v]);else for(h=y.call(f),n=new d;!(c=h.next()).done;v++)l(n,v,m?i(h,g,[c.value,v],!0):c.value);return n.length=v,n}},function(t,e,n){var r=n(179),o=n(44),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e,n){var r=n(52),o=n(145),i=n(45)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r=n(38),o=n(183);t.exports=function(t){return r(function(){return!!o[t]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[t]()||o[t].name!==t})}},function(t,e,n){"use strict";var r=n(141);n(28)({target:"String",proto:!0},{codePointAt:function(t){return r(this,t)}})},function(t,e,n){var r=n(56),o=n(185),i=n(63);t.exports=function(t,e,n,a){var s,l,u=String(i(t)),c=u.length,h=void 0===n?" ":String(n),f=r(e);return f<=c||""==h?u:(s=f-c,(l=o.call(h,Math.ceil(s/h.length))).length>s&&(l=l.slice(0,s)),a?l+u:u+l)}},function(t,e,n){var r=n(227);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(t,e,n){var r=n(44).navigator;t.exports=r&&r.userAgent||""},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o=1,i={},a=!1,s=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){c(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&c(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){c(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(c,0,t)},l.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return i[o]=a,r(o),o++},l.clearImmediate=u}function u(t){delete i[t]}function c(t){if(a)setTimeout(c,0,t);else{var e=i[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{u(t),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(134),n(231))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,u=[],c=!1,h=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&d())}function d(){if(!c){var t=s(f);c=!0;for(var e=u.length;e;){for(l=u,u=[];++h<e;)l&&l[h].run();h=-1,e=u.length}l=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r=n(49),o=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&o(t)===t}},function(t,e,n){var r=n(44),o=n(234),i=!r.setImmediate||!r.clearImmediate;n(28)({global:!0,bind:!0,enumerable:!0,forced:i},{setImmediate:o.set,clearImmediate:o.clear})},function(t,e,n){var r,o,i,a=n(44),s=n(78),l=n(105),u=n(166),c=n(137),h=a.setImmediate,f=a.clearImmediate,d=a.process,p=a.MessageChannel,g=a.Dispatch,m=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};h&&f||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++m]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(m),m},f=function(t){delete v[t]},"process"==s(d)?r=function(t){d.nextTick(l(y,t,1))}:g&&g.now?r=function(t){g.now(l(y,t,1))}:p?(i=(o=new p).port2,o.port1.onmessage=b,r=l(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(r=function(t){a.postMessage(t+"","*")},a.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(l(y,t,1),0)}),t.exports={set:h,clear:f}},function(t,e,n){"use strict";var r=n(92)(6),o=!0;"findIndex"in[]&&Array(1).findIndex(function(){o=!1}),n(28)({target:"Array",proto:!0,forced:o},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(101)("findIndex")},function(t,e,n){n(28)({target:"Array",proto:!0},{fill:n(237)}),n(101)("fill")},function(t,e,n){"use strict";var r=n(67),o=n(110),i=n(56);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:o(l,n);u>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=[].forEach,o=n(92)(0),i=n(121)("forEach");t.exports=i?function(t){return o(this,t,arguments[1])}:r},function(t,e,n){"use strict";var r=n(91),o=n(114),i=n(97),a=n(67),s=n(109),l=Object.assign;t.exports=!l||n(38)(function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||"abcdefghijklmnopqrst"!=r(l({},e)).join("")})?function(t,e){for(var n=a(t),l=arguments.length,u=1,c=o.f,h=i.f;l>u;)for(var f,d=s(arguments[u++]),p=c?r(d).concat(c(d)):r(d),g=p.length,m=0;g>m;)h.call(d,f=p[m++])&&(n[f]=d[f]);return n}:l},function(t,e,n){"use strict";n(119)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},n(171),!1,!0)},function(t,e,n){var r=n(242);n(28)({target:"Object",stat:!0},{values:function(t){return r(t)}})},function(t,e,n){var r=n(91),o=n(69),i=n(97).f;t.exports=function(t,e){for(var n,a=o(t),s=r(a),l=s.length,u=0,c=[];l>u;)i.call(a,n=s[u++])&&c.push(e?[n,a[n]]:a[n]);return c}},function(t,e,n){"use strict";var r=n(85),o=n(244),i=n(185),a=1..toFixed,s=Math.floor,l=[0,0,0,0,0,0],u=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*l[n],l[n]=r%1e7,r=s(r/1e7)},c=function(t){for(var e=6,n=0;--e>=0;)n+=l[e],l[e]=s(n/t),n=n%t*1e7},h=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var n=String(l[t]);e=""===e?n:e+i.call("0",7-n.length)+n}return e},f=function t(e,n,r){return 0===n?r:n%2===1?t(e,n-1,r*e):t(e*e,n/2,r)};n(28)({target:"Number",proto:!0,forced:a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(38)(function(){a.call({})})},{toFixed:function(t){var e,n,a,s,l=o(this),d=r(t),p="",g="0";if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(p="-",l=-l),l>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(l*f(2,69,1))-69)<0?l*f(2,-e,1):l/f(2,e,1),n*=4503599627370496,(e=52-e)>0){for(u(0,n),a=d;a>=7;)u(1e7,0),a-=7;for(u(f(10,a,1),0),a=e-1;a>=23;)c(1<<23),a-=23;c(1<<a),u(1,1),c(2),g=h()}else u(0,n),u(1<<-e,0),g=h()+i.call("0",d);return g=d>0?p+((s=g.length)<=d?"0."+i.call("0",d-s)+g:g.slice(0,s-d)+"."+g.slice(s-d)):p+g}})},function(t,e,n){var r=n(78);t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},function(t,e,n){"use strict";var r=n(56),o=n(152),i="".endsWith,a=Math.min,s=n(153)("endsWith");n(28)({target:"String",proto:!0,forced:!s},{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,s=r(e.length),l=void 0===n?s:a(r(n),s),u=String(t);return i?i.call(e,u,l):e.slice(l-u.length,l)===u}})},function(t,e,n){"use strict";var r=n(247),o=n(248)("link");n(28)({target:"String",proto:!0,forced:o},{link:function(t){return r(this,"a","href",t)}})},function(t,e,n){var r=n(63),o=/"/g;t.exports=function(t,e,n,i){var a=String(r(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),s+">"+a+"</"+e+">"}},function(t,e,n){var r=n(38);t.exports=function(t){return r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})}},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,i=Object.create(o.prototype),a=new R(r||[]);return i._invoke=function(t,e,n){var r=c;return function(o,i){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return M()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var l=u(t,e,n);if("normal"===l.type){if(r=n.done?d:h,l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=d,n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=l;var c="suspendedStart",h="suspendedYield",f="executing",d="completed",p={};function g(){}function m(){}function v(){}var y={};y[i]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(x([])));w&&w!==n&&r.call(w,i)&&(y=w);var C=v.prototype=g.prototype=Object.create(y);function O(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var e;this._invoke=function(n,o){function i(){return new Promise(function(e,i){!function e(n,o,i,a){var s=u(t[n],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"===typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(c).then(function(t){l.value=t,i(l)},function(t){return e("throw",t,i,a)})}a(s.arg)}(n,o,e,i)})}return e=e?e.then(i,i):i()}}function E(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=u(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function x(t){if(t){var n=t[i];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:e,done:!0}}return m.prototype=C.constructor=v,v.constructor=m,v[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(C),t},t.awrap=function(t){return{__await:t}},O(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,r,o){var i=new S(l(e,n,r,o));return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},O(C),C[s]="Generator",C[i]=function(){return this},C.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}}]]);
//# sourceMappingURL=2.420367b3.chunk.js.map